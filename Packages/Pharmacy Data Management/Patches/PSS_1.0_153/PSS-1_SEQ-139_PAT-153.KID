Released PSS*1*153 SEQ #139
Extracted from mail message
**KIDS**:PSS*1.0*153^

**INSTALL NAME**
PSS*1.0*153
"BLD",6937,0)
PSS*1.0*153^PHARMACY DATA MANAGEMENT^0^3110217^y
"BLD",6937,1,0)
^^30^30^3110214^
"BLD",6937,1,1,0)
This patch is being released in preparation for the medication routes
"BLD",6937,1,2,0)
enhancement patch PSS*1*159. This patch contains the following:
"BLD",6937,1,3,0)
 
"BLD",6937,1,4,0)
 - The MED ROUTE field (#.06) of the PHARMACY ORDERABLE ITEM file (#50.7)
"BLD",6937,1,5,0)
   is renamed DEFAULT MED ROUTE.
"BLD",6937,1,6,0)
 
"BLD",6937,1,7,0)
 - The POSSIBLE MED ROUTES multiple (#50.711) is added to the PHARMACY
"BLD",6937,1,8,0)
   ORDERABLE ITEM file (#50.7). This multiple is pointing to the
"BLD",6937,1,9,0)
   MEDICATION ROUTES file (#51.2).
"BLD",6937,1,10,0)
 
"BLD",6937,1,11,0)
 - The USE DOSAGE FORM MED ROUTE LIST field (#10) is added to the PHARMACY
"BLD",6937,1,12,0)
   ORDERABLE ITEM file (#50.7) with YES/NO values.
"BLD",6937,1,13,0)
 
"BLD",6937,1,14,0)
The above fields will be available when editing an existing or adding a 
"BLD",6937,1,15,0)
new orderable item using the following options:
"BLD",6937,1,16,0)
  - Edit Orderable Items [PSS EDIT ORDERABLE ITEMS]
"BLD",6937,1,17,0)
  - Drug Enter/Edit [PSS DRUG ENTER/EDIT
"BLD",6937,1,18,0)
  - Dispense Drug/Orderable Item Maintenance [PSS MAINTAIN ORDERABLE
"BLD",6937,1,19,0)
    ITEMS]
"BLD",6937,1,20,0)
 
"BLD",6937,1,21,0)
The Default Med Route For OI Report [PSS DEF MED ROUTE OI RPT] option
"BLD",6937,1,22,0)
is modified to include printing of the POSSIBLE MED ROUTES multiple.
"BLD",6937,1,23,0)
 
"BLD",6937,1,24,0)
In addition, a post install routine will run to update the USE DOSAGE
"BLD",6937,1,25,0)
FORM MED ROUTE LIST field (#10) based on the value of the DEFAULT MED
"BLD",6937,1,26,0)
ROUTE FOR CPRS field (#80.7) of the PHARMACY SYSTEM file (#59.7). The
"BLD",6937,1,27,0)
USE DOSAGE FORM MED ROUTE LIST field (#10) will be exported with "YES"
"BLD",6937,1,28,0)
for sites that have the DEFAULT MED ROUTE FOR CPRS field (#80.7) set to
"BLD",6937,1,29,0)
NO. Otherwise, the USE DOSAGE FORM MED ROUTE LIST field (#10) will be 
"BLD",6937,1,30,0)
set to NO.
"BLD",6937,4,0)
^9.64PA^50.7^1
"BLD",6937,4,50.7,0)
50.7
"BLD",6937,4,50.7,2,0)
^9.641^50.711^2
"BLD",6937,4,50.7,2,50.7,0)
PHARMACY ORDERABLE ITEM  (File-top level)
"BLD",6937,4,50.7,2,50.7,1,0)
^9.6411^10^2
"BLD",6937,4,50.7,2,50.7,1,.06,0)
DEFAULT MED ROUTE
"BLD",6937,4,50.7,2,50.7,1,10,0)
USE DOSAGE FORM MED ROUTE LIST
"BLD",6937,4,50.7,2,50.711,0)
POSSIBLE MED ROUTES  (sub-file)
"BLD",6937,4,50.7,2,50.711,1,0)
^9.6411^^0
"BLD",6937,4,50.7,222)
y^y^p^^^^n^^n
"BLD",6937,4,50.7,224)

"BLD",6937,4,"APDD",50.7,50.7)

"BLD",6937,4,"APDD",50.7,50.7,.06)

"BLD",6937,4,"APDD",50.7,50.7,10)

"BLD",6937,4,"APDD",50.7,50.711)

"BLD",6937,4,"B",50.7,50.7)

"BLD",6937,6.3)
32
"BLD",6937,"ABPKG")
n
"BLD",6937,"INI")

"BLD",6937,"INID")
^y^
"BLD",6937,"INIT")
POST^PSSP153
"BLD",6937,"KRN",0)
^9.67PA^779.2^20
"BLD",6937,"KRN",.4,0)
.4
"BLD",6937,"KRN",.4,"NM",0)
^9.68A^2^2
"BLD",6937,"KRN",.4,"NM",1,0)
PSS DEF MED ROUTE FOR OI    FILE #50.7^50.7^0
"BLD",6937,"KRN",.4,"NM",2,0)
PSS HDR DEF MED ROUTE    FILE #50.7^50.7^0
"BLD",6937,"KRN",.4,"NM","B","PSS DEF MED ROUTE FOR OI    FILE #50.7",1)

"BLD",6937,"KRN",.4,"NM","B","PSS HDR DEF MED ROUTE    FILE #50.7",2)

"BLD",6937,"KRN",.401,0)
.401
"BLD",6937,"KRN",.401,"NM",0)
^9.68A^^
"BLD",6937,"KRN",.402,0)
.402
"BLD",6937,"KRN",.403,0)
.403
"BLD",6937,"KRN",.5,0)
.5
"BLD",6937,"KRN",.84,0)
.84
"BLD",6937,"KRN",3.6,0)
3.6
"BLD",6937,"KRN",3.8,0)
3.8
"BLD",6937,"KRN",9.2,0)
9.2
"BLD",6937,"KRN",9.8,0)
9.8
"BLD",6937,"KRN",9.8,"NM",0)
^9.68A^4^2
"BLD",6937,"KRN",9.8,"NM",3,0)
PSSPOIMO^^0^B110356198
"BLD",6937,"KRN",9.8,"NM",4,0)
PSSPOIM1^^0^B56773373
"BLD",6937,"KRN",9.8,"NM","B","PSSPOIM1",4)

"BLD",6937,"KRN",9.8,"NM","B","PSSPOIMO",3)

"BLD",6937,"KRN",19,0)
19
"BLD",6937,"KRN",19.1,0)
19.1
"BLD",6937,"KRN",101,0)
101
"BLD",6937,"KRN",409.61,0)
409.61
"BLD",6937,"KRN",771,0)
771
"BLD",6937,"KRN",779.2,0)
779.2
"BLD",6937,"KRN",870,0)
870
"BLD",6937,"KRN",8989.51,0)
8989.51
"BLD",6937,"KRN",8989.52,0)
8989.52
"BLD",6937,"KRN",8994,0)
8994
"BLD",6937,"KRN","B",.4,.4)

"BLD",6937,"KRN","B",.401,.401)

"BLD",6937,"KRN","B",.402,.402)

"BLD",6937,"KRN","B",.403,.403)

"BLD",6937,"KRN","B",.5,.5)

"BLD",6937,"KRN","B",.84,.84)

"BLD",6937,"KRN","B",3.6,3.6)

"BLD",6937,"KRN","B",3.8,3.8)

"BLD",6937,"KRN","B",9.2,9.2)

"BLD",6937,"KRN","B",9.8,9.8)

"BLD",6937,"KRN","B",19,19)

"BLD",6937,"KRN","B",19.1,19.1)

"BLD",6937,"KRN","B",101,101)

"BLD",6937,"KRN","B",409.61,409.61)

"BLD",6937,"KRN","B",771,771)

"BLD",6937,"KRN","B",779.2,779.2)

"BLD",6937,"KRN","B",870,870)

"BLD",6937,"KRN","B",8989.51,8989.51)

"BLD",6937,"KRN","B",8989.52,8989.52)

"BLD",6937,"KRN","B",8994,8994)

"BLD",6937,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",6937,"QUES",0)
^9.62^^
"BLD",6937,"REQB",0)
^9.611^3^2
"BLD",6937,"REQB",2,0)
PSS*1.0*141^2
"BLD",6937,"REQB",3,0)
PSS*1.0*140^2
"BLD",6937,"REQB","B","PSS*1.0*140",3)

"BLD",6937,"REQB","B","PSS*1.0*141",2)

"FIA",50.7)
PHARMACY ORDERABLE ITEM
"FIA",50.7,0)
^PS(50.7,
"FIA",50.7,0,0)
50.7I
"FIA",50.7,0,1)
y^y^p^^^^n^^n
"FIA",50.7,0,10)

"FIA",50.7,0,11)

"FIA",50.7,0,"RLRO")

"FIA",50.7,0,"VR")
1.0^PSS
"FIA",50.7,50.7)
1
"FIA",50.7,50.7,.06)

"FIA",50.7,50.7,10)

"FIA",50.7,50.7,11)

"FIA",50.7,50.711)
0
"INIT")
POST^PSSP153
"KRN",.4,2427,-1)
0^1
"KRN",.4,2427,0)
PSS DEF MED ROUTE FOR OI^3101001.1715^Pp^50.7^^Pp^3110210
"KRN",.4,2427,"DXS")
2
"KRN",.4,2427,"DXS",1,9)
S I(0,0)=$G(D0),DIP(1)=$S($D(^PS(50.7,D0,0)):^(0),1:""),D0=$P(DIP(1),U,2) S:'D0!'$D(^PS(50.606,+D0,0)) D0=-1 S D(0)=D0 S I(100,0)=$G(D0) X DXS(1,9.3) S X="" S D0=I(0,0)
"KRN",.4,2427,"DXS",1,9.2)
S (D,D0)=$QS(DIMQ,$QL(DIMQ)) I D,$D(^PSDRUG(D,0)) S X=$P(^(0),U) S DIXX=DIXX(1) D M
"KRN",.4,2427,"DXS",1,9.3)
N DIMQ,DIMSTRT,DIMSCNT S (DIMQ,DIMSTRT)=$NA(^PSDRUG("ASP",I(0,0))),DIMSCNT=$QL(DIMQ) F  S DIMQ=$Q(@DIMQ) Q:DIMQ=""  Q:$NA(@DIMQ,DIMSCNT)'=DIMSTRT   X DXS(1,9.2) Q:'$D(D)  S D=D0
"KRN",.4,2427,"F",1)
.01;L20;"OI NAME"~.02;L12~-50.606,^PS(50.606,^^S I(0,0)=D0 S DIP(1)=$S($D(^PS(50.7,D0,0)):^(0),1:"") S X=$P(DIP(1),U,2),X=X S D(0)=+X;Z;"DOSAGE FORM:"~
"KRN",.4,2427,"F",2)
-50.606,1,.01;L18;"ASSOCIATED ROUTES"~.06;L15;"DEFAULT ROUTE"~11,.01;L20;"POSSIBLE MED ROUTES"~-50,^PSDRUG(^1^X DXS(1,9);Z;"DOSAGE FORM:DRUG:"~
"KRN",.4,2427,"F",3)
-50,.01;L30;"DRUG"~
"KRN",.4,2427,"H")
DEFAULT MED ROUTE FOR ORDERABLE ITEM REPORT
"KRN",.4,2434,-1)
0^2
"KRN",.4,2434,0)
PSS HDR DEF MED ROUTE^3100915.125^@^50.7^^@^3110210
"KRN",.4,2434,"F",1)
"DEFAULT MED ROUTE FOR ORDERABLE ITEM REPORT";C1~N %I,%H,% D NOW^%DTC S Y=X D DT K DIP;C50;L17;d;Z;"TODAY"~"PAGE";C69;L5~
"KRN",.4,2434,"F",2)
S X=$S($D(DC)#2:DC,1:"") W X K DIP;C74;L10;Z;"PAGE"~"  ";C1~"OI NAME";C1:L20~"DOSAGE FORM";C23;L12~"ASSOCIATED ROUTES";C37;L18~"DEFAULT ROUTE";C57;L15~
"KRN",.4,2434,"F",3)
"POSSIBLE MED ROUTES";C74;L15~" DRUG";C95;L30~
"KRN",.4,2434,"F",4)
"----------------------------------------------------------------------------------------------------------------------------------";C1~
"KRN",.4,2434,"H")
@
"KRN",.4,2434,"SUB")
1
"MBREQ")
0
"ORD",5,.4)
.4;5;;;EDEOUT^DIFROMSO(.4,DA,"",XPDA);FPRE^DIFROMSI(.4,"",XPDA);EPRE^DIFROMSI(.4,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.4,DA,"",XPDA);DEL^DIFROMSK(.4,"",%)
"ORD",5,.4,0)
PRINT TEMPLATE
"PKG",517,-1)
1^1
"PKG",517,0)
PHARMACY DATA MANAGEMENT^PSS^Maintenance of Pharmacy files.
"PKG",517,20,0)
^9.402P^^
"PKG",517,22,0)
^9.49I^1^1
"PKG",517,22,1,0)
1.0^2970930^2971014^11595
"PKG",517,22,1,"PAH",1,0)
153^3110217
"PKG",517,22,1,"PAH",1,1,0)
^^30^30^3110217
"PKG",517,22,1,"PAH",1,1,1,0)
This patch is being released in preparation for the medication routes
"PKG",517,22,1,"PAH",1,1,2,0)
enhancement patch PSS*1*159. This patch contains the following:
"PKG",517,22,1,"PAH",1,1,3,0)
 
"PKG",517,22,1,"PAH",1,1,4,0)
 - The MED ROUTE field (#.06) of the PHARMACY ORDERABLE ITEM file (#50.7)
"PKG",517,22,1,"PAH",1,1,5,0)
   is renamed DEFAULT MED ROUTE.
"PKG",517,22,1,"PAH",1,1,6,0)
 
"PKG",517,22,1,"PAH",1,1,7,0)
 - The POSSIBLE MED ROUTES multiple (#50.711) is added to the PHARMACY
"PKG",517,22,1,"PAH",1,1,8,0)
   ORDERABLE ITEM file (#50.7). This multiple is pointing to the
"PKG",517,22,1,"PAH",1,1,9,0)
   MEDICATION ROUTES file (#51.2).
"PKG",517,22,1,"PAH",1,1,10,0)
 
"PKG",517,22,1,"PAH",1,1,11,0)
 - The USE DOSAGE FORM MED ROUTE LIST field (#10) is added to the PHARMACY
"PKG",517,22,1,"PAH",1,1,12,0)
   ORDERABLE ITEM file (#50.7) with YES/NO values.
"PKG",517,22,1,"PAH",1,1,13,0)
 
"PKG",517,22,1,"PAH",1,1,14,0)
The above fields will be available when editing an existing or adding a 
"PKG",517,22,1,"PAH",1,1,15,0)
new orderable item using the following options:
"PKG",517,22,1,"PAH",1,1,16,0)
  - Edit Orderable Items [PSS EDIT ORDERABLE ITEMS]
"PKG",517,22,1,"PAH",1,1,17,0)
  - Drug Enter/Edit [PSS DRUG ENTER/EDIT
"PKG",517,22,1,"PAH",1,1,18,0)
  - Dispense Drug/Orderable Item Maintenance [PSS MAINTAIN ORDERABLE
"PKG",517,22,1,"PAH",1,1,19,0)
    ITEMS]
"PKG",517,22,1,"PAH",1,1,20,0)
 
"PKG",517,22,1,"PAH",1,1,21,0)
The Default Med Route For OI Report [PSS DEF MED ROUTE OI RPT] option
"PKG",517,22,1,"PAH",1,1,22,0)
is modified to include printing of the POSSIBLE MED ROUTES multiple.
"PKG",517,22,1,"PAH",1,1,23,0)
 
"PKG",517,22,1,"PAH",1,1,24,0)
In addition, a post install routine will run to update the USE DOSAGE
"PKG",517,22,1,"PAH",1,1,25,0)
FORM MED ROUTE LIST field (#10) based on the value of the DEFAULT MED
"PKG",517,22,1,"PAH",1,1,26,0)
ROUTE FOR CPRS field (#80.7) of the PHARMACY SYSTEM file (#59.7). The
"PKG",517,22,1,"PAH",1,1,27,0)
USE DOSAGE FORM MED ROUTE LIST field (#10) will be exported with "YES"
"PKG",517,22,1,"PAH",1,1,28,0)
for sites that have the DEFAULT MED ROUTE FOR CPRS field (#80.7) set to
"PKG",517,22,1,"PAH",1,1,29,0)
NO. Otherwise, the USE DOSAGE FORM MED ROUTE LIST field (#10) will be 
"PKG",517,22,1,"PAH",1,1,30,0)
set to NO.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
3
"RTN","PSSP153")
0^^B445466^n/a
"RTN","PSSP153",1,0)
PSSP153 ;BIRM/SJA-Pharmacy system site parameters ;03/24/10
"RTN","PSSP153",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**153**;9/30/97;Build 32
"RTN","PSSP153",3,0)
 ;
"RTN","PSSP153",4,0)
 Q
"RTN","PSSP153",5,0)
POST ; set the USE DOSAGE FORM MED ROUTE LIST field to YES for sites that have the 
"RTN","PSSP153",6,0)
 ; DEFAULT MED ROUTE FOR CPRS field (#80.7) of the PHARMACY SYSTEM file (#59.7) set to NO. 
"RTN","PSSP153",7,0)
 ; Otherwise, the USE DOSAGE FORM MED ROUTE LIST field is set to NO.
"RTN","PSSP153",8,0)
 N PSSVAL,PSSIEN
"RTN","PSSP153",9,0)
 S PSSVAL=$P($G(^PS(59.7,1,80)),"^",7)
"RTN","PSSP153",10,0)
 S PSSIEN=0 F  S PSSIEN=$O(^PS(50.7,PSSIEN)) Q:'PSSIEN  I $D(^(PSSIEN,0)) D
"RTN","PSSP153",11,0)
 .S $P(^PS(50.7,PSSIEN,0),"^",13)=$S($G(PSSVAL)=1:"N",1:"Y")
"RTN","PSSP153",12,0)
 Q
"RTN","PSSPOIM1")
0^4^B56773373^B55245627
"RTN","PSSPOIM1",1,0)
PSSPOIM1 ;BIR/RTR,WRT-Manual create of Orderable Item continued ; 4/28/09 4:36pm
"RTN","PSSPOIM1",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**29,38,47,141,153**;9/30/97;Build 32
"RTN","PSSPOIM1",3,0)
 ;
"RTN","PSSPOIM1",4,0)
CHK S PSNO=0 I $G(PSMAN) W !!,"Matching ",PSNAME,!,"   to",!,SPHOLD," ",$P($G(^PS(50.606,+DOSEPTR,0)),"^"),!
"RTN","PSSPOIM1",5,0)
 I '$G(PSMAN) S PSMC=$P($G(^PS(50.7,PSSP,0)),"^") W !!,"Matching ",PSNAME,!,"   to",!,PSMC," ",$P($G(^PS(50.606,+$P(^PS(50.7,PSSP,0),"^",2),0)),"^"),!
"RTN","PSSPOIM1",6,0)
 K DIR S DIR(0)="Y",DIR("B")="YES",DIR("A")="Is this OK" D ^DIR
"RTN","PSSPOIM1",7,0)
 K PSMAN S:Y=0 PSNO=1 I Y'=1,'PSNO S PSOUT=1
"RTN","PSSPOIM1",8,0)
 Q
"RTN","PSSPOIM1",9,0)
END K ^TMP($J,"PSSOO"),PSSSSS,PSCREATE,^TMP("PSSLOOP",$J)
"RTN","PSSPOIM1",10,0)
 K AAA,ANS,APLU,COMM,DA,DIC,DIE,DOSEFORM,DOSEFV,DOSEPTR,DR,FFF,MATCH,NEWSP,NODE,NOFLAG,OTH,POINT,PSCNT,PSIEN,PSMAN,PSMC,PSNAME,PSNO,PSSP,PSND,PSOUT,SPHOLD,SPR,TMPTR,TT,VAGEN,X,Y,ZZ,PSOOOUT,PSXDATE,PSXADATE,PSXSDATE,AAAAA,BBBBB,ZXX,PSXDDATE Q
"RTN","PSSPOIM1",11,0)
MESS W !!,"This option enables you to match Dispense Drugs to an entry in the Pharmacy",!,"Orderable Item file, or create a new Pharmacy Orderable Item entry for a",!,"Dispense Drug.",! Q
"RTN","PSSPOIM1",12,0)
MESSZ S ^TMP("PSSLOOP",$J,DUZ)="" W !!,"This option is for matching IV Additives, IV Solutions, and all Dispense Drugs",!,"marked with an I, O, or U in the Application Packages' Use field to an",!,"Orderable Item."
"RTN","PSSPOIM1",13,0)
 W !,"You will need to keep accessing this option until all drugs are matched.",!,"A check will be done every time this option is exited to see if the matching",!,"process is complete.",!!
"RTN","PSSPOIM1",14,0)
 K DIR S DIR(0)="E" D ^DIR K DIR I X["^"!($D(DTOUT)) S PSOUT=1
"RTN","PSSPOIM1",15,0)
 Q
"RTN","PSSPOIM1",16,0)
CHECK W !!!,"Checking Drug files, please wait..."
"RTN","PSSPOIM1",17,0)
 S X1=DT,X2=-365 D C^%DTC S PSZXDATE=X,DONEFLAG=1
"RTN","PSSPOIM1",18,0)
 F FFFF=0:0 S FFFF=$O(^PSDRUG(FFFF)) Q:'FFFF!('DONEFLAG)  S QQNM=$P($G(^PSDRUG(FFFF,0)),"^") I QQNM'="",$D(^PSDRUG("B",QQNM)) D  I ZZG I USAGE["O"!(USAGE["I")!(USAGE["U") I '$P($G(^PSDRUG(FFFF,2)),"^") S DONEFLAG=0
"RTN","PSSPOIM1",19,0)
 .S USAGE=$P($G(^PSDRUG(FFFF,2)),"^",3)
"RTN","PSSPOIM1",20,0)
 .S ZZG=1 S PSZZDATE=+$P($G(^PSDRUG(FFFF,"I")),"^") I PSZZDATE,PSZZDATE<PSZXDATE S ZZG=0
"RTN","PSSPOIM1",21,0)
 I DONEFLAG=1 D
"RTN","PSSPOIM1",22,0)
 .F QQQ=0:0 S QQQ=$O(^PS(52.6,QQQ)) Q:'QQQ!('DONEFLAG)  S PSZNAME=$P($G(^PS(52.6,QQQ,0)),"^") I PSZNAME'="",$D(^PS(52.6,"B",PSZNAME)),$P($G(^PS(52.6,QQQ,0)),"^",2),'$P($G(^(0)),"^",11) D  I ZZG S DONEFLAG=0
"RTN","PSSPOIM1",23,0)
 ..S ZZG=1 S PSZZDATE=+$P($G(^PS(52.6,QQQ,"I")),"^") I PSZZDATE,PSZZDATE<PSZXDATE S ZZG=0
"RTN","PSSPOIM1",24,0)
 .I DONEFLAG F QQQ=0:0 S QQQ=$O(^PS(52.7,QQQ)) Q:'QQQ!('DONEFLAG)  S PSZNAME=$P($G(^PS(52.7,QQQ,0)),"^") I PSZNAME'="",$D(^PS(52.7,"B",PSZNAME)),$P($G(^PS(52.7,QQQ,0)),"^",2),'$P($G(^(0)),"^",11) D  I ZZG S DONEFLAG=0
"RTN","PSSPOIM1",25,0)
 ..S ZZG=1 S PSZZDATE=+$P($G(^PS(52.7,QQQ,"I")),"^") I PSZZDATE,PSZZDATE<PSZXDATE S ZZG=0
"RTN","PSSPOIM1",26,0)
MAIL I DONEFLAG W !!!,?3,"You are finished matching to the Orderable Item File!",!!,"A clean-up job is being queued now, and when it is finished, you will"
"RTN","PSSPOIM1",27,0)
 I  W !,"receive a mail message informing you of its completion.",! K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR
"RTN","PSSPOIM1",28,0)
 I $G(DONEFLAG) S PSSOMAIL=1,PSOUDUZ=DUZ S ZTRTN="DATE^PSSPOIM1",ZTIO="",ZTDTH=$H,ZTDESC="ORDERABLE ITEM CLEAN UP",ZTSAVE("DUZ")="",ZTSAVE("PSSOMAIL")="" D ^%ZTLOAD
"RTN","PSSPOIM1",29,0)
 I 'DONEFLAG W $C(7),$C(7),!!?5,"There are still Drugs not matched, you will need to come back",!?5,"and continue matching Drugs!",! K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR
"RTN","PSSPOIM1",30,0)
 K DONEFLAG,QQQ,QQNM,PSZZDATE,PSZXDATE,ZZG,USAGE,FFFF,PSZNAME Q
"RTN","PSSPOIM1",31,0)
OTHER W @IOF W !,"There are other Dispense Drugs with the same VA Generic Name and same Dose",!,"Form already matched to orderable items. Choose a number to match, or enter",!,"'^' to enter a new one.",!!?6,"Disp. drug -> ",PSNAME,! Q
"RTN","PSSPOIM1",32,0)
EN(PSVAR) ;
"RTN","PSSPOIM1",33,0)
 W !?3,"Now editing Orderable Item:",!?3,$P(^PS(50.7,PSVAR,0),"^"),"   ",$P($G(^PS(50.606,+$P(^(0),"^",2),0)),"^")
"RTN","PSSPOIM1",34,0)
 W ! K DIE N MFLG S PSBEFORE=$P(^PS(50.7,PSVAR,0),"^",4),PSBEFORE1=+$P(^PS(50.7,PSVAR,0),"^",2),PSAFTER=0,PSINORDE=""
"RTN","PSSPOIM1",35,0)
 S PSSOTH=$P($G(^PS(59.7,1,40.2)),"^"),DIE="^PS(50.7,",DR="5;6;.04;.05;.06;D DFR^PSSPOIMO(PSBEFORE1),DFRL^PSSPOIMO;10//YES;I X=""Y"" S Y=""@2"";D PDCHK^PSSPOIMO;@2;.07;.08;7;S:'$G(PSSOTH) Y=""@1"";7.1;@1",DA=PSVAR
"RTN","PSSPOIM1",36,0)
 D ^DIE S PSAFTER=$P(^PS(50.7,PSVAR,0),"^",4) K DIE,PSSOTH
"RTN","PSSPOIM1",37,0)
 S:PSBEFORE&('PSAFTER) PSINORDE="D" S:PSAFTER PSINORDE="I"
"RTN","PSSPOIM1",38,0)
 I PSINORDE'="" D REST^PSSPOIDT(PSVAR)
"RTN","PSSPOIM1",39,0)
 K PSBEFORE,PSBEFORE1,PSAFTER,PSINORDE
"RTN","PSSPOIM1",40,0)
IMMUN ;PSS*1*141 FOR 'IMMUNIZATIONS DOCUMENTATION BY BCMA'
"RTN","PSSPOIM1",41,0)
 I $O(^PSDRUG("AOC",PSVAR,"IM000"))'["IM" G SYN ;ASK WHEN APPROPRIATE
"RTN","PSSPOIM1",42,0)
 W ! S DIE="^PS(50.7,",DA=PSVAR,DR=9 D ^DIE K DIE
"RTN","PSSPOIM1",43,0)
SYN W ! K DIC S:'$D(^PS(50.7,PSVAR,2,0)) ^PS(50.7,PSVAR,2,0)="^50.72^0^0" S DIC="^PS(50.7,"_PSVAR_",2,",DA(1)=PSVAR,DIC(0)="QEAMZL",DIC("A")="Select SYNONYM: ",DLAYGO=50.72 D ^DIC K DIC
"RTN","PSSPOIM1",44,0)
 I Y<0!($D(DTOUT))!($D(DUOUT)) K:'$O(^PS(50.7,PSVAR,2,0)) ^PS(50.7,PSVAR,2,0) G FIN
"RTN","PSSPOIM1",45,0)
 W ! S DA=+Y,DIE="^PS(50.7,"_PSVAR_",2,",DA(1)=PSVAR,DR=.01 D ^DIE K DIE G SYN
"RTN","PSSPOIM1",46,0)
FIN D EN^PSSPOIDT(PSVAR) I $G(PSVAR1) D EN2^PSSHL1(PSVAR,"MAD") G FINS
"RTN","PSSPOIM1",47,0)
 D EN2^PSSHL1(PSVAR,"MUP")
"RTN","PSSPOIM1",48,0)
FINS K PSVAR,PSVAR1 Q
"RTN","PSSPOIM1",49,0)
 ;
"RTN","PSSPOIM1",50,0)
DATE ;
"RTN","PSSPOIM1",51,0)
 F ZZZ=0:0 S ZZZ=$O(^PS(50.7,ZZZ)) Q:'ZZZ  S PSOTYPE=$P($G(^PS(50.7,ZZZ,0)),"^",3) D
"RTN","PSSPOIM1",52,0)
 .I PSOTYPE,'$D(^PS(52.6,"AOI",ZZZ)),'$D(^PS(52.7,"AOI",ZZZ)),'$P($G(^PS(50.7,ZZZ,0)),"^",4) K DIE S DIE="^PS(50.7,",DA=ZZZ,DR=".04////"_DT D ^DIE K DIE Q
"RTN","PSSPOIM1",53,0)
 .Q:PSOTYPE
"RTN","PSSPOIM1",54,0)
 .D SUPP
"RTN","PSSPOIM1",55,0)
 .I '$D(^PSDRUG("ASP",ZZZ)),'$P($G(^PS(50.7,ZZZ,0)),"^",4) K DIE S DIE="^PS(50.7,",DA=ZZZ,DR=".04////"_DT D ^DIE K DIE Q
"RTN","PSSPOIM1",56,0)
 .D:'$P($G(^PS(50.7,ZZZ,0)),"^",4)
"RTN","PSSPOIM1",57,0)
 ..S PSDFLAG=0 F WW=0:0 S WW=$O(^PSDRUG("ASP",ZZZ,WW)) Q:'WW!(PSDFLAG)  S PSAPPL=$P($G(^PSDRUG(WW,2)),"^",3) I PSAPPL["I"!(PSAPPL["O")!(PSAPPL["U") S PSDFLAG=1
"RTN","PSSPOIM1",58,0)
 ..I 'PSDFLAG K DIE S DIE="^PS(50.7,",DA=ZZZ,DR=".04////"_DT D ^DIE K DIE
"RTN","PSSPOIM1",59,0)
 F ZZZ=0:0 S ZZZ=$O(^PS(52.7,ZZZ)) Q:'ZZZ  S RRRR=$P($G(^PS(52.7,ZZZ,0)),"^",11) I RRRR,'$P($G(^PS(50.7,RRRR,0)),"^",3) K DIE S DA=ZZZ,DIE="^PS(52.7,",DR="9////"_"@" D ^DIE K DIE
"RTN","PSSPOIM1",60,0)
 F ZZZ=0:0 S ZZZ=$O(^PS(52.6,ZZZ)) Q:'ZZZ  S RRRR=$P($G(^PS(52.6,ZZZ,0)),"^",11) I RRRR,'$P($G(^PS(50.7,RRRR,0)),"^",3) K DIE S DA=ZZZ,DIE="^PS(52.6,",DR="15////"_"@" D ^DIE K DIE
"RTN","PSSPOIM1",61,0)
 D:$G(PSCREATE) MAIL^PSSCREAT
"RTN","PSSPOIM1",62,0)
 I '$G(PSSOMAIL) K PSOTYPE,DA,DIE,WW,RRRR,PSDFLAG,PSAPPL,GGG,HHH,ZZZZZ Q
"RTN","PSSPOIM1",63,0)
 S PSOTEXT(1)="You have completed the matching process required for the installation of",PSOTEXT(2)="Outpatient V. 7.0 and Inpatient Medications V. 5.0!"
"RTN","PSSPOIM1",64,0)
 S XMDUZ=.5,XMY(DUZ)="",XMTEXT="PSOTEXT(",XMSUB="Pharmacy Orderable Item File" D ^XMD
"RTN","PSSPOIM1",65,0)
 S PSSITE=+$O(^PS(59.7,0)) S $P(^PS(59.7,PSSITE,80),"^",2)=3 K PSSITE
"RTN","PSSPOIM1",66,0)
 D ^%ZISC K PSOTYPE,DA,DIE,WW,RRRR,PSDFLAG,PSAPPL,GGG,HHH,ZZZZZ,PSSOMAIL S:$D(ZTQUEUED) ZTREQ="@" Q
"RTN","PSSPOIM1",67,0)
RMES W !!,"This report takes a long time to first build the data to print, then to",!,"actually print the data. To avoid tying up a terminal for a long period of time,",!,"the report must be QUEUED to a printer."
"RTN","PSSPOIM1",68,0)
 W !!,"This report must be QUEUED to a printer!"
"RTN","PSSPOIM1",69,0)
 Q
"RTN","PSSPOIM1",70,0)
KMES W !!,"Due to the length of this report, and to avoid tying up a terminal for a long",!,"time, this report must be QUEUED to a printer!"
"RTN","PSSPOIM1",71,0)
 Q
"RTN","PSSPOIM1",72,0)
SUPP ;Mark as supply
"RTN","PSSPOIM1",73,0)
 N SSSUP,SSSIN,SSSAP,SSLOOP,SSSQUE,SSSQUEY,SSSQDATE,SLIP,SLDO,SLDP
"RTN","PSSPOIM1",74,0)
 S (SSSQUE,SSSQUEY)=0 F SSLOOP=0:0 S SSLOOP=$O(^PSDRUG("ASP",ZZZ,SSLOOP)) Q:'SSLOOP!(SSSQUEY)  D
"RTN","PSSPOIM1",75,0)
 .I $P($G(^PSDRUG(SSLOOP,0)),"^",3)["S" S SSSAP=$P($G(^(2)),"^",3),SSSIN=$P($G(^("I")),"^") D
"RTN","PSSPOIM1",76,0)
 ..I SSSAP["O"!(SSSAP["I")!(SSSAP["U") I 'SSSIN S $P(^PS(50.7,ZZZ,0),"^",9)=1 S (SSSQUEY,SSSQUE)=1 Q
"RTN","PSSPOIM1",77,0)
 ..I SSSAP["O"!(SSSAP["I")!(SSSAP["U") I +SSSIN>DT S $P(^PS(50.7,ZZZ,0),"^",9)=1 S SSSQUE=1,SSSQDATE($E(SSSIN,1,7))=""
"RTN","PSSPOIM1",78,0)
 I 'SSSQUEY,SSSQUE,$O(SSSQDATE(0)) F SLIP=0:0 S SLIP=$O(SSSQDATE(SLIP)) Q:'SLIP  D
"RTN","PSSPOIM1",79,0)
 .S ZTRTN="ENT^PSSPOIDT",ZTDESC="Supply update for Orderable Item",ZTIO="",ZTDTH=SLIP_.01 S SLDO=$G(PSSORDIT),SLDP=$G(PSSCROSS) S PSSORDIT=ZZZ,PSSCROSS=1 S ZTSAVE("PSSORDIT")="",ZTSAVE("PSSCROSS")="" D ^%ZTLOAD D
"RTN","PSSPOIM1",80,0)
 ..S PSSORDIT=$G(SLDO) K:'PSSORDIT PSSORDIT
"RTN","PSSPOIM1",81,0)
 ..S PSSCROSS=$G(SLDP) K:'PSSCROSS PSSCROSS
"RTN","PSSPOIMO")
0^3^B110356198^B75216229
"RTN","PSSPOIMO",1,0)
PSSPOIMO ;BIR/RTR/WRT-Edit Orderable Item Name and Inactive date ; 4/28/09 4:39pm
"RTN","PSSPOIMO",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**29,32,38,47,68,102,125,141,153**;9/30/97;Build 32
"RTN","PSSPOIMO",3,0)
 S PSSITE=+$O(^PS(59.7,0)) I +$P($G(^PS(59.7,PSSITE,80)),"^",2)<2 W !!?3,"Orderable Item Auto-Create has not been completed yet!",! K PSSITE K DIR S DIR("A")="Press RETURN to continue",DIR(0)="E" D ^DIR K DIR Q
"RTN","PSSPOIMO",4,0)
 K PSSITE W !!,"This option enables you to edit Orderable Item names, Formulary status,",!,"drug text, Inactive Dates, and Synonyms."
"RTN","PSSPOIMO",5,0)
EN I $D(PSOIEN) L -^PS(50.7,PSOIEN)
"RTN","PSSPOIMO",6,0)
 K PSSCROSS
"RTN","PSSPOIMO",7,0)
 K DIC ; S PY=$P($G(^PS(59.7,1,31)),"^",2)
"RTN","PSSPOIMO",8,0)
 S PSS1="W ""  ""_$P(^PS(50.606,$P(^PS(50.7,+Y,0),""^"",2),0),""^"")_""  ""_$S($P($G(^PS(50.7,+Y,0)),""^"",4):$E($P(^(0),""^"",4),4,5)_""-""_$E($P(^(0),""^"",4),6,7)_""-""_$E($P(^(0),""^"",4),2,3),1:"""")"
"RTN","PSSPOIMO",9,0)
 S PSS2=" S NF=$P($G(^PS(50.7,+Y,0)),""^"",12) I NF S NF=""   N/F"" W NF"
"RTN","PSSPOIMO",10,0)
 S DIC("W")=PSS1_PSS2,DIC("S")="I '$P($G(^PS(50.7,+Y,0)),""^"",3)"
"RTN","PSSPOIMO",11,0)
 ;PSO*7*102;ONLY SEARCH B AND C X-REFS
"RTN","PSSPOIMO",12,0)
 S $P(PLINE,"-",79)="" W !! K PSOUT S DIC="^PS(50.7,",DIC(0)="QEAMZ",D="B^C" D MIX^DIC1 K DIC,PY,D G:Y<0!($D(DTOUT))!($D(DUOUT)) END
"RTN","PSSPOIMO",13,0)
 S PSOIEN=+Y,PSOINAME=$P(Y,"^",2),PSDOSE=+$P(^PS(50.7,PSOIEN,0),"^",2) L +^PS(50.7,PSOIEN):$S($G(DILOCKTM)>0:DILOCKTM,1:3) I '$T W !,$C(7),"Another person is editing this one." Q
"RTN","PSSPOIMO",14,0)
 W !!!,?5,"Orderable Item -> ",PSOINAME,!?5,"Dosage Form    -> ",$P($G(^PS(50.606,PSDOSE,0)),"^"),!
"RTN","PSSPOIMO",15,0)
 ;I $P($G(^PS(50.7,PSOIEN,0)),"^",3) W !?3,"*** This Orderable Item is flagged for IV use! ***",!
"RTN","PSSPOIMO",16,0)
 ;G:$P($G(^PS(50.7,PSOIEN,0)),"^",3) ADDIT
"RTN","PSSPOIMO",17,0)
 K DIR S DIR("?")=" ",DIR("?",1)="Enter 'Yes' to see all of the Dispense Drugs, IV Additives, and IV Solutions",DIR("?",2)="that are matched to this Orderable Item. IV Additives will be identified with"
"RTN","PSSPOIMO",18,0)
  S DIR("?",3)="an (A), and IV Solutions with an (S)."
"RTN","PSSPOIMO",19,0)
 S DIR(0)="Y",DIR("B")="YES",DIR("A")="List all Drugs/Additives/Solutions tied to this Orderable Item" D ^DIR K DIR I Y["^"!($D(DTOUT))!($D(DUOUT)) G EN
"RTN","PSSPOIMO",20,0)
 I Y D DISP
"RTN","PSSPOIMO",21,0)
EDIT K DIR W ! S DIR(0)="Y",DIR("A")="Are you sure you want to edit this Orderable Item",DIR("B")="NO",DIR("?")="Answer YES to edit the fields associated with this Orderable Item." D ^DIR K DIR I 'Y!($D(DTOUT))!($D(DUOUT)) G EN
"RTN","PSSPOIMO",22,0)
 W !!?3,"Now editing Orderable Item:",!?3,PSOINAME,"   ",$P($G(^PS(50.606,PSDOSE,0)),"^")
"RTN","PSSPOIMO",23,0)
DIR K DIR S DIR(0)="F^3:40",DIR("B")=PSOINAME,DIR("A")="Orderable Item Name" D ^DIR
"RTN","PSSPOIMO",24,0)
 I Y["^"!($D(DUOUT))!($D(DTOUT)) G EN
"RTN","PSSPOIMO",25,0)
 I X[""""!($A(X)=45)!('(X'?1P.E))!(X?2"z".E) W $C(7),!!?5,"??" G DIR
"RTN","PSSPOIMO",26,0)
 I X'=PSOINAME S ZZFLAG=0 D @$S('$P($G(^PS(50.7,PSOIEN,0)),"^",3):"CHECK",1:"ZCHECK") I ZZFLAG G DIR
"RTN","PSSPOIMO",27,0)
 S PSONEW=X,DIE="^PS(50.7,",DA=PSOIEN,DR=".01////"_X D ^DIE I PSONEW'=PSOINAME W !!,"Name changed from  ",PSOINAME,!?15,"to  ",PSONEW
"RTN","PSSPOIMO",28,0)
 ;I $P($G(^PS(59.7,1,20.4)),"^",16)=1,$P(^PS(50.7,PSOIEN,0),"^",3)=1,$P(^PS(50.7,PSOIEN,0),"^",11)="" D UDMSG K DIE S DIE="^PS(50.7,",DR="3",DA=PSOIEN D ^DIE
"RTN","PSSPOIMO",29,0)
 ;I $P($G(^PS(59.7,1,20.4)),"^",16)=1,$P(^PS(50.7,PSOIEN,0),"^",3)'=1,$P(^PS(50.7,PSOIEN,0),"^",10)="" D IVMSG K DIE S DIE="^PS(50.7,",DR="4",DA=PSOIEN D ^DIE
"RTN","PSSPOIMO",30,0)
 S PSSDTENT=0 W ! K DIE N MFLG S PSBEFORE=$P(^PS(50.7,PSOIEN,0),"^",4),PSAFTER=0,PSINORDE="" D
"RTN","PSSPOIMO",31,0)
 .;If reactivate OI, prompt to reactivate DD's only if there are any, then always give message saying OI now Active. If Inactivate, prompt to inactivate any active DD's if there are any, and give message
"RTN","PSSPOIMO",32,0)
 .;but if OI is reactivated, and there are no actitives matched to it, and user does not want to activate the drugs, then inactivate the OI again, and give a clear message explaining this.
"RTN","PSSPOIMO",33,0)
 .W !,"This Orderable Item is "_$S($P($G(^PS(50.7,PSOIEN,0)),"^",12):"Non-Formulary.",1:"Formulary."),!
"RTN","PSSPOIMO",34,0)
 .I $P($G(^PS(50.7,PSOIEN,0)),"^",10) W !,"This Orderable Item is marked as a Non-VA Med.",!
"RTN","PSSPOIMO",35,0)
 .S DIE="^PS(50.7,",DA=PSOIEN,DR=6 S PSCREATE=1 D ^DIE K DIE,PSCREATE I $D(DTOUT)!($D(Y)) Q
"RTN","PSSPOIMO",36,0)
 .;PSS*1*102;ADD DRUG TEXT AS SYNONYM IS REQUESTED BY USER
"RTN","PSSPOIMO",37,0)
 .D ADDSYN^PSSPOIMP
"RTN","PSSPOIMO",38,0)
 .K DIR S DIR(0)="DO",DIR("A")="INACTIVE DATE" D  D ^DIR K DIR I $G(Y)["^"!($D(DTOUT))!($G(DUOUT)) Q
"RTN","PSSPOIMO",39,0)
 ..I $G(PSBEFORE) S Y=PSBEFORE D DD^%DT S DIR("B")=$G(Y)
"RTN","PSSPOIMO",40,0)
 .I $G(PSBEFORE),'$G(Y) W ?40,"Inactive Date deleted!"
"RTN","PSSPOIMO",41,0)
 .S PSSDTENT=$G(Y) I $G(Y) D DD^%DT W ?40,$G(Y)
"RTN","PSSPOIMO",42,0)
 .S PSSOTH=$S($P($G(^PS(59.7,1,40.2)),"^"):1,1:0)
"RTN","PSSPOIMO",43,0)
 .S DIE="^PS(50.7,",DA=PSOIEN,DR=".05;.06;D DFR^PSSPOIMO(PSDOSE),DFRL^PSSPOIMO;10//YES;I X=""Y"" S Y=""@1"";D PDCHK^PSSPOIMO;@1;.07;.08;7;S:'$G(PSSOTH) Y=""@2"";7.1;@2"
"RTN","PSSPOIMO",44,0)
 .S PSCREATE=1 D ^DIE K DIE,PSCREATE,PSSOTH
"RTN","PSSPOIMO",45,0)
 .S $P(^PS(50.7,PSOIEN,0),"^",4)=PSSDTENT,PSAFTER=PSSDTENT
"RTN","PSSPOIMO",46,0)
 S:PSBEFORE&('$P(^PS(50.7,PSOIEN,0),"^",4)) PSINORDE="D" S:$P(^PS(50.7,PSOIEN,0),"^",4) PSINORDE="I"
"RTN","PSSPOIMO",47,0)
 I PSINORDE'="" D CHECK^PSSPOID2(PSOIEN) D
"RTN","PSSPOIMO",48,0)
 .I PSINORDE="D" D  Q
"RTN","PSSPOIMO",49,0)
 ..I $O(PSSDACTI(0))!($O(PSSSACTI(0)))!($O(PSSAACTI(0))) D
"RTN","PSSPOIMO",50,0)
 ...W !!,"There are inactive "_$S($O(PSSDACTI(0)):"drugs, ",1:"")_$S($O(PSSAACTI(0)):"additives, ",1:"")_$S($O(PSSSACTI(0)):"solutions,",1:""),!,"matched to this Pharmacy Orderable Item."
"RTN","PSSPOIMO",51,0)
 .I $O(PSSDACT(0))!($O(PSSSACT(0)))!($O(PSSAACT(0))) D
"RTN","PSSPOIMO",52,0)
 ..W !!,"There are active "_$S($O(PSSDACT(0)):"drugs, ",1:"")_$S($O(PSSAACT(0)):"additives, ",1:"")_$S($O(PSSSACT(0)):"solutions,",1:""),!,"matched to this Pharmacy Orderable Item."
"RTN","PSSPOIMO",53,0)
 I $G(PSINORDE)="D" I $O(PSSDACTI(0))!($O(PSSSACTI(0)))!($O(PSSAACTI(0))) D REST^PSSPOIDT(PSOIEN)
"RTN","PSSPOIMO",54,0)
 I $G(PSINORDE)="I" I $O(PSSDACT(0))!($O(PSSSACT(0)))!($O(PSSAACT(0))) D REST^PSSPOIDT(PSOIEN)
"RTN","PSSPOIMO",55,0)
 S DIK="^PS(50.7,",DA=PSOIEN,DIK(1)=.04 D EN^DIK K DIK
"RTN","PSSPOIMO",56,0)
 K PSBEFORE,PSAFTER,PSINORDE,PSSDTENT,PSSDACT,PSSDACTI,PSSSACT,PSSSACTI,PSSAACT,PSSAACTI
"RTN","PSSPOIMO",57,0)
IMMUN ;PSS*1*141 FOR 'IMMUNIZATIONS DOCUMENTATION BY BCMA'
"RTN","PSSPOIMO",58,0)
 I $O(^PSDRUG("AOC",PSOIEN,"IM000"))'["IM" G SYN ;ASK WHEN APPROPRIATE
"RTN","PSSPOIMO",59,0)
 W ! S DIE="^PS(50.7,",DA=PSOIEN,DR=9 D ^DIE K DIE
"RTN","PSSPOIMO",60,0)
SYN W ! K DIC S:'$D(^PS(50.7,PSOIEN,2,0)) ^PS(50.7,PSOIEN,2,0)="^50.72^0^0" S DIC="^PS(50.7,"_PSOIEN_",2,",DA(1)=PSOIEN,DIC(0)="QEAMZL",DIC("A")="Select SYNONYM: ",DLAYGO=50.72 D ^DIC K DIC
"RTN","PSSPOIMO",61,0)
 I Y<0!($D(DUOUT))!($D(DTOUT)) K:'$O(^PS(50.7,PSOIEN,2,0)) ^PS(50.7,PSOIEN,2,0) D EN^PSSPOIDT(PSOIEN),EN2^PSSHL1(PSOIEN,"MUP") G EN
"RTN","PSSPOIMO",62,0)
 W ! S DA=+Y,DIE="^PS(50.7,"_PSOIEN_",2,",DA(1)=PSOIEN,DR=.01 D ^DIE K DIE G SYN
"RTN","PSSPOIMO",63,0)
 D EN^PSSPOIDT(PSOIEN),EN2^PSSHL1(PSOIEN,"MUP")
"RTN","PSSPOIMO",64,0)
 G EN
"RTN","PSSPOIMO",65,0)
END K ZZFLAG,DIC,DIR,DIE,DTOUT,DUOUT,FLAG,PSOINAME,PSOUT,PSDOSE,PSONEW,UPFLAG,VV,ZZ,AA,BB,Y,AAA,SSS,PSOARR,PSOARRAD,PLINE I $D(PSOIEN) L -^PS(50.7,PSOIEN) K PSOIEN
"RTN","PSSPOIMO",66,0)
 Q
"RTN","PSSPOIMO",67,0)
DISP N PSSLFLAG,PSSLDATE S FLAG=1 D HEAD F ZZ=0:0 S ZZ=$O(^PSDRUG("ASP",PSOIEN,ZZ)) Q:'ZZ!($G(PSOUT))  S FLAG=0 D:($Y+5)>IOSL HEAD Q:$G(PSOUT)  I ZZ W !,$P($G(^PSDRUG(ZZ,0)),"^") W:$P($G(^PSDRUG(ZZ,0)),"^",9) "   N/F" D DTE
"RTN","PSSPOIMO",68,0)
 Q:$G(PSOUT)
"RTN","PSSPOIMO",69,0)
 S (FLAG,PSSLFLAG)=0
"RTN","PSSPOIMO",70,0)
 F ZZ=0:0 S ZZ=$O(^PS(52.6,"AOI",PSOIEN,ZZ)) Q:'ZZ!($G(PSOUT))  D:($Y+5)>IOSL HEAD Q:$G(PSOUT)  I ZZ D
"RTN","PSSPOIMO",71,0)
 .S PSSLFLAG=1
"RTN","PSSPOIMO",72,0)
 .W !,$P($G(^PS(52.6,ZZ,0)),"^"),?42,"(A)"
"RTN","PSSPOIMO",73,0)
 .S PSSLDATE=$P($G(^PS(52.6,ZZ,"I")),"^") I PSSLDATE D DTEX
"RTN","PSSPOIMO",74,0)
 Q:$G(PSOUT)
"RTN","PSSPOIMO",75,0)
 ;I $G(PSSLFLAG) W !
"RTN","PSSPOIMO",76,0)
 F ZZ=0:0 S ZZ=$O(^PS(52.7,"AOI",PSOIEN,ZZ)) Q:'ZZ!($G(PSOUT))  D:($Y+5)>IOSL HEAD Q:$G(PSOUT)  I ZZ D
"RTN","PSSPOIMO",77,0)
 .W !,$P($G(^PS(52.7,ZZ,0)),"^"),?31,$P($G(^(0)),"^",3),?42,"(S)"
"RTN","PSSPOIMO",78,0)
 .S PSSLDATE=$P($G(^PS(52.7,ZZ,"I")),"^") I PSSLDATE D DTEX
"RTN","PSSPOIMO",79,0)
 Q
"RTN","PSSPOIMO",80,0)
HEAD I 'FLAG W ! K DIR S DIR(0)="E",DIR("A")="Press RETURN to continue" D ^DIR K DIR I 'Y S PSOUT=1 Q
"RTN","PSSPOIMO",81,0)
 W @IOF W !,?6,"Orderable Item ->  ",PSOINAME,!?6,"Dosage Form    ->  ",$P($G(^PS(50.606,+$P($G(^PS(50.7,PSOIEN,0)),"^",2),0)),"^"),!!,"Dispense Drugs:"_$S('FLAG:" (continued)",1:""),!,"---------------"
"RTN","PSSPOIMO",82,0)
 Q
"RTN","PSSPOIMO",83,0)
ADDIT ;If orderable item is flagged for IV
"RTN","PSSPOIMO",84,0)
 S AA=$O(^PS(52.6,"AOI",PSOIEN,0))
"RTN","PSSPOIMO",85,0)
 S BB=$O(^PS(52.7,"AOI",PSOIEN,0))
"RTN","PSSPOIMO",86,0)
 I 'AA,'BB W $C(7),!,"This Orderable Item is flagged for IV use, but currently there are no IV",!,"Additives or IV Solutions matched to this Orderable Item!" G EDIT
"RTN","PSSPOIMO",87,0)
 G SOL
"RTN","PSSPOIMO",88,0)
CHECK ;
"RTN","PSSPOIMO",89,0)
 S ZZFLAG=0 F VV=0:0 S VV=$O(^PS(50.7,"ADF",X,PSDOSE,VV)) Q:'VV  I VV,'$P($G(^PS(50.7,VV,0)),"^",3) S ZZFLAG=1
"RTN","PSSPOIMO",90,0)
 I ZZFLAG W $C(7),!!?5,"There is already an Orderable Item with this same name and Dosage Form",!?5,"that is not flagged as 'IV'. Use the 'DISPENSE DRUG/ORDERABLE ITEM",!?5,"MAINTENANCE' option if you want to re-match to this Orderable Item!",!
"RTN","PSSPOIMO",91,0)
 Q
"RTN","PSSPOIMO",92,0)
ZCHECK ;
"RTN","PSSPOIMO",93,0)
 S ZZFLAG=0 F VV=0:0 S VV=$O(^PS(50.7,"ADF",X,PSDOSE,VV)) Q:'VV  I VV,$P($G(^PS(50.7,VV,0)),"^",3) S ZZFLAG=1
"RTN","PSSPOIMO",94,0)
 I ZZFLAG W $C(7),!!?5,"There is already an Orderable Item with the same name and Dosage Form,",!?5,"that is flagged for 'IV' use.",!
"RTN","PSSPOIMO",95,0)
 Q
"RTN","PSSPOIMO",96,0)
SOL ;
"RTN","PSSPOIMO",97,0)
 K DIR S DIR(0)="Y",DIR("B")="YES",DIR("A")="List all Additives and Solutions tied to this Orderable Item" D ^DIR K DIR G:Y["^"!($D(DTOUT)) EN G:Y=0 EDIT
"RTN","PSSPOIMO",98,0)
 H 1 K PSOARR,PSOARRAD S AAA=$O(^PS(52.6,"AOI",PSOIEN,0)) I AAA,$D(^PS(52.6,AAA,0)) S PSOARRAD=AAA
"RTN","PSSPOIMO",99,0)
 F SSS=0:0 S SSS=$O(^PS(52.7,"AOI",PSOIEN,SSS)) Q:'SSS  S:$D(^PS(52.7,SSS,0)) PSOARR(SSS)=""
"RTN","PSSPOIMO",100,0)
 S FLAG=1,UPFLAG=0 D SHEAD F ZZ=0:0 S ZZ=$O(PSOARR(ZZ)) Q:'ZZ!($G(PSOUT))!($G(UPFLAG))  S FLAG=0 D:($Y+7)>IOSL SHEAD Q:$G(PSOUT)!($G(UPFLAG))  I ZZ W !,$P($G(^PS(52.7,ZZ,0)),"^"),"   ",$P($G(^(0)),"^",3)
"RTN","PSSPOIMO",101,0)
 G:$G(PSOUT) EN
"RTN","PSSPOIMO",102,0)
 G EDIT
"RTN","PSSPOIMO",103,0)
SHEAD I 'FLAG W ! K DIR S DIR(0)="E",DIR("A")="Press RETURN to continue" D ^DIR K DIR I 'Y S:Y="" PSOUT=1 S:Y=0 UPFLAG=1 Q
"RTN","PSSPOIMO",104,0)
 W @IOF W !?6,"Orderable Item ->  ",PSOINAME,?68,"(IV)",!?6,"Dosage Form    ->  ",$P($G(^PS(50.606,+$P($G(^PS(50.7,PSOIEN,0)),"^",2),0)),"^"),!,PLINE I FLAG,'$G(PSOARRAD) W !?5,"IV Solutions:",!
"RTN","PSSPOIMO",105,0)
 I 'FLAG W !?5,"IV Solutions:",!
"RTN","PSSPOIMO",106,0)
 I FLAG,$G(PSOARRAD) W !,$P($G(^PS(52.6,PSOARRAD,0)),"^"),"    ","(IV Additive)",! I $D(PSOARR) W !?5,"IV Solutions:",!
"RTN","PSSPOIMO",107,0)
 Q
"RTN","PSSPOIMO",108,0)
DTE I $D(^PSDRUG(ZZ,"I")) S Y=$P(^PSDRUG(ZZ,"I"),"^") D DD^%DT W ?50,Y K Y
"RTN","PSSPOIMO",109,0)
 Q
"RTN","PSSPOIMO",110,0)
DTEX S Y=$G(PSSLDATE) D DD^%DT W ?50,$G(Y) K Y
"RTN","PSSPOIMO",111,0)
 Q
"RTN","PSSPOIMO",112,0)
IVMSG ; display a message if the CORRESPONDING IV field is entered
"RTN","PSSPOIMO",113,0)
 ;
"RTN","PSSPOIMO",114,0)
 S PSSIVMSG=$P(^PS(50.7,PSOIEN,0),"^",11) I PSSIVMSG="" Q
"RTN","PSSPOIMO",115,0)
 S PSSIVFRM=$P(^PS(50.7,PSSIVMSG,0),"^",2) I PSSIVFRM S PSSIVFRM=$P(^PS(50.606,PSSIVFRM,0),"^")
"RTN","PSSPOIMO",116,0)
 S PSSIVMSG=$P(^PS(50.7,PSSIVMSG,0),"^")_" "_PSSIVFRM
"RTN","PSSPOIMO",117,0)
 W !!,"The Corresponding IV Item is currently identified as: "_PSSIVMSG,!
"RTN","PSSPOIMO",118,0)
 K PSSIVFRM,PSSIVMSG
"RTN","PSSPOIMO",119,0)
 Q
"RTN","PSSPOIMO",120,0)
UDMSG ; display a message if the CORRESPONDING UD field is entered
"RTN","PSSPOIMO",121,0)
 ;
"RTN","PSSPOIMO",122,0)
 S PSSUDMSG=$P(^PS(50.7,PSOIEN,0),"^",10) I PSSUDMSG="" Q
"RTN","PSSPOIMO",123,0)
 S PSSUDFRM=$P(^PS(50.7,PSSUDMSG,0),"^",2) I PSSUDFRM S PSSUDFRM=$P(^PS(50.606,PSSUDFRM,0),"^")
"RTN","PSSPOIMO",124,0)
 S PSSUDMSG=$P(^PS(50.7,PSSUDMSG,0),"^")_" "_PSSUDFRM
"RTN","PSSPOIMO",125,0)
 W !!,"The Corresponding UD Item is currently identified as: "_PSSUDMSG,!
"RTN","PSSPOIMO",126,0)
 K PSSUDMSG,PSSUDFRM
"RTN","PSSPOIMO",127,0)
 Q
"RTN","PSSPOIMO",128,0)
DFR(PSDOSE) ; dosage form med routes - called by DR string at DIR+20^PSSPOIMO
"RTN","PSSPOIMO",129,0)
 N MCT,MR,MRNODE,XX K ^TMP("PSSMR",$J)
"RTN","PSSPOIMO",130,0)
 S (MCT,MR)=0 F  S MR=$O(^PS(50.606,PSDOSE,"MR",MR)) Q:'MR  D
"RTN","PSSPOIMO",131,0)
 .S XX=+$G(^PS(50.606,PSDOSE,"MR",MR,0)) Q:'XX  S MRNODE=$G(^PS(51.2,XX,0)) I $P($G(MRNODE),"^",4)'=1 Q
"RTN","PSSPOIMO",132,0)
 .S MCT=MCT+1,^TMP("PSSMR",$J,MCT)=$P(MRNODE,U),^TMP("PSSMR",$J,"B",XX)=""
"RTN","PSSPOIMO",133,0)
 Q
"RTN","PSSPOIMO",134,0)
DFRL W !!," List of med routes associated with the dosage form of the orderable item:",!
"RTN","PSSPOIMO",135,0)
 S MCT=0 I '$O(^TMP("PSSMR",$J,MCT)) W !,?3,"NO MED ROUTE DEFINED"
"RTN","PSSPOIMO",136,0)
 F  S MCT=$O(^TMP("PSSMR",$J,MCT)) Q:'MCT  W !,?3,$G(^(MCT))
"RTN","PSSPOIMO",137,0)
 D EN^DDIOL(" If you answer YES to the next prompt, the DEFAULT MED ROUTE (if defined) and",,"!!")
"RTN","PSSPOIMO",138,0)
 D EN^DDIOL(" this list (if defined) will be displayed as selectable med routes in CPRS in",,"!")
"RTN","PSSPOIMO",139,0)
 D EN^DDIOL(" the medication ordering dialog. If you answer NO, the DEFAULT MED ROUTE ",,"!")
"RTN","PSSPOIMO",140,0)
 D EN^DDIOL(" (if defined) and POSSIBLE MED ROUTES list will be displayed instead.",,"!") W !
"RTN","PSSPOIMO",141,0)
 K ^TMP("PSSMR",$J)
"RTN","PSSPOIMO",142,0)
 Q
"RTN","PSSPOIMO",143,0)
PDR ; possible med routes - called by DR string at DIR+20^PSSPOIMO
"RTN","PSSPOIMO",144,0)
 N MCT,MR,MRNODE,XX K ^TMP("PSSMR",$J)
"RTN","PSSPOIMO",145,0)
 S (XX,MCT)=0 F  S XX=$O(^PS(50.7,$S($G(PSVAR):PSVAR,1:PSOIEN),3,"B",XX)) Q:'XX  S MRNODE=$G(^PS(51.2,XX,0)),MCT=MCT+1,^TMP("PSSMR",$J,MCT)=$P(MRNODE,U)
"RTN","PSSPOIMO",146,0)
 I $O(^TMP("PSSMR",$J,0)) D
"RTN","PSSPOIMO",147,0)
 .W !!," List of Possible Med Routes associated with the orderable item:",!
"RTN","PSSPOIMO",148,0)
 .S MCT=0 F  S MCT=$O(^TMP("PSSMR",$J,MCT)) Q:'MCT  W !,?3,$G(^(MCT))
"RTN","PSSPOIMO",149,0)
 W ! K ^TMP("PSSMR",$J)
"RTN","PSSPOIMO",150,0)
 Q
"RTN","PSSPOIMO",151,0)
PDCHK ; called by called by DR string at DIR+20^PSSPOIMO
"RTN","PSSPOIMO",152,0)
 N DIC,Y,Z,D,DIE,DO,DICR,Q,DR,X,DIR
"RTN","PSSPOIMO",153,0)
 N ANS,PSSDA,PSSX,PSSXA,PSSY,PSOUT
"RTN","PSSPOIMO",154,0)
 S DIR(0)="PO^51.2:EMZ",DIR("A")="POSSIBLE MED ROUTES",DIR("S")="I $P(^(0),U,4)" S PSOUT=0
"RTN","PSSPOIMO",155,0)
 S DIR("PRE")="I X=""?"" D MRTHLP^PSSPOIMO"
"RTN","PSSPOIMO",156,0)
 F  D PDR,^DIR D  I PSOUT Q
"RTN","PSSPOIMO",157,0)
 .I (X="")!$D(DTOUT)!$D(DUOUT) S PSOUT=1 Q
"RTN","PSSPOIMO",158,0)
 .I X="@",$D(PSSY) S ANS=DA D:$$DASK  Q
"RTN","PSSPOIMO",159,0)
 ..N DIK,DA S DA(1)=ANS,DIK="^PS(50.7,"_DA(1)_",3,"
"RTN","PSSPOIMO",160,0)
 ..S DA=$O(^PS(50.7,DA(1),3,"B",PSSY,"")) I DA="" Q
"RTN","PSSPOIMO",161,0)
 ..D ^DIK K PSSY,DIR("B")
"RTN","PSSPOIMO",162,0)
 .I Y="" W "  ??" Q
"RTN","PSSPOIMO",163,0)
 .I $D(^PS(50.7,DA,3,"B",+Y)) D  Q
"RTN","PSSPOIMO",164,0)
 ..I $D(DIR("B")) K PSSY,DIR("B") Q
"RTN","PSSPOIMO",165,0)
 ..S DIR("B")=Y(0,0),PSSY=+Y Q
"RTN","PSSPOIMO",166,0)
 .S PSSXA=Y(0,0),PSSX=+Y D DFR(+$P(^PS(50.7,DA,0),"^",2))
"RTN","PSSPOIMO",167,0)
 .I $G(PSSX) S ANS=$$ASK() I 'ANS Q
"RTN","PSSPOIMO",168,0)
 .S PSSDA(50.711,"+1,"_DA_",",.01)=+PSSX
"RTN","PSSPOIMO",169,0)
 .D UPDATE^DIE("","PSSDA")
"RTN","PSSPOIMO",170,0)
 .K ^TMP("PSSMR",$J)
"RTN","PSSPOIMO",171,0)
  Q
"RTN","PSSPOIMO",172,0)
ASK() ; confirm adding the new entry
"RTN","PSSPOIMO",173,0)
 N DIR,X,Y W ! S DIR(0)="YO",DIR("B")="YES"
"RTN","PSSPOIMO",174,0)
 I '$D(^TMP("PSSMR",$J,"B",PSSX)) S DIR("B")="NO",DIR("A",1)="The selected entry does not match any of the dosage form med routes."
"RTN","PSSPOIMO",175,0)
 W $C(7) S DIR("A")="  Are you adding '"_PSSXA_"' as a new POSSIBLE MED ROUTE" D ^DIR
"RTN","PSSPOIMO",176,0)
 Q $S(Y=1:1,1:0)
"RTN","PSSPOIMO",177,0)
DASK() ; delete possible med route
"RTN","PSSPOIMO",178,0)
 N DIR
"RTN","PSSPOIMO",179,0)
 W $C(7) S DIR("A")="     SURE YOU WANT TO DELETE ",DIR(0)="Y" D ^DIR
"RTN","PSSPOIMO",180,0)
 Q $S(Y=1:1,1:0)
"RTN","PSSPOIMO",181,0)
MRTHLP ; help of possible med route
"RTN","PSSPOIMO",182,0)
 N DIC,RTE,D
"RTN","PSSPOIMO",183,0)
 S RTE=0 F  S RTE=$O(^PS(50.7,DA,3,"B",RTE)) Q:'RTE   D EN^DDIOL($P($G(^PS(51.2,RTE,0)),"^"),,"!,?4")
"RTN","PSSPOIMO",184,0)
 W ! D EN^DDIOL("Enter the most common MED ROUTE associated with this medication.",,"!,?5")
"RTN","PSSPOIMO",185,0)
 D EN^DDIOL("ONLY MED ROUTES MARKED FOR USE BY ALL PACKAGES ARE SELECTABLE.",,"!,?5")
"RTN","PSSPOIMO",186,0)
 Q
"UP",50.7,50.711,-1)
50.7^3
"UP",50.7,50.711,0)
50.711
"VER")
8.0^22.0
"^DD",50.7,50.7,.06,0)
DEFAULT MED ROUTE^*P51.2'^PS(51.2,^0;6^S DIC("S")="I $P(^(0),""^"",4)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",50.7,50.7,.06,3)
Enter the most common MED ROUTE associated with this medication.
"^DD",50.7,50.7,.06,12)
ONLY MED ROUTES MARKED FOR USE BY ALL PACKAGES ARE SELECTABLE.
"^DD",50.7,50.7,.06,12.1)
S DIC("S")="I $P(^(0),""^"",4)"
"^DD",50.7,50.7,.06,20,0)
^.3LA^1^1
"^DD",50.7,50.7,.06,20,1,0)
PS
"^DD",50.7,50.7,.06,21,0)
^^2^2^3100928^
"^DD",50.7,50.7,.06,21,1,0)
If a MED ROUTE is entered here, that med route is used as a DEFAULT 
"^DD",50.7,50.7,.06,21,2,0)
value during order entry when this drug is selected. 
"^DD",50.7,50.7,.06,"DT")
3100928
"^DD",50.7,50.7,10,0)
USE DOSAGE FORM MED ROUTE LIST^S^Y:YES;N:NO;^0;13^Q
"^DD",50.7,50.7,10,3)
Enter YES to use the med routes from the Dosage Form file associated to the orderable item or NO to use the possible med routes associated to the orderable item.
"^DD",50.7,50.7,10,21,0)
^.001^5^5^3110208^^^^
"^DD",50.7,50.7,10,21,1,0)
This flag governs the source of the medication routes that will be 
"^DD",50.7,50.7,10,21,2,0)
used during medication order entry. If this field is set to YES, the
"^DD",50.7,50.7,10,21,3,0)
optional list of med routes will be derived from the Dosage Form file
"^DD",50.7,50.7,10,21,4,0)
associated to the orderable item. Otherwise, it will be derived from 
"^DD",50.7,50.7,10,21,5,0)
the Possible Med Routes Sub-file associated to the orderable item.
"^DD",50.7,50.7,10,23,0)
^.001^3^3^3110208^^^^
"^DD",50.7,50.7,10,23,1,0)
A "YES" indicates the med routes from the Dosage Form (#50.606) will 
"^DD",50.7,50.7,10,23,2,0)
be used for the Orderable item. A "NO" indicates the med routes from 
"^DD",50.7,50.7,10,23,3,0)
the POSSIBLE MED ROUTES sub-file #50.711 will be used.
"^DD",50.7,50.7,10,"DT")
3110208
"^DD",50.7,50.7,11,0)
POSSIBLE MED ROUTES^50.711PA^^3;0
"^DD",50.7,50.7,11,21,0)
^^16^16^3101001^^
"^DD",50.7,50.7,11,21,1,0)
If the DEFAULT MED ROUTE field (#.06) is populated then that value 
"^DD",50.7,50.7,11,21,2,0)
will be returned as the default value. If the DEFAULT MED ROUTE field
"^DD",50.7,50.7,11,21,3,0)
(#.06) is not populated and the POSSIBLE MED ROUTES multiple is
"^DD",50.7,50.7,11,21,4,0)
populated with a single entry and the USE DOSAGE FORM MED ROUTE LIST 
"^DD",50.7,50.7,11,21,5,0)
field (#10) is set to "NO", the single entry will be returned as the
"^DD",50.7,50.7,11,21,6,0)
default value.
"^DD",50.7,50.7,11,21,7,0)
 
"^DD",50.7,50.7,11,21,8,0)
If the DEFAULT MED ROUTE (#.06) field is not populated and the POSSIBLE
"^DD",50.7,50.7,11,21,9,0)
MED ROUTES multiple is populated with more than one entry and the USE
"^DD",50.7,50.7,11,21,10,0)
DOSAGE FORM MED ROUTE LIST field (#10) is set to "NO", no value will be
"^DD",50.7,50.7,11,21,11,0)
returned as the default value.
"^DD",50.7,50.7,11,21,12,0)
 
"^DD",50.7,50.7,11,21,13,0)
The med routes selection list in CPRS will be populated with entries
"^DD",50.7,50.7,11,21,14,0)
in all the medication routes associated with the orderable item's
"^DD",50.7,50.7,11,21,15,0)
dosage form if the USE DOSAGE FORM MED ROUTE LIST field (#10) is set to
"^DD",50.7,50.7,11,21,16,0)
"YES", otherwise from the POSSIBLE MED ROUTES multiple.
"^DD",50.7,50.711,0)
POSSIBLE MED ROUTES SUB-FIELD^^.01^1
"^DD",50.7,50.711,0,"DT")
3100928
"^DD",50.7,50.711,0,"IX","B",50.711,.01)

"^DD",50.7,50.711,0,"NM","POSSIBLE MED ROUTES")

"^DD",50.7,50.711,0,"UP")
50.7
"^DD",50.7,50.711,.01,0)
POSSIBLE MED ROUTES^MP51.2'^PS(51.2,^0;1^Q
"^DD",50.7,50.711,.01,1,0)
^.1
"^DD",50.7,50.711,.01,1,1,0)
50.711^B
"^DD",50.7,50.711,.01,1,1,1)
S ^PS(50.7,DA(1),3,"B",$E(X,1,30),DA)=""
"^DD",50.7,50.711,.01,1,1,2)
K ^PS(50.7,DA(1),3,"B",$E(X,1,30),DA)
"^DD",50.7,50.711,.01,3)
Select a possible med route associated with this orderable item.
"^DD",50.7,50.711,.01,4)
D MRTHLP^PSSPOIMO
"^DD",50.7,50.711,.01,"DT")
3101001
"BLD",6937,6)
^139
**END**
**END**
