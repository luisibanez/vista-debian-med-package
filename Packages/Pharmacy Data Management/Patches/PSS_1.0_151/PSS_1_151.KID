KIDS Distribution saved on Feb 10, 2011@12:40:34
PSS*1*151 RELEASED
**KIDS**:PSS*1.0*151^

**INSTALL NAME**
PSS*1.0*151
"BLD",7581,0)
PSS*1.0*151^PHARMACY DATA MANAGEMENT^0^3110210^y
"BLD",7581,1,0)
^^29^29^3091028^^
"BLD",7581,1,1,0)
This patch is part of a set of patches that make up Pharmacy
"BLD",7581,1,2,0)
Re-engineering version 0.5. Version 0.5 will replace the current
"BLD",7581,1,3,0)
medication order checking system with a new system that uses data from
"BLD",7581,1,4,0)
First DataBank (FDB). In addition to replacing the current Drug
"BLD",7581,1,5,0)
Interaction and Duplicate Class checks with the FDB equivalent of these
"BLD",7581,1,6,0)
checks, Maximum Single Dose and Daily Dose Range Checks will now also
"BLD",7581,1,7,0)
occur in Outpatient Pharmacy, Inpatient Medications, and Computerized
"BLD",7581,1,8,0)
Patient Record System (CPRS).
"BLD",7581,1,9,0)
 
"BLD",7581,1,10,0)
 
"BLD",7581,1,11,0)
This patch addresses the following New Service Request (NSR):
"BLD",7581,1,12,0)
-------------------------------------------------------------
"BLD",7581,1,13,0)
There is no NSR associated with this patch. 
"BLD",7581,1,14,0)
 
"BLD",7581,1,15,0)
 
"BLD",7581,1,16,0)
This patch addresses the following Remedy Ticket(s):
"BLD",7581,1,17,0)
----------------------------------------------------
"BLD",7581,1,18,0)
There are no Remedy tickets associated with this patch.
"BLD",7581,1,19,0)
 
"BLD",7581,1,20,0)
 
"BLD",7581,1,21,0)
Overview of Remedy Ticket(s):
"BLD",7581,1,22,0)
-----------------------------
"BLD",7581,1,23,0)
There are no Remedy tickets associated with this patch. 
"BLD",7581,1,24,0)
 
"BLD",7581,1,25,0)
 
"BLD",7581,1,26,0)
Components Exported With Patch: 
"BLD",7581,1,27,0)
-------------------------------
"BLD",7581,1,28,0)
 
"BLD",7581,1,29,0)
See the National Patch Module for specifics relating to this patch.
"BLD",7581,4,0)
^9.64PA^^0
"BLD",7581,6)
1^
"BLD",7581,6.3)
80
"BLD",7581,"ABPKG")
n
"BLD",7581,"INID")
^
"BLD",7581,"INIT")

"BLD",7581,"KRN",0)
^9.67PA^779.2^20
"BLD",7581,"KRN",.4,0)
.4
"BLD",7581,"KRN",.401,0)
.401
"BLD",7581,"KRN",.402,0)
.402
"BLD",7581,"KRN",.403,0)
.403
"BLD",7581,"KRN",.5,0)
.5
"BLD",7581,"KRN",.84,0)
.84
"BLD",7581,"KRN",3.6,0)
3.6
"BLD",7581,"KRN",3.8,0)
3.8
"BLD",7581,"KRN",9.2,0)
9.2
"BLD",7581,"KRN",9.2,"NM",0)
^9.68A^^
"BLD",7581,"KRN",9.8,0)
9.8
"BLD",7581,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",7581,"KRN",9.8,"NM",1,0)
PSSDSAPA^^0^B3032893
"BLD",7581,"KRN",9.8,"NM","B","PSSDSAPA",1)

"BLD",7581,"KRN",19,0)
19
"BLD",7581,"KRN",19,"NM",0)
^9.68A^^0
"BLD",7581,"KRN",19.1,0)
19.1
"BLD",7581,"KRN",19.1,"NM",0)
^9.68A^^
"BLD",7581,"KRN",101,0)
101
"BLD",7581,"KRN",101,"NM",0)
^9.68A^^0
"BLD",7581,"KRN",409.61,0)
409.61
"BLD",7581,"KRN",771,0)
771
"BLD",7581,"KRN",779.2,0)
779.2
"BLD",7581,"KRN",870,0)
870
"BLD",7581,"KRN",8989.51,0)
8989.51
"BLD",7581,"KRN",8989.52,0)
8989.52
"BLD",7581,"KRN",8994,0)
8994
"BLD",7581,"KRN",8994,"NM",0)
^9.68A^^
"BLD",7581,"KRN","B",.4,.4)

"BLD",7581,"KRN","B",.401,.401)

"BLD",7581,"KRN","B",.402,.402)

"BLD",7581,"KRN","B",.403,.403)

"BLD",7581,"KRN","B",.5,.5)

"BLD",7581,"KRN","B",.84,.84)

"BLD",7581,"KRN","B",3.6,3.6)

"BLD",7581,"KRN","B",3.8,3.8)

"BLD",7581,"KRN","B",9.2,9.2)

"BLD",7581,"KRN","B",9.8,9.8)

"BLD",7581,"KRN","B",19,19)

"BLD",7581,"KRN","B",19.1,19.1)

"BLD",7581,"KRN","B",101,101)

"BLD",7581,"KRN","B",409.61,409.61)

"BLD",7581,"KRN","B",771,771)

"BLD",7581,"KRN","B",779.2,779.2)

"BLD",7581,"KRN","B",870,870)

"BLD",7581,"KRN","B",8989.51,8989.51)

"BLD",7581,"KRN","B",8989.52,8989.52)

"BLD",7581,"KRN","B",8994,8994)

"BLD",7581,"PRE")

"BLD",7581,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",7581,"QUES",0)
^9.62^^
"BLD",7581,"REQB",0)
^9.611^^0
"MBREQ")
0
"PKG",517,-1)
1^1
"PKG",517,0)
PHARMACY DATA MANAGEMENT^PSS^Maintenance of Pharmacy files.
"PKG",517,20,0)
^9.402P^^
"PKG",517,22,0)
^9.49I^1^1
"PKG",517,22,1,0)
1.0^2970930^2971014^11595
"PKG",517,22,1,"PAH",1,0)
151^3110210^10000000192
"PKG",517,22,1,"PAH",1,1,0)
^^29^29^3110210
"PKG",517,22,1,"PAH",1,1,1,0)
This patch is part of a set of patches that make up Pharmacy
"PKG",517,22,1,"PAH",1,1,2,0)
Re-engineering version 0.5. Version 0.5 will replace the current
"PKG",517,22,1,"PAH",1,1,3,0)
medication order checking system with a new system that uses data from
"PKG",517,22,1,"PAH",1,1,4,0)
First DataBank (FDB). In addition to replacing the current Drug
"PKG",517,22,1,"PAH",1,1,5,0)
Interaction and Duplicate Class checks with the FDB equivalent of these
"PKG",517,22,1,"PAH",1,1,6,0)
checks, Maximum Single Dose and Daily Dose Range Checks will now also
"PKG",517,22,1,"PAH",1,1,7,0)
occur in Outpatient Pharmacy, Inpatient Medications, and Computerized
"PKG",517,22,1,"PAH",1,1,8,0)
Patient Record System (CPRS).
"PKG",517,22,1,"PAH",1,1,9,0)
 
"PKG",517,22,1,"PAH",1,1,10,0)
 
"PKG",517,22,1,"PAH",1,1,11,0)
This patch addresses the following New Service Request (NSR):
"PKG",517,22,1,"PAH",1,1,12,0)
-------------------------------------------------------------
"PKG",517,22,1,"PAH",1,1,13,0)
There is no NSR associated with this patch. 
"PKG",517,22,1,"PAH",1,1,14,0)
 
"PKG",517,22,1,"PAH",1,1,15,0)
 
"PKG",517,22,1,"PAH",1,1,16,0)
This patch addresses the following Remedy Ticket(s):
"PKG",517,22,1,"PAH",1,1,17,0)
----------------------------------------------------
"PKG",517,22,1,"PAH",1,1,18,0)
There are no Remedy tickets associated with this patch.
"PKG",517,22,1,"PAH",1,1,19,0)
 
"PKG",517,22,1,"PAH",1,1,20,0)
 
"PKG",517,22,1,"PAH",1,1,21,0)
Overview of Remedy Ticket(s):
"PKG",517,22,1,"PAH",1,1,22,0)
-----------------------------
"PKG",517,22,1,"PAH",1,1,23,0)
There are no Remedy tickets associated with this patch. 
"PKG",517,22,1,"PAH",1,1,24,0)
 
"PKG",517,22,1,"PAH",1,1,25,0)
 
"PKG",517,22,1,"PAH",1,1,26,0)
Components Exported With Patch: 
"PKG",517,22,1,"PAH",1,1,27,0)
-------------------------------
"PKG",517,22,1,"PAH",1,1,28,0)
 
"PKG",517,22,1,"PAH",1,1,29,0)
See the National Patch Module for specifics relating to this patch.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","PSSDSAPA")
0^1^B3032893
"RTN","PSSDSAPA",1,0)
PSSDSAPA ;BIR/RTR,TMK-Dose Check APIs routine (continued) ; 27 Oct 2009  12:22 PM
"RTN","PSSDSAPA",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**151**;9/30/97;Build 80
"RTN","PSSDSAPA",3,0)
 ;
"RTN","PSSDSAPA",4,0)
IV(PSSADFOI) ;Return Additive Frequency default to CPRS, Forum DBIA 5504 ; 27 Oct 2009  12:16 PM
"RTN","PSSDSAPA",5,0)
 ;PSSADFOI = File 50.7 Internal Entry Number
"RTN","PSSDSAPA",6,0)
 N PSSADFRS,PSSADFIN,PSSADFLP,PSSADFXX,PSSADFHD,PSSADFLD,PSSADFNN,PSSADFER,PSSADFCT
"RTN","PSSDSAPA",7,0)
 S PSSADFRS="",(PSSADFXX,PSSADFCT)=0
"RTN","PSSDSAPA",8,0)
 I '$G(PSSADFOI) Q PSSADFRS
"RTN","PSSDSAPA",9,0)
 F PSSADFLP=0:0 S PSSADFLP=$O(^PS(52.6,"AOI",PSSADFOI,PSSADFLP)) Q:'PSSADFLP!(PSSADFXX)  D
"RTN","PSSDSAPA",10,0)
 . ; Get INACTIVATION DATE and ADDITIVE FREQUENCY
"RTN","PSSDSAPA",11,0)
 .S PSSADFNN=PSSADFLP_"," K PSSADFER,PSSADFLD
"RTN","PSSDSAPA",12,0)
 .D GETS^DIQ(52.6,PSSADFNN,"12;18","I","PSSADFLD","PSSADFER")
"RTN","PSSDSAPA",13,0)
 .I $G(PSSADFER("DIERR")) Q  ; Error(s) returned
"RTN","PSSDSAPA",14,0)
 .S PSSADFIN=$G(PSSADFLD(52.6,PSSADFNN,12,"I")),PSSADFHD=$G(PSSADFLD(52.6,PSSADFNN,18,"I"))
"RTN","PSSDSAPA",15,0)
 . ; Only consider if not inactive as of today
"RTN","PSSDSAPA",16,0)
 .I PSSADFIN,PSSADFIN'>DT Q
"RTN","PSSDSAPA",17,0)
 . ; If no frequency returned, set error flag, look no further
"RTN","PSSDSAPA",18,0)
 .I PSSADFHD="" S PSSADFXX=1 Q
"RTN","PSSDSAPA",19,0)
 . ; Save first non-null value found
"RTN","PSSDSAPA",20,0)
 .I 'PSSADFCT S PSSADFRS=PSSADFHD,PSSADFCT=1 Q
"RTN","PSSDSAPA",21,0)
 . ; Second or later match found and isn't the same value
"RTN","PSSDSAPA",22,0)
 . ;  as first match value, set error flag, quit
"RTN","PSSDSAPA",23,0)
 .I PSSADFHD'=PSSADFRS S PSSADFXX=1
"RTN","PSSDSAPA",24,0)
 ; If error found, return null
"RTN","PSSDSAPA",25,0)
 I PSSADFXX S PSSADFRS=""
"RTN","PSSDSAPA",26,0)
 Q PSSADFRS
"RTN","PSSDSAPA",27,0)
 ;
"VER")
8.0^22.0
**END**
**END**
