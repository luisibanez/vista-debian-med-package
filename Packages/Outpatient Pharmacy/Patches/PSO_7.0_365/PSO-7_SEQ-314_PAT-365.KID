Released PSO*7*365 SEQ #314
Extracted from mail message
**KIDS**:PSO*7.0*365^

**INSTALL NAME**
PSO*7.0*365
"BLD",7785,0)
PSO*7.0*365^OUTPATIENT PHARMACY^0^3100722^y
"BLD",7785,1,0)
^^2^2^3100722^
"BLD",7785,1,1,0)
This patch will resolve the issue where the incorrect message is displayed
"BLD",7785,1,2,0)
to the user.  This is PSPO1744.
"BLD",7785,4,0)
^9.64PA^^
"BLD",7785,6.3)
2
"BLD",7785,"ABPKG")
n
"BLD",7785,"KRN",0)
^9.67PA^779.2^20
"BLD",7785,"KRN",.4,0)
.4
"BLD",7785,"KRN",.401,0)
.401
"BLD",7785,"KRN",.402,0)
.402
"BLD",7785,"KRN",.403,0)
.403
"BLD",7785,"KRN",.5,0)
.5
"BLD",7785,"KRN",.84,0)
.84
"BLD",7785,"KRN",3.6,0)
3.6
"BLD",7785,"KRN",3.8,0)
3.8
"BLD",7785,"KRN",9.2,0)
9.2
"BLD",7785,"KRN",9.8,0)
9.8
"BLD",7785,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",7785,"KRN",9.8,"NM",1,0)
PSOQ0595^^0^B12587476
"BLD",7785,"KRN",9.8,"NM","B","PSOQ0595",1)

"BLD",7785,"KRN",19,0)
19
"BLD",7785,"KRN",19.1,0)
19.1
"BLD",7785,"KRN",101,0)
101
"BLD",7785,"KRN",409.61,0)
409.61
"BLD",7785,"KRN",771,0)
771
"BLD",7785,"KRN",779.2,0)
779.2
"BLD",7785,"KRN",870,0)
870
"BLD",7785,"KRN",8989.51,0)
8989.51
"BLD",7785,"KRN",8989.52,0)
8989.52
"BLD",7785,"KRN",8994,0)
8994
"BLD",7785,"KRN","B",.4,.4)

"BLD",7785,"KRN","B",.401,.401)

"BLD",7785,"KRN","B",.402,.402)

"BLD",7785,"KRN","B",.403,.403)

"BLD",7785,"KRN","B",.5,.5)

"BLD",7785,"KRN","B",.84,.84)

"BLD",7785,"KRN","B",3.6,3.6)

"BLD",7785,"KRN","B",3.8,3.8)

"BLD",7785,"KRN","B",9.2,9.2)

"BLD",7785,"KRN","B",9.8,9.8)

"BLD",7785,"KRN","B",19,19)

"BLD",7785,"KRN","B",19.1,19.1)

"BLD",7785,"KRN","B",101,101)

"BLD",7785,"KRN","B",409.61,409.61)

"BLD",7785,"KRN","B",771,771)

"BLD",7785,"KRN","B",779.2,779.2)

"BLD",7785,"KRN","B",870,870)

"BLD",7785,"KRN","B",8989.51,8989.51)

"BLD",7785,"KRN","B",8989.52,8989.52)

"BLD",7785,"KRN","B",8994,8994)

"BLD",7785,"QDEF")
^^^^NO^^^^^^NO
"BLD",7785,"QUES",0)
^9.62^^
"BLD",7785,"REQB",0)
^9.611^1^1
"BLD",7785,"REQB",1,0)
PSO*7.0*294^2
"BLD",7785,"REQB","B","PSO*7.0*294",1)

"MBREQ")
0
"PKG",141,-1)
1^1
"PKG",141,0)
OUTPATIENT PHARMACY^PSO^OUTPATIENT LABELS, PROFILE, INVENTORY, PRESCRIPTIONS
"PKG",141,20,0)
^9.402P^^
"PKG",141,22,0)
^9.49I^1^1
"PKG",141,22,1,0)
7.0^2971216^2980917^11712
"PKG",141,22,1,"PAH",1,0)
365^3100722
"PKG",141,22,1,"PAH",1,1,0)
^^2^2^3100722
"PKG",141,22,1,"PAH",1,1,1,0)
This patch will resolve the issue where the incorrect message is displayed
"PKG",141,22,1,"PAH",1,1,2,0)
to the user.  This is PSPO1744.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","PSOQ0595")
0^1^B12587476^B12584907
"RTN","PSOQ0595",1,0)
PSOQ0595 ;HINES/RMS - TIU OBJECT FOR REMOTE MEDS VIA RDI ; 30 Nov 2007  7:54 AM
"RTN","PSOQ0595",2,0)
 ;;7.0;OUTPATIENT PHARMACY;**294,365**;DEC 1997;Build 2
"RTN","PSOQ0595",3,0)
 ;
"RTN","PSOQ0595",4,0)
 ;Reference to CKP^GMTSUP supported by DBIA 4231
"RTN","PSOQ0595",5,0)
 ;References to ORRDI1 supported by DBIA 4659
"RTN","PSOQ0595",6,0)
RDI(DFN,TARGET) ;
"RTN","PSOQ0595",7,0)
 ;OBJECT METHOD IS: S X=$$RDI^PSOQ0595(DFN,"^TMP($J,""PSOQRDI"")")
"RTN","PSOQ0595",8,0)
 K @TARGET
"RTN","PSOQ0595",9,0)
 N PSOQHDR,PSOQRET,PSOQMED,PSOQLINE,PSOQQTY,PSOQSIG,PSOQSTAT,PSOQRDI,PSOQDOWN
"RTN","PSOQ0595",10,0)
 G:'$G(DFN) RDIOUT
"RTN","PSOQ0595",11,0)
 S PSOQHDR=$$HAVEHDR^ORRDI1 I '+$G(PSOQHDR) D  G RDIOUT
"RTN","PSOQ0595",12,0)
 . S @TARGET@(1,0)="Remote Data from HDR not available"
"RTN","PSOQ0595",13,0)
 D  G:$G(PSOQDOWN) RDIOUT
"RTN","PSOQ0595",14,0)
 . I $D(^XTMP("ORRDI","OUTAGE INFO","DOWN")) H $$GET^XPAR("ALL","ORRDI PING FREQ")/2
"RTN","PSOQ0595",15,0)
 . I $D(^XTMP("ORRDI","OUTAGE INFO","DOWN")) S PSOQDOWN=1 D
"RTN","PSOQ0595",16,0)
 .. S @TARGET@(1,0)="WARNING: Connection to Remote Data Currently Down"
"RTN","PSOQ0595",17,0)
 D  ;RDI/HDR CALL ENCAPSULATION
"RTN","PSOQ0595",18,0)
 . D SAVDEV^%ZISUTL("PSOQHFS")
"RTN","PSOQ0595",19,0)
 . S PSOQRET=$$GET^ORRDI1(DFN,"PSOO")
"RTN","PSOQ0595",20,0)
 . D USE^%ZISUTL("PSOQHFS")
"RTN","PSOQ0595",21,0)
 . D RMDEV^%ZISUTL("PSOQHFS")
"RTN","PSOQ0595",22,0)
 I +PSOQRET=-1 D  G RDIOUT
"RTN","PSOQ0595",23,0)
 . S @TARGET@(1,0)="Connection to Remote Data Not Available"
"RTN","PSOQ0595",24,0)
 I '$D(^XTMP("ORRDI","PSOO",DFN)) D  G RDIOUT
"RTN","PSOQ0595",25,0)
 . S @TARGET@(1,0)="No Remote Data available for this patient"
"RTN","PSOQ0595",26,0)
OBJ S PSOQLINE=3
"RTN","PSOQ0595",27,0)
 S PSOQMED=0 F  S PSOQMED=$O(^XTMP("ORRDI","PSOO",DFN,PSOQMED)) Q:'+PSOQMED  D
"RTN","PSOQ0595",28,0)
 . S PSOQSTAT=$G(^XTMP("ORRDI","PSOO",DFN,PSOQMED,5,0))
"RTN","PSOQ0595",29,0)
 . Q:"ACTIVE^SUSPENDED"'[PSOQSTAT
"RTN","PSOQ0595",30,0)
 . S @TARGET@(PSOQLINE,0)=$G(^XTMP("ORRDI","PSOO",DFN,PSOQMED,2,0)) D INC
"RTN","PSOQ0595",31,0)
 . S PSOQSIG=$G(^XTMP("ORRDI","PSOO",DFN,PSOQMED,14,0)) D  ;
"RTN","PSOQ0595",32,0)
 .. I $L(PSOQSIG)>60 D  D INC Q
"RTN","PSOQ0595",33,0)
 ... N WORDS,COUNT
"RTN","PSOQ0595",34,0)
 ... S WORDS=$L(PSOQSIG," ")
"RTN","PSOQ0595",35,0)
 ... S @TARGET@(PSOQLINE,0)="Sig: "
"RTN","PSOQ0595",36,0)
 ... F COUNT=1:1:WORDS D
"RTN","PSOQ0595",37,0)
 .... S @TARGET@(PSOQLINE,0)=$G(@TARGET@(PSOQLINE,0))_$P(PSOQSIG," ",COUNT)_" "
"RTN","PSOQ0595",38,0)
 .... I $L(@TARGET@(PSOQLINE,0))>60 D INC S @TARGET@(PSOQLINE,0)="     "
"RTN","PSOQ0595",39,0)
 .. S @TARGET@(PSOQLINE,0)="Sig: "_PSOQSIG D INC
"RTN","PSOQ0595",40,0)
 . S PSOQQTY=$G(^XTMP("ORRDI","PSOO",DFN,PSOQMED,6,0)) S @TARGET@(PSOQLINE,0)="Quantity: "_+$P(PSOQQTY,";")_"    Days Supply: "_$P($P(PSOQQTY,";",2),"D",2) D INC
"RTN","PSOQ0595",41,0)
 . S @TARGET@(PSOQLINE,0)=$G(^XTMP("ORRDI","PSOO",DFN,PSOQMED,10,0))_" refills remaining until "_$G(^XTMP("ORRDI","PSOO",DFN,PSOQMED,7,0)) D INC
"RTN","PSOQ0595",42,0)
 . S @TARGET@(PSOQLINE,0)="Last filled "_$G(^XTMP("ORRDI","PSOO",DFN,PSOQMED,9,0))_" at "_$G(^XTMP("ORRDI","PSOO",DFN,PSOQMED,1,0))_" ("_$S(PSOQSTAT["ACT":"Active",PSOQSTAT["SUSP":"Active/Suspended",1:"Status Unknown")_")" D INC
"RTN","PSOQ0595",43,0)
 . S @TARGET@(PSOQLINE,0)=" " D INC
"RTN","PSOQ0595",44,0)
 I PSOQLINE=3 D  G RDIOUT
"RTN","PSOQ0595",45,0)
 . S @TARGET@(1,0)="No Active Remote Medications for this patient"
"RTN","PSOQ0595",46,0)
 S @TARGET@(1,0)="Active Medications from Remote Data",@TARGET@(2,0)=" "
"RTN","PSOQ0595",47,0)
RDIOUT Q "~@"_$NA(@TARGET)
"RTN","PSOQ0595",48,0)
INC S PSOQLINE=$G(PSOQLINE)+1 Q
"RTN","PSOQ0595",49,0)
 ;-----------------------------
"RTN","PSOQ0595",50,0)
ENHS ;ENTRY POINT OF REMOTE DATA MEDICATIONS AS A HEALTH SUMMARY 
"RTN","PSOQ0595",51,0)
 N PSOQHS,PSOQWRT
"RTN","PSOQ0595",52,0)
 Q:'$G(DFN)
"RTN","PSOQ0595",53,0)
 S PSOQHS=$$RDI(DFN,"^TMP($J,""PSOQRDI"")")
"RTN","PSOQ0595",54,0)
 S PSOQWRT=0 F  S PSOQWRT=$O(^TMP($J,"PSOQRDI",PSOQWRT)) Q:'+PSOQWRT  D
"RTN","PSOQ0595",55,0)
 . D CKP^GMTSUP Q:$D(GMTSQIT)
"RTN","PSOQ0595",56,0)
 . W !,^TMP($J,"PSOQRDI",PSOQWRT,0)
"RTN","PSOQ0595",57,0)
 . D CKP^GMTSUP Q:$D(GMTSQIT)
"RTN","PSOQ0595",58,0)
 Q
"VER")
8.0^22.0
"BLD",7785,6)
^314
**END**
**END**
