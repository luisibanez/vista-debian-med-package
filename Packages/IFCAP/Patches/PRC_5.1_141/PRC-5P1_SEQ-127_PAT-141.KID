Released PRC*5.1*141 SEQ #127
Extracted from mail message
**KIDS**:PRC*5.1*141^

**INSTALL NAME**
PRC*5.1*141
"BLD",8253,0)
PRC*5.1*141^IFCAP^0^3110325^y
"BLD",8253,1,0)
^^2^2^3091228^
"BLD",8253,1,1,0)
Prosthetics GUI Required date field does not transfer to Purchase Card 
"BLD",8253,1,2,0)
order.
"BLD",8253,4,0)
^9.64PA^^
"BLD",8253,6.3)
11
"BLD",8253,"ABPKG")
n
"BLD",8253,"KRN",0)
^9.67PA^779.2^20
"BLD",8253,"KRN",.4,0)
.4
"BLD",8253,"KRN",.401,0)
.401
"BLD",8253,"KRN",.402,0)
.402
"BLD",8253,"KRN",.403,0)
.403
"BLD",8253,"KRN",.5,0)
.5
"BLD",8253,"KRN",.84,0)
.84
"BLD",8253,"KRN",3.6,0)
3.6
"BLD",8253,"KRN",3.8,0)
3.8
"BLD",8253,"KRN",9.2,0)
9.2
"BLD",8253,"KRN",9.8,0)
9.8
"BLD",8253,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",8253,"KRN",9.8,"NM",1,0)
PRCH7PUC^^0^B8230349
"BLD",8253,"KRN",9.8,"NM","B","PRCH7PUC",1)

"BLD",8253,"KRN",19,0)
19
"BLD",8253,"KRN",19.1,0)
19.1
"BLD",8253,"KRN",101,0)
101
"BLD",8253,"KRN",409.61,0)
409.61
"BLD",8253,"KRN",771,0)
771
"BLD",8253,"KRN",779.2,0)
779.2
"BLD",8253,"KRN",870,0)
870
"BLD",8253,"KRN",8989.51,0)
8989.51
"BLD",8253,"KRN",8989.52,0)
8989.52
"BLD",8253,"KRN",8994,0)
8994
"BLD",8253,"KRN","B",.4,.4)

"BLD",8253,"KRN","B",.401,.401)

"BLD",8253,"KRN","B",.402,.402)

"BLD",8253,"KRN","B",.403,.403)

"BLD",8253,"KRN","B",.5,.5)

"BLD",8253,"KRN","B",.84,.84)

"BLD",8253,"KRN","B",3.6,3.6)

"BLD",8253,"KRN","B",3.8,3.8)

"BLD",8253,"KRN","B",9.2,9.2)

"BLD",8253,"KRN","B",9.8,9.8)

"BLD",8253,"KRN","B",19,19)

"BLD",8253,"KRN","B",19.1,19.1)

"BLD",8253,"KRN","B",101,101)

"BLD",8253,"KRN","B",409.61,409.61)

"BLD",8253,"KRN","B",771,771)

"BLD",8253,"KRN","B",779.2,779.2)

"BLD",8253,"KRN","B",870,870)

"BLD",8253,"KRN","B",8989.51,8989.51)

"BLD",8253,"KRN","B",8989.52,8989.52)

"BLD",8253,"KRN","B",8994,8994)

"BLD",8253,"QUES",0)
^9.62^^
"BLD",8253,"REQB",0)
^9.611^1^1
"BLD",8253,"REQB",1,0)
PRC*5.1*123^2
"BLD",8253,"REQB","B","PRC*5.1*123",1)

"MBREQ")
0
"PKG",455,-1)
1^1
"PKG",455,0)
IFCAP^PRC^IFCAP System Files
"PKG",455,20,0)
^9.402P^^
"PKG",455,22,0)
^9.49I^1^1
"PKG",455,22,1,0)
5.1
"PKG",455,22,1,"PAH",1,0)
141^3110325
"PKG",455,22,1,"PAH",1,1,0)
^^2^2^3110325
"PKG",455,22,1,"PAH",1,1,1,0)
Prosthetics GUI Required date field does not transfer to Purchase Card 
"PKG",455,22,1,"PAH",1,1,2,0)
order.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","PRCH7PUC")
0^1^B8230349^B8077993
"RTN","PRCH7PUC",1,0)
PRCH7PUC ;Hines OIFO/RVD - GUI PURCHASE CARD PROS ORDER INTERFACE ;8/13/03  09:50
"RTN","PRCH7PUC",2,0)
 ;;5.1;IFCAP;**68,123,141**;Oct 20, 2000;Build 11
"RTN","PRCH7PUC",3,0)
 ;Per VHA Directive 2004-038, this routine should not be modified.
"RTN","PRCH7PUC",4,0)
 ;
"RTN","PRCH7PUC",5,0)
 ;This routine is for Obligating and canceling a PO using a GUI interface.
"RTN","PRCH7PUC",6,0)
 ;Line label UP1 is for MUMPS entry point.
"RTN","PRCH7PUC",7,0)
 ;
"RTN","PRCH7PUC",8,0)
 ; PRCSITE     - station number
"RTN","PRCH7PUC",9,0)
 ; PRCVEN      - vendor
"RTN","PRCH7PUC",10,0)
 ; RESULTS     - return variable
"RTN","PRCH7PUC",11,0)
 ; PRCA        - IEN of Prosthetics Order file 664
"RTN","PRCH7PUC",12,0)
 ; PRCB        - IEN of file 442
"RTN","PRCH7PUC",13,0)
 ; PRCC        - Total Cost
"RTN","PRCH7PUC",14,0)
 ; PRCRMPR   - Variable to quit in IFCAP E-Sig routine PRCUESIG
"RTN","PRCH7PUC",15,0)
UP1(X,PRCA,PRCB,PRCC,PRCSITE,PRCVEN,PRCRMPR) ;ENTRY FOR GUI PURCHASING
"RTN","PRCH7PUC",16,0)
 ;
"RTN","PRCH7PUC",17,0)
 N PRCPROST,PRCHPC,PRCRI,A,B,Y,DIE
"RTN","PRCH7PUC",18,0)
 N PRCHPO,PRCHTOT,PRCHBOCC,PRCHBOC1,PRCHN
"RTN","PRCH7PUC",19,0)
 S PRC("PER")=+DUZ
"RTN","PRCH7PUC",20,0)
 K X S X=$S('$D(^VA(200,+PRC("PER"),20)):"",1:^VA(200,+PRC("PER"),20))
"RTN","PRCH7PUC",21,0)
 I $P(X,"^",2)="" S %X=$P(^VA(200,+PRC("PER"),0),"^"),%X=$P(%X,",",2)_" "_$P(%X,",")_$P(%X,",",3),$P(^VA(200,+PRC("PER"),20),"^",2)=%X,X=%X K %X
"RTN","PRCH7PUC",22,0)
 S $P(PRC("PER"),"^",2,4)=$P(X,"^",2)_"^"_$P(X,"^",3)_"^"_$S($D(^VA(200,+PRC("PER"),.13)):$P(^(.13),"^",2),1:"")
"RTN","PRCH7PUC",23,0)
 S PRCHVEN=PRCVEN
"RTN","PRCH7PUC",24,0)
 S PRCPROST=3,PRCHPC=1
"RTN","PRCH7PUC",25,0)
 S PRCRI(442)=PRCB
"RTN","PRCH7PUC",26,0)
 S PRCHPO=PRCRI(442),PRCHTOT=PRCC
"RTN","PRCH7PUC",27,0)
 S A=^PRC(440.5,$P(^PRC(442,PRCRI(442),23),"^",8),0),PRCHBOC1=$P(A,U,4)
"RTN","PRCH7PUC",28,0)
 S DIE="^PRC(442,",DA=PRCHPO,DR="60////"_PRCHTOT_";91////"_PRCHTOT_";65////RMPR"_";7////"_RMPRDLVD D ^DIE K DR
"RTN","PRCH7PUC",29,0)
 S PRCHN("SFC")=+$P(^PRC(442,PRCRI(442),0),U,19)
"RTN","PRCH7PUC",30,0)
 S:'$D(^PRC(442,PRCHPO,2,0)) $P(^PRC(442,PRCHPO,2,0),U,2)=$P(^DD(442,40,0),U,2)
"RTN","PRCH7PUC",31,0)
 S DA(1)=PRCHPO,DIE="^PRC(442,"_DA(1)_",2,",DA=1
"RTN","PRCH7PUC",32,0)
 S DR=".01///^S X=1;1///Prosthetic Order;2///^S X=1;3///^S X=""EA"";5////^S X=PRCHTOT;3.1///^S X=1;9.7///^S X=1;9///^S X="""";8///^S X=9999;K PRCHBOCC;"
"RTN","PRCH7PUC",33,0)
 S DR(1,442.01,1)="I PRCHN(""SFC"")=2 S PRCHBOCC=2696;I '$G(PRCHBOCC) S Y=""@87"";"
"RTN","PRCH7PUC",34,0)
 S DR(1,442.01,2)="S PRCHBOCC=$P($G(^PRCD(420.2,PRCHBOCC,0)),U);3.5////^S X=PRCHBOCC;S Y=""@89"";@87;3.5////^S X=PRCHBOC1;@89;K PRCHBOCC"
"RTN","PRCH7PUC",35,0)
 D ^DIE
"RTN","PRCH7PUC",36,0)
 I '$D(Y) D PROS^PRCHNPO
"RTN","PRCH7PUC",37,0)
 I $G(X)="#",$G(PRCRMPR)=1 D CANIC(PRCRI(442)) Q
"RTN","PRCH7PUC",38,0)
 S X="" I PRCPROST=3 D CANIC(PRCRI(442)) S X="^"
"RTN","PRCH7PUC",39,0)
 QUIT
"RTN","PRCH7PUC",40,0)
 ;
"RTN","PRCH7PUC",41,0)
CANIC(PRCA) ;cancel order, prca=ri of prosthetic order, prcb=ri file 442
"RTN","PRCH7PUC",42,0)
 N PRCPROST,PRCHPC,A,B,X,Y
"RTN","PRCH7PUC",43,0)
 S PRCPROST=99,PRCHPC=1
"RTN","PRCH7PUC",44,0)
 D EDIT^PRC0B(.X,"442;^PRC(442,;"_PRCA,".5///^S X=45")
"RTN","PRCH7PUC",45,0)
 S DA=PRCA D C2237^PRCH442A K DA,%A,%B,%
"RTN","PRCH7PUC",46,0)
 QUIT
"RTN","PRCH7PUC",47,0)
 ;
"RTN","PRCH7PUC",48,0)
 ;PRCPONO - IEN of file #442
"RTN","PRCH7PUC",49,0)
 ;PRCA    - IEN of file #664
"RTN","PRCH7PUC",50,0)
 ;RESULTS  - a return value
"RTN","PRCH7PUC",51,0)
 ;
"RTN","PRCH7PUC",52,0)
 ;cancel a PO.  Call by Prosthetics GUI.
"RTN","PRCH7PUC",53,0)
C1(PRCA) G C2
"RTN","PRCH7PUC",54,0)
CAN(RESULTS,PRCPONO) ;broker entry point.
"RTN","PRCH7PUC",55,0)
C2 ;
"RTN","PRCH7PUC",56,0)
 N PRCPROST,PRCHPC,A,B,X,Y
"RTN","PRCH7PUC",57,0)
 S PRCPROST=99,PRCHPC=1
"RTN","PRCH7PUC",58,0)
 L +^PRC(442,PRCA):1
"RTN","PRCH7PUC",59,0)
 I '$T S RESULTS="Unable to Access P.O. in IFCAP." Q
"RTN","PRCH7PUC",60,0)
 D EDIT^PRC0B(.X,"442;^PRC(442,;"_PRCA,".5///^S X=45")
"RTN","PRCH7PUC",61,0)
 S DA=PRCA D C2237^PRCH442A K DA,%A,%B,%
"RTN","PRCH7PUC",62,0)
 S RESULTS(0)="P.O. has been cancelled."
"RTN","PRCH7PUC",63,0)
 Q
"RTN","PRCH7PUC",64,0)
 ;END
"VER")
8.0^22.0
"BLD",8253,6)
^127
**END**
**END**
