Released VBEC*1*56 SEQ #57
Extracted from mail message
**KIDS**:VBEC*1.0*56^

**INSTALL NAME**
VBEC*1.0*56
"BLD",7617,0)
VBEC*1.0*56^VBECS^0^3130404^y
"BLD",7617,4,0)
^9.64PA^^
"BLD",7617,6.3)
1
"BLD",7617,"KRN",0)
^9.67PA^779.2^20
"BLD",7617,"KRN",.4,0)
.4
"BLD",7617,"KRN",.401,0)
.401
"BLD",7617,"KRN",.402,0)
.402
"BLD",7617,"KRN",.403,0)
.403
"BLD",7617,"KRN",.5,0)
.5
"BLD",7617,"KRN",.84,0)
.84
"BLD",7617,"KRN",3.6,0)
3.6
"BLD",7617,"KRN",3.8,0)
3.8
"BLD",7617,"KRN",9.2,0)
9.2
"BLD",7617,"KRN",9.8,0)
9.8
"BLD",7617,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",7617,"KRN",9.8,"NM",1,0)
VBECRPCH^^0^B3298642
"BLD",7617,"KRN",9.8,"NM","B","VBECRPCH",1)

"BLD",7617,"KRN",19,0)
19
"BLD",7617,"KRN",19.1,0)
19.1
"BLD",7617,"KRN",101,0)
101
"BLD",7617,"KRN",409.61,0)
409.61
"BLD",7617,"KRN",771,0)
771
"BLD",7617,"KRN",779.2,0)
779.2
"BLD",7617,"KRN",870,0)
870
"BLD",7617,"KRN",8989.51,0)
8989.51
"BLD",7617,"KRN",8989.52,0)
8989.52
"BLD",7617,"KRN",8994,0)
8994
"BLD",7617,"KRN","B",.4,.4)

"BLD",7617,"KRN","B",.401,.401)

"BLD",7617,"KRN","B",.402,.402)

"BLD",7617,"KRN","B",.403,.403)

"BLD",7617,"KRN","B",.5,.5)

"BLD",7617,"KRN","B",.84,.84)

"BLD",7617,"KRN","B",3.6,3.6)

"BLD",7617,"KRN","B",3.8,3.8)

"BLD",7617,"KRN","B",9.2,9.2)

"BLD",7617,"KRN","B",9.8,9.8)

"BLD",7617,"KRN","B",19,19)

"BLD",7617,"KRN","B",19.1,19.1)

"BLD",7617,"KRN","B",101,101)

"BLD",7617,"KRN","B",409.61,409.61)

"BLD",7617,"KRN","B",771,771)

"BLD",7617,"KRN","B",779.2,779.2)

"BLD",7617,"KRN","B",870,870)

"BLD",7617,"KRN","B",8989.51,8989.51)

"BLD",7617,"KRN","B",8989.52,8989.52)

"BLD",7617,"KRN","B",8994,8994)

"BLD",7617,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",7617,"QUES",0)
^9.62^^
"BLD",7617,"REQB",0)
^9.611^^
"MBREQ")
0
"PKG",649,-1)
1^1
"PKG",649,0)
VBECS^VBEC^VistA Blood Establishment Computer System
"PKG",649,20,0)
^9.402P^^
"PKG",649,22,0)
^9.49I^1^1
"PKG",649,22,1,0)
1.0^3090423^3080103^1
"PKG",649,22,1,"PAH",1,0)
56^3130404
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","VBECRPCH")
0^1^B3298642^B3877808
"RTN","VBECRPCH",1,0)
VBECRPCH ; HOIFO/BNT - VBECS HCPCS Codes lookup;19 May 2004
"RTN","VBECRPCH",2,0)
 ;;1.0;VBECS;**3,56**;Apr 14, 2005;Build 1
"RTN","VBECRPCH",3,0)
 ;
"RTN","VBECRPCH",4,0)
 ; Note: This routine supports data exchange with an FDA registered
"RTN","VBECRPCH",5,0)
 ; medical device. As such, it may not be changed in any way without
"RTN","VBECRPCH",6,0)
 ; prior written approval from the medical device manufacturer.
"RTN","VBECRPCH",7,0)
 ; 
"RTN","VBECRPCH",8,0)
 ; Integration Agreements:
"RTN","VBECRPCH",9,0)
 ; Reference to CPT CATEGORY file supported by IA #1587
"RTN","VBECRPCH",10,0)
 ; Reference to CPT file supported by IA #4776
"RTN","VBECRPCH",11,0)
 ; Reference to LIST^DIC supported by IA #2051
"RTN","VBECRPCH",12,0)
 ; Reference to $$FIND1^DIC supported by IA #2051
"RTN","VBECRPCH",13,0)
 ; Reference to $$CHARCHK^XOBVLIB supported by IA #4090
"RTN","VBECRPCH",14,0)
 ; Reference to $$CPT^ICPTCOD supported by IA #1995
"RTN","VBECRPCH",15,0)
 ;
"RTN","VBECRPCH",16,0)
 QUIT
"RTN","VBECRPCH",17,0)
 ;
"RTN","VBECRPCH",18,0)
 ; ---------------------------------------------------------------
"RTN","VBECRPCH",19,0)
 ;       Private Method Supports IA #4610
"RTN","VBECRPCH",20,0)
 ; ---------------------------------------------------------------
"RTN","VBECRPCH",21,0)
HCPCS(RESULTS) ; Get active HCPCS codes from the CPT file for Path/Lab CPT Categories
"RTN","VBECRPCH",22,0)
 ;
"RTN","VBECRPCH",23,0)
 N OUT,X
"RTN","VBECRPCH",24,0)
 S VBECCNT=0
"RTN","VBECRPCH",25,0)
 S RESULTS=$NA(^TMP("VBECHCPCS",$J))
"RTN","VBECRPCH",26,0)
 K @RESULTS,^TMP("DILIST",$J)
"RTN","VBECRPCH",27,0)
 D BEGROOT^VBECRPC("Root")
"RTN","VBECRPCH",28,0)
 S VBHPC=194
"RTN","VBECRPCH",29,0)
 ;The following lines were commented out to remove the lookup and switch to a hard coded variable.
"RTN","VBECRPCH",30,0)
 ;S VBHPC=$$FIND1^DIC(81.1,,,"PATHOLOGY AND LABORATORY SERVICES",,,"VBERR")
"RTN","VBECRPCH",31,0)
 ;I 'VBHPC!($D(VBERR)) D  Q
"RTN","VBECRPCH",32,0)
 ;. D ERROR^VBECRPC("Error collecting HCPCS data")
"RTN","VBECRPCH",33,0)
 ;. D ENDROOT^VBECRPC("Root")
"RTN","VBECRPCH",34,0)
 ;. Q
"RTN","VBECRPCH",35,0)
 S VBSCRN="N CPT S CPT=$$CPT^ICPTCOD(Y) I $P(CPT,U,4)="_VBHPC_",$P(CPT,U,7),$P(CPT,U,5)=""H"""
"RTN","VBECRPCH",36,0)
 D LIST^DIC(81,,.01,,,,,"D",VBSCRN,,.OUT,"VBERR")
"RTN","VBECRPCH",37,0)
 I $D(VBERR) D  Q
"RTN","VBECRPCH",38,0)
 . D ERROR^VBECRPC("Error collecting HCPCS data")
"RTN","VBECRPCH",39,0)
 . D ENDROOT^VBECRPC("Root")
"RTN","VBECRPCH",40,0)
 . Q
"RTN","VBECRPCH",41,0)
 ;Replace the next lines with code to call $$CPT^ICPTCOD(x) and get code and name.
"RTN","VBECRPCH",42,0)
 ;Use ^XTMP($J,"DILIST","ID",n,.01)=P2028 to get the code (28 characters)
"RTN","VBECRPCH",43,0)
 S VBB=0 F  S VBB=$O(^TMP("DILIST",$J,"ID",VBB)) Q:'VBB  S VBDATA=^TMP("DILIST",$J,"ID",VBB,.01) D
"RTN","VBECRPCH",44,0)
  . S VBDATA=$$CPT^ICPTCOD(VBDATA) Q:$P(VBDATA,"^")=-1
"RTN","VBECRPCH",45,0)
  . D ADD^VBECRPC("<HCPCS>")
"RTN","VBECRPCH",46,0)
  . D ADD^VBECRPC("<Code>"_$P(VBDATA,"^",2)_"</Code>")
"RTN","VBECRPCH",47,0)
  . D ADD^VBECRPC("<Name>"_$P(VBDATA,"^",3)_"</Name>")
"RTN","VBECRPCH",48,0)
  . D ADD^VBECRPC("</HCPCS>")
"RTN","VBECRPCH",49,0)
 ;S VBB=0 F  S VBB=$O(^TMP("DILIST",$J,"ID",VBB)) Q:'VBB  S VBDATA="" D
"RTN","VBECRPCH",50,0)
 ; . D ADD^VBECRPC("<HCPCS>")
"RTN","VBECRPCH",51,0)
 ; . F VBC=".01^Code","2^Name" D ADD^VBECRPC("<"_$P(VBC,"^",2)_">"_$$STRIPL^VBECRPC($$CHARCHK^XOBVLIB(^TMP("DILIST",$J,"ID",VBB,$P(VBC,"^"))))_"</"_$P(VBC,"^",2)_">")
"RTN","VBECRPCH",52,0)
 ; . D ADD^VBECRPC("</HCPCS>")
"RTN","VBECRPCH",53,0)
 D ENDROOT^VBECRPC("Root")
"RTN","VBECRPCH",54,0)
 K @OUT,VBB,VBC,VBDATA,VBECCNT,VBFLD,VBHPC,VBSCRN
"RTN","VBECRPCH",55,0)
 Q
"VER")
8.0^22.0
"BLD",7617,6)
^57
**END**
**END**
