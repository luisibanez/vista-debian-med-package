Released GMTS*2.7*88 SEQ #91
Extracted from mail message
**KIDS**:GMTS*2.7*88^

**INSTALL NAME**
GMTS*2.7*88
"BLD",8783,0)
GMTS*2.7*88^HEALTH SUMMARY^0^3110817^y
"BLD",8783,1,0)
^^6^6^3091210^
"BLD",8783,1,1,0)
This patch will resolve the following Remedy tickets:
"BLD",8783,1,2,0)
 
"BLD",8783,1,3,0)
HD70142 - TIU-HS Object (SII) not pulling column headers
"BLD",8783,1,4,0)
HD231399 - Health Summary changes to coincide with LR*5.2*356
"BLD",8783,1,5,0)
HD230879 - Mental Health Components
"BLD",8783,1,6,0)
HD336184 - MENU OPTION GMTS HS BY LOC wasting many sheets
"BLD",8783,4,0)
^9.64PA^142.99^1
"BLD",8783,4,142.99,0)
142.99
"BLD",8783,4,142.99,2,0)
^9.641^^
"BLD",8783,4,142.99,222)
y^n^p^^^^n^^n
"BLD",8783,4,142.99,224)

"BLD",8783,4,"B",142.99,142.99)

"BLD",8783,6)
5^
"BLD",8783,6.3)
23
"BLD",8783,"INID")
^n
"BLD",8783,"INIT")
EN^GMTSP88
"BLD",8783,"KRN",0)
^9.67PA^8989.52^19
"BLD",8783,"KRN",.4,0)
.4
"BLD",8783,"KRN",.401,0)
.401
"BLD",8783,"KRN",.402,0)
.402
"BLD",8783,"KRN",.403,0)
.403
"BLD",8783,"KRN",.5,0)
.5
"BLD",8783,"KRN",.84,0)
.84
"BLD",8783,"KRN",3.6,0)
3.6
"BLD",8783,"KRN",3.8,0)
3.8
"BLD",8783,"KRN",9.2,0)
9.2
"BLD",8783,"KRN",9.8,0)
9.8
"BLD",8783,"KRN",9.8,"NM",0)
^9.68A^5^5
"BLD",8783,"KRN",9.8,"NM",1,0)
GMTSLRC^^0^B6625875
"BLD",8783,"KRN",9.8,"NM",2,0)
GMTSLRS^^0^B9223777
"BLD",8783,"KRN",9.8,"NM",3,0)
GMTSRASP^^0^B13211752
"BLD",8783,"KRN",9.8,"NM",4,0)
GMTSLTR^^0^B4881328
"BLD",8783,"KRN",9.8,"NM",5,0)
GMTSPL^^0^B53451337
"BLD",8783,"KRN",9.8,"NM","B","GMTSLRC",1)

"BLD",8783,"KRN",9.8,"NM","B","GMTSLRS",2)

"BLD",8783,"KRN",9.8,"NM","B","GMTSLTR",4)

"BLD",8783,"KRN",9.8,"NM","B","GMTSPL",5)

"BLD",8783,"KRN",9.8,"NM","B","GMTSRASP",3)

"BLD",8783,"KRN",19,0)
19
"BLD",8783,"KRN",19,"NM",0)
^9.68A^1^1
"BLD",8783,"KRN",19,"NM",1,0)
GMTS IRM/ADPAC PARAMETER EDIT^^0
"BLD",8783,"KRN",19,"NM","B","GMTS IRM/ADPAC PARAMETER EDIT",1)

"BLD",8783,"KRN",19.1,0)
19.1
"BLD",8783,"KRN",101,0)
101
"BLD",8783,"KRN",409.61,0)
409.61
"BLD",8783,"KRN",771,0)
771
"BLD",8783,"KRN",870,0)
870
"BLD",8783,"KRN",8989.51,0)
8989.51
"BLD",8783,"KRN",8989.51,"NM",0)
^9.68A^^
"BLD",8783,"KRN",8989.52,0)
8989.52
"BLD",8783,"KRN",8994,0)
8994
"BLD",8783,"KRN","B",.4,.4)

"BLD",8783,"KRN","B",.401,.401)

"BLD",8783,"KRN","B",.402,.402)

"BLD",8783,"KRN","B",.403,.403)

"BLD",8783,"KRN","B",.5,.5)

"BLD",8783,"KRN","B",.84,.84)

"BLD",8783,"KRN","B",3.6,3.6)

"BLD",8783,"KRN","B",3.8,3.8)

"BLD",8783,"KRN","B",9.2,9.2)

"BLD",8783,"KRN","B",9.8,9.8)

"BLD",8783,"KRN","B",19,19)

"BLD",8783,"KRN","B",19.1,19.1)

"BLD",8783,"KRN","B",101,101)

"BLD",8783,"KRN","B",409.61,409.61)

"BLD",8783,"KRN","B",771,771)

"BLD",8783,"KRN","B",870,870)

"BLD",8783,"KRN","B",8989.51,8989.51)

"BLD",8783,"KRN","B",8989.52,8989.52)

"BLD",8783,"KRN","B",8994,8994)

"BLD",8783,"QUES",0)
^9.62^^
"BLD",8783,"REQB",0)
^9.611^4^4
"BLD",8783,"REQB",1,0)
GMTS*2.7*58^1
"BLD",8783,"REQB",2,0)
GMTS*2.7*56^1
"BLD",8783,"REQB",3,0)
GMTS*2.7*70^1
"BLD",8783,"REQB",4,0)
LR*5.2*372^1
"BLD",8783,"REQB","B","GMTS*2.7*56",2)

"BLD",8783,"REQB","B","GMTS*2.7*58",1)

"BLD",8783,"REQB","B","GMTS*2.7*70",3)

"BLD",8783,"REQB","B","LR*5.2*372",4)

"FIA",142.99)
HEALTH SUMMARY PARAMETERS
"FIA",142.99,0)
^GMT(142.99,
"FIA",142.99,0,0)
142.99
"FIA",142.99,0,1)
y^n^f^^^^n^^n
"FIA",142.99,0,10)

"FIA",142.99,0,11)

"FIA",142.99,0,"RLRO")

"FIA",142.99,0,"VR")
2.7^GMTS
"FIA",142.99,142.99)
0
"INIT")
EN^GMTSP88
"KRN",19,4057,-1)
0^1
"KRN",19,4057,0)
GMTS IRM/ADPAC PARAMETER EDIT^Edit Health Summary Site Parameters^^E^^^^^^^^
"KRN",19,4057,1,0)
^19.06^3^3^3091201^^^
"KRN",19,4057,1,1,0)
This option allows IRM staff or Health  Summary ADPAC to edit the Health
"KRN",19,4057,1,2,0)
Summary Parameters, to modify the behavior of Health Summary for your
"KRN",19,4057,1,3,0)
site.
"KRN",19,4057,15)

"KRN",19,4057,20)

"KRN",19,4057,30)
GMT(142.99,
"KRN",19,4057,31)
AEMQL
"KRN",19,4057,32)
Select HEALTH SUMMARY PARAMETERS:
"KRN",19,4057,33)

"KRN",19,4057,50)
GMT(142.99,
"KRN",19,4057,51)
.02;S:X=0 Y=.03;.05T;.03;.04;.06;.07
"KRN",19,4057,99)
55649,45175
"KRN",19,4057,"U")
EDIT HEALTH SUMMARY SITE PARAM
"MBREQ")
0
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",229,-1)
1^1
"PKG",229,0)
HEALTH SUMMARY^GMTS^Integrated Health Summary Tools
"PKG",229,20,0)
^9.402P^^
"PKG",229,22,0)
^9.49I^1^1
"PKG",229,22,1,0)
2.7^2951020^2960805
"PKG",229,22,1,"PAH",1,0)
88^3110817^1175
"PKG",229,22,1,"PAH",1,1,0)
^^6^6^3110817
"PKG",229,22,1,"PAH",1,1,1,0)
This patch will resolve the following Remedy tickets:
"PKG",229,22,1,"PAH",1,1,2,0)
 
"PKG",229,22,1,"PAH",1,1,3,0)
HD70142 - TIU-HS Object (SII) not pulling column headers
"PKG",229,22,1,"PAH",1,1,4,0)
HD231399 - Health Summary changes to coincide with LR*5.2*356
"PKG",229,22,1,"PAH",1,1,5,0)
HD230879 - Mental Health Components
"PKG",229,22,1,"PAH",1,1,6,0)
HD336184 - MENU OPTION GMTS HS BY LOC wasting many sheets
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
6
"RTN","GMTSLRC")
0^1^B6625875^B5417657
"RTN","GMTSLRC",1,0)
GMTSLRC ; SLC/JER,KER - Chemistry & Hematology Comp Dvr ; 01/06/2003
"RTN","GMTSLRC",2,0)
 ;;2.7;Health Summary;**28,47,58,88**;Oct 20, 1995;Build 23
"RTN","GMTSLRC",3,0)
 ;
"RTN","GMTSLRC",4,0)
 ; External References
"RTN","GMTSLRC",5,0)
 ;    DBIA   525  ^LR( all fields
"RTN","GMTSLRC",6,0)
 ;    DBIA 10035  ^DPT( field 63 Read w/Fileman
"RTN","GMTSLRC",7,0)
 ;    DBIA  2056  $$GET1^DIQ (file 2)
"RTN","GMTSLRC",8,0)
 ;                       
"RTN","GMTSLRC",9,0)
MAIN ; Chemisty and Hematology
"RTN","GMTSLRC",10,0)
 N GMCFLAG,GMCMNT,IX0,IX,LRDFN,MAX,CNT,PTR,RWIDTH
"RTN","GMTSLRC",11,0)
 S LRDFN=+($$GET1^DIQ(2,(+($G(DFN))_","),63,"I")) Q:+LRDFN=0  Q:'$D(^LR(LRDFN))
"RTN","GMTSLRC",12,0)
 I $D(GMTSNDM),(GMTSNDM>0) S MAX=GMTSNDM
"RTN","GMTSLRC",13,0)
 E  S MAX=999
"RTN","GMTSLRC",14,0)
 S RWIDTH=8 ;Optional variable used in ^GMTSLRCE
"RTN","GMTSLRC",15,0)
 D ^GMTSLRCE
"RTN","GMTSLRC",16,0)
 I '$D(^TMP("LRC",$J)) Q
"RTN","GMTSLRC",17,0)
 D WRTHDR S GMCMNT=$S($P($G(^GMT(142.99,1,0)),U,3)="Y":1,1:0)
"RTN","GMTSLRC",18,0)
 S IX=GMTS1 F IX0=1:1:MAX S IX=$O(^TMP("LRC",$J,IX)) Q:IX=""!(IX>GMTS2)  S (PTR,CNT)=0 F  S PTR=$O(^TMP("LRC",$J,IX,PTR)) Q:PTR=""  S CNT=CNT+1 D WRT
"RTN","GMTSLRC",19,0)
 I +$G(GMCFLAG) D
"RTN","GMTSLRC",20,0)
 . D CKP^GMTSUP Q:$D(GMTSQIT)  W !
"RTN","GMTSLRC",21,0)
 . D CKP^GMTSUP Q:$D(GMTSQIT)  W "!!  Indicates COMMENTS AVAILABLE...Refer to Interim Lab Report.",!
"RTN","GMTSLRC",22,0)
 K ^TMP("LRC",$J)
"RTN","GMTSLRC",23,0)
 Q
"RTN","GMTSLRC",24,0)
WRTHDR ; Prints columnar header
"RTN","GMTSLRC",25,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W "Collection DT",?18,"Specimen",?29
"RTN","GMTSLRC",26,0)
 W "Test Name",?48,"Result",?58,"Units",?70,"Ref Range",!
"RTN","GMTSLRC",27,0)
 W:'$D(GMTSOBJ) !
"RTN","GMTSLRC",28,0)
 S GMTSNPG=1
"RTN","GMTSLRC",29,0)
 Q
"RTN","GMTSLRC",30,0)
WRT ; Writes Chemistry & Hematology Component
"RTN","GMTSLRC",31,0)
 N GMI,GMX,GMTSI,ISNEG,REF,TAB
"RTN","GMTSLRC",32,0)
 I PTR="C",'+$G(GMCMNT) Q
"RTN","GMTSLRC",33,0)
 I PTR="C",($D(^TMP("LRC",$J,IX,"C"))>9),+$G(GMCMNT) D  Q
"RTN","GMTSLRC",34,0)
 . S GMI=0 F  S GMI=$O(^TMP("LRC",$J,IX,"C",GMI)) Q:GMI'>0  D
"RTN","GMTSLRC",35,0)
 . . D CKP^GMTSUP Q:$D(GMTSQIT)  W "Comment: ",^TMP("LRC",$J,IX,"C",GMI),!
"RTN","GMTSLRC",36,0)
 S GMX=^TMP("LRC",$J,IX,PTR)
"RTN","GMTSLRC",37,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  D:GMTSNPG WRTHDR
"RTN","GMTSLRC",38,0)
 W:CNT=1!(GMTSNPG) $P(GMX,U),?18,$E($P(GMX,U,2),1,10)
"RTN","GMTSLRC",39,0)
 W:CNT>1&'(GMTSNPG) ?3,"""",?12,"""",?20,""""
"RTN","GMTSLRC",40,0)
 I $D(^TMP("LRC",$J,IX,"C"))>9,'+$G(GMCMNT) W ?24,"!! " S GMCFLAG=1
"RTN","GMTSLRC",41,0)
 W ?29,$E($P(GMX,U,3),1,17),?46,$P(GMX,U,4)," ",$P(GMX,U,5)
"RTN","GMTSLRC",42,0)
 W ?58,$P(GMX,U,6)
"RTN","GMTSLRC",43,0)
 ; VM/RJT - Ref Range reformat
"RTN","GMTSLRC",44,0)
 ; W ?68,$J($P(GMX,U,7),4),?73,"-",?74,$J(GMTSI,4),!
"RTN","GMTSLRC",45,0)
 S GMTSI=$P(GMX,U,8),ISNEG=0 S:GMTSI="NEGATIVE" GMTSI="NEG",ISNEG=1
"RTN","GMTSLRC",46,0)
 D
"RTN","GMTSLRC",47,0)
 . I ((ISNEG=1)!($P(GMX,U,7)="NEGATIVE")) W ?69,$J("NEG",12),! Q
"RTN","GMTSLRC",48,0)
 . S REF=$$EN^LRLRRVF($P(GMX,U,7),$G(GMTSI))
"RTN","GMTSLRC",49,0)
 . S TAB=67+($S(REF?1A.E:2,1:(8-$F(REF,"-")))) S:TAB<67 TAB=67
"RTN","GMTSLRC",50,0)
 . I (TAB>72)&($L(REF)>5) S TAB=67+((13-($L(REF))/2))
"RTN","GMTSLRC",51,0)
 . I ($L(REF)>12),($L(REF)<15) S TAB=80-($L(REF))
"RTN","GMTSLRC",52,0)
 . W ?TAB,REF,!
"RTN","GMTSLRC",53,0)
 Q
"RTN","GMTSLRC",54,0)
  
"RTN","GMTSLRS")
0^2^B9223777^B7319960
"RTN","GMTSLRS",1,0)
GMTSLRS ; SLC/JER,KER - Sel Lab Component w/Selection Items ; 01/06/2003
"RTN","GMTSLRS",2,0)
 ;;2.7;Health Summary;**16,28,47,58,88**;Oct 20, 1995;Build 23
"RTN","GMTSLRS",3,0)
 ;
"RTN","GMTSLRS",4,0)
 ; External References
"RTN","GMTSLRS",5,0)
 ;    DBIA    67  ^LAB(60
"RTN","GMTSLRS",6,0)
 ;    DBIA   525  ^LR( all fields
"RTN","GMTSLRS",7,0)
 ;    DBIA 10035  ^DPT( field 63 Read w/Fileman
"RTN","GMTSLRS",8,0)
 ;    DBIA  2056  $$GET1^DIQ (file 2)
"RTN","GMTSLRS",9,0)
 ;                       
"RTN","GMTSLRS",10,0)
MAIN ; Selected Lab w/Selection Items
"RTN","GMTSLRS",11,0)
 N GMTSI,GMW,GMX,LRDFN,MAX,IT,IX,PTEST,TEST,BEGIN,END,CNT,RWIDTH,GMLINE,GMCMNT,GMCFLAG
"RTN","GMTSLRS",12,0)
 S RWIDTH=8,LRDFN=+($$GET1^DIQ(2,(+($G(DFN))_","),63,"I")) Q:+LRDFN=0  Q:'$D(^LR(LRDFN))
"RTN","GMTSLRS",13,0)
 S MAX=$S(+($G(GMTSNDM))>0:+($G(GMTSNDM)),1:999) Q:'$O(GMTSEG(GMTSEGN,60,0))
"RTN","GMTSLRS",14,0)
 S GMCMNT=$S($P($G(^GMT(142.99,1,0)),U,3)="Y":1,1:0)
"RTN","GMTSLRS",15,0)
 S GMTSI=0 F  S GMTSI=$O(GMTSEG(GMTSEGN,60,GMTSI)) Q:GMTSI'>0  D  Q:$D(GMTSQIT)
"RTN","GMTSLRS",16,0)
 . S (PTEST,TEST)=GMTSEG(GMTSEGN,60,GMTSI)
"RTN","GMTSLRS",17,0)
 . D @$S($L($P(^LAB(60,TEST,0),U,5)):"^GMTSLRSE",1:"PANEL")
"RTN","GMTSLRS",18,0)
 Q:'$D(^TMP("LRS",$J))  D WRTHDR Q:$D(GMTSQIT)
"RTN","GMTSLRS",19,0)
 S IT=0 F  S IT=$O(^TMP("LRS",$J,IT)) Q:+IT'>0  D  Q:$D(GMTSQIT)
"RTN","GMTSLRS",20,0)
 . S IX="" F  S IX=$O(^TMP("LRS",$J,IT,IX)) Q:'IX!(IX>GMTS2)  D  Q:$D(GMTSQIT)
"RTN","GMTSLRS",21,0)
 . . S GMX=^TMP("LRS",$J,IT,IX) D WRT
"RTN","GMTSLRS",22,0)
 I +$G(GMCFLAG) D
"RTN","GMTSLRS",23,0)
 . D CKP^GMTSUP Q:$D(GMTSQIT)  W !
"RTN","GMTSLRS",24,0)
 . D CKP^GMTSUP Q:$D(GMTSQIT)
"RTN","GMTSLRS",25,0)
 . W "!!  Indicates COMMENTS AVAILABLE...Refer to Interim Lab Report.",!
"RTN","GMTSLRS",26,0)
 K ^TMP("LRS",$J)
"RTN","GMTSLRS",27,0)
 Q
"RTN","GMTSLRS",28,0)
PANEL ; Visits "PANEL" multiple to get pointers to atomic tests
"RTN","GMTSLRS",29,0)
 N TEST,GMW,INDX
"RTN","GMTSLRS",30,0)
 S INDX=0 F  S INDX=$O(^LAB(60,PTEST,2,INDX)) Q:'INDX  S TEST=^(INDX,0) S:'$L($P(^LAB(60,TEST,0),U,5)) PTEST=TEST D @$S($L($P(^LAB(60,TEST,0),U,5)):"^GMTSLRSE",1:"PANEL")
"RTN","GMTSLRS",31,0)
 Q
"RTN","GMTSLRS",32,0)
WRTHDR ; Prints columnar header
"RTN","GMTSLRS",33,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W "Collection DT",?18,"Specimen"
"RTN","GMTSLRS",34,0)
 W ?29,"Test Name",?48,"Result",?58,"Units",?70,"Ref Range",!
"RTN","GMTSLRS",35,0)
 W:'$D(GMTSOBJ) !
"RTN","GMTSLRS",36,0)
 Q
"RTN","GMTSLRS",37,0)
WRT ; Writes the Lab Record
"RTN","GMTSLRS",38,0)
 ; VMP/RJT - Lab Ref Range update
"RTN","GMTSLRS",39,0)
 N ISNEG,REF,TAB D CKP^GMTSUP Q:$D(GMTSQIT)  D
"RTN","GMTSLRS",40,0)
 . D:GMTSNPG WRTHDR N GMTSI
"RTN","GMTSLRS",41,0)
 . W $P(GMX,U),?18,$P($P(GMX,U,2),";",2)
"RTN","GMTSLRS",42,0)
 . I $D(^TMP("LRS",$J,"C",IX))>9,'+$G(GMCMNT) W ?24,"!! " S GMCFLAG=1
"RTN","GMTSLRS",43,0)
 . S GMTSI=$P(GMX,U,8),ISNEG=0 S:GMTSI="NEGATIVE" GMTSI="NEG",ISNEG=1
"RTN","GMTSLRS",44,0)
 . W ?29,$E($P($P(GMX,U,3),";",2),1,17),?46,$P(GMX,U,4)," ",$P(GMX,U,5)
"RTN","GMTSLRS",45,0)
 . ; VM/RJT - Lab Ref Range update
"RTN","GMTSLRS",46,0)
 . ;W ?58,$P(GMX,U,6),?68,$J($P(GMX,U,7),4),?73,"-",?74,$J(GMTSI,4),!
"RTN","GMTSLRS",47,0)
 . I ((ISNEG=1)!($P(GMX,U,7)="NEGATIVE")) W ?58,$P(GMX,U,6),?67,$J("NEG",12),! Q
"RTN","GMTSLRS",48,0)
 . S REF=$$EN^LRLRRVF($P(GMX,U,7),$G(GMTSI))
"RTN","GMTSLRS",49,0)
 . S TAB=67+($S(REF?1A.E:2,1:(8-$F(REF,"-")))) S:TAB<67 TAB=67
"RTN","GMTSLRS",50,0)
 . I (TAB>72)&($L(REF)>5) S TAB=67+((13-($L(REF))/2))
"RTN","GMTSLRS",51,0)
 . I ($L(REF)>12),($L(REF)<15) S TAB=80-($L(REF))
"RTN","GMTSLRS",52,0)
 . W ?58,$P(GMX,U,6),?TAB,REF,!
"RTN","GMTSLRS",53,0)
 I +$G(GMCMNT),$D(^TMP("LRS",$J,"C",IX))>9,'$D(^TMP("LRS",$J,+$O(^TMP("LRS",$J,IT)),IX)) D  Q
"RTN","GMTSLRS",54,0)
 . S GMLINE=0
"RTN","GMTSLRS",55,0)
 . F  S GMLINE=$O(^TMP("LRS",$J,"C",IX,GMLINE)) Q:GMLINE'>0  D
"RTN","GMTSLRS",56,0)
 . . D CKP^GMTSUP Q:$D(GMTSQIT)
"RTN","GMTSLRS",57,0)
 . . W "Comment: ",^TMP("LRS",$J,"C",IX,GMLINE),!
"RTN","GMTSLRS",58,0)
 Q
"RTN","GMTSLTR")
0^4^B4881328^B4398379
"RTN","GMTSLTR",1,0)
GMTSLTR ; SLC/JER,KER - Print Big Letters ; 08/27/2002
"RTN","GMTSLTR",2,0)
 ;;2.7;Health Summary;**28,56,88**;Oct 20, 1995;Build 23
"RTN","GMTSLTR",3,0)
 ;                   
"RTN","GMTSLTR",4,0)
 ; External Reference
"RTN","GMTSLTR",5,0)
 ;   DBIA 10060  ^VA(200
"RTN","GMTSLTR",6,0)
 ;   DBIA  2056  $$GET1^DIQ (file #200)
"RTN","GMTSLTR",7,0)
 ;                   
"RTN","GMTSLTR",8,0)
 Q:'$L($G(GMTSLTR))  I '$D(^UTILITY("GMTSLTR",$J,"A")) D ^GMTSLTR2
"RTN","GMTSLTR",9,0)
B1 ; Setup for banner print
"RTN","GMTSLTR",10,0)
 N GMTSDIV,GMTSLEN,GMTSXXX,GMTSBLNK,GMTSLOCL,X S GMTSLOCL=6
"RTN","GMTSLTR",11,0)
 S GMTSLEN=$L(GMTSLTR),GMTSDIV=60\GMTSLEN,$P(GMTSXXX,"X",(GMTSDIV\5+1))=""
"RTN","GMTSLTR",12,0)
 S $P(GMTSBLNK," ",(GMTSDIV\5+1))=""
"RTN","GMTSLTR",13,0)
 S GMTSLTY=$E(GMTSLTR,1,$S(GMTSLEN'>2:GMTSLEN,1:(IOM\GMTSDIV-1))),GMTSLTX=""
"RTN","GMTSLTR",14,0)
 F GMTSLT1=1:1:$L(GMTSLTY) D
"RTN","GMTSLTR",15,0)
 . I $A(GMTSLTY,GMTSLT1)>32,$D(^UTILITY("GMTSLTR",$J,$E(GMTSLTY,GMTSLT1))) D
"RTN","GMTSLTR",16,0)
 . . S GMTSLTX=GMTSLTX_$E(GMTSLTY,GMTSLT1)
"RTN","GMTSLTR",17,0)
 W:$L($P($G(GMTSSC),U,2)) "HEALTH SUMMARY REPORT FOR PATIENTS AT: ",$P(GMTSSC,U,2)
"RTN","GMTSLTR",18,0)
 I $L($P($G(GMTSSC),U,4)) S X=$P(GMTSSC,U,4) D REGDTM4^GMTSU W !?34,"FOR: ",X
"RTN","GMTSLTR",19,0)
 I $L($P($G(GMTSSC),U,5)) S X=$P(GMTSSC,U,5) D REGDTM4^GMTSU W " TO ",X
"RTN","GMTSLTR",20,0)
 W ! I $D(GMTSTITL) W ?(IOM-$L(GMTSTITL)\2),GMTSTITL,!!
"RTN","GMTSLTR",21,0)
 I $D(GMTSPNM) W ?10,"Patient: ",GMTSPNM,!
"RTN","GMTSLTR",22,0)
 I $D(GMTSWDN) W "Hospital Location: ",GMTSWDN,!
"RTN","GMTSLTR",23,0)
 I $D(DUZ) W ?33,"User: ",$$GET1^DIQ(200,(+($G(DUZ))_","),.01),!
"RTN","GMTSLTR",24,0)
 ; RJT/VM GMTS*2.7*88
"RTN","GMTSLTR",25,0)
 I $$GET1^DIQ(142.99,1,.07,"^TMP(""GMTS"",$J,""SHORT HS BY LOC"")")="Yes" S GMTSLOCL=1
"RTN","GMTSLTR",26,0)
 W ! F GMTSLT=1:1:GMTSLOCL D B2
"RTN","GMTSLTR",27,0)
 K GMTSLT1,GMTSLT2,GMTSLT3,GMTSLTX,GMTSLTY,GMTSLT,^UTILITY("GMTSLTR",$J)
"RTN","GMTSLTR",28,0)
 Q
"RTN","GMTSLTR",29,0)
B2 ; Write Banner
"RTN","GMTSLTR",30,0)
 W ! F GMTSLT1=9:-1:1 W ! F GMTSLT3=1:1:$L(GMTSLTX) S X=^UTILITY("GMTSLTR",$J,$E(GMTSLTX,GMTSLT3)) W "   " F GMTSLT2=1:1:5 W $S($E(X,(GMTSLT2-1*9+GMTSLT1)):GMTSXXX,1:GMTSBLNK)
"RTN","GMTSLTR",31,0)
 Q
"RTN","GMTSP88")
0^^B19084863^n/a
"RTN","GMTSP88",1,0)
GMTSP88 ;BP CHY20/RJT - GMTS*2.7*88 POST INIT: ; 2/13/08 1:56pm
"RTN","GMTSP88",2,0)
 ;;2.7;HEALTH SUMMARY;**88**;Oct 20, 1995;Build 23
"RTN","GMTSP88",3,0)
 Q
"RTN","GMTSP88",4,0)
EN ;
"RTN","GMTSP88",5,0)
 N GMTSIEN,GMTSHS,GMTSALRT,INDEX S INDEX=1 D BMES^XPDUTL("Updating the Health Summary Component file")
"RTN","GMTSP88",6,0)
 I +$$VERSION^XPDUTL("GMTS")'="2.7" D BMES^XPDUTL("Health Summary version 2.7 not found!  Aborting file update...") Q
"RTN","GMTSP88",7,0)
 ;S GMTSHS=$$FIND1^DIC(9.4,"","X","HEALTH SUMMARY","B","") I +GMTSHS=0 D BMES^XPDUTL("Health Summary package not found!  Aborting file update...") G END
"RTN","GMTSP88",8,0)
 ;S GMTSIEN=$$FIND1^DIC(9.49,","_GMTSHS_",","X","2.7","B","") I +GMTSIEN=0 D BMES^XPDUTL("Health Summary version 2.7 not found!  Aborting file update...") G END
"RTN","GMTSP88",9,0)
 D EN1,EN2
"RTN","GMTSP88",10,0)
 D 
"RTN","GMTSP88",11,0)
 . I '$D(^TMP("GMTS",$J,"ALERT"))  D BMES^XPDUTL("File #142.1 was updated successfully.")  Q
"RTN","GMTSP88",12,0)
 . D ALERT
"RTN","GMTSP88",13,0)
 G END
"RTN","GMTSP88",14,0)
 Q
"RTN","GMTSP88",15,0)
EN1     ;
"RTN","GMTSP88",16,0)
 N MHAS S MHAS=$$FIND1^DIC(142.1,"","X","MHA Score","B","")
"RTN","GMTSP88",17,0)
 I $G(MHAS)]"" D
"RTN","GMTSP88",18,0)
 . I $$GET1^DIQ(142.1,MHAS,2,"I")="1" D
"RTN","GMTSP88",19,0)
 . . S DIE="142.1",DA=MHAS,DR="2///yes"
"RTN","GMTSP88",20,0)
 . . L +^GMT(142.1,MHAS):$G(DILOCKTM,3) I $T D ^DIE L -^GMT(142.1,MHAS) Q
"RTN","GMTSP88",21,0)
 . . D BMES^XPDUTL("The Health Summary Component file (#142.1) is being edited by another user.") D ADD("MHAS","TIME LIMITS APPLICABLE") Q
"RTN","GMTSP88",22,0)
 . I $$GET1^DIQ(142.1,MHAS,4,"I")="1" D
"RTN","GMTSP88",23,0)
 . . S DIE="142.1",DA=MHAS,DR="4///yes"
"RTN","GMTSP88",24,0)
 . . L +^GMT(142.1,MHAS):$G(DILOCKTM,3) I $T D ^DIE L -^GMT(142.1,MHAS) Q
"RTN","GMTSP88",25,0)
 . . D BMES^XPDUTL("The Health Summary Component file (#142.1) is being edited by another user.") D ADD("MHAS","MAXIMUM OCCURRENCES APPLICABLE") Q
"RTN","GMTSP88",26,0)
 Q
"RTN","GMTSP88",27,0)
EN2 ;
"RTN","GMTSP88",28,0)
 N MHAL S MHAL=$$FIND1^DIC(142.1,"","X","MHA Administration List","B","")
"RTN","GMTSP88",29,0)
 I $G(MHAL)]"" D
"RTN","GMTSP88",30,0)
 . I $$GET1^DIQ(142.1,MHAL,2,"I")="1" D
"RTN","GMTSP88",31,0)
 . . S DIE="142.1",DA=MHAL,DR="2///yes"
"RTN","GMTSP88",32,0)
 . . L +^GMT(142.1,MHAL):$G(DILOCKTM,3) I $T D ^DIE L -^GMT(142.1,MHAL) Q
"RTN","GMTSP88",33,0)
 . . D BMES^XPDUTL("The Health Summary Component file (#142.1) is being edited by another user.") D ADD("MHAL","TIME LIMITS APPLICABLE") Q
"RTN","GMTSP88",34,0)
 . I $$GET1^DIQ(142.1,MHAL,4,"I")="1" D
"RTN","GMTSP88",35,0)
 . . S DIE="142.1",DA=MHAL,DR="4///yes"
"RTN","GMTSP88",36,0)
 . . L +^GMT(142.1,MHAL):$G(DILOCKTM,3) I $T D ^DIE L -^GMT(142.1,MHAL) Q
"RTN","GMTSP88",37,0)
 . . D BMES^XPDUTL("The Health Summary Component file (#142.1) is being edited by another user.") D ADD("MHAL","MAXIMUM OCCURRENCES APPLICABLE") Q
"RTN","GMTSP88",38,0)
 Q
"RTN","GMTSP88",39,0)
ADD(COMP,FIELD) ; Add alert info to array
"RTN","GMTSP88",40,0)
 S ^TMP("GMTS",$J,"ALERT")=""
"RTN","GMTSP88",41,0)
 S GMTSALRT(INDEX)=COMP_"^"_FIELD,INDEX=INDEX+1
"RTN","GMTSP88",42,0)
 Q
"RTN","GMTSP88",43,0)
ALERT ;  Send alert to user notifying them that file #142.1 was not updated
"RTN","GMTSP88",44,0)
 N XQA,XQAARCH,XQADATA,XQAFLG,XQAGUID,XQAID,XQAMSG,XQAOPT,XQAROU,XQASUPV,XQASURO,XQATEXT,XTEXT,XQALERR,RESULT,XQATEXT2,I
"RTN","GMTSP88",45,0)
 S I=0 D
"RTN","GMTSP88",46,0)
 . S XQA(DUZ)=""
"RTN","GMTSP88",47,0)
 . S XQAMSG="GMTS*2.7*88 Installation - update to file #142.1 failed."
"RTN","GMTSP88",48,0)
 . S XQATEXT=$C(13)_$C(10)_" The following update(s) failed during the installation of GMTS*2.7*88: "_$C(13)_$C(10)
"RTN","GMTSP88",49,0)
 . F  S I=$O(GMTSALRT(I)) Q:'I  D
"RTN","GMTSP88",50,0)
 . . S XQATEXT=XQATEXT_$C(13)_$C(10)_$C(9)_"- field "_$P($G(GMTSALRT(I)),"^",2)_" of the "_$P($G(GMTSALRT(I)),"^",1)_" component. "
"RTN","GMTSP88",51,0)
 . S XQATEXT=XQATEXT_$C(13)_$C(10)_$C(13)_$C(10)_" See the post-install section of the patch description for instructions"
"RTN","GMTSP88",52,0)
 . S XQATEXT=XQATEXT_$C(13)_$C(10)_" on how to manually update the file."
"RTN","GMTSP88",53,0)
 . S XQATEXT2=XQATEXT,RESULT=0,RESULT=$$SETUP1^XQALERT I RESULT=0 D BUL
"RTN","GMTSP88",54,0)
 Q
"RTN","GMTSP88",55,0)
BUL ; MAILMAN MESSAGE
"RTN","GMTSP88",56,0)
 N XMSUB,XMTEXT,XMY,FSMG,GMTSI,DIFROM,COUNTER
"RTN","GMTSP88",57,0)
 S XMY(DUZ,0)="IN",GMTSI=0,COUNTER=0
"RTN","GMTSP88",58,0)
 S XMSUB="!!! GMTS*2.7*88 Installation - update failed !!!"
"RTN","GMTSP88",59,0)
 S FMSG(1)="The following update(s) failed during the installation of GMTS*2.7*88:   ",FMSG(2)=""
"RTN","GMTSP88",60,0)
 F  S GMTSI=$O(GMTSALRT(GMTSI)) Q:'GMTSI  D
"RTN","GMTSP88",61,0)
 . S FMSG(GMTSI+2)=" - field "_$P($G(GMTSALRT(GMTSI)),"^",2)_" of the "_$P($G(GMTSALRT(GMTSI)),"^",1)_" component ",COUNTER=COUNTER+1
"RTN","GMTSP88",62,0)
 S FMSG(COUNTER+3)=""
"RTN","GMTSP88",63,0)
 S FMSG(COUNTER+4)=" See the post-install section of the patch description for instructions on "
"RTN","GMTSP88",64,0)
 S FMSG(COUNTER+5)=" how to manually update the file."
"RTN","GMTSP88",65,0)
 S XMTEXT="FMSG("
"RTN","GMTSP88",66,0)
 D ^XMD K FMSG
"RTN","GMTSP88",67,0)
 Q
"RTN","GMTSP88",68,0)
END ;
"RTN","GMTSP88",69,0)
 K ^TMP("GMTS",$J,"ALERT"),DA,DIE,DR
"RTN","GMTSP88",70,0)
 Q
"RTN","GMTSPL")
0^5^B53451337^B49944430
"RTN","GMTSPL",1,0)
GMTSPL ; SLC/JER,KER - Print/Queue HS for Patient Lists ; 02/27/2002 [1/27/05 8:27am]
"RTN","GMTSPL",2,0)
 ;;2.7;Health Summary;**7,27,28,30,47,49,70,88**;Oct 20, 1995;Build 23
"RTN","GMTSPL",3,0)
 ;
"RTN","GMTSPL",4,0)
 ; External References
"RTN","GMTSPL",5,0)
 ;    DBIA 10090  ^DIC(4
"RTN","GMTSPL",6,0)
 ;    DBIA 10039  ^DIC(42
"RTN","GMTSPL",7,0)
 ;    DBIA 10035  ^DPT(
"RTN","GMTSPL",8,0)
 ;    DBIA 10035  ^DPT("CN"
"RTN","GMTSPL",9,0)
 ;    DBIA 10040  ^SC(
"RTN","GMTSPL",10,0)
 ;    DBIA    16  ^SRF(
"RTN","GMTSPL",11,0)
 ;    DBIA   641  ^SRF("AOR"
"RTN","GMTSPL",12,0)
 ;    DBIA   185  ^SRS("B"
"RTN","GMTSPL",13,0)
 ;    DBIA 10091  ^XMB(1
"RTN","GMTSPL",14,0)
 ;    DBIA 10000  C^%DTC
"RTN","GMTSPL",15,0)
 ;    DBIA 10000  NOW^%DTC
"RTN","GMTSPL",16,0)
 ;    DBIA 10026  ^DIR
"RTN","GMTSPL",17,0)
 ;    DBIA   183  DFN^PSOSD1
"RTN","GMTSPL",18,0)
 ;    DBIA 10104  $$UP^XLFSTR
"RTN","GMTSPL",19,0)
 ;    DBIA  2056  $$GET1^DIQ (file #44)
"RTN","GMTSPL",20,0)
 ;                          
"RTN","GMTSPL",21,0)
MAIN ; Print/Queue for Patient Lists
"RTN","GMTSPL",22,0)
 ;                          
"RTN","GMTSPL",23,0)
 ; Call with:  
"RTN","GMTSPL",24,0)
 ;                   
"RTN","GMTSPL",25,0)
 ;   GMTSTYP  = Pointer to file 142
"RTN","GMTSPL",26,0)
 ;   GMTSSC   = Pointer to file 44^Hosp Loc Name^
"RTN","GMTSPL",27,0)
 ;              Hosp Loc Type^Begin Visit/Surg Date^
"RTN","GMTSPL",28,0)
 ;              Opt end Visit/Surgery Date
"RTN","GMTSPL",29,0)
 ;   GMTSSC() = GMTSSC - Array of multiple locations
"RTN","GMTSPL",30,0)
 ;   [GMPSAP] = Optional flag set to 1 if OP Rx 
"RTN","GMTSPL",31,0)
 ;              Action Profile is to print
"RTN","GMTSPL",32,0)
 ;                        
"RTN","GMTSPL",33,0)
 N MULTLOC,GMTSEXIT S GMTSEXIT=0
"RTN","GMTSPL",34,0)
 I $D(GMTSSC("ALL")) D  Q
"RTN","GMTSPL",35,0)
 . N IEN,BEG,END,COR,PRM,RAN,PAT
"RTN","GMTSPL",36,0)
 . S PRM=$G(GMTSSC),BEG=$P(PRM,"^",4),END=$P(PRM,"^",5)
"RTN","GMTSPL",37,0)
 . S RAN=BEG S:$L(END)&($L(RAN)) RAN=RAN_"^"_END S:$L(END)&('$L(RAN)) RAN=END
"RTN","GMTSPL",38,0)
 . S IEN=0 F  S IEN=$O(^SC(IEN)) Q:+IEN=0  D  Q:$G(GMTSEXIT)["^^"
"RTN","GMTSPL",39,0)
 . . N GMTSSC,NAM S NAM=$$GET1^DIQ(44,(+IEN_","),.01) Q:'$L(NAM)
"RTN","GMTSPL",40,0)
 . . S COR=$$GET1^DIQ(44,(+IEN_","),2,"I") Q:COR=""  Q:"WCOR"'[COR
"RTN","GMTSPL",41,0)
 . . S GMTSSC=IEN_"^"_NAM_"^"_COR
"RTN","GMTSPL",42,0)
 . . S:"COR"[COR&($L($G(RAN))) GMTSSC=GMTSSC_"^"_RAN
"RTN","GMTSPL",43,0)
 . . S PAT=$$PAT(GMTSSC) Q:+PAT=0
"RTN","GMTSPL",44,0)
 . . D CTRL
"RTN","GMTSPL",45,0)
 I +$O(GMTSSC(0))'>0 D CTRL
"RTN","GMTSPL",46,0)
 I +$O(GMTSSC(0)) D
"RTN","GMTSPL",47,0)
 . S MULTLOC=0 F  S MULTLOC=$O(GMTSSC(MULTLOC)) Q:+MULTLOC'>0!$D(DIROUT)  D
"RTN","GMTSPL",48,0)
 . . S GMTSSC=GMTSSC(+MULTLOC) D CTRL
"RTN","GMTSPL",49,0)
 Q
"RTN","GMTSPL",50,0)
CTRL ; Controls Branching
"RTN","GMTSPL",51,0)
 N DFN,GMTDFN,GMLTYPE,GMTSLTR,GMPNM,PSOPAR,PSONOPG,PSOINST,PSTYPE K ^TMP("GMTSPL",$J) U IO
"RTN","GMTSPL",52,0)
 N GMTSBYE S GMTSBYE=0
"RTN","GMTSPL",53,0)
 S GMLTYPE=$P(GMTSSC,U,3) S:GMLTYPE="C" GMTSBYE=$$CLINIC(GMTSSC) D:GMLTYPE="W" WARD(GMTSSC) D:GMLTYPE="OR" OR(GMTSSC)
"RTN","GMTSPL",54,0)
 I GMTSBYE Q
"RTN","GMTSPL",55,0)
 I $L($P(GMTSSC,U,2)),($E(IOST,1)'="C") S GMTSLTR=$E($P(GMTSSC,U,2),1,10) D ^GMTSLTR
"RTN","GMTSPL",56,0)
 I $O(^TMP("GMTSPL",$J,0))="",$D(GMTSSC("ALL")) W !,"ALL" Q
"RTN","GMTSPL",57,0)
 I $O(^TMP("GMTSPL",$J,0))="" D NOPAT($P(GMTSSC,U,2))
"RTN","GMTSPL",58,0)
 ; RJT/VM GMTS*2.7*88
"RTN","GMTSPL",59,0)
 I ($E(IOST,1)'="C"),$$GET1^DIQ(142.99,1,.07,"^TMP(""GMTS"",$J,""SHORT HS BY LOC"")")="Yes" W @IOF
"RTN","GMTSPL",60,0)
 S GMPNM="" F  S GMPNM=$O(^TMP("GMTSPL",$J,GMPNM)) Q:(GMPNM="")!($D(DIROUT))  D
"RTN","GMTSPL",61,0)
 . S GMTDFN=0 F  S GMTDFN=$O(^TMP("GMTSPL",$J,GMPNM,GMTDFN)) Q:(GMTDFN'>0)!($D(DIROUT))  D
"RTN","GMTSPL",62,0)
 . . N GMDUOUT
"RTN","GMTSPL",63,0)
 . . S DFN=GMTDFN D DRIVER Q:$D(DIROUT)!+$G(GMDUOUT)
"RTN","GMTSPL",64,0)
 . . I +$G(GMPSAP) D
"RTN","GMTSPL",65,0)
 . . . S (PSTYPE,PSONOPG)=1
"RTN","GMTSPL",66,0)
 . . . S $P(PSOPAR,U)=$S($P($G(^GMT(142.99,1,0)),U,5)="Y":1,1:0)
"RTN","GMTSPL",67,0)
 . . . S PSOINST=$S(+$G(PSOINST):PSOINST,1:+$P($G(^DIC(4,+$P($G(^XMB(1,1,"XUS")),U,17),99)),U))
"RTN","GMTSPL",68,0)
 . . . D DFN^PSOSD1,PAGE
"RTN","GMTSPL",69,0)
 K ^TMP("GMTSPL",$J)
"RTN","GMTSPL",70,0)
 Q
"RTN","GMTSPL",71,0)
PAGE ; Pause at BOP for interactive users
"RTN","GMTSPL",72,0)
 N DIR,X,Y
"RTN","GMTSPL",73,0)
 Q:$E(IOST)'="C"!(IOT="HFS")!((IOSL>998)&($G(GMPAT(+$O(GMPAT(""),-1)))'=$G(DFN)))
"RTN","GMTSPL",74,0)
 I IOSL>($Y+5) F  W ! Q:IOSL<($Y+6)!($Y'<22)
"RTN","GMTSPL",75,0)
 S DIR(0)="FO^1:1",DIR("A")="Press RETURN to continue or '^' to exit"
"RTN","GMTSPL",76,0)
 S DIR("?")="Enter '^' to quit present report or '^^' to quit to menu"
"RTN","GMTSPL",77,0)
 D ^DIR S:X["^^" DIROUT=1
"RTN","GMTSPL",78,0)
 Q
"RTN","GMTSPL",79,0)
NOPAT(LOC) ; Handles unpopulated Hospital location
"RTN","GMTSPL",80,0)
 N %,%H,%I,%T,%Y,GMTS,GMTSDTM,GMTSTN,GMTSHDR,GMTSPG,GMTSTITL,GMTSDTM,GMTSLFG,X,Y
"RTN","GMTSPL",81,0)
 D NOW^%DTC S X=% D REGDTM4^GMTSU S GMTSDTM=X,GMTSTN=$P($G(^GMT(142,+($G(GMTSTYP)),0)),"^",1)
"RTN","GMTSPL",82,0)
 S DIC=142,DIC(0)="NXF",X=GMTSTN S Y=$$TYPE^GMTSULT K DIC
"RTN","GMTSPL",83,0)
 S GMTSTITL=$S($D(^GMT(142,+Y,"T")):^("T"),1:$P(Y,U,2)),GMTSLFG=1
"RTN","GMTSPL",84,0)
 ; RJT/VM GMTS*2.7*88
"RTN","GMTSPL",85,0)
 D
"RTN","GMTSPL",86,0)
 . I $$GET1^DIQ(142.99,1,.07,"^TMP(""GMTS"",$J,""SHORT HS BY LOC"")")="Yes" W !!!! D HEADER^GMTSUP W !!,"No Patients found at ",LOC," location.",! Q
"RTN","GMTSPL",87,0)
 . W @IOF D HEADER^GMTSUP W !!,"No Patients found at ",LOC," location.",!
"RTN","GMTSPL",88,0)
 Q
"RTN","GMTSPL",89,0)
CLINIC(LOC) ; Gets list of next-day appointments for clinic
"RTN","GMTSPL",90,0)
 N %,%H,%I,%T,%Y,GMI,X,X1,X2,VDT,Y,GMPNM,GMDT,GMBDT,GMEDT,GMTSRES,GMTSCDT,GMDFN,GMNAME,GMDATE,GMTSLAST
"RTN","GMTSPL",91,0)
 S GMTSCDT=$P(LOC,U,4),GMI=0
"RTN","GMTSPL",92,0)
 I 'GMTSCDT D NOW^%DTC S GMTSCDT=X
"RTN","GMTSPL",93,0)
 S X=+GMTSCDT D REGDT4^GMTSU S GMBDT=X
"RTN","GMTSPL",94,0)
 S X=+$P(LOC,U,5) D REGDT4^GMTSU S GMEDT=X
"RTN","GMTSPL",95,0)
 S:+$P(LOC,U,5) X1=$P(LOC,U,5),X2=1
"RTN","GMTSPL",96,0)
 S:+$P(LOC,U,5)'>0 X1=GMTSCDT,X2=1 D C^%DTC
"RTN","GMTSPL",97,0)
 S GMTSLAST=X
"RTN","GMTSPL",98,0)
 D GETPLIST^SDAMA202(+LOC,"1;4",,GMTSCDT,GMTSLAST,.GMTSRES)
"RTN","GMTSPL",99,0)
 I GMTSRES<0 D  Q "-1"
"RTN","GMTSPL",100,0)
 . N GMTSERR
"RTN","GMTSPL",101,0)
 . S GMTSERR=$O(^TMP($J,"SDAMA202","GETPLIST","ERROR",0))
"RTN","GMTSPL",102,0)
 . I 'GMTSERR Q
"RTN","GMTSPL",103,0)
 . D MAIL^GMTSMAIL($G(^TMP($J,"SDAMA202","GETPLIST","ERROR",GMTSERR)),"Print/Queue HS for Patient Lists")
"RTN","GMTSPL",104,0)
 . K ^TMP($J,"SDAMA202","GETPLIST")
"RTN","GMTSPL",105,0)
 F  S GMI=$O(^TMP($J,"SDAMA202","GETPLIST",GMI)) Q:GMI=""  D
"RTN","GMTSPL",106,0)
 . N X
"RTN","GMTSPL",107,0)
 . S X=$G(^TMP($J,"SDAMA202","GETPLIST",GMI,1))
"RTN","GMTSPL",108,0)
 . Q:X>GMTSLAST
"RTN","GMTSPL",109,0)
 . D REGDT4^GMTSU S GMDATE=X
"RTN","GMTSPL",110,0)
 . S GMDFN=+$G(^TMP($J,"SDAMA202","GETPLIST",GMI,4))
"RTN","GMTSPL",111,0)
 . S GMNAME=$P($G(^TMP($J,"SDAMA202","GETPLIST",GMI,4)),U,2)
"RTN","GMTSPL",112,0)
 . S ^TMP("GMTSPL",$J,GMNAME,+GMDFN)=$S($D(^TMP("GMTSPL",$J,GMNAME,+GMDFN)):GMBDT_" TO "_GMEDT,1:GMDATE)
"RTN","GMTSPL",113,0)
 K ^TMP($J,"SDAMA202","GETPLIST")
"RTN","GMTSPL",114,0)
 Q 0
"RTN","GMTSPL",115,0)
WARD(LOC) ; Gets list of patients for a ward
"RTN","GMTSPL",116,0)
 N DFN,GMLOC,X,Y,GMDT
"RTN","GMTSPL",117,0)
 S GMLOC=$P($G(^DIC(42,+$G(^SC(+LOC,42)),0)),U)
"RTN","GMTSPL",118,0)
 I $S('$L(GMLOC):1,'$O(^DPT("CN",GMLOC,0)):1,1:0) Q
"RTN","GMTSPL",119,0)
 S DFN=0 F  S DFN=$O(^DPT("CN",GMLOC,DFN)) Q:+DFN'>0  D
"RTN","GMTSPL",120,0)
 . N X
"RTN","GMTSPL",121,0)
 . S X=+$G(DT) D REGDT4^GMTSU S GMDT=X
"RTN","GMTSPL",122,0)
 . S ^TMP("GMTSPL",$J,$P($G(^DPT(+DFN,0)),U),+DFN)=GMDT
"RTN","GMTSPL",123,0)
 Q
"RTN","GMTSPL",124,0)
OR(LOC) ; Gets list of patients scheduled for surgery
"RTN","GMTSPL",125,0)
 N GMBEG,GMEND,DFN,GMI,GMJ,GMPNM,GMDT,%,%H,%I,%T,%Y,X,X1,X2,Y
"RTN","GMTSPL",126,0)
 S GMI=+$O(^SRS("B",+LOC,0)) I +GMI'>0 G ORX
"RTN","GMTSPL",127,0)
 S GMBEG=$P(LOC,U,4)-.0001,GMEND=$S(+$P(LOC,U,5)>0:$P(LOC,U,5),1:$P(LOC,U,4))
"RTN","GMTSPL",128,0)
 F  S GMBEG=$O(^SRF("AOR",+GMI,+GMBEG)) Q:+GMBEG'>0!(+GMBEG>+GMEND)  D
"RTN","GMTSPL",129,0)
 . S GMJ=0 F  S GMJ=$O(^SRF("AOR",+GMI,+GMBEG,GMJ)) Q:+GMJ'>0  D
"RTN","GMTSPL",130,0)
 . . S DFN=+$G(^SRF(+GMJ,0)) Q:DFN'>0
"RTN","GMTSPL",131,0)
 . . S GMPNM=$P($G(^DPT(+DFN,0)),U)
"RTN","GMTSPL",132,0)
 . . N X
"RTN","GMTSPL",133,0)
 . . S X=+GMBEG D REGDT4^GMTSU S GMDT=X
"RTN","GMTSPL",134,0)
 . . S ^TMP("GMTSPL",$J,GMPNM,+DFN)=$S($D(^TMP("GMTSPL",$J,GMPNM,+DFN)):^(+DFN)_", "_GMDT,1:GMDT)
"RTN","GMTSPL",135,0)
ORX ; Exit Surgery
"RTN","GMTSPL",136,0)
 Q
"RTN","GMTSPL",137,0)
PAT(LOC) ; Checks for patients at selected location
"RTN","GMTSPL",138,0)
 N %,%H,%T,LTYPE,X1,X2,X,Y,GMY,GMBEG,GMTSDATE,GMTSCDT,GMTSRES S LTYPE=$P(LOC,U,3),GMY=0
"RTN","GMTSPL",139,0)
 I LTYPE="W" D
"RTN","GMTSPL",140,0)
 . S LOC=$P($G(^DIC(42,+$G(^SC(+LOC,42)),0)),U),GMY=$S($G(LOC)']"":0,$O(^DPT("CN",LOC,0)):1,1:0)
"RTN","GMTSPL",141,0)
 I $L(LOC,U)=4!($L(LOC,U)=5) D
"RTN","GMTSPL",142,0)
 . S GMY=0 S:+$P(LOC,U,5) X1=$P(LOC,U,5),X2=1 S:+$P(LOC,U,5)'>0 X1=$P(LOC,U,4),X2=1 D C^%DTC
"RTN","GMTSPL",143,0)
 . S GMTSCDT=$P(LOC,U,4)
"RTN","GMTSPL",144,0)
 . D GETPLIST^SDAMA202(+LOC,"1",,GMTSCDT,X,.GMTSRES) Q:GMTSRES=0
"RTN","GMTSPL",145,0)
 . I GMTSRES<0 D  Q
"RTN","GMTSPL",146,0)
 . . N GMTSERR
"RTN","GMTSPL",147,0)
 . . S GMTSERR=$O(^TMP($J,"SDAMA202","GETPLIST","ERROR",0))
"RTN","GMTSPL",148,0)
 . . I 'GMTSERR Q
"RTN","GMTSPL",149,0)
 . . D MAIL^GMTSMAIL($G(^TMP($J,"SDAMA202","GETPLIST","ERROR",GMTSERR)),"Print/Queue HS for Patient Lists")
"RTN","GMTSPL",150,0)
 . . K ^TMP($J,"SDAMA202","GETPLIST")
"RTN","GMTSPL",151,0)
 . N GMTSI S GMTSI=0,GMTSDATE=0
"RTN","GMTSPL",152,0)
 . F  S GMTSI=$O(^TMP($J,"SDAMA202","GETPLIST",GMTSI)) Q:'GMTSI  D
"RTN","GMTSPL",153,0)
 . . I $G(^TMP($J,"SDAMA202","GETPLIST",GMTSI,1))<X S GMTSDATE=$G(^TMP($J,"SDAMA202","GETPLIST",GMTSI,1))
"RTN","GMTSPL",154,0)
 . K ^TMP($J,"SDAMA202","GETPLIST")
"RTN","GMTSPL",155,0)
 . I LTYPE="C",(+GMTSDATE),(+GMTSDATE'>X) S GMY=1
"RTN","GMTSPL",156,0)
 . I LTYPE="OR" D
"RTN","GMTSPL",157,0)
 . . N OLOC S GMY=0,OLOC=+$O(^SRS("B",+LOC,0))
"RTN","GMTSPL",158,0)
 . . I +OLOC,+$P(LOC,U,5)'>0,$O(^SRF("AOR",+OLOC,+$P(LOC,U,4),0)) S GMY=1
"RTN","GMTSPL",159,0)
 . . I +OLOC,+$P(LOC,U,5) S GMBEG=$P(LOC,U,4) F  D  Q:GMBEG>$P(LOC,U,5)!(GMY>0)
"RTN","GMTSPL",160,0)
 . . . S:$O(^SRF("AOR",+OLOC,+GMBEG,0)) GMY=1 Q:+GMY>0  S X1=GMBEG,X2=1 D C^%DTC S GMBEG=X
"RTN","GMTSPL",161,0)
 Q $G(GMY)
"RTN","GMTSPL",162,0)
DRIVER ; Sets variables for GMTS1 and calls ^%ZTLOAD
"RTN","GMTSPL",163,0)
 N %T,C,D0,GMTS,GMTS0,GMTS1,GMTS2,GMTSDOB,GMTSDTM,GMTSLO,GMTSLOCK
"RTN","GMTSPL",164,0)
 N GMTSLPG,GMTSEG,GMTSEGC,GMTSTN,GMTSEGI,GMTSPNM,GMTSRB
"RTN","GMTSPL",165,0)
 N GMTSSN,GMTSTITL,GMTSWARD,GMTSX,GMTSPHDR,GMTSAGE,GMTSTOF,GMTSCDT
"RTN","GMTSPL",166,0)
 N GMW,I,SEX,VA,VADM,VAIN,VAINDT,VAROOT,X,Y
"RTN","GMTSPL",167,0)
 S GMTSCDT(0)=^TMP("GMTSPL",$J,GMPNM,+DFN),GMTSTN=$P($G(^GMT(142,+($G(GMTSTYP)),0)),"^",1)
"RTN","GMTSPL",168,0)
 S DIC=142,DIC(0)="NXF",X=GMTSTN S Y=$$TYPE^GMTSULT K DIC
"RTN","GMTSPL",169,0)
 S GMTSTITL=$$UP^XLFSTR($S($G(^GMT(142,+Y,"T"))]"":^("T"),1:$P(Y,U,2)))
"RTN","GMTSPL",170,0)
 D:$D(GMTSEG)'>9 SELTYP1^GMTS D EN^GMTS1
"RTN","GMTSPL",171,0)
 Q
"RTN","GMTSRASP")
0^3^B13211752^B13016689
"RTN","GMTSRASP",1,0)
GMTSRASP ; SLC/JER,KER - Selected Radiology ; 01/06/2003
"RTN","GMTSRASP",2,0)
 ;;2.7;Health Summary;**28,37,58,88**;Oct 20, 1995;Build 23
"RTN","GMTSRASP",3,0)
 ;
"RTN","GMTSRASP",4,0)
MAIN ; Controls branching
"RTN","GMTSRASP",5,0)
 Q:+($G(DFN))=0  Q:+($G(DFN))'=+($$RP(+($G(DFN))))
"RTN","GMTSRASP",6,0)
 ; VM/RJT - PATCH TIU*1*227 - newed variable GMTSPC
"RTN","GMTSRASP",7,0)
 N GMTSI,GMW,MAX,GMTSTEST,GMDATA,GMTSPC
"RTN","GMTSRASP",8,0)
 S MAX=$S(+$G(GMTSNDM)>0:GMTSNDM,1:999)
"RTN","GMTSRASP",9,0)
 I '$O(GMTSEG(GMTSEGN,71,0)) Q
"RTN","GMTSRASP",10,0)
 S GMTSI=0 F  S GMTSI=$O(GMTSEG(GMTSEGN,71,GMTSI)) Q:GMTSI'>0  D
"RTN","GMTSRASP",11,0)
 . S GMTSTEST=GMTSEG(GMTSEGN,71,GMTSI)
"RTN","GMTSRASP",12,0)
 . D MAINSEL^GMTSRAE(1,GMTSTEST),LOOP:$D(^TMP("RAE",$J))
"RTN","GMTSRASP",13,0)
 K ^TMP("RAE",$J)
"RTN","GMTSRASP",14,0)
 Q
"RTN","GMTSRASP",15,0)
LOOP ; Loops through ^TMP("RAE",$J,
"RTN","GMTSRASP",16,0)
 N GMW,GMTSIDT,GMTSPN,GMLN
"RTN","GMTSRASP",17,0)
 S GMTSIDT=0 F  S GMTSIDT=$O(^TMP("RAE",$J,GMTSIDT)) Q:GMTSIDT'>0  D  Q:$D(GMTSQIT)
"RTN","GMTSRASP",18,0)
 . S GMTSPN=0 F  S GMTSPN=$O(^(GMTSIDT,GMTSPN)) Q:GMTSPN'>0  D WRT Q:$D(GMTSQIT)
"RTN","GMTSRASP",19,0)
 Q
"RTN","GMTSRASP",20,0)
WRT ; Writes component data
"RTN","GMTSRASP",21,0)
 Q:$D(GMTSQIT)  N X,GMTSEDT S GMDATA=1,X=+^TMP("RAE",$J,GMTSIDT,GMTSPN,0) D REGDT4^GMTSU S GMTSEDT=X
"RTN","GMTSRASP",22,0)
 D HD S GMTSPC=+($G(GMTSCP))+1 Q:$D(GMTSQIT)  D HD Q:$D(GMTSQIT)
"RTN","GMTSRASP",23,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W GMTSEDT D PRO,CMD,IMP Q
"RTN","GMTSRASP",24,0)
 Q
"RTN","GMTSRASP",25,0)
PRO ; Procedure
"RTN","GMTSRASP",26,0)
 N GMTSPRO,GMTSTA,GMTSEXS,GMTSCN,GMTSCPT,GMTSI
"RTN","GMTSRASP",27,0)
 S GMTSPRO=$P(^TMP("RAE",$J,GMTSIDT,GMTSPN,0),"^",2),GMTSTA=$P(^(0),"^",4)
"RTN","GMTSRASP",28,0)
 S GMTSTA=$S(GMTSTA="RELEASED/NOT VERIFIED":"REL/NOT VER",GMTSTA="PROBLEM DRAFT":"PROB DRAFT",1:GMTSTA)
"RTN","GMTSRASP",29,0)
 S GMTSCPT=$P(^(0),"^",7),GMTSEXS=$P(^(0),"^",3),GMTSCN=$P(^(0),"^",9)
"RTN","GMTSRASP",30,0)
 S:'$L(GMTSTA)&(GMTSEXS="CANCELLED") GMTSTA=GMTSEXS
"RTN","GMTSRASP",31,0)
 S:'$L(GMTSTA) GMTSTA="PENDING" S GMTSTA=$$EN2^GMTSUMX(GMTSTA)
"RTN","GMTSRASP",32,0)
 I $L(GMTSPRO)>35 S GMTSPRO=$$WRAP^GMTSORC(GMTSPRO,31)
"RTN","GMTSRASP",33,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W ?12,$P(GMTSPRO,"|"),?46,GMTSCPT,?52,$E(GMTSTA,1,17),?64,GMTSCN,!
"RTN","GMTSRASP",34,0)
 F GMTSI=2:1:$L(GMTSPRO,"|") D CKP^GMTSUP Q:$D(GMTSQIT)  W:$P(GMTSPRO,"|",GMTSI)]"" ?23,$P(GMTSPRO,"|",GMTSI),!
"RTN","GMTSRASP",35,0)
 Q
"RTN","GMTSRASP",36,0)
CMD ; CPT Modifiers
"RTN","GMTSRASP",37,0)
 ;
"RTN","GMTSRASP",38,0)
 ; Quit - CPT Modifiers will not be used with 
"RTN","GMTSRASP",39,0)
 ;        Radiology Impression (RI) and Radiology
"RTN","GMTSRASP",40,0)
 ;        Impression Selected (SRI) at this time
"RTN","GMTSRASP",41,0)
 Q
"RTN","GMTSRASP",42,0)
 N GMTSCPTM
"RTN","GMTSRASP",43,0)
 S GMTSCPTM=+($$CPT^GMTSU(+($G(GMTSEGN)))) S:$G(GMPXCMOD)="N" GMTSCPTM=0
"RTN","GMTSRASP",44,0)
 Q:'GMTSCPTM
"RTN","GMTSRASP",45,0)
 N GMTSC,GMTSCM,GMTSCT,GMTSI S GMTSC=0 F  S GMTSC=$O(^TMP("RAE",$J,GMTSIDT,GMTSPN,"CM",GMTSC)) Q:+GMTSC=0  D
"RTN","GMTSRASP",46,0)
 . S GMTSCM=$P($G(^TMP("RAE",$J,GMTSIDT,GMTSPN,"CM",GMTSC)),"^",1)
"RTN","GMTSRASP",47,0)
 . Q:'$L(GMTSCM)  S GMTSCT=$P($G(^TMP("RAE",$J,GMTSIDT,GMTSPN,"CM",GMTSC)),"^",3) Q:'$L(GMTSCT)
"RTN","GMTSRASP",48,0)
 . S GMTSCT=GMTSCT_" (CPT Mod "_GMTSCM_")" S:$L(GMTSCT)>35 GMTSCT=$$WRAP^GMTSORC(GMTSCT,62) D CKP^GMTSUP Q:$D(GMTSQIT)  W ?14,$P(GMTSCT,"|"),!
"RTN","GMTSRASP",49,0)
 . F GMTSI=2:1:$L(GMTSCT,"|") D CKP^GMTSUP Q:$D(GMTSQIT)  W:$P(GMTSCT,"|",GMTSI)]"" ?16,$P(GMTSCT,"|",GMTSI),!
"RTN","GMTSRASP",50,0)
 Q
"RTN","GMTSRASP",51,0)
IMP ; Impression
"RTN","GMTSRASP",52,0)
 Q:$D(GMTSQIT)  N GMTSI,GMTST,DIWF,DIWL,DIWR
"RTN","GMTSRASP",53,0)
 S GMTST=12 Q:'$D(^TMP("RAE",$J,GMTSIDT,GMTSPN,"I"))  K ^UTILITY($J,"W")
"RTN","GMTSRASP",54,0)
 S DIWF="C"_(78-GMTST),DIWL=0,DIWR=0,GMTSI=0
"RTN","GMTSRASP",55,0)
 F  S GMTSI=$O(^TMP("RAE",$J,GMTSIDT,GMTSPN,"I",GMTSI)) Q:+GMTSI=0  D  Q:$D(GMTSQIT)
"RTN","GMTSRASP",56,0)
 . S X=$G(^TMP("RAE",$J,GMTSIDT,GMTSPN,"I",GMTSI))
"RTN","GMTSRASP",57,0)
 . ; DBIA 10011 call ^DIWP
"RTN","GMTSRASP",58,0)
 . D ^DIWP
"RTN","GMTSRASP",59,0)
 S GMTSI=0 F  S GMTSI=$O(^UTILITY($J,"W",0,GMTSI)) Q:+GMTSI=0  D  Q:$D(GMTSQIT)
"RTN","GMTSRASP",60,0)
 . D CKP^GMTSUP Q:$D(GMTSQIT)  W ?GMTST,$G(^UTILITY($J,"W",0,GMTSI,0)),!
"RTN","GMTSRASP",61,0)
 K ^UTILITY($J,"W")
"RTN","GMTSRASP",62,0)
 Q
"RTN","GMTSRASP",63,0)
HD ; Header/Page Check
"RTN","GMTSRASP",64,0)
 Q:$D(GMTSQIT)  D CKP^GMTSUP Q:$D(GMTSQIT)  Q:+($G(GMTSNPG))=0&(+($G(GMTSPC))>0)
"RTN","GMTSRASP",65,0)
 W "Date",?12,"Procedure",?46,"CPT",?52,"Status",?64,"Case #",!
"RTN","GMTSRASP",66,0)
 Q
"RTN","GMTSRASP",67,0)
RP(X) ; Radiology Patient
"RTN","GMTSRASP",68,0)
 N Y S X=+($G(X))
"RTN","GMTSRASP",69,0)
 ; DBIA 2056 call $$GET1^DIQ
"RTN","GMTSRASP",70,0)
 S Y=$$GET1^DIQ(70,X,.01,"I") S X=Y Q X
"VER")
8.0^22.0
"^DD",142.99,142.99,0)
FIELD^^.07^7
"^DD",142.99,142.99,0,"DDA")
N
"^DD",142.99,142.99,0,"DT")
3091201
"^DD",142.99,142.99,0,"IX","B",142.99,.01)

"^DD",142.99,142.99,0,"NM","HEALTH SUMMARY PARAMETERS")

"^DD",142.99,142.99,0,"VRPK")
GMTS
"^DD",142.99,142.99,.01,0)
NAME^RFX^^0;1^I $L(X)>30!(X?.N)!($L(X)<3)!'(X'?1P.E)!(X'="HOSPITAL") K X W "   NAME must be HOSPITAL."
"^DD",142.99,142.99,.01,1,0)
^.1
"^DD",142.99,142.99,.01,1,1,0)
142.99^B
"^DD",142.99,142.99,.01,1,1,1)
S ^GMT(142.99,"B",$E(X,1,30),DA)=""
"^DD",142.99,142.99,.01,1,1,2)
K ^GMT(142.99,"B",$E(X,1,30),DA)
"^DD",142.99,142.99,.01,3)
NAME MUST BE HOSPITAL
"^DD",142.99,142.99,.01,21,0)
^^3^3^2920914^
"^DD",142.99,142.99,.01,21,1,0)
This is the name of the entry in the Health Summary parameters file.
"^DD",142.99,142.99,.01,21,2,0)
The input transform will restrict entry to one record only, which must
"^DD",142.99,142.99,.01,21,3,0)
be named "HOSPITAL."
"^DD",142.99,142.99,.01,"DT")
2920427
"^DD",142.99,142.99,.02,0)
PROMPT FOR ACTION PROFILE^S^Y:yes;N:no;^0;2^Q
"^DD",142.99,142.99,.02,3)
Enter YES if you'd like users to be prompted to print Action Profiles
"^DD",142.99,142.99,.02,21,0)
^^3^3^2951006^^^
"^DD",142.99,142.99,.02,21,1,0)
If this parameter is set to Y or YES, the user will be prompted to include
"^DD",142.99,142.99,.02,21,2,0)
the Outpatient Pharmacy Action Profile when printing Health Summaries by
"^DD",142.99,142.99,.02,21,3,0)
location (both interactive and batch mode) and by patient.
"^DD",142.99,142.99,.02,"DT")
2951006
"^DD",142.99,142.99,.03,0)
INCLUDE COMMENTS FOR LABS^S^Y:yes;N:no;^0;3^Q
"^DD",142.99,142.99,.03,3)
Enter YES if comments should appear in Chemistry and Hematology, Lab Tests Selected, and Lab Cumulative Selected components
"^DD",142.99,142.99,.03,21,0)
^^13^13^2951006^
"^DD",142.99,142.99,.03,21,1,0)
If this parameter is set to Y or YES, the Chemistry & Hematology, the Lab
"^DD",142.99,142.99,.03,21,2,0)
Tests Selected and the Lab Cumulative Selected components will present
"^DD",142.99,142.99,.03,21,3,0)
comments for results. For the Chemistry & Hematology and the Lab Tests
"^DD",142.99,142.99,.03,21,4,0)
Selected components the comments will be displayed immediately following
"^DD",142.99,142.99,.03,21,5,0)
the results. For the Lab Cumulative Selected components a lower case
"^DD",142.99,142.99,.03,21,6,0)
letter will be displayed to the left of the date for entries with
"^DD",142.99,142.99,.03,21,7,0)
comments. Comments will be displayed after all the results are displayed
"^DD",142.99,142.99,.03,21,8,0)
with the comments being linked by the lower case letter. Up to 26 comments
"^DD",142.99,142.99,.03,21,9,0)
can be included. 
"^DD",142.99,142.99,.03,21,10,0)
 
"^DD",142.99,142.99,.03,21,11,0)
If blank, N or NO, the Chemistry & Hematology and the Lab Tests Selected
"^DD",142.99,142.99,.03,21,12,0)
components will present the symbol "!!" next to tests which include
"^DD",142.99,142.99,.03,21,13,0)
comments, and a footnote referring the user to the Lab Interim Report.
"^DD",142.99,142.99,.03,"DT")
2951006
"^DD",142.99,142.99,.04,0)
SPOOL DEVICE^*P3.5'^%ZIS(1,^0;4^S DIC("S")="I $P($G(^(""TYPE"")),U)=""SPL""" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",142.99,142.99,.04,3)
Enter a SPOOL DEVICE NAME for Health Summary-PDX interface.
"^DD",142.99,142.99,.04,12)
Only allow device type of SPOOL to be chosen.
"^DD",142.99,142.99,.04,12.1)
S DIC("S")="I $P($G(^(""TYPE"")),U)=""SPL"""
"^DD",142.99,142.99,.04,21,0)
^^2^2^2950815^
"^DD",142.99,142.99,.04,21,1,0)
This is the SPOOL DEVICE to which Health Summary output can be directed
"^DD",142.99,142.99,.04,21,2,0)
during a PDX request for one or more Health Summary Components.
"^DD",142.99,142.99,.04,"DT")
2950815
"^DD",142.99,142.99,.05,0)
INCLUDE BAR CODES ON ACT PROF^S^Y:yes;N:no;^0;5^Q
"^DD",142.99,142.99,.05,.1)
INCLUDE BAR CODES ON ACTION PROFILES
"^DD",142.99,142.99,.05,3)
Enter YES to include bar codes when Action Profiles are printed by Health Summary.
"^DD",142.99,142.99,.05,21,0)
^.001^2^2^3091201^^
"^DD",142.99,142.99,.05,21,1,0)
If this parameter is set to YES or YES, Bar Codes will be included when
"^DD",142.99,142.99,.05,21,2,0)
Outpatient Pharmacy Action Profiles are printed from Health Summary.
"^DD",142.99,142.99,.05,"DT")
2951006
"^DD",142.99,142.99,.06,0)
ERROR MESSAGE RECIPIENT^V^^0;6^
"^DD",142.99,142.99,.06,3)
Answer must be 1-25 characters in length
"^DD",142.99,142.99,.06,21,0)
^^4^4^3050126^
"^DD",142.99,142.99,.06,21,1,0)
This is the user or mail group that will recieve error messages from the 
"^DD",142.99,142.99,.06,21,2,0)
Health Summary Package when they are sent.  Instances of when error 
"^DD",142.99,142.99,.06,21,3,0)
messages are sent would be when a tasked batch print job needs to exit 
"^DD",142.99,142.99,.06,21,4,0)
without producing a report.
"^DD",142.99,142.99,.06,"DT")
3061019
"^DD",142.99,142.99,.06,"V",0)
^.12P^^2
"^DD",142.99,142.99,.06,"V",1,0)
200^NEW PERSON^1^P^n^n
"^DD",142.99,142.99,.06,"V",1,1)

"^DD",142.99,142.99,.06,"V",1,2)

"^DD",142.99,142.99,.06,"V",2,0)
3.8^MAIL GROUP^2^G^n^n
"^DD",142.99,142.99,.06,"V",2,1)

"^DD",142.99,142.99,.06,"V",2,2)

"^DD",142.99,142.99,.07,0)
SHORT HS BY LOC COVERS^S^N:No;Y:Yes;^0;7^Q
"^DD",142.99,142.99,.07,.1)
SHORT HS BY LOCATION COVERS
"^DD",142.99,142.99,.07,3)
Enter 'Y'(Yes) if you would like the name of each location to print only once on the cover page of the Hospital Location Health Summary report.
"^DD",142.99,142.99,.07,21,0)
^^6^6^3091214^^
"^DD",142.99,142.99,.07,21,1,0)
This parameter is to be used in conjunction with the Hospital Location 
"^DD",142.99,142.99,.07,21,2,0)
Health Summary [GMTS HS BY LOC] report to shorten the cover page for each 
"^DD",142.99,142.99,.07,21,3,0)
location.  When printing in standard Letter (8.5 x 11) format, the name 
"^DD",142.99,142.99,.07,21,4,0)
of the hospital location is printed six times which results in an 
"^DD",142.99,142.99,.07,21,5,0)
overflow onto the next page.  If this parameter is set to 'Y' the name 
"^DD",142.99,142.99,.07,21,6,0)
will only print one time, thus saving paper.
"^DD",142.99,142.99,.07,"DT")
3110817
"^DIC",142.99,142.99,0)
HEALTH SUMMARY PARAMETERS^142.99
"^DIC",142.99,142.99,0,"GL")
^GMT(142.99,
"^DIC",142.99,142.99,"%",0)
^1.005^^0
"^DIC",142.99,142.99,"%D",0)
^^2^2^2950804^^^^
"^DIC",142.99,142.99,"%D",1,0)
This file contains any site parameters which may apply to the Health
"^DIC",142.99,142.99,"%D",2,0)
Summary package.
"^DIC",142.99,"B","HEALTH SUMMARY PARAMETERS",142.99)

"BLD",8783,6)
^91
**END**
**END**
