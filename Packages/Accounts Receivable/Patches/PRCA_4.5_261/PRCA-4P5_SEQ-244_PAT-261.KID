Released PRCA*4.5*261 SEQ #244
Extracted from mail message
**KIDS**:PRCA*4.5*261^

**INSTALL NAME**
PRCA*4.5*261
"BLD",8109,0)
PRCA*4.5*261^ACCOUNTS RECEIVABLE^0^3100923^y
"BLD",8109,1,0)
^^3^3^3100923^
"BLD",8109,1,1,0)
This patch will fix a line tag with a wrong routine name when queuing an 
"BLD",8109,1,2,0)
AR - Print ERA Discrepancy Report from the EEOB Worklist [RCDPE EDI 
"BLD",8109,1,3,0)
LOCKBOX WORKLIST].
"BLD",8109,4,0)
^9.64PA^^
"BLD",8109,6.3)
2
"BLD",8109,"ABPKG")
n
"BLD",8109,"KRN",0)
^9.67PA^779.2^20
"BLD",8109,"KRN",.4,0)
.4
"BLD",8109,"KRN",.401,0)
.401
"BLD",8109,"KRN",.402,0)
.402
"BLD",8109,"KRN",.403,0)
.403
"BLD",8109,"KRN",.5,0)
.5
"BLD",8109,"KRN",.84,0)
.84
"BLD",8109,"KRN",3.6,0)
3.6
"BLD",8109,"KRN",3.8,0)
3.8
"BLD",8109,"KRN",9.2,0)
9.2
"BLD",8109,"KRN",9.8,0)
9.8
"BLD",8109,"KRN",9.8,"NM",0)
^9.68A^2^1
"BLD",8109,"KRN",9.8,"NM",2,0)
RCDPEV0^^0^B24403974
"BLD",8109,"KRN",9.8,"NM","B","RCDPEV0",2)

"BLD",8109,"KRN",19,0)
19
"BLD",8109,"KRN",19.1,0)
19.1
"BLD",8109,"KRN",101,0)
101
"BLD",8109,"KRN",409.61,0)
409.61
"BLD",8109,"KRN",771,0)
771
"BLD",8109,"KRN",779.2,0)
779.2
"BLD",8109,"KRN",870,0)
870
"BLD",8109,"KRN",8989.51,0)
8989.51
"BLD",8109,"KRN",8989.52,0)
8989.52
"BLD",8109,"KRN",8994,0)
8994
"BLD",8109,"KRN","B",.4,.4)

"BLD",8109,"KRN","B",.401,.401)

"BLD",8109,"KRN","B",.402,.402)

"BLD",8109,"KRN","B",.403,.403)

"BLD",8109,"KRN","B",.5,.5)

"BLD",8109,"KRN","B",.84,.84)

"BLD",8109,"KRN","B",3.6,3.6)

"BLD",8109,"KRN","B",3.8,3.8)

"BLD",8109,"KRN","B",9.2,9.2)

"BLD",8109,"KRN","B",9.8,9.8)

"BLD",8109,"KRN","B",19,19)

"BLD",8109,"KRN","B",19.1,19.1)

"BLD",8109,"KRN","B",101,101)

"BLD",8109,"KRN","B",409.61,409.61)

"BLD",8109,"KRN","B",771,771)

"BLD",8109,"KRN","B",779.2,779.2)

"BLD",8109,"KRN","B",870,870)

"BLD",8109,"KRN","B",8989.51,8989.51)

"BLD",8109,"KRN","B",8989.52,8989.52)

"BLD",8109,"KRN","B",8994,8994)

"BLD",8109,"QDEF")
^^^^NO^^^^NO^^YES
"BLD",8109,"QUES",0)
^9.62^^
"BLD",8109,"REQB",0)
^9.611^2^1
"BLD",8109,"REQB",2,0)
PRCA*4.5*208^1
"BLD",8109,"REQB","B","PRCA*4.5*208",2)

"MBREQ")
0
"PKG",142,-1)
1^1
"PKG",142,0)
ACCOUNTS RECEIVABLE^PRCA^BILL COLLECTIONS
"PKG",142,20,0)
^9.402P^1^1
"PKG",142,20,1,0)
2^^PRCAMRG
"PKG",142,20,1,1)

"PKG",142,20,"B",2,1)

"PKG",142,22,0)
^9.49I^1^1
"PKG",142,22,1,0)
4.5^^2950320
"PKG",142,22,1,"PAH",1,0)
261^3100923
"PKG",142,22,1,"PAH",1,1,0)
^^3^3^3100923
"PKG",142,22,1,"PAH",1,1,1,0)
This patch will fix a line tag with a wrong routine name when queuing an 
"PKG",142,22,1,"PAH",1,1,2,0)
AR - Print ERA Discrepancy Report from the EEOB Worklist [RCDPE EDI 
"PKG",142,22,1,"PAH",1,1,3,0)
LOCKBOX WORKLIST].
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","RCDPEV0")
0^2^B24403974^B24399353
"RTN","RCDPEV0",1,0)
RCDPEV0 ;ALB/TMK - EDI LOCKBOX WORKLIST VERIFY PAYMENTS ;18-FEB-04
"RTN","RCDPEV0",2,0)
 ;;4.5;Accounts Receivable;**208,261**;Mar 20, 1995;Build 2
"RTN","RCDPEV0",3,0)
 ;;Per VHA Directive 2004-038, this routine should not be modified.
"RTN","RCDPEV0",4,0)
 Q
"RTN","RCDPEV0",5,0)
 ;
"RTN","RCDPEV0",6,0)
RPT(RCSCR) ; Print/display discrepancy report
"RTN","RCDPEV0",7,0)
 D FULL^VALM1
"RTN","RCDPEV0",8,0)
 N %ZIS,ZTRTN,ZTSAVE,ZTDESC,POP
"RTN","RCDPEV0",9,0)
 S %ZIS="QM" D ^%ZIS G:POP RPTQ
"RTN","RCDPEV0",10,0)
 I $D(IO("Q")) D  G RPTQ
"RTN","RCDPEV0",11,0)
 . S ZTRTN="DISRPT^RCDPEV0("_RCSCR_","_+$G(^TMP("RCBATCH_SELECTED",$J))_")",ZTDESC="AR - Print ERA Discrepancy Report From Worklist"
"RTN","RCDPEV0",12,0)
 . D ^%ZTLOAD
"RTN","RCDPEV0",13,0)
 . W !!,$S($D(ZTSK):"Your task number"_ZTSK_" has been queued.",1:"Unable to queue this job.")
"RTN","RCDPEV0",14,0)
 . K ZTSK,IO("Q") D HOME^%ZIS
"RTN","RCDPEV0",15,0)
 U IO
"RTN","RCDPEV0",16,0)
 D DISRPT(RCSCR,+$G(^TMP("RCBATCH_SELECTED",$J)))
"RTN","RCDPEV0",17,0)
RPTQ Q
"RTN","RCDPEV0",18,0)
 ;
"RTN","RCDPEV0",19,0)
DISRPT(RCSCR,RCBATCH) ; Queued job entrypoint
"RTN","RCDPEV0",20,0)
 ; RCSCR = the ien of the entry in file 344.49
"RTN","RCDPEV0",21,0)
 ; RCBATCH = the # of the batch within the ERA.  If all batches, this is null
"RTN","RCDPEV0",22,0)
 N X,Z,Z0,RC3444,RCSTOP,RCPG,RCANY,RCZ,RCZ0,RCZ1,SPLIT,SSN,AMT1,AMT2,RCBILL,RESULT,DTFR1,DTFR2,DTTO1,DTTO2
"RTN","RCDPEV0",23,0)
 S (RCSTOP,RCPG,RCANY)=0
"RTN","RCDPEV0",24,0)
 S RCZ=0 F  S RCZ=$O(^RCY(344.49,RCSCR,1,"ANV",0,RCZ)) Q:'RCZ  D  Q:RCSTOP
"RTN","RCDPEV0",25,0)
 . I $D(ZTQUEUED),$$S^%ZTLOAD S (RCSTOP,ZTSTOP)=1 K ZTREQ W:+$G(RCPG) !,"***TASK STOPPED BY USER***" Q
"RTN","RCDPEV0",26,0)
 . S RCZ0=$G(^RCY(344.49,RCSCR,1,RCZ,0))
"RTN","RCDPEV0",27,0)
 . Q:'$D(^RCY(344.49,RCSCR,1,"ASEQ",+RCZ0,RCZ))  ; Not top level
"RTN","RCDPEV0",28,0)
 . Q:RCZ0=""
"RTN","RCDPEV0",29,0)
 . I $G(RCBATCH),$P(RCZ0,U,14)'=RCBATCH Q  ; Not in the batch
"RTN","RCDPEV0",30,0)
 . S RCANY=1
"RTN","RCDPEV0",31,0)
 . S SPLIT=(+$O(^RCY(344.49,RCSCR,1,"B",+RCZ0_".9999"),-1)'=(+RCZ0_".001"))
"RTN","RCDPEV0",32,0)
 . S RC3444=$G(^RCY(344.4,RCSCR,1,+$P(RCZ0,U,9),0))
"RTN","RCDPEV0",33,0)
 . S RCBILL=+$G(^IBM(361.1,+$P(RC3444,U,2),0))
"RTN","RCDPEV0",34,0)
 . S RESULT=$$VER^RCDPEV(RCSCR,RCBILL,+$P(RCZ0,U,9),1)
"RTN","RCDPEV0",35,0)
 . S AMT1=$S($E($P(RESULT,U,5))="*":"*",1:"")_$S($TR($P(RESULT,U,5),"*")="":"NO DATA",1:$J($TR($P(RESULT,U,5),"*"),"",2))
"RTN","RCDPEV0",36,0)
 . S AMT2=$S($E($P(RESULT,U,4))="*":"*",1:"")_$S($TR($P(RESULT,U,4),"*")="":"NO DATA",1:$J($TR($P(RESULT,U,4),"*"),"",2))
"RTN","RCDPEV0",37,0)
 . S DTFR1=$S($TR($P(RESULT,U,7),"*")="":"",1:$S($E($P(RESULT,U,7))="*":"*",1:"")_$$FMTE^XLFDT($TR($P(RESULT,U,7),"*"),"2D"))
"RTN","RCDPEV0",38,0)
 . S DTFR2=$S($TR($P(RESULT,U,6),"*")="":"",1:$S($E($P(RESULT,U,6))="*":"*",1:"")_$$FMTE^XLFDT($TR($P(RESULT,U,6),"*"),"2D"))
"RTN","RCDPEV0",39,0)
 . S DTTO1=$S($TR($P(RESULT,U,9),"*")="":"",1:$S($E($P(RESULT,U,9))="*":"*",1:"")_$$FMTE^XLFDT($TR($P(RESULT,U,9),"*"),"2D"))
"RTN","RCDPEV0",40,0)
 . S DTTO2=$S($TR($P(RESULT,U,8),"*")="":"",1:$S($E($P(RESULT,U,8))="*":"*",1:"")_$$FMTE^XLFDT($TR($P(RESULT,U,8),"*"),"2D"))
"RTN","RCDPEV0",41,0)
 . S X="EEOB Sequence #(s) on the ERA: "_$P(RCZ0,U,9)_"  "_$S($P(RC3444,U,5)'="":$P(RC3444,U,5),$P(RC3444,U,17)'="":$P(RC3444,U,17),$G(RCBILL):$P($G(^DGCR(399,+RCBILL,0)),U),1:"")
"RTN","RCDPEV0",42,0)
 . I ($Y+7)>IOSL!'RCPG D HDR(.RCPG,RCSCR,$G(RCBATCH),.RCSTOP) Q:RCSTOP
"RTN","RCDPEV0",43,0)
 . W !!,X
"RTN","RCDPEV0",44,0)
 . I ($Y+5)>IOSL D HDR(.RCPG,RCSCR,$G(RCBATCH),.RCSTOP) Q:RCSTOP
"RTN","RCDPEV0",45,0)
 . S X="VistA: ",SSN=$P(RESULT,U,10),SSN=$E($E(SSN,$L(SSN)-3,$L(SSN))_$J("",4),1,4)
"RTN","RCDPEV0",46,0)
 . S X=X_$S('RCBILL:"NOT RELATED TO A VistA BILL",1:$E($P(RESULT,U,2)_$J("",30),1,30)_" "_SSN_"  "_$E(AMT2_$J("",15),1,15)_"  "_$E($S(DTFR2="":"NO DATA",1:DTFR2)_$J("",9),1,9)_"-"_$S(DTTO2'="":DTTO2,1:"NO DATA"))
"RTN","RCDPEV0",47,0)
 . W !,X
"RTN","RCDPEV0",48,0)
 . S X="  ERA: "_$E($P(RESULT,U,3)_$J("",30),1,30)_$J("",7)_$E(AMT1_$J("",15),1,15)_"  "_$E($S(DTFR1="":"NO DATA",1:DTFR1)_$J("",9),1,9)_"-"_$S(DTTO1'="":DTTO1,1:"NO DATA")
"RTN","RCDPEV0",49,0)
 . W !,X
"RTN","RCDPEV0",50,0)
 . Q:'SPLIT
"RTN","RCDPEV0",51,0)
 . W !,?9,"<<< THIS EEOB HAS BEEN SPLIT >>>"
"RTN","RCDPEV0",52,0)
 . S RCZ1=+RCZ0 F  S RCZ1=$O(^RCY(344.49,RCSCR,1,"B",RCZ1)) Q:(RCZ1\1)'=+RCZ0!RCSTOP  D
"RTN","RCDPEV0",53,0)
 .. S Z=+$O(^RCY(344.49,RCSCR,1,"B",RCZ1,0))
"RTN","RCDPEV0",54,0)
 .. S Z0=$G(^RCY(344.49,RCSCR,1,Z,0))
"RTN","RCDPEV0",55,0)
 .. I ($Y+5)>IOSL D HDR(.RCPG,RCSCR,$G(RCBATCH),.RCSTOP) Q:RCSTOP
"RTN","RCDPEV0",56,0)
 .. W !,?15,$S($P(Z0,U,7):"",1:"BILL NOT IN VISTA: "),$P(Z0,U,2)_"  "_$J($P(Z0,U,5),"",2)
"RTN","RCDPEV0",57,0)
 . W !
"RTN","RCDPEV0",58,0)
 ;
"RTN","RCDPEV0",59,0)
 I 'RCANY D:'RCPG HDR(.RCPG,RCSCR,$G(RCBATCH),.RCSTOP) W !,"THERE ARE NO UNVERIFIED LINES WITH DISCREPANCIES IN THIS ERA"_$S($G(RCBATCH):" BATCH",1:"")
"RTN","RCDPEV0",60,0)
 I '$D(ZTQUEUED),'RCSTOP,RCPG D ASK()
"RTN","RCDPEV0",61,0)
 I $D(ZTQUEUED) S ZTREQ="@"
"RTN","RCDPEV0",62,0)
 I '$D(ZTQUEUED) D ^%ZISC
"RTN","RCDPEV0",63,0)
 Q
"RTN","RCDPEV0",64,0)
 ;
"RTN","RCDPEV0",65,0)
HDR(RCPG,RCSCR,RCBATCH,RCSTOP) ;Print report hdr
"RTN","RCDPEV0",66,0)
 ; RCPG = last page #
"RTN","RCDPEV0",67,0)
 ; RCSCR = the entry # in file 344.49
"RTN","RCDPEV0",68,0)
 ; RCSTOP = returned as 1 if abort is detected
"RTN","RCDPEV0",69,0)
 N RCZ0
"RTN","RCDPEV0",70,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S (RCSTOP,ZTSTOP)=1 K ZTREQ W:+$G(RCPG) !,"***TASK STOPPED BY USER***" Q
"RTN","RCDPEV0",71,0)
 S RCZ0=$G(^RCY(344.4,RCSCR,0))
"RTN","RCDPEV0",72,0)
 I RCPG&($E(IOST,1,2)="C-") D ASK(.RCSTOP) Q:RCSTOP
"RTN","RCDPEV0",73,0)
 W !,@IOF,*13
"RTN","RCDPEV0",74,0)
 S RCPG=$G(RCPG)+1
"RTN","RCDPEV0",75,0)
 W !,"EDI LBOX WORKLIST - UNVERIFIED LINES DISCREPANCIES REPORT",?59,$$FMTE^XLFDT(DT,2),?70,"Page: ",RCPG,!
"RTN","RCDPEV0",76,0)
 W !,"ERA #: ",RCSCR,?20,$S($O(^RCY(344.49,RCSCR,3,0)):"BATCH: "_$E($S($G(RCBATCH):+RCBATCH,1:"ALL")_$J("",11),1,11),1:$J("",18))_"TRACE #: "_$P(RCZ0,U,2)
"RTN","RCDPEV0",77,0)
 W !,"PAYER: "_$E($P(RCZ0,U,6)_$J("",30),1,30)_"  ERA DT: "_$$FMTE^XLFDT($P(RCZ0,U,4),"2D")
"RTN","RCDPEV0",78,0)
 W !!,?7,"PATIENT NAME"_$J("",25)_"SUBMITTED AMT    SVC DATE(S)"
"RTN","RCDPEV0",79,0)
 W !,"* preceding data = data has discrepancy"
"RTN","RCDPEV0",80,0)
 W !,$TR($J("",IOM)," ","=")
"RTN","RCDPEV0",81,0)
 Q
"RTN","RCDPEV0",82,0)
 ;
"RTN","RCDPEV0",83,0)
ASK(RCSTOP) ; Ask to continue
"RTN","RCDPEV0",84,0)
 ; If passed by reference ,RCSTOP is returned as 1 if print is aborted
"RTN","RCDPEV0",85,0)
 I $E(IOST,1,2)'["C-" Q
"RTN","RCDPEV0",86,0)
 N DIR,DIROUT,DIRUT,DTOUT,DUOUT
"RTN","RCDPEV0",87,0)
 S DIR(0)="E" W ! D ^DIR
"RTN","RCDPEV0",88,0)
 I ($D(DIRUT))!($D(DUOUT)) S RCSTOP=1 Q
"RTN","RCDPEV0",89,0)
 Q
"RTN","RCDPEV0",90,0)
 ;
"VER")
8.0^22.0
"BLD",8109,6)
^244
**END**
**END**
