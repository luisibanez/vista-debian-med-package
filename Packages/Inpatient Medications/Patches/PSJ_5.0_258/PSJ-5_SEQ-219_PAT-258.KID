Released PSJ*5*258 SEQ #219
Extracted from mail message
**KIDS**:PSJ*5.0*258^

**INSTALL NAME**
PSJ*5.0*258
"BLD",8476,0)
PSJ*5.0*258^INPATIENT MEDICATIONS^0^3110906^y
"BLD",8476,1,0)
^^7^7^3110505^
"BLD",8476,1,1,0)
The purpose of this patch is to provide software bug fixes for Inpatient 
"BLD",8476,1,2,0)
Medications.  This patch corrects the following issues:
"BLD",8476,1,3,0)
 
"BLD",8476,1,4,0)
-Undefined Error when Copying an IV Order 
"BLD",8476,1,5,0)
-Pre-Exchange Report Not Printing When Orders Are Renewed
"BLD",8476,1,6,0)
-Can't Copy an IV Order
"BLD",8476,1,7,0)
-Syntax Error When Renewing Multiple Unit Dose Orders
"BLD",8476,4,0)
^9.64PA^^
"BLD",8476,6.3)
3
"BLD",8476,"KRN",0)
^9.67PA^779.2^20
"BLD",8476,"KRN",.4,0)
.4
"BLD",8476,"KRN",.401,0)
.401
"BLD",8476,"KRN",.402,0)
.402
"BLD",8476,"KRN",.403,0)
.403
"BLD",8476,"KRN",.5,0)
.5
"BLD",8476,"KRN",.84,0)
.84
"BLD",8476,"KRN",3.6,0)
3.6
"BLD",8476,"KRN",3.8,0)
3.8
"BLD",8476,"KRN",9.2,0)
9.2
"BLD",8476,"KRN",9.8,0)
9.8
"BLD",8476,"KRN",9.8,"NM",0)
^9.68A^4^4
"BLD",8476,"KRN",9.8,"NM",1,0)
PSIVOPT1^^0^B43461784
"BLD",8476,"KRN",9.8,"NM",2,0)
PSIVOPT2^^0^B36639315
"BLD",8476,"KRN",9.8,"NM",3,0)
PSIVORFE^^0^B12567684
"BLD",8476,"KRN",9.8,"NM",4,0)
PSJHVARS^^0^B74222254
"BLD",8476,"KRN",9.8,"NM","B","PSIVOPT1",1)

"BLD",8476,"KRN",9.8,"NM","B","PSIVOPT2",2)

"BLD",8476,"KRN",9.8,"NM","B","PSIVORFE",3)

"BLD",8476,"KRN",9.8,"NM","B","PSJHVARS",4)

"BLD",8476,"KRN",19,0)
19
"BLD",8476,"KRN",19.1,0)
19.1
"BLD",8476,"KRN",101,0)
101
"BLD",8476,"KRN",409.61,0)
409.61
"BLD",8476,"KRN",771,0)
771
"BLD",8476,"KRN",779.2,0)
779.2
"BLD",8476,"KRN",870,0)
870
"BLD",8476,"KRN",8989.51,0)
8989.51
"BLD",8476,"KRN",8989.52,0)
8989.52
"BLD",8476,"KRN",8994,0)
8994
"BLD",8476,"KRN","B",.4,.4)

"BLD",8476,"KRN","B",.401,.401)

"BLD",8476,"KRN","B",.402,.402)

"BLD",8476,"KRN","B",.403,.403)

"BLD",8476,"KRN","B",.5,.5)

"BLD",8476,"KRN","B",.84,.84)

"BLD",8476,"KRN","B",3.6,3.6)

"BLD",8476,"KRN","B",3.8,3.8)

"BLD",8476,"KRN","B",9.2,9.2)

"BLD",8476,"KRN","B",9.8,9.8)

"BLD",8476,"KRN","B",19,19)

"BLD",8476,"KRN","B",19.1,19.1)

"BLD",8476,"KRN","B",101,101)

"BLD",8476,"KRN","B",409.61,409.61)

"BLD",8476,"KRN","B",771,771)

"BLD",8476,"KRN","B",779.2,779.2)

"BLD",8476,"KRN","B",870,870)

"BLD",8476,"KRN","B",8989.51,8989.51)

"BLD",8476,"KRN","B",8989.52,8989.52)

"BLD",8476,"KRN","B",8994,8994)

"BLD",8476,"QUES",0)
^9.62^^
"BLD",8476,"REQB",0)
^9.611^1^1
"BLD",8476,"REQB",1,0)
PSJ*5.0*181^2
"BLD",8476,"REQB","B","PSJ*5.0*181",1)

"MBREQ")
0
"PKG",221,-1)
1^1
"PKG",221,0)
INPATIENT MEDICATIONS^PSJ^UNIT DOSE AND IVS
"PKG",221,22,0)
^9.49I^1^1
"PKG",221,22,1,0)
5.0^2971215^2981113^1
"PKG",221,22,1,"PAH",1,0)
258^3110906
"PKG",221,22,1,"PAH",1,1,0)
^^7^7^3110906
"PKG",221,22,1,"PAH",1,1,1,0)
The purpose of this patch is to provide software bug fixes for Inpatient 
"PKG",221,22,1,"PAH",1,1,2,0)
Medications.  This patch corrects the following issues:
"PKG",221,22,1,"PAH",1,1,3,0)
 
"PKG",221,22,1,"PAH",1,1,4,0)
-Undefined Error when Copying an IV Order 
"PKG",221,22,1,"PAH",1,1,5,0)
-Pre-Exchange Report Not Printing When Orders Are Renewed
"PKG",221,22,1,"PAH",1,1,6,0)
-Can't Copy an IV Order
"PKG",221,22,1,"PAH",1,1,7,0)
-Syntax Error When Renewing Multiple Unit Dose Orders
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
4
"RTN","PSIVOPT1")
0^1^B43461784^B44616556
"RTN","PSIVOPT1",1,0)
PSIVOPT1 ;BIR/MLM-EDIT/DC ORDER (BACKDOOR) ;22 OCT 97 / 3:14 PM
"RTN","PSIVOPT1",2,0)
 ;;5.0;INPATIENT MEDICATIONS ;**29,58,101,110,127,181,258**;16 DEC 97;Build 3
"RTN","PSIVOPT1",3,0)
 ;
"RTN","PSIVOPT1",4,0)
 ; Reference to ^PS(55 is supported by DBIA 2191
"RTN","PSIVOPT1",5,0)
 ; Reference to ^PSSLOCK is supported by DBIA #2789
"RTN","PSIVOPT1",6,0)
 ;
"RTN","PSIVOPT1",7,0)
E ; Edit order through Pharmacy.
"RTN","PSIVOPT1",8,0)
 D GSTRING^PSIVORE1,GTFLDS^PSIVORFE
"RTN","PSIVOPT1",9,0)
 I '$G(PSIVENO) S PSIVENO=1 D EN^VALM("PSJ LM IV AC/EDIT") S VALMBCK="Q"
"RTN","PSIVOPT1",10,0)
 Q
"RTN","PSIVOPT1",11,0)
ACCEPT ; To be called by ACCEPT^PSJLIACT
"RTN","PSIVOPT1",12,0)
 NEW PSIVDSFG
"RTN","PSIVOPT1",13,0)
 ;I '$G(PSJEDIT1) D CKNEW I PSIVCHG D
"RTN","PSIVOPT1",14,0)
 D CKNEW
"RTN","PSIVOPT1",15,0)
 D:'$G(PSGORQF) DOSING
"RTN","PSIVOPT1",16,0)
 Q:$G(PSGORQF)
"RTN","PSIVOPT1",17,0)
 ;Don't create new order if Inf rate changed not supposed too set PSIVCHG=1
"RTN","PSIVOPT1",18,0)
 I PSIVCHG,'$G(PSJEDIT1) D
"RTN","PSIVOPT1",19,0)
 .S P("OLDON")=ON55,Y=$G(^PS(55,DFN,"IV",+ON55,0)) D NOW^%DTC S P("LOG")=$E(%,1,12)
"RTN","PSIVOPT1",20,0)
 .S P("CLRK")=DUZ_U_$P($G(^VA(200,DUZ,0)),U)
"RTN","PSIVOPT1",21,0)
 .I $G(PSGSDX)!$G(PSGFDX) Q
"RTN","PSIVOPT1",22,0)
 .I $P(Y,U,2)=P(2),$P(Y,U,3)=P(3) D ENT^PSIVCAL S X=P(2),%DT="T" D ^%DT S P(2)=$E(Y,1,12),PSJEDIT1=1 D ENSTOP^PSIVCAL
"RTN","PSIVOPT1",23,0)
 I $G(PSGORQF) S VALMBCK="Q" W !,"Order unchanged." D PAUSE^PSJMISC(1,) Q
"RTN","PSIVOPT1",24,0)
 D OK^PSIVOPT2
"RTN","PSIVOPT1",25,0)
 I X["N" S VALMBCK="R" Q
"RTN","PSIVOPT1",26,0)
 I X["^" D GT55^PSIVORFB W !,"Order unchanged." Q
"RTN","PSIVOPT1",27,0)
 ;;I $G(P(21))]"" D CKNEW,@$S(PSIVCHG:"NEWORD",1:"UPDATE") Q:$D(X)
"RTN","PSIVOPT1",28,0)
 I $G(P("21FLG"))]"" D CKNEW,@$S(PSIVCHG:"NEWORD",1:"UPDATE") Q:$D(X)
"RTN","PSIVOPT1",29,0)
 ;;S PSJORL=$$ENORL^PSJUTL($G(VAIN(4))) S ON=ON55,OD=P(2) D EN^PSIVORE,^PSIVORE1
"RTN","PSIVOPT1",30,0)
 S PSJORL=$$ENORL^PSJUTL($G(VAIN(4))) S ON=ON55,OD=P(2)
"RTN","PSIVOPT1",31,0)
 ;D:ON["V" EN^PSIVORE,^PSIVORE1
"RTN","PSIVOPT1",32,0)
 D:ON["V" EN^PSIVORE
"RTN","PSIVOPT1",33,0)
 ;;I $G(PSJIVORF),PSIVCHG D EN1^PSJHL2(DFN,"SN",+ON55_"V","NEW ORDER") NEW PSIVXX S PSIVXX=$$LS^PSSLOCK(DFN,+ON55_"V")
"RTN","PSIVOPT1",34,0)
 I $G(PSJIVORF),PSIVCHG D EN1^PSJHL2(DFN,"SN",ON55,"NEW ORDER") NEW PSIVXX S PSIVXX=$$LS^PSSLOCK(DFN,ON55)
"RTN","PSIVOPT1",35,0)
 S PSIVACEP=1
"RTN","PSIVOPT1",36,0)
 Q
"RTN","PSIVOPT1",37,0)
 ;
"RTN","PSIVOPT1",38,0)
DOSING ;
"RTN","PSIVOPT1",39,0)
 NEW TMPDRG
"RTN","PSIVOPT1",40,0)
 ;PSIVDSFG is set when changes to fields (except Schedule for continuous IV type) that caused a new order to create.
"RTN","PSIVOPT1",41,0)
 D TMPDRG^PSJMISC(DFN,$G(ON55),.TMPDRG)
"RTN","PSIVOPT1",42,0)
 I $S($G(PSIVDSFG):0,$G(PSIVCHG):1,1:0)!$$COMPARE^PSJMISC(.DRG,.TMPDRG,$S(P("DTYP")=1:0,1:1))!$$INFRATE^PSJMISC(DFN,ON55,P(8),P("DTYP")) D
"RTN","PSIVOPT1",43,0)
 . D IN^PSJOCDS($G(ON),"IV","")
"RTN","PSIVOPT1",44,0)
 I $G(PSGORQF) S VALMBCK="Q"
"RTN","PSIVOPT1",45,0)
 Q
"RTN","PSIVOPT1",46,0)
CKNEW ; Check if new order is to be created.
"RTN","PSIVOPT1",47,0)
 N DNE,ND,TDRG,PSJCHG,TMPDRG S (DNE,PSIVCHG,PSIVDSFG)=0
"RTN","PSIVOPT1",48,0)
 Q:PSIVCHG
"RTN","PSIVOPT1",49,0)
 D TMPDRG^PSJMISC(DFN,$G(ON55),.TMPDRG)
"RTN","PSIVOPT1",50,0)
 I $$COMPARE^PSJMISC(.DRG,.TMPDRG,$S(P("DTYP")=1:0,1:1)) S PSIVCHG=1
"RTN","PSIVOPT1",51,0)
 K TMPDRG
"RTN","PSIVOPT1",52,0)
 Q:PSIVCHG
"RTN","PSIVOPT1",53,0)
 F DRGT="AD","SOL" F DRGI=0:0 S DRGI=$O(DRG(DRGT,DRGI)) Q:'DRGI  I $P(P("OT"),U)="F",'$P(DRG(DRGT,DRGI),U,5) S P("OT")="I"
"RTN","PSIVOPT1",54,0)
 ;I $G(DRG("AD",0))+$S(P("DTYP")=1:0,1:+$G(DRG("SOL",0)))'=DRG("DRGC") S PSIVCHG=1 Q
"RTN","PSIVOPT1",55,0)
 S ND(0)=$G(^PS(55,DFN,"IV",+ON55,0)),ND("PD")=$G(^PS(55,DFN,"IV",+ON55,.2))
"RTN","PSIVOPT1",56,0)
 N X S X=$S($P(ND(0),U,8)["@":$P($P(ND(0),U,8),"@"),1:$P(ND(0),U,8))
"RTN","PSIVOPT1",57,0)
 S ND=$S($E(P("OT"))="I":$P(ND("PD"),U,1,2)_U,1:"")_$P(ND("PD"),U,3)_U_$S($E(P("OT"))'="I":X_U,1:"")_+$P(ND(0),U,6)_U_$P(ND(0),U,2)_U_$P(ND(0),U,3)
"RTN","PSIVOPT1",58,0)
 S:ND'=($S($E(P("OT"))="I":+P("PD")_U_$G(P("DO"))_U,1:"")_+P("MR")_U_$S($E(P("OT"))'="I":$S(P(8)["@":$P(P(8),"@"),1:P(8))_U,1:"")_+P(6)_U_P(2)_U_P(3)) PSIVCHG=1
"RTN","PSIVOPT1",59,0)
 I 'PSIVCHG I $P(ND(0),U,9)'=P(9) S:(P("DTYP")'=1) PSIVDSFG=1 S PSIVCHG=1
"RTN","PSIVOPT1",60,0)
 ;S ND=$S($E(P("OT"))="I":$P(ND("PD"),U,1,2)_U,1:"")_$P(ND("PD"),U,3)_U_$S($E(P("OT"))'="I":X_U,1:"")_+$P(ND(0),U,6)_U_$P(ND(0),U,2)_U_$P(ND(0),U,3)_U_$P(ND(0),U,9)
"RTN","PSIVOPT1",61,0)
 ;S:ND'=($S($E(P("OT"))="I":+P("PD")_U_$G(P("DO"))_U,1:"")_+P("MR")_U_$S($E(P("OT"))'="I":$S(P(8)["@":$P(P(8),"@"),1:P(8))_U,1:"")_+P(6)_U_P(2)_U_P(3)_U_P(9)) PSIVCHG=1
"RTN","PSIVOPT1",62,0)
 ;* S ND=$S($E(P("OT"))="I":$P(ND("PD"),U,1,2)_U,1:"")_$P(ND("PD"),U,3)_U_$S($E(P("OT"))'="I":$P(ND(0),U,8)_U,1:"")_+$P(ND(0),U,6)_U_$P(ND(0),U,2)_U_$P(ND(0),U,3)_U_$P(ND(0),U,9)
"RTN","PSIVOPT1",63,0)
 ;* S:ND'=($S($E(P("OT"))="I":+P("PD")_U_$G(P("DO"))_U,1:"")_+P("MR")_U_$S($E(P("OT"))'="I":P(8)_U,1:"")_+P(6)_U_P(2)_U_P(3)_U_P(9)) PSIVCHG=1
"RTN","PSIVOPT1",64,0)
 Q
"RTN","PSIVOPT1",65,0)
 ;
"RTN","PSIVOPT1",66,0)
UPDATE ; Update original order.
"RTN","PSIVOPT1",67,0)
 S PSIVALT=1,PSIVALCK="EN",PSIVREA="E",ON=ON55 K P("OLDON") D LOG^PSIVORAL
"RTN","PSIVOPT1",68,0)
 D SET55^PSIVORFB,ENLBL^PSIVOPT(2,DUZ,DFN,3,+ON55,"E")
"RTN","PSIVOPT1",69,0)
 D:'$D(PSJIVORF) ORPARM^PSIVOREN K X Q:'PSJIVORF
"RTN","PSIVOPT1",70,0)
 S PSJORIFN=$P($G(^PS(55,DFN,"IV",+ON55,0)),U,21) Q:'PSJORIFN
"RTN","PSIVOPT1",71,0)
 S P("NAT")=""
"RTN","PSIVOPT1",72,0)
 D EN1^PSJHL2(DFN,"XX",+ON55_"V","UPDATED ORDER")
"RTN","PSIVOPT1",73,0)
 K X
"RTN","PSIVOPT1",74,0)
 Q
"RTN","PSIVOPT1",75,0)
 ;
"RTN","PSIVOPT1",76,0)
NEWORD ; DC orig. order, get new order no.
"RTN","PSIVOPT1",77,0)
 D:'$D(PSJIVORF) ORPARM^PSIVOREN I PSJIVORF D NATURE^PSIVOREN I '$D(P("NAT")) S X=1 W !,"Order unchanged." Q
"RTN","PSIVOPT1",78,0)
 ;;S P("RES")="E",P("OLDON")=ON55,P(16)="" K ON55 D NEW55^PSIVORFB S (P("PON"),P("NEWON"),ON)=ON55,ON55=P("OLDON")
"RTN","PSIVOPT1",79,0)
 S P("RES")="E",P("OLDON")=ON55,P(16)=""
"RTN","PSIVOPT1",80,0)
 Q:$$NONVF()
"RTN","PSIVOPT1",81,0)
 I '($G(PSIVCOPY)=2) K ON55 D NEW55^PSIVORFB
"RTN","PSIVOPT1",82,0)
 S (P("PON"),P("NEWON"),ON)=ON55,ON55=P("OLDON") S:($G(PSIVCOPY)=2) P("OLDON")=""
"RTN","PSIVOPT1",83,0)
 I $P($G(^PS(55,DFN,"IV",+P("OLDON"),0)),U,17)="A" D D1^PSIVOPT2 D
"RTN","PSIVOPT1",84,0)
 . I PSJIVORF,$P($G(^PS(55,DFN,"IV",+ON55,0)),U,21) D EN1^PSJHL2(DFN,"OD",+ON55_"V","ORDER DISCONTINUED")
"RTN","PSIVOPT1",85,0)
 . ;;S P(21)="" W !!,"Original order discontinued...",!!
"RTN","PSIVOPT1",86,0)
 . S P("21FLG")="" W !!,"Original order discontinued...",!!
"RTN","PSIVOPT1",87,0)
 . D UNL^PSSLOCK(DFN,+ON55_"V")
"RTN","PSIVOPT1",88,0)
 F ON55=P("NEWON"),P("OLDON") K DA,DIE,DR D
"RTN","PSIVOPT1",89,0)
 .S DA(1)=DFN,DA=+ON55,DIE="^PS(55,"_DFN_",""IV"",",DR=$S((ON55=P("NEWON")&(+ON55'=+P("OLDON"))):"113////"_P("OLDON")_";122////E",1:"114////"_P("NEWON")_";123////E") D ^DIE
"RTN","PSIVOPT1",90,0)
 .I ON55=P("NEWON") N CLINAPPT S CLINAPPT=$G(^PS(55,DFN,"IV",+P("OLDON"),"DSS")) D
"RTN","PSIVOPT1",91,0)
 ..S:CLINAPPT DR=DR_";136////"_+CLINAPPT S:$P(CLINAPPT,"^",2) DR=DR_";139////"_$P(CLINAPPT,"^",2)
"RTN","PSIVOPT1",92,0)
 .D ^DIE
"RTN","PSIVOPT1",93,0)
 .Q:ON55=P("OLDON")&($P($G(^PS(55,DFN,"IV",+P("OLDON"),0)),U,17)'="D")
"RTN","PSIVOPT1",94,0)
 .D:ON55=P("NEWON") SET55^PSIVORFB
"RTN","PSIVOPT1",95,0)
 .D:ON55=P("NEWON") VF1^PSJLIACT("","",0)
"RTN","PSIVOPT1",96,0)
 .D ENLBL^PSIVOPT(2,DUZ,DFN,3,+ON55,$S(ON55=P("NEWON"):"N",1:"DE"))
"RTN","PSIVOPT1",97,0)
 .S PSIVREA="E",PSIVAL="Order "_$S(ON55=P("OLDON"):"discontinued",1:"created")_" due to edit" S:ON55=P("OLDON") PSIVALCK="STOP" D LOG^PSIVORAL
"RTN","PSIVOPT1",98,0)
 L -^PS(55,DFN,"IV",+P("OLDON")) ;D NEWENT^PSIVORFE
"RTN","PSIVOPT1",99,0)
 K X S ON55=P("NEWON"),P(17)="A" Q:'PSJIVORF  D SET^PSIVORFE
"RTN","PSIVOPT1",100,0)
 Q
"RTN","PSIVOPT1",101,0)
 ;
"RTN","PSIVOPT1",102,0)
NEWSTOP ; Set stop date for DC and renewals.
"RTN","PSIVOPT1",103,0)
 S ND=$G(^PS(55,DFN,"IV",+ON55,0)),Y=+$P(ND,U,3),$P(^PS(55,DFN,"IV",+P("OLDON"),2),U,7)=Y,NSTOP=$S(NSTOP>Y:Y,1:NSTOP),$P(^PS(55,DFN,"IV",+ON55,0),U,3)=NSTOP
"RTN","PSIVOPT1",104,0)
 K DA,DIK S DIK="^PS(55,"_DFN_",""IV"",",DA(1)=DFN,DA=+P("OLDON") D IX^DIK K DA,DIK
"RTN","PSIVOPT1",105,0)
 Q
"RTN","PSIVOPT1",106,0)
NONVF()   ;
"RTN","PSIVOPT1",107,0)
 NEW PSGOEAV S PSGOEAV=+$P(PSJSYSP0,U,9)
"RTN","PSIVOPT1",108,0)
 I +PSJSYSU=3,PSGOEAV Q 0
"RTN","PSIVOPT1",109,0)
 I +PSJSYSU=1,PSGOEAV Q 0
"RTN","PSIVOPT1",110,0)
 K DA D ENGNN^PSGOETO S (ON,P("NEWON"))=DA_"P",P(17)="N"
"RTN","PSIVOPT1",111,0)
 S (P("DO"),P("PD"))=""
"RTN","PSIVOPT1",112,0)
 D GTPD^PSIVORE2,PUT531^PSIVORFA
"RTN","PSIVOPT1",113,0)
 I $P($G(^PS(55,DFN,"IV",+P("OLDON"),0)),U,17)="A" D D1^PSIVOPT2 D
"RTN","PSIVOPT1",114,0)
 . I PSJIVORF,$P($G(^PS(55,DFN,"IV",+P("OLDON"),0)),U,21) D EN1^PSJHL2(DFN,"OD",+ON55_"V","ORDER DISCONTINUED")
"RTN","PSIVOPT1",115,0)
 . S P("21FLG")="" W !!,"Original order discontinued...",!!
"RTN","PSIVOPT1",116,0)
 . D UNL^PSSLOCK(DFN,+P("OLDON")_"V")
"RTN","PSIVOPT1",117,0)
 F ON55=P("NEWON"),P("OLDON") K DA,DIE,DR D
"RTN","PSIVOPT1",118,0)
 . S DA=+ON55
"RTN","PSIVOPT1",119,0)
 . S:ON55=P("NEWON") DIE="^PS(53.1,",DR="104////"_P("OLDON")_";103////E"
"RTN","PSIVOPT1",120,0)
 . S:ON55=P("OLDON") DA(1)=DFN,DIE="^PS(55,"_DFN_",""IV"",",DR="114////"_P("NEWON")_";123////E"
"RTN","PSIVOPT1",121,0)
 . D ^DIE
"RTN","PSIVOPT1",122,0)
 . Q:ON55=P("OLDON")&($P($G(^PS(55,DFN,"IV",+P("OLDON"),0)),U,17)'="D")
"RTN","PSIVOPT1",123,0)
 . I ON55=P("OLDON") D
"RTN","PSIVOPT1",124,0)
 .. D ENLBL^PSIVOPT(2,DUZ,DFN,3,+ON55,$S(ON55=P("NEWON"):"N",1:"DE"))
"RTN","PSIVOPT1",125,0)
 .. S PSIVALT="",PSIVREA="E",PSIVAL="Order discontinued due to edit" S PSIVALCK="STOP" D LOG^PSIVORAL
"RTN","PSIVOPT1",126,0)
 . D:ON55=P("NEWON") NEWNVAL^PSGAL5(ON55,4100,"","")
"RTN","PSIVOPT1",127,0)
 L -^PS(55,DFN,"IV",+P("OLDON"))
"RTN","PSIVOPT1",128,0)
 K X S (ON,ON55)=P("NEWON")
"RTN","PSIVOPT1",129,0)
 D EN1^PSJHL2(DFN,"SN",ON,"ORDER CREATED")
"RTN","PSIVOPT1",130,0)
 S X=$$LS^PSSLOCK(DFN,ON)
"RTN","PSIVOPT1",131,0)
 D GT531^PSIVORFA(DFN,ON)
"RTN","PSIVOPT1",132,0)
 I ON["P" N CLINAPPT S CLINAPPT=$G(^PS(55,DFN,"IV",+ON,"DSS")) I CLINAPPT D  K DIE,DA,DR
"RTN","PSIVOPT1",133,0)
 . S:CLINAPPT DR="136////"_+CLINAPPT_";" S:$P(CLINAPPT,"^",2) DR=DR_"139////"_$P(CLINAPPT,"^",2)_";" D ^DIE
"RTN","PSIVOPT1",134,0)
 S VALMBCK="Q"
"RTN","PSIVOPT1",135,0)
 S PSGACT="EL"
"RTN","PSIVOPT1",136,0)
 I P(17)="N",(P("OLDON")=""),(P("CLRK")=DUZ) S PSGACT="ELD"
"RTN","PSIVOPT1",137,0)
 I +PSJSYSU=3!(+PSJSYSU=1) S PSGACT="DELV"
"RTN","PSIVOPT1",138,0)
 Q 1
"RTN","PSIVOPT2")
0^2^B36639315^B36149205
"RTN","PSIVOPT2",1,0)
PSIVOPT2 ;BIR/PR,MLM-OPTION DRIVER (CONT) ;02 Mar 99 / 9:27 AM
"RTN","PSIVOPT2",2,0)
 ;;5.0;INPATIENT MEDICATIONS ;**23,29,58,110,127,133,135,157,181,258**;16 DEC 97;Build 3
"RTN","PSIVOPT2",3,0)
 ;
"RTN","PSIVOPT2",4,0)
 ; Reference to ^PS(55 is supported by DBIA# 2191.
"RTN","PSIVOPT2",5,0)
 ; Reference to ^PSSLOCK is supported by DBIA #2789
"RTN","PSIVOPT2",6,0)
 ;
"RTN","PSIVOPT2",7,0)
D ; Discontinue order.
"RTN","PSIVOPT2",8,0)
 D NATURE^PSIVOREN I '$D(P("NAT")) W !,$C(7),"Order Unchanged." S COMQUIT=1 Q
"RTN","PSIVOPT2",9,0)
 ;* 8/2* D EN1^PSJHL2(DFN,"OD",+ON55_"V","ORDER DISCONTINUED"),D1
"RTN","PSIVOPT2",10,0)
 I '$$REQPROV^PSGOEC W !,$C(7),"Order Unchanged." S COMQUIT=1 Q
"RTN","PSIVOPT2",11,0)
 I 'PSJCOM D
"RTN","PSIVOPT2",12,0)
 .D D1
"RTN","PSIVOPT2",13,0)
 .S PSIVALT=1,PSIVALCK="STOP",PSIVREA="D",ON=ON55 D LOG^PSIVORAL S P(3)=$P($G(^PS(55,DFN,"IV",+ON55,0)),U,3)
"RTN","PSIVOPT2",14,0)
 I PSJCOM N COMFLG S COMFLG=0 D
"RTN","PSIVOPT2",15,0)
 .I ON55'["P" N COMFLG,O,OO S (COMFLG,O)=0,OO="" F  S O=$O(^PS(55,"ACX",PSJCOM,O)) Q:'O  F  S OO=$O(^PS(55,"ACX",PSJCOM,O,OO)) Q:OO=""  Q:COMFLG  D
"RTN","PSIVOPT2",16,0)
 .. Q:OO=ON55  I '$$LS^PSSLOCK(DFN,OO) S COMFLG=1 Q
"RTN","PSIVOPT2",17,0)
 I PSJCOM Q:COMFLG  N O,OO S O=0,OO="" F  S O=$O(^PS(55,"ACX",PSJCOM,O)) Q:'O  F  S OO=$O(^PS(55,"ACX",PSJCOM,O,OO)) Q:OO=""  D
"RTN","PSIVOPT2",18,0)
 .I OO["V" S ON55=OO D D1 S PSIVALT=1,PSIVALCK="STOP",PSIVREA="D",ON=ON55 D LOG^PSIVORAL N PSJORD S P(3)=$P($G(^PS(55,DFN,"IV",+ON55,0)),U,3),PSJORD=ON55 D HL^PSIVORA Q
"RTN","PSIVOPT2",19,0)
 .I OO["U" N PSGORD,PSJORD,PSJNOO K DA D NOW^%DTC S PSGDT=%,T=$E("T",'PSJSYSU),PSGALR=20,PSGP=DFN,DA=+OO,DA(1)=PSGP,(PSGORD,PSJORD)=OO,PSJNOO=P("NAT") D
"RTN","PSIVOPT2",20,0)
 ..S CF=$S($P(PSJSYSP0,U,5):1,PSGORD["U":0,1:($P($G(^PS(53.1,+PSGORD,0)),U,25)=""&($P($G(^(4)),U,7)=DUZ)))  D ASET^PSGOEC,AC^PSGOEC
"RTN","PSIVOPT2",21,0)
 Q
"RTN","PSIVOPT2",22,0)
D1 N %,DA,DIE,DIU,STP,NSTOP
"RTN","PSIVOPT2",23,0)
 S NSTOP=$$DATE^PSJUTL2(),STP=$P($G(^PS(55,DFN,"IV",+ON55,0)),U,3),NSTOP=+$S(STP>NSTOP:NSTOP,1:STP),P(17)="D"
"RTN","PSIVOPT2",24,0)
 K TMP
"RTN","PSIVOPT2",25,0)
 S TMP(55.01,""_+ON55_","_DFN_","_"",109)=NSTOP
"RTN","PSIVOPT2",26,0)
 S:'$P($G(^PS(55,DFN,"IV",+ON55,2)),U,7) TMP(55.01,""_+ON55_","_DFN_","_"",116)=STP
"RTN","PSIVOPT2",27,0)
 S TMP(55.01,""_+ON55_","_DFN_","_"",100)="D"
"RTN","PSIVOPT2",28,0)
 S TMP(55.01,""_+ON55_","_DFN_","_"",157)=""
"RTN","PSIVOPT2",29,0)
 S TMP(55.01,""_+ON55_","_DFN_","_"",.03)=NSTOP
"RTN","PSIVOPT2",30,0)
 S PSIVACT=1
"RTN","PSIVOPT2",31,0)
 D FILE^DIE("","TMP")
"RTN","PSIVOPT2",32,0)
 K TMP
"RTN","PSIVOPT2",33,0)
 I $S($G(PSIVAC)="OD":0,$G(PSIVAC)'="AD":1,$G(PSGALO)<1060:0,1:$P($G(PSJSYSW0),U,15)) S X=$S($G(PSIVAC)="AD":1,1:2) D ENLBL^PSIVOPT(X,$S(X=1:+$G(PSGUOW),1:DUZ),DFN,3,+ON55,$E("AD",1,3-X))
"RTN","PSIVOPT2",34,0)
 D:'$D(PSJIVORF) ORPARM^PSIVOREN Q:'PSJIVORF  ;* S ORIFN=$P($G(^PS(55,DFN,"IV",+ON55,0)),U,21) Q:'ORIFN
"RTN","PSIVOPT2",35,0)
 Q
"RTN","PSIVOPT2",36,0)
 ;
"RTN","PSIVOPT2",37,0)
R ; Renew order.
"RTN","PSIVOPT2",38,0)
 ;I PSJCOM D RIV^PSJCOMR Q
"RTN","PSIVOPT2",39,0)
 I PSJCOM D ^PSJCOMR Q
"RTN","PSIVOPT2",40,0)
 I P(17)="D",P(12) N ERR D RI W:$G(ERR)=1 $C(7),"  Order unchanged." I $G(ERR)<2 S COMQUIT=1 Q
"RTN","PSIVOPT2",41,0)
 I $G(PSGORQF) S COMQUIT=1 Q
"RTN","PSIVOPT2",42,0)
 ;PSJOCFLG is killed of after the OC is performed.  The Dosing is still need to trigger(again) if the 
"RTN","PSIVOPT2",43,0)
 ;  user said "no" at OK prompt and a new stop date is entered.
"RTN","PSIVOPT2",44,0)
 NEW PSJOCFLG S PSJOCFLG=1
"RTN","PSIVOPT2",45,0)
 ;
"RTN","PSIVOPT2",46,0)
R1 ;
"RTN","PSIVOPT2",47,0)
 I $$EXPIRED^PSGOER(DFN,ON55) D  Q
"RTN","PSIVOPT2",48,0)
 .W !?3,"  THIS ORDER HAS BEEN INACTIVE FOR ONE OR MORE SCHEDULED ADMINISTRATIONS"
"RTN","PSIVOPT2",49,0)
 .W !?20,"  AND CANNOT BE RENEWED!"
"RTN","PSIVOPT2",50,0)
 I '$G(PSGDT) D NOW^%DTC S PSGDT=+$E(%,1,12)  ;*258 - Set PSGDT
"RTN","PSIVOPT2",51,0)
 N PSJRNWDT,PSJOSTOP,OREASON S PSJRNWDT=$$DATE2^PSJUTL2(PSGDT) S:$G(ON55) PSJOSTOP=$P($G(^PS(55,DFN,"IV",+ON55,0)),U,3) I '(PSJOSTOP>P(2)),$G(PSGDT) S PSJOSTOP=PSGDT
"RTN","PSIVOPT2",52,0)
 S (PSIVOK,EDIT)="25^1" S P2=P(2),P(2)=PSJRNWDT D EDIT^PSIVEDT S P(2)=P2 K P2 I X="^" Q
"RTN","PSIVOPT2",53,0)
 NEW PSGORQF K PSGORQF S PSIVRNFG=1 D:$G(PSJOCFLG) OC^PSIVOC K PSJOCFLG D:'$G(PSGORQF) IN^PSJOCDS($G(ON55),"IV","") K PSIVRNFG W ! Q:$G(PSGORQF)
"RTN","PSIVOPT2",54,0)
 S P(11)=$$ENRNAT^PSGOU($P($G(^PS(55,DFN,"IV",+ON55,2)),U,10),+VAIN(4),P(9),P(11))
"RTN","PSIVOPT2",55,0)
 D OK G:X["N" R1 I X=U D RD Q
"RTN","PSIVOPT2",56,0)
 S PSIVCHG=2
"RTN","PSIVOPT2",57,0)
 S P(17)="A",OREASON=P("RES"),P("RES")="R",P("FRES")="" D:'$D(PSJIVORF) ORPARM^PSIVOREN I PSJIVORF D  Q:'$D(P("NAT"))
"RTN","PSIVOPT2",58,0)
 .D NATURE^PSIVOREN I '$D(P("NAT")) D RD Q
"RTN","PSIVOPT2",59,0)
 .S ON=ON55
"RTN","PSIVOPT2",60,0)
 S P(16)="",PSJORIFN="",PSIVACT=1,P("21FLG")="",P("RES")=OREASON D SET55^PSIVORFB
"RTN","PSIVOPT2",61,0)
 D:$P(^PS(55,DFN,"IV",+ON55,0),U,17)="A" RUPDATE^PSIVOREN(DFN,ON55,P(2))
"RTN","PSIVOPT2",62,0)
 I PSJIVORF,$P(^PS(55,DFN,"IV",+ON55,0),U,17)'="A" S X=$$LS^PSSLOCK(DFN,+ON55_"V") D
"RTN","PSIVOPT2",63,0)
 .D EXPOE^PSGOER(DFN,ON55)
"RTN","PSIVOPT2",64,0)
 .S P("RES")="R",PSJREN=1
"RTN","PSIVOPT2",65,0)
 .D ENUDTX^PSJOREN(DFN,ON55,"NR"),EN1^PSJHL2(DFN,"SN",+ON55_"V","ORDER RENEWED"),UPDREN(DFN,ON55,PSJRNWDT,P(6),PSJOSTOP,P("NAT"))
"RTN","PSIVOPT2",66,0)
 S OD=P(2)
"RTN","PSIVOPT2",67,0)
 D VF1^PSJLIACT("","",1),UNL^PSSLOCK(DFN,+ON55_"V")
"RTN","PSIVOPT2",68,0)
 D ENLBL^PSIVOPT(2,DUZ,DFN,3,+ON55,"R")
"RTN","PSIVOPT2",69,0)
 I $G(PSJOSTOP),$G(ON55),$G(DFN) D STIX^PSIVOREN(PSJOSTOP,ON55,DFN)
"RTN","PSIVOPT2",70,0)
 Q
"RTN","PSIVOPT2",71,0)
 ;
"RTN","PSIVOPT2",72,0)
RD ; Delete for renew.
"RTN","PSIVOPT2",73,0)
 ;Q:'$G(PSJVFY)
"RTN","PSIVOPT2",74,0)
 ;D DEL55^PSIVORE2 S (ON55,P("OLDON"))=P("PON") D GT55^PSIVORFB
"RTN","PSIVOPT2",75,0)
 Q
"RTN","PSIVOPT2",76,0)
 ;
"RTN","PSIVOPT2",77,0)
OK ;Print example label, run order through checker, ask if it is ok.
"RTN","PSIVOPT2",78,0)
 S P16=0,PSIVEXAM=1,(PSIVNOL,PSIVCT)=1 D GTOT^PSIVUTL(P(4)) I ($G(P("PD"))="") D GTPD^PSIVORE2
"RTN","PSIVOPT2",79,0)
 D ^PSIVCHK I $D(DUOUT) S X="^",COMQUIT=1 Q
"RTN","PSIVOPT2",80,0)
 I ERR=1 S X="N",COMQUIT=1 Q
"RTN","PSIVOPT2",81,0)
 W ! D ^PSIVORLB K PSIVEXAM S Y=P(2) W !,"Start date: " X ^DD("DD") W $P(Y,"@")," ",$P(Y,"@",2),?30," Stop date: " S Y=P(3) X ^DD("DD") W $P(Y,"@")," ",$P(Y,"@",2),!
"RTN","PSIVOPT2",82,0)
 ;PSJ*5*157 EFD FOR IV
"RTN","PSIVOPT2",83,0)
 D EFDIV^PSJUTL($G(ZZND))
"RTN","PSIVOPT2",84,0)
 I $G(PSIVCHG),($G(PSIVREA)'="R") W !,"*** This change will cause a new order to be created. ***"
"RTN","PSIVOPT2",85,0)
 S X="Is this O.K.: ^"_$S(ERR:"N",1:"Y")_"^^NO"_$S(ERR'=1:",YES",1:"") D ENQ^PSIV I X["?" S HELP="OK" D ^PSIVHLP G OK
"RTN","PSIVOPT2",86,0)
 Q
"RTN","PSIVOPT2",87,0)
 ;
"RTN","PSIVOPT2",88,0)
RI ; Reinstate Auto-DC'ed order.
"RTN","PSIVOPT2",89,0)
 N DA,DIE,DIR,DIU,DR,PSIVACT,PSIVALT,PSIVALCK,PSIVREA W !!,$C(7),"This order has been Auto-DC'ed."
"RTN","PSIVOPT2",90,0)
 S DIR(0)="Y",DIR("A")="Reinstate this order" D ^DIR K DIR I 'Y S ERR=1 Q
"RTN","PSIVOPT2",91,0)
 D NOW^%DTC I %>$P($G(^PS(55,DFN,"IV",+ON55,2)),U,7) D
"RTN","PSIVOPT2",92,0)
 .K DIR S ERR=1,DIR(0)="Y",DIR("A",1)="The original stop date of this order has past.",DIR("A")="Do you wish to renew this order" D ^DIR K DIR S ERR=$S(Y:2,1:1)
"RTN","PSIVOPT2",93,0)
 Q:$G(ERR)  S X=$G(^VA(200,+P(6),"PS")) I $S('X:1,'$P(X,U,4):0,DT<$P(X,U,4):0,1:1) S ERR=1
"RTN","PSIVOPT2",94,0)
 I $G(ERR) W !!,$C(7),"This order's provider is no longer valid. Please enter a valid provider." S (EDIT,PSIVOK)=1 D EDIT^PSIVEDT I $G(DONE) W $C(7),"Order unchanged." S ERR=1 Q
"RTN","PSIVOPT2",95,0)
 N PSGALO S PSGALO=18530 D ENARI^PSIVOPT(DFN,ON,DUZ,PSGALO)
"RTN","PSIVOPT2",96,0)
 Q
"RTN","PSIVOPT2",97,0)
 ;
"RTN","PSIVOPT2",98,0)
UPDREN(DFN,ORD,RNWDT,PROV,OSTOPDT,PSJNOO) ;
"RTN","PSIVOPT2",99,0)
 Q:'DFN!'ORD!'RNWDT!'PROV!'OSTOPDT!(PSJNOO="")
"RTN","PSIVOPT2",100,0)
 ;*PSJ*5*258
"RTN","PSIVOPT2",101,0)
 N DR,DA,DIC,DIE,DD,DO,ND0,PSGOEORD,DINUM
"RTN","PSIVOPT2",102,0)
 S DIC="^PS(55,"_DFN_",""IV"","_+ORD S ND0=$G(@(DIC_",0)")),PSGOEORD=$P(ND0,"^",21) I $G(ON)["P",$G(PSGOLDOE) S PSGOEORD=PSGOLDOE
"RTN","PSIVOPT2",103,0)
 S DIC=DIC_",14,",DIC(0)="L",DIC("P")="55.1138DA",ND14=$G(@(DIC_"0)")),DINUM=$P(ND14,"^",3)+1,DA(2)=DFN,DA(1)=+ORD D
"RTN","PSIVOPT2",104,0)
 .S DIC("DR")=".01////"_$G(RNWDT)_";1////"_$G(DUZ)_";2////"_$G(PROV)_";3////"_$G(OSTOPDT)_";4////"_+PSGOEORD,X=$G(RNWDT) D FILE^DICN
"RTN","PSIVOPT2",105,0)
 Q
"RTN","PSIVORFE")
0^3^B12567684^B12682889
"RTN","PSIVORFE",1,0)
PSIVORFE ;BIR/MLM-IV FLUID ORDER ENTRY FOR OE/RR FRONT DOOR. ;26 NOV 97 / 9:55 AM 
"RTN","PSIVORFE",2,0)
 ;;5.0;INPATIENT MEDICATIONS ;**58,81,110,258**;16 DEC 97;Build 3
"RTN","PSIVORFE",3,0)
 ;
"RTN","PSIVORFE",4,0)
 ; Reference to ^VA(200 is supported by DBIA 10060.
"RTN","PSIVORFE",5,0)
 ;
"RTN","PSIVORFE",6,0)
EN ; Entry pt. to create new IV Fluid order.
"RTN","PSIVORFE",7,0)
 S PSJORNP=$G(ORNP) D PS^PSIVOREN Q:PSJORPF  F  D NEWORD Q:DONE
"RTN","PSIVORFE",8,0)
 D DONE^PSIVORA1
"RTN","PSIVORFE",9,0)
 Q
"RTN","PSIVORFE",10,0)
 ;
"RTN","PSIVORFE",11,0)
NEWORD ; Create new IV Fluid order.
"RTN","PSIVORFE",12,0)
 D SETUP S EDIT=58,PSIVOK="" D EDIT^PSIVEDT I '$D(DRG("SOL")) S DONE=1 Q
"RTN","PSIVORFE",13,0)
 ; Removed reference to tag 66 of PSIVEDT-backdoor Pharm Prov comments
"RTN","PSIVORFE",14,0)
 S EDIT="57^59",PSIVOK=58 D EDIT^PSIVEDT Q:DONE
"RTN","PSIVORFE",15,0)
 K DA,DIC,ON,P("OLDON") W !!,"...transcribing this order..." D ENGNN^PSGOETO S ON=DA D PUT531^PSIVORFA L -^PS(53.1,+ON) W !
"RTN","PSIVORFE",16,0)
 Q
"RTN","PSIVORFE",17,0)
 ;
"RTN","PSIVORFE",18,0)
GTFLDS ;Ask field no.s to be edited.
"RTN","PSIVORFE",19,0)
 N PSGEFN F X=1:1:$L(EDIT,U) S PSGEFN(X)=$P(EDIT,U,X)_U_$S($P(EDIT,U,X)=999:"Edit OE/RR Fields",1:$$CODES2^PSIVUTL(53.1,$P(EDIT,U,X)))
"RTN","PSIVORFE",20,0)
 S Y=$P($G(XQORNOD(0)),"=",2)
"RTN","PSIVORFE",21,0)
 S PSGEFN=1_":"_$L(EDIT,U),PSJDTYP=$E(PSIVAC,1) D:Y="" ENEFA^PSGON K PSJDTYP I '$G(Y) S:PSIVAC="OE" DONE=1 Q
"RTN","PSIVORFE",22,0)
 S X=EDIT,EDIT="" F X1=1:1:$L(Y,",") S:$P(X,U,$P(Y,",",X1)) $P(EDIT,"^",X1)=$P(X,U,$P(Y,",",X1))
"RTN","PSIVORFE",23,0)
 N PSIVRENW S PSIVRENW=1
"RTN","PSIVORFE",24,0)
 D EDIT^PSIVEDT
"RTN","PSIVORFE",25,0)
 K PSIVRENW
"RTN","PSIVORFE",26,0)
 Q
"RTN","PSIVORFE",27,0)
 ;
"RTN","PSIVORFE",28,0)
SET ; Set variables needed to create/update orders in the ORDERS file (100).
"RTN","PSIVORFE",29,0)
 Q
"RTN","PSIVORFE",30,0)
 ;*** NO LONGER NEEDED IN 5.0
"RTN","PSIVORFE",31,0)
 N DRGT,PLN,X K OREVENT,ORETURN,ORSTRT,ORSTOP,ORTX
"RTN","PSIVORFE",32,0)
 S ORL=$$ENORL^PSJUTL($G(VAIN(4)))
"RTN","PSIVORFE",33,0)
 S ORLOG=P("LOG"),ORSTRT=P(2),OREVENT=$S('P(3):"",1:P(3)_";E"),ORSTOP=P(3),ORNP=+P(6),P("OT")=$S(P(4)="A":"F",P(4)="H":"H",1:"I")
"RTN","PSIVORFE",34,0)
 D GTOT^PSIVUTL(P(4)) ;* S ORPCL=$P(P("OT"),U,2)
"RTN","PSIVORFE",35,0)
 ;* S Y=P(17),ORSTS=$S("AO"[Y:6,Y="E":7,Y="H":3,Y="D":1,Y="U":11,1:5),ORVP=DFN_";DPT(",ORPK=+ON_$S(ORSTS=5:"P",ORSTS=11:"P",1:"V")
"RTN","PSIVORFE",36,0)
SORTX ;Set up ORTX(.
"RTN","PSIVORFE",37,0)
 Q
"RTN","PSIVORFE",38,0)
 ;*** NO LONGER NEEDED IN 5.0
"RTN","PSIVORFE",39,0)
 I $E(P("OT"))="H" D
"RTN","PSIVORFE",40,0)
 .S ORTX(1)="* TPN * in ",PLN=2 F X=0:0 S X=$O(DRG("SOL",X)) Q:'X  S ORTX(PLN)=$S($P($G(DRG("SOL",X)),U,2)]"":$P(DRG("SOL",X),U,2),1:"*NF*"),PLN=PLN+1
"RTN","PSIVORFE",41,0)
 .S ORTX(PLN)=$S(P(8)]"":P(8),1:P(9)),PLN=PLN+1
"RTN","PSIVORFE",42,0)
 I $E(P("OT"))="F" D ORTXF
"RTN","PSIVORFE",43,0)
 I $E(P("OT"))="I" S ORTX(1)=$P(P("PD"),U,2),ORTX(2)="Give: "_$P(P("MR"),U,2)_" "_$S(P(9)]"":P(9),1:P(8)),PLN=3
"RTN","PSIVORFE",44,0)
 S ORTX(1)=$S($G(P("FRES"))="R":"RENEWED -",$G(P("RES"))="R":"RENEWAL -",1:"")_ORTX(1)
"RTN","PSIVORFE",45,0)
 ;I $D(^PS(53.45,+$G(PSIVUP),4)) F PC=0:0 S PC=$O(^PS(53.45,PSIVUP,4,PC)) Q:'PC  S ORTX(PLN)=$G(^PS(53.45,PSIVUP,4,PC,0)),PLN=PLN+1
"RTN","PSIVORFE",46,0)
 Q
"RTN","PSIVORFE",47,0)
 ;
"RTN","PSIVORFE",48,0)
ORTXF ; Set up ORTX( for Fluids.
"RTN","PSIVORFE",49,0)
 Q
"RTN","PSIVORFE",50,0)
 ;*** NO LONGER NEEDED IN 5.0
"RTN","PSIVORFE",51,0)
 N SOLF
"RTN","PSIVORFE",52,0)
 S PLN=1 F DRGT="AD","SOL" F DRGI=0:0 S DRGI=$O(DRG(DRGT,DRGI)) Q:'DRGI  D
"RTN","PSIVORFE",53,0)
 .S ORTX(PLN)=$S($P(DRG(DRGT,DRGI),U,2)="":"*NF*",1:$P(DRG(DRGT,DRGI),U,2)_" "_$P(DRG(DRGT,DRGI),U,3)),PLN=PLN+1 I DRGT="SOL",('$G(SOLF)) S ORTX(PLN-1)="in "_ORTX(PLN-1),SOLF=1
"RTN","PSIVORFE",54,0)
 S ORTX(PLN)=$S(P(8)]"":P(8),1:P(9)),PLN=PLN+1
"RTN","PSIVORFE",55,0)
 Q
"RTN","PSIVORFE",56,0)
 ;
"RTN","PSIVORFE",57,0)
SETUP ; Initialize variables.
"RTN","PSIVORFE",58,0)
 K DRG D NEWENT S DRGN="" F X=2,3,5,7,8,9,11,15,23,"AD","DO","IVRM","MR","NEWON","PC","PD","OLDON","OPI","REM","REN","SI","SOL","SYRS" S P(X)=""
"RTN","PSIVORFE",59,0)
 S PSJORSTS=11,P("OT")="F^",P("RES")="N",P(4)="A",P(17)="U",Y=$G(^VA(200,+PSJORNP,0)),P(6)=+PSJORNP_U_$P(Y,U)
"RTN","PSIVORFE",60,0)
 ;; S PSJORSTS=11,P("OT")="F^"_$O(^ORD(101,"B","PSJI OR PAT FLUID OE",0))_";ORD(101,",P("RES")="N",P(4)="A",P(17)="U",Y=$G(^VA(200,+PSJORNP,0)),P(6)=+PSJORNP_U_$P(Y,U)
"RTN","PSIVORFE",61,0)
 Q
"RTN","PSIVORFE",62,0)
 ;
"RTN","PSIVORFE",63,0)
NEWENT ; Get login date/entry code for new order
"RTN","PSIVORFE",64,0)
 S P("LOG")=$$DATE^PSJUTL2(),P("CLRK")=DUZ_U_$P($G(^VA(200,DUZ,0)),U)
"RTN","PSIVORFE",65,0)
 Q
"RTN","PSJHVARS")
0^4^B74222254^B74499296
"RTN","PSJHVARS",1,0)
PSJHVARS ;BIR/RSB-SAVE/RESTORE VARIABLES FOR HIDDEN MENUS  ;24 Feb 99 / 10:42 AM
"RTN","PSJHVARS",2,0)
 ;;5.0;INPATIENT MEDICATIONS ;**16,22,30,58,181,258**;16 DEC 97;Build 3
"RTN","PSJHVARS",3,0)
 ;
"RTN","PSJHVARS",4,0)
 ; Reference to ^ORD(101 is supported by DBIA 872.
"RTN","PSJHVARS",5,0)
 ; Reference to ^%RCR is supported by DBIA 10022.
"RTN","PSJHVARS",6,0)
 ; Reference to ^DIR is supported by DBIA 10026.
"RTN","PSJHVARS",7,0)
 ;
"RTN","PSJHVARS",8,0)
 ; PSJ*5*181 added: P(24),P(25) & PSGS0Y (it's zero & not O)
"RTN","PSJHVARS",9,0)
 ;PSJHIDFG will be defined if the user already in the hidden menu.
"RTN","PSJHVARS",10,0)
 I $$HIDCHK() D  Q
"RTN","PSJHVARS",11,0)
 . W !,"HIDDEN MENUS MAY NOT BE CALLED RECURSIVELY!" S XQORQUIT=1
"RTN","PSJHVARS",12,0)
 . N DIR S DIR(0)="E" D ^DIR
"RTN","PSJHVARS",13,0)
 ;  saves the variables in ^TMP
"RTN","PSJHVARS",14,0)
 K ^TMP("PSJVARS",$J),^TMP("PSJ_ON_HIDDEN",$J)
"RTN","PSJHVARS",15,0)
 F PSJRSB1=1:1 S PSJRSBV=$P($T(LIST+PSJRSB1),";;",2) Q:PSJRSBV=""  D
"RTN","PSJHVARS",16,0)
 .I $D(@PSJRSBV) S:$D(@PSJRSBV)'=10 ^TMP("PSJVARS",$J,PSJRSBV)=@PSJRSBV
"RTN","PSJHVARS",17,0)
 I $D(DRG) MERGE ^TMP("PSJHDRG",$J)=DRG
"RTN","PSJHVARS",18,0)
 ;save off ^TMP("PSJON",$J) because it gets killed down in hidden options
"RTN","PSJHVARS",19,0)
 F PSJRSB1L=0:0 S PSJRSB1L=$O(^TMP("PSJON",$J,PSJRSB1L)) Q:'PSJRSB1L  D
"RTN","PSJHVARS",20,0)
 .S ^TMP("PSJ_ON_HIDDEN",$J,PSJRSB1L)=^TMP("PSJON",$J,PSJRSB1L)
"RTN","PSJHVARS",21,0)
 K PSJRSB1,PSJRSB1L,PSJRSBV
"RTN","PSJHVARS",22,0)
 NEW PSJX
"RTN","PSJHVARS",23,0)
 F PSJX="P(","PSGEFN(","PSGVADR(","PSGVALG(","VADM(","VAIN(","VAIP(" D SVARRAY
"RTN","PSJHVARS",24,0)
 I $D(^TMP("PSIV",$J)) S %X="^TMP(""PSIV"",$J,",%Y="^TMP(""PSJHTMP"",$J,""PSIV""," D %XY^%RCR
"RTN","PSJHVARS",25,0)
 I $D(^TMP("PSJALL",$J)) S %X="^TMP(""PSJALL"",$J,",%Y="^TMP(""PSJHTMP"",$J,""PSJALL""," D %XY^%RCR
"RTN","PSJHVARS",26,0)
 I $D(^TMP("PSJI",$J)) S %X="^TMP(""PSJI"",$J,",%Y="^TMP(""PSJHTMP"",$J,""PSJI""," D %XY^%RCR
"RTN","PSJHVARS",27,0)
 I $D(^TMP("PSJPRO",$J)) S %X="^TMP(""PSJPRO"",$J,",%Y="^TMP(""PSJHTMP"",$J,""PSJPRO""," D %XY^%RCR
"RTN","PSJHVARS",28,0)
 D SAVEPS ; Save the ^PS(53.45,DUZ,2) entry
"RTN","PSJHVARS",29,0)
 Q
"RTN","PSJHVARS",30,0)
SVARRAY ;  Save array to ^TMP
"RTN","PSJHVARS",31,0)
 NEW PSJVARX,X S PSJVARX=PSJX_"X)"
"RTN","PSJHVARS",32,0)
 S X="" F  S X=$O(@PSJVARX) Q:X=""  S ^TMP("PSJVARS",$J,PSJX_$S(+X=X:X,1:""""_X_"""")_")")=@PSJVARX
"RTN","PSJHVARS",33,0)
 Q
"RTN","PSJHVARS",34,0)
RESTORE ;  restores the variables from ^TMP
"RTN","PSJHVARS",35,0)
 Q:$G(PSJHIDFG)
"RTN","PSJHVARS",36,0)
 S PSJRSBV="" F  S PSJRSBV=$O(^TMP("PSJVARS",$J,PSJRSBV)) Q:PSJRSBV=""  D
"RTN","PSJHVARS",37,0)
 .S @PSJRSBV=^TMP("PSJVARS",$J,PSJRSBV)
"RTN","PSJHVARS",38,0)
 I $D(^TMP("PSJHDRG",$J)) K DRG MERGE DRG=^TMP("PSJHDRG",$J)
"RTN","PSJHVARS",39,0)
 ;restore ^TMP("PSJON",$J) if it is not there
"RTN","PSJHVARS",40,0)
 I '$D(^TMP("PSJON",$J)) D
"RTN","PSJHVARS",41,0)
 .F PSJRSB1=0:0 S PSJRSB1=$O(^TMP("PSJ_ON_HIDDEN",$J,PSJRSB1)) Q:'PSJRSB1  D
"RTN","PSJHVARS",42,0)
 ..S ^TMP("PSJON",$J,PSJRSB1)=^TMP("PSJ_ON_HIDDEN",$J,PSJRSB1)
"RTN","PSJHVARS",43,0)
 I $D(^TMP("PSJHTMP",$J,"PSIV")) S %X="^TMP(""PSJHTMP"",$J,""PSIV"",",%Y="^TMP(""PSIV"",$J," D %XY^%RCR K ^TMP("PSJHTMP",$J,"PSIV")
"RTN","PSJHVARS",44,0)
 I $D(^TMP("PSJHTMP",$J,"PSJALL")) S %X="^TMP(""PSJHTMP"",$J,""PSJALL"",",%Y="^TMP(""PSJALL"",$J," D %XY^%RCR K ^TMP("PSJHTMP",$J,"PSJALL")
"RTN","PSJHVARS",45,0)
 I $D(^TMP("PSJHTMP",$J,"PSJI")) S %X="^TMP(""PSJHTMP"",$J,""PSJI"",",%Y="^TMP(""PSJI"",$J," D %XY^%RCR K ^TMP("PSJHTMP",$J,"PSJI")
"RTN","PSJHVARS",46,0)
 I $D(^TMP("PSJHTMP",$J,"PSJPRO")) S %X="^TMP(""PSJHTMP"",$J,""PSJPRO"",",%Y="^TMP(""PSJPRO"",$J," D %XY^%RCR K ^TMP("PSJHTMP",$J,"PSJPRO")
"RTN","PSJHVARS",47,0)
 K ^TMP("PSJVARS",$J),^TMP("PSJ_ON_HIDDEN",$J),^TMP("PSJHDRG",$J)
"RTN","PSJHVARS",48,0)
 K PSJRSBV,PSJRSB1
"RTN","PSJHVARS",49,0)
 D RESPS ; Restore any saved ^PS(53.45,DUZ,2) and ^PS(53.45,DUZ,4) entries
"RTN","PSJHVARS",50,0)
 Q
"RTN","PSJHVARS",51,0)
HIDCHK() ;  XQORNEST(X) contains a list of selected protocols.
"RTN","PSJHVARS",52,0)
 K ^TMP("PSJHIDCHK",$J) N PSJ,X,Y
"RTN","PSJHVARS",53,0)
 F X=0:0 S X=$O(XQORNEST(X)) Q:'X  S ^TMP("PSJHIDCHK",$J,+$P(XQORNEST(X),";"))=""
"RTN","PSJHVARS",54,0)
 S X=+$O(^ORD(101,"B","PSJI LM LBLI",0))
"RTN","PSJHVARS",55,0)
 S Y=+$O(^ORD(101,"B","PSJ LM RETURNS/DESTROYED MENU",0))
"RTN","PSJHVARS",56,0)
 S PSJ=$S($D(^TMP("PSJHIDCHK",$J,X)):1,$D(^TMP("PSJHIDCHK",$J,Y)):1,1:0)
"RTN","PSJHVARS",57,0)
 K ^TMP("PSJHIDCHK",$J)
"RTN","PSJHVARS",58,0)
 Q PSJ
"RTN","PSJHVARS",59,0)
SAVEPS ; Save the ^PS(53.45,DUZ,2) entry
"RTN","PSJHVARS",60,0)
 ; Save the 2,0) node
"RTN","PSJHVARS",61,0)
 I $D(^PS(53.45,DUZ,2,0)) D
"RTN","PSJHVARS",62,0)
 .S ^TMP("PSJ5345",$J,DUZ,2,0)=^PS(53.45,DUZ,2,0)
"RTN","PSJHVARS",63,0)
 ;Save the 2,n,0) nodes
"RTN","PSJHVARS",64,0)
 S PSJLOOP=0
"RTN","PSJHVARS",65,0)
 F PSJLOOP=$O(^PS(53.45,DUZ,2,PSJLOOP)) Q:(PSJLOOP="")!(PSJLOOP="B")  D
"RTN","PSJHVARS",66,0)
 .S ^TMP("PSJ5345",$J,DUZ,2,PSJLOOP,0)=^PS(53.45,DUZ,2,PSJLOOP,0)
"RTN","PSJHVARS",67,0)
 ;Save the 2,"B" node
"RTN","PSJHVARS",68,0)
 I $D(^PS(53.45,DUZ,2,"B")) D
"RTN","PSJHVARS",69,0)
 .S PSJBLOOP=""
"RTN","PSJHVARS",70,0)
 .F PSJBLOOP=$O(^PS(53.45,DUZ,2,"B",PSJBLOOP)) Q:PSJBLOOP=""  D
"RTN","PSJHVARS",71,0)
 ..S PSJCOUNT=""
"RTN","PSJHVARS",72,0)
 ..F PSJCOUNT=$O(^PS(53.45,DUZ,2,"B",PSJBLOOP,PSJCOUNT)) Q:PSJCOUNT=""  D
"RTN","PSJHVARS",73,0)
 ...S ^TMP("PSJ5345",$J,DUZ,2,"B",PSJBLOOP,PSJCOUNT)=^PS(53.45,DUZ,2,"B",PSJBLOOP,PSJCOUNT)
"RTN","PSJHVARS",74,0)
 ; Save the 4,0) node
"RTN","PSJHVARS",75,0)
 ;I $D(^PS(53.45,DUZ,4,0)) D
"RTN","PSJHVARS",76,0)
 ;.S ^TMP("PSJ5345",$J,DUZ,4,0)=^PS(53.45,DUZ,4,0)
"RTN","PSJHVARS",77,0)
 ; Save the 4,n,0) nodes
"RTN","PSJHVARS",78,0)
 ;S PSJLOOP=0
"RTN","PSJHVARS",79,0)
 ;F PSJLOOP=$O(^PS(53.45,DUZ,4,PSJLOOP)) Q:PSJLOOP=""  D
"RTN","PSJHVARS",80,0)
 ;.S ^TMP("PSJ5345",$J,DUZ,4,PSJLOOP,0)=^PS(53.45,DUZ,4,PSJLOOP,0)
"RTN","PSJHVARS",81,0)
 Q
"RTN","PSJHVARS",82,0)
RESPS ; Restore any saved ^PS(53.45,DUZ,2) entry
"RTN","PSJHVARS",83,0)
 ;Restore the 2,0 node
"RTN","PSJHVARS",84,0)
 I $D(^TMP("PSJ5345",$J,DUZ,2,0)) D
"RTN","PSJHVARS",85,0)
 .S ^PS(53.45,DUZ,2,0)=^TMP("PSJ5345",$J,DUZ,2,0)
"RTN","PSJHVARS",86,0)
 ;Restore the 2,n,o) nodes
"RTN","PSJHVARS",87,0)
 S PSJLOOP=0
"RTN","PSJHVARS",88,0)
 F PSJLOOP=$O(^TMP("PSJ5345",$J,DUZ,2,PSJLOOP)) Q:(PSJLOOP="")!(PSJLOOP="B")  D
"RTN","PSJHVARS",89,0)
 .S ^PS(53.45,DUZ,2,PSJLOOP,0)=^TMP("PSJ5345",$J,DUZ,2,PSJLOOP,0)
"RTN","PSJHVARS",90,0)
 ;Restore the 2,"B" nodes
"RTN","PSJHVARS",91,0)
 I $D(^TMP("PSJ5345",$J,DUZ,2,"B")) D
"RTN","PSJHVARS",92,0)
 .S PSJBLOOP=""
"RTN","PSJHVARS",93,0)
 .F PSJBLOOP=$O(^TMP("PSJ5345",$J,DUZ,2,"B",PSJBLOOP)) Q:PSJBLOOP=""  D
"RTN","PSJHVARS",94,0)
 ..S PSJCOUNT=""
"RTN","PSJHVARS",95,0)
 ..F PSJCOUNT=$O(^TMP("PSJ5345",$J,DUZ,2,"B",PSJBLOOP,PSJCOUNT)) Q:PSJCOUNT=""  D
"RTN","PSJHVARS",96,0)
 ...S ^PS(53.45,DUZ,2,"B",PSJBLOOP,PSJCOUNT)=^TMP("PSJ5345",$J,DUZ,2,"B",PSJBLOOP,PSJCOUNT)
"RTN","PSJHVARS",97,0)
 ;Restore the 4,0) node
"RTN","PSJHVARS",98,0)
 ;I $D(^TMP("PSJ5345",$J,DUZ,4,0)) D
"RTN","PSJHVARS",99,0)
 ;.S ^PS(53.45,DUZ,4,0)=^TMP("PSJ5345",$J,DUZ,4,0)
"RTN","PSJHVARS",100,0)
 ;Restore the 4,n,0) nodes
"RTN","PSJHVARS",101,0)
 ;S PSJLOOP=0
"RTN","PSJHVARS",102,0)
 ;F PSJLOOP=$O(^TMP("PSJ5345",$J,DUZ,4,PSJLOOP)) Q:PSJLOOP=""  D
"RTN","PSJHVARS",103,0)
 ;.S ^PS(53.45,DUZ,4,PSJLOOP,0)=^TMP("PSJ5345",$J,DUZ,4,PSJLOOP,0)
"RTN","PSJHVARS",104,0)
 K ^TMP("PSJ5345",$J,DUZ)
"RTN","PSJHVARS",105,0)
 Q
"RTN","PSJHVARS",106,0)
LIST ;
"RTN","PSJHVARS",107,0)
 ;;ADM
"RTN","PSJHVARS",108,0)
 ;;AL
"RTN","PSJHVARS",109,0)
 ;;C
"RTN","PSJHVARS",110,0)
 ;;CHK
"RTN","PSJHVARS",111,0)
 ;;DDH
"RTN","PSJHVARS",112,0)
 ;;DFN
"RTN","PSJHVARS",113,0)
 ;;DN
"RTN","PSJHVARS",114,0)
 ;;DRGI
"RTN","PSJHVARS",115,0)
 ;;DRGN
"RTN","PSJHVARS",116,0)
 ;;DRGT
"RTN","PSJHVARS",117,0)
 ;;DX
"RTN","PSJHVARS",118,0)
 ;;DY
"RTN","PSJHVARS",119,0)
 ;;FIL
"RTN","PSJHVARS",120,0)
 ;;FQ
"RTN","PSJHVARS",121,0)
 ;;GMRA
"RTN","PSJHVARS",122,0)
 ;;GMRAL
"RTN","PSJHVARS",123,0)
 ;;HDT
"RTN","PSJHVARS",124,0)
 ;;I
"RTN","PSJHVARS",125,0)
 ;;INFUSE
"RTN","PSJHVARS",126,0)
 ;;J
"RTN","PSJHVARS",127,0)
 ;;LIMIT
"RTN","PSJHVARS",128,0)
 ;;LINE
"RTN","PSJHVARS",129,0)
 ;;LOC
"RTN","PSJHVARS",130,0)
 ;;N
"RTN","PSJHVARS",131,0)
 ;;NAD
"RTN","PSJHVARS",132,0)
 ;;ND
"RTN","PSJHVARS",133,0)
 ;;ND0
"RTN","PSJHVARS",134,0)
 ;;ND2
"RTN","PSJHVARS",135,0)
 ;;ND4
"RTN","PSJHVARS",136,0)
 ;;ND6
"RTN","PSJHVARS",137,0)
 ;;NDP2
"RTN","PSJHVARS",138,0)
 ;;NEXT
"RTN","PSJHVARS",139,0)
 ;;NF
"RTN","PSJHVARS",140,0)
 ;;NO
"RTN","PSJHVARS",141,0)
 ;;O
"RTN","PSJHVARS",142,0)
 ;;ON
"RTN","PSJHVARS",143,0)
 ;;ON55
"RTN","PSJHVARS",144,0)
 ;;ORIFN
"RTN","PSJHVARS",145,0)
 ;;P16
"RTN","PSJHVARS",146,0)
 ;;P17
"RTN","PSJHVARS",147,0)
 ;;P(2)
"RTN","PSJHVARS",148,0)
 ;;P(3)
"RTN","PSJHVARS",149,0)
 ;;P(4)
"RTN","PSJHVARS",150,0)
 ;;P(5)
"RTN","PSJHVARS",151,0)
 ;;P(6)
"RTN","PSJHVARS",152,0)
 ;;P(7)
"RTN","PSJHVARS",153,0)
 ;;P(8)
"RTN","PSJHVARS",154,0)
 ;;P(9)
"RTN","PSJHVARS",155,0)
 ;;P(10)
"RTN","PSJHVARS",156,0)
 ;;P(11)
"RTN","PSJHVARS",157,0)
 ;;P(12)
"RTN","PSJHVARS",158,0)
 ;;P(13)
"RTN","PSJHVARS",159,0)
 ;;P(14)
"RTN","PSJHVARS",160,0)
 ;;P(15)
"RTN","PSJHVARS",161,0)
 ;;P(16)
"RTN","PSJHVARS",162,0)
 ;;P(17)
"RTN","PSJHVARS",163,0)
 ;;P(18)
"RTN","PSJHVARS",164,0)
 ;;P(19)
"RTN","PSJHVARS",165,0)
 ;;P(20)
"RTN","PSJHVARS",166,0)
 ;;P(21)
"RTN","PSJHVARS",167,0)
 ;;P(22)
"RTN","PSJHVARS",168,0)
 ;;P(23)
"RTN","PSJHVARS",169,0)
 ;;P(24)
"RTN","PSJHVARS",170,0)
 ;;P(25)
"RTN","PSJHVARS",171,0)
 ;;P("21FLG")
"RTN","PSJHVARS",172,0)
 ;;P("CLRK")
"RTN","PSJHVARS",173,0)
 ;;P("CUM")
"RTN","PSJHVARS",174,0)
 ;;P("DO")
"RTN","PSJHVARS",175,0)
 ;;P("DTYP")
"RTN","PSJHVARS",176,0)
 ;;P("FRES")
"RTN","PSJHVARS",177,0)
 ;;P("INS")
"RTN","PSJHVARS",178,0)
 ;;P("IVRM")
"RTN","PSJHVARS",179,0)
 ;;P("LF")
"RTN","PSJHVARS",180,0)
 ;;P("LFA")
"RTN","PSJHVARS",181,0)
 ;;P("LOG")
"RTN","PSJHVARS",182,0)
 ;;P("MR")
"RTN","PSJHVARS",183,0)
 ;;P("NEWON")
"RTN","PSJHVARS",184,0)
 ;;P("OLDON")
"RTN","PSJHVARS",185,0)
 ;;P("OPI")
"RTN","PSJHVARS",186,0)
 ;;P("OT")
"RTN","PSJHVARS",187,0)
 ;;P("PD")
"RTN","PSJHVARS",188,0)
 ;;P("PON")
"RTN","PSJHVARS",189,0)
 ;;P("PRY")
"RTN","PSJHVARS",190,0)
 ;;P("REM")
"RTN","PSJHVARS",191,0)
 ;;P("REN")
"RTN","PSJHVARS",192,0)
 ;;P("RES")
"RTN","PSJHVARS",193,0)
 ;;P("SYRS")
"RTN","PSJHVARS",194,0)
 ;;PF
"RTN","PSJHVARS",195,0)
 ;;PPAGE
"RTN","PSJHVARS",196,0)
 ;;PPN
"RTN","PSJHVARS",197,0)
 ;;PROVIDER
"RTN","PSJHVARS",198,0)
 ;;PS
"RTN","PSJHVARS",199,0)
 ;;PSFDT
"RTN","PSJHVARS",200,0)
 ;;PSGACT
"RTN","PSJHVARS",201,0)
 ;;PSGADR
"RTN","PSJHVARS",202,0)
 ;;PSGADR(1)
"RTN","PSJHVARS",203,0)
 ;;PSGAT
"RTN","PSJHVARS",204,0)
 ;;PSGCANFL
"RTN","PSJHVARS",205,0)
 ;;PSGDFLG
"RTN","PSJHVARS",206,0)
 ;;PSGDI
"RTN","PSJHVARS",207,0)
 ;;PSGDRG
"RTN","PSJHVARS",208,0)
 ;;PSGDRGN
"RTN","PSJHVARS",209,0)
 ;;PSGDO
"RTN","PSJHVARS",210,0)
 ;;PSGDT
"RTN","PSJHVARS",211,0)
 ;;PSGEB
"RTN","PSJHVARS",212,0)
 ;;PSGEBN
"RTN","PSJHVARS",213,0)
 ;;PSGEFN
"RTN","PSJHVARS",214,0)
 ;;PSGF
"RTN","PSJHVARS",215,0)
 ;;PSGFD
"RTN","PSJHVARS",216,0)
 ;;PSGFDN
"RTN","PSJHVARS",217,0)
 ;;PSGHSM
"RTN","PSJHVARS",218,0)
 ;;PSGID
"RTN","PSJHVARS",219,0)
 ;;PSGIVAC
"RTN","PSJHVARS",220,0)
 ;;PSGIVBR
"RTN","PSJHVARS",221,0)
 ;;PSGLAD
"RTN","PSJHVARS",222,0)
 ;;PSGLAGE
"RTN","PSJHVARS",223,0)
 ;;PSGLBID
"RTN","PSJHVARS",224,0)
 ;;PSGLBSS
"RTN","PSJHVARS",225,0)
 ;;PSGLDOB
"RTN","PSJHVARS",226,0)
 ;;PSGLDT
"RTN","PSJHVARS",227,0)
 ;;PSGLDX
"RTN","PSJHVARS",228,0)
 ;;PSGLI
"RTN","PSJHVARS",229,0)
 ;;PSGLIN
"RTN","PSJHVARS",230,0)
 ;;PSGLPID
"RTN","PSJHVARS",231,0)
 ;;PSGLPN
"RTN","PSJHVARS",232,0)
 ;;PSGLPR
"RTN","PSJHVARS",233,0)
 ;;PSGLRB
"RTN","PSJHVARS",234,0)
 ;;PSGLSEX
"RTN","PSJHVARS",235,0)
 ;;PSGLSSN
"RTN","PSJHVARS",236,0)
 ;;PSGLTM
"RTN","PSJHVARS",237,0)
 ;;PSGLTS
"RTN","PSJHVARS",238,0)
 ;;PSGLWD
"RTN","PSJHVARS",239,0)
 ;;PSGLWDN
"RTN","PSJHVARS",240,0)
 ;;PSGLWGN
"RTN","PSJHVARS",241,0)
 ;;PSGLWP1
"RTN","PSJHVARS",242,0)
 ;;PSGLWP2
"RTN","PSJHVARS",243,0)
 ;;PSGMR
"RTN","PSJHVARS",244,0)
 ;;PSGMRN
"RTN","PSJHVARS",245,0)
 ;;PSGNEDFD
"RTN","PSJHVARS",246,0)
 ;;PSGNEF
"RTN","PSJHVARS",247,0)
 ;;PSGNESD
"RTN","PSJHVARS",248,0)
 ;;PSGOAT
"RTN","PSJHVARS",249,0)
 ;;PSGOD
"RTN","PSJHVARS",250,0)
 ;;PSGODDD
"RTN","PSJHVARS",251,0)
 ;;PSGODDD(1)
"RTN","PSJHVARS",252,0)
 ;;PSGODO
"RTN","PSJHVARS",253,0)
 ;;PSGODT
"RTN","PSJHVARS",254,0)
 ;;PSGOEA
"RTN","PSJHVARS",255,0)
 ;;PSGOEAV
"RTN","PSJHVARS",256,0)
 ;;PSGOEDMR
"RTN","PSJHVARS",257,0)
 ;;PSGOEEG
"RTN","PSJHVARS",258,0)
 ;;PSGOEEND
"RTN","PSJHVARS",259,0)
 ;;PSGOEEWF
"RTN","PSJHVARS",260,0)
 ;;PSGOENG
"RTN","PSJHVARS",261,0)
 ;;PSGOENOF
"RTN","PSJHVARS",262,0)
 ;;PSGOEPR
"RTN","PSJHVARS",263,0)
 ;;PSGOFD
"RTN","PSJHVARS",264,0)
 ;;PSGOFDN
"RTN","PSJHVARS",265,0)
 ;;PSGOHSM
"RTN","PSJHVARS",266,0)
 ;;PSGOINST
"RTN","PSJHVARS",267,0)
 ;;PSGOL
"RTN","PSJHVARS",268,0)
 ;;PSGOMR
"RTN","PSJHVARS",269,0)
 ;;PSGOMRN
"RTN","PSJHVARS",270,0)
 ;;PSGONC
"RTN","PSJHVARS",271,0)
 ;;PSGOP
"RTN","PSJHVARS",272,0)
 ;;PSGOPD
"RTN","PSJHVARS",273,0)
 ;;PSGOPDN
"RTN","PSJHVARS",274,0)
 ;;PSGOPR
"RTN","PSJHVARS",275,0)
 ;;PSGOPRN
"RTN","PSJHVARS",276,0)
 ;;PSGORD
"RTN","PSJHVARS",277,0)
 ;;PSGOSCH
"RTN","PSJHVARS",278,0)
 ;;PSGOSD
"RTN","PSJHVARS",279,0)
 ;;PSGOSDN
"RTN","PSJHVARS",280,0)
 ;;PSGOSI
"RTN","PSJHVARS",281,0)
 ;;PSGOSM
"RTN","PSJHVARS",282,0)
 ;;PSGOST
"RTN","PSJHVARS",283,0)
 ;;PSGOSTN
"RTN","PSJHVARS",284,0)
 ;;PSGP
"RTN","PSJHVARS",285,0)
 ;;PSGP(0)
"RTN","PSJHVARS",286,0)
 ;;PSGPD
"RTN","PSJHVARS",287,0)
 ;;PSGPDN
"RTN","PSJHVARS",288,0)
 ;;PSGPDRG
"RTN","PSJHVARS",289,0)
 ;;PSGPDRGN
"RTN","PSJHVARS",290,0)
 ;;PSGPI
"RTN","PSJHVARS",291,0)
 ;;PSGPR
"RTN","PSJHVARS",292,0)
 ;;PSGPRIO
"RTN","PSJHVARS",293,0)
 ;;PSGPRN
"RTN","PSJHVARS",294,0)
 ;;PSGPTMP
"RTN","PSJHVARS",295,0)
 ;;PSGPTS
"RTN","PSJHVARS",296,0)
 ;;PSGRRF
"RTN","PSJHVARS",297,0)
 ;;PSGSCH
"RTN","PSJHVARS",298,0)
 ;;PSGSD
"RTN","PSJHVARS",299,0)
 ;;PSGSDN
"RTN","PSJHVARS",300,0)
 ;;PSGSI
"RTN","PSJHVARS",301,0)
 ;;PSGSM
"RTN","PSJHVARS",302,0)
 ;;PSGSOXT
"RTN","PSJHVARS",303,0)
 ;;PSGSOY
"RTN","PSJHVARS",304,0)
 ;;PSGS0Y
"RTN","PSJHVARS",305,0)
 ;;PSGSS
"RTN","PSJHVARS",306,0)
 ;;PSGSSH
"RTN","PSJHVARS",307,0)
 ;;PSGST
"RTN","PSJHVARS",308,0)
 ;;PSGSTAT
"RTN","PSJHVARS",309,0)
 ;;PSGSTN
"RTN","PSJHVARS",310,0)
 ;;PSGVADR
"RTN","PSJHVARS",311,0)
 ;;PSGVALG
"RTN","PSJHVARS",312,0)
 ;;PSGVBPN
"RTN","PSJHVARS",313,0)
 ;;PSGVBTM
"RTN","PSJHVARS",314,0)
 ;;PSGVBWN
"RTN","PSJHVARS",315,0)
 ;;PSGVBWW
"RTN","PSJHVARS",316,0)
 ;;PSGVBY
"RTN","PSJHVARS",317,0)
 ;;PSIVAC
"RTN","PSJHVARS",318,0)
 ;;PSIVBR
"RTN","PSJHVARS",319,0)
 ;;PSIVDT
"RTN","PSJHVARS",320,0)
 ;;PSIVON
"RTN","PSJHVARS",321,0)
 ;;PSIVOF
"RTN","PSJHVARS",322,0)
 ;;PSIVOV1
"RTN","PSJHVARS",323,0)
 ;;PSIVOV2
"RTN","PSJHVARS",324,0)
 ;;PSIV
"RTN","PSJHVARS",325,0)
 ;;PSIVORF
"RTN","PSJHVARS",326,0)
 ;;PSIVPL
"RTN","PSJHVARS",327,0)
 ;;PSIVPR
"RTN","PSJHVARS",328,0)
 ;;PSIVRD
"RTN","PSJHVARS",329,0)
 ;;PSIVREA
"RTN","PSJHVARS",330,0)
 ;;PSIVSITE
"RTN","PSJHVARS",331,0)
 ;;PSIVSN
"RTN","PSJHVARS",332,0)
 ;;PSIVST
"RTN","PSJHVARS",333,0)
 ;;PSIVUP
"RTN","PSJHVARS",334,0)
 ;;PSIVX1
"RTN","PSJHVARS",335,0)
 ;;PSIVX2
"RTN","PSJHVARS",336,0)
 ;;PSJ
"RTN","PSJHVARS",337,0)
 ;;PSJAC
"RTN","PSJHVARS",338,0)
 ;;PSJACND
"RTN","PSJHVARS",339,0)
 ;;PSJACNWP
"RTN","PSJHVARS",340,0)
 ;;PSJACOK
"RTN","PSJHVARS",341,0)
 ;;PSJACPF
"RTN","PSJHVARS",342,0)
 ;;PSJASK
"RTN","PSJHVARS",343,0)
 ;;PSJCNT
"RTN","PSJHVARS",344,0)
 ;;PSJF
"RTN","PSJHVARS",345,0)
 ;;PSJHLMTN
"RTN","PSJHVARS",346,0)
 ;;PSJINDEX
"RTN","PSJHVARS",347,0)
 ;;PSJIVOF
"RTN","PSJHVARS",348,0)
 ;;PSJIVORF
"RTN","PSJHVARS",349,0)
 ;;PSJL
"RTN","PSJHVARS",350,0)
 ;;PSJLABEL
"RTN","PSJHVARS",351,0)
 ;;PSJLK
"RTN","PSJHVARS",352,0)
 ;;PSJLM
"RTN","PSJHVARS",353,0)
 ;;PSJLMCON
"RTN","PSJHVARS",354,0)
 ;;PSJLMPRO
"RTN","PSJHVARS",355,0)
 ;;PSJLN
"RTN","PSJHVARS",356,0)
 ;;PSJNARC
"RTN","PSJHVARS",357,0)
 ;;PSJNV
"RTN","PSJHVARS",358,0)
 ;;PSJO
"RTN","PSJHVARS",359,0)
 ;;PSJOCNT
"RTN","PSJHVARS",360,0)
 ;;PSJOE
"RTN","PSJHVARS",361,0)
 ;;PSJOEPF
"RTN","PSJHVARS",362,0)
 ;;PSJOL
"RTN","PSJHVARS",363,0)
 ;;PSJORD
"RTN","PSJHVARS",364,0)
 ;;PSJORF
"RTN","PSJHVARS",365,0)
 ;;PSJORIFN
"RTN","PSJHVARS",366,0)
 ;;PSJORL
"RTN","PSJHVARS",367,0)
 ;;PSJORQF
"RTN","PSJHVARS",368,0)
 ;;PSJORVP
"RTN","PSJHVARS",369,0)
 ;;PSJOS
"RTN","PSJHVARS",370,0)
 ;;PSJPAC
"RTN","PSJHVARS",371,0)
 ;;PSJPAD
"RTN","PSJHVARS",372,0)
 ;;PSJPAGE
"RTN","PSJHVARS",373,0)
 ;;PSJPBID
"RTN","PSJHVARS",374,0)
 ;;PSJPCAF
"RTN","PSJHVARS",375,0)
 ;;PSJPDD
"RTN","PSJHVARS",376,0)
 ;;PSJPDOB
"RTN","PSJHVARS",377,0)
 ;;PSJPDT
"RTN","PSJHVARS",378,0)
 ;;PSJPDX
"RTN","PSJHVARS",379,0)
 ;;PSJPEN
"RTN","PSJHVARS",380,0)
 ;;PSJPHT
"RTN","PSJHVARS",381,0)
 ;;PSJPHTD
"RTN","PSJHVARS",382,0)
 ;;PSJPN
"RTN","PSJHVARS",383,0)
 ;;PSJPPID
"RTN","PSJHVARS",384,0)
 ;;PSJPRB
"RTN","PSJHVARS",385,0)
 ;;PSJPROT
"RTN","PSJHVARS",386,0)
 ;;PSJPSEX
"RTN","PSJHVARS",387,0)
 ;;PSJPSSN
"RTN","PSJHVARS",388,0)
 ;;PSJP
"RTN","PSJHVARS",389,0)
 ;;PSJPTS
"RTN","PSJHVARS",390,0)
 ;;PSJPTSP
"RTN","PSJHVARS",391,0)
 ;;PSJPWD
"RTN","PSJHVARS",392,0)
 ;;PSJPWDN
"RTN","PSJHVARS",393,0)
 ;;PSJPWT
"RTN","PSJHVARS",394,0)
 ;;PSJPWTD
"RTN","PSJHVARS",395,0)
 ;;PSJSCHT
"RTN","PSJHVARS",396,0)
 ;;PSJSEL
"RTN","PSJHVARS",397,0)
 ;;PSJSEL1
"RTN","PSJHVARS",398,0)
 ;;PSJSTOP
"RTN","PSJHVARS",399,0)
 ;;PSJSYSL
"RTN","PSJHVARS",400,0)
 ;;PSJSYSP
"RTN","PSJHVARS",401,0)
 ;;PSJSYSP0
"RTN","PSJHVARS",402,0)
 ;;PSJSYSU
"RTN","PSJHVARS",403,0)
 ;;PSJSYSW
"RTN","PSJHVARS",404,0)
 ;;PSJSYSW0
"RTN","PSJHVARS",405,0)
 ;;PSJTF
"RTN","PSJHVARS",406,0)
 ;;PSJTOO
"RTN","PSJHVARS",407,0)
 ;;PSJUDPRF
"RTN","PSJHVARS",408,0)
 ;;PSJX
"RTN","PSJHVARS",409,0)
 ;;PSSPSP0
"RTN","PSJHVARS",410,0)
 ;;Q
"RTN","PSJHVARS",411,0)
 ;;QQ
"RTN","PSJHVARS",412,0)
 ;;QUD
"RTN","PSJHVARS",413,0)
 ;;QUX1
"RTN","PSJHVARS",414,0)
 ;;RTE
"RTN","PSJHVARS",415,0)
 ;;SCH
"RTN","PSJHVARS",416,0)
 ;;SD
"RTN","PSJHVARS",417,0)
 ;;SEGMENT(0)
"RTN","PSJHVARS",418,0)
 ;;SM
"RTN","PSJHVARS",419,0)
 ;;ST
"RTN","PSJHVARS",420,0)
 ;;START
"RTN","PSJHVARS",421,0)
 ;;STAT
"RTN","PSJHVARS",422,0)
 ;;STATUS
"RTN","PSJHVARS",423,0)
 ;;STOP
"RTN","PSJHVARS",424,0)
 ;;STT
"RTN","PSJHVARS",425,0)
 ;;SUB
"RTN","PSJHVARS",426,0)
 ;;TYPE
"RTN","PSJHVARS",427,0)
 ;;UDU
"RTN","PSJHVARS",428,0)
 ;;V
"RTN","PSJHVARS",429,0)
 ;;VA200
"RTN","PSJHVARS",430,0)
 ;;VADM
"RTN","PSJHVARS",431,0)
 ;;VAIN
"RTN","PSJHVARS",432,0)
 ;;VAIP
"RTN","PSJHVARS",433,0)
 ;;VALMCNT
"RTN","PSJHVARS",434,0)
 ;;VALM("TITLE")
"RTN","PSJHVARS",435,0)
 ;;WRD
"RTN","PSJHVARS",436,0)
 ;;WS
"RTN","PSJHVARS",437,0)
 ;;X
"RTN","PSJHVARS",438,0)
 ;;X3
"RTN","PSJHVARS",439,0)
 ;;X4
"RTN","PSJHVARS",440,0)
 ;;X5
"RTN","PSJHVARS",441,0)
 ;;XRTN
"RTN","PSJHVARS",442,0)
 ;;Y
"VER")
8.0^22.0
"BLD",8476,6)
^219
**END**
**END**
