Released RMPR*3*172 SEQ #151
Extracted from mail message
**KIDS**:RMPR*3.0*172^

**INSTALL NAME**
RMPR*3.0*172
"BLD",8591,0)
RMPR*3.0*172^PROSTHETICS^0^3130531^y
"BLD",8591,1,0)
^^2^2^3130531^
"BLD",8591,1,1,0)
1. National HCPCS file updates are not handling multi line descriptions
"BLD",8591,1,2,0)
   correctly.
"BLD",8591,4,0)
^9.64PA^^
"BLD",8591,6.3)
2
"BLD",8591,"ABPKG")
n
"BLD",8591,"KRN",0)
^9.67PA^779.2^20
"BLD",8591,"KRN",.4,0)
.4
"BLD",8591,"KRN",.401,0)
.401
"BLD",8591,"KRN",.402,0)
.402
"BLD",8591,"KRN",.403,0)
.403
"BLD",8591,"KRN",.5,0)
.5
"BLD",8591,"KRN",.84,0)
.84
"BLD",8591,"KRN",3.6,0)
3.6
"BLD",8591,"KRN",3.8,0)
3.8
"BLD",8591,"KRN",9.2,0)
9.2
"BLD",8591,"KRN",9.8,0)
9.8
"BLD",8591,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",8591,"KRN",9.8,"NM",1,0)
RMPRET^^0^B14881879
"BLD",8591,"KRN",9.8,"NM","B","RMPRET",1)

"BLD",8591,"KRN",19,0)
19
"BLD",8591,"KRN",19.1,0)
19.1
"BLD",8591,"KRN",101,0)
101
"BLD",8591,"KRN",409.61,0)
409.61
"BLD",8591,"KRN",771,0)
771
"BLD",8591,"KRN",779.2,0)
779.2
"BLD",8591,"KRN",870,0)
870
"BLD",8591,"KRN",8989.51,0)
8989.51
"BLD",8591,"KRN",8989.52,0)
8989.52
"BLD",8591,"KRN",8994,0)
8994
"BLD",8591,"KRN","B",.4,.4)

"BLD",8591,"KRN","B",.401,.401)

"BLD",8591,"KRN","B",.402,.402)

"BLD",8591,"KRN","B",.403,.403)

"BLD",8591,"KRN","B",.5,.5)

"BLD",8591,"KRN","B",.84,.84)

"BLD",8591,"KRN","B",3.6,3.6)

"BLD",8591,"KRN","B",3.8,3.8)

"BLD",8591,"KRN","B",9.2,9.2)

"BLD",8591,"KRN","B",9.8,9.8)

"BLD",8591,"KRN","B",19,19)

"BLD",8591,"KRN","B",19.1,19.1)

"BLD",8591,"KRN","B",101,101)

"BLD",8591,"KRN","B",409.61,409.61)

"BLD",8591,"KRN","B",771,771)

"BLD",8591,"KRN","B",779.2,779.2)

"BLD",8591,"KRN","B",870,870)

"BLD",8591,"KRN","B",8989.51,8989.51)

"BLD",8591,"KRN","B",8989.52,8989.52)

"BLD",8591,"KRN","B",8994,8994)

"BLD",8591,"QUES",0)
^9.62^^
"BLD",8591,"REQB",0)
^9.611^1^1
"BLD",8591,"REQB",1,0)
RMPR*3.0*103^2
"BLD",8591,"REQB","B","RMPR*3.0*103",1)

"MBREQ")
0
"PKG",101,-1)
1^1
"PKG",101,0)
PROSTHETICS^RMPR^PROSTHETICS VERSION 3.0 ALPHA
"PKG",101,20,0)
^9.402P^^0
"PKG",101,22,0)
^9.49I^1^1
"PKG",101,22,1,0)
3.0^2960209^2960214
"PKG",101,22,1,"PAH",1,0)
172^3130531
"PKG",101,22,1,"PAH",1,1,0)
^^2^2^3130531
"PKG",101,22,1,"PAH",1,1,1,0)
1. National HCPCS file updates are not handling multi line descriptions
"PKG",101,22,1,"PAH",1,1,2,0)
   correctly.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","RMPRET")
0^1^B14881879^B11977615
"RTN","RMPRET",1,0)
RMPRET ;Hines-OI/HNC - ITEM SERVER ;01/14/2005
"RTN","RMPRET",2,0)
 ;;3.0;PROSTHETICS;**103,172**;Feb 09, 1996;Build 2
"RTN","RMPRET",3,0)
 ;
"RTN","RMPRET",4,0)
 ;DBIA # 10072 - for routine REMSBMSG^XMA1C
"RTN","RMPRET",5,0)
 ;
"RTN","RMPRET",6,0)
 ;Patch RMPR*3.0*172 For description change to insure prior 
"RTN","RMPRET",7,0)
 ;                   description entirely removed before updating
"RTN","RMPRET",8,0)
 ;                   with new description lines.
"RTN","RMPRET",9,0)
 ;
"RTN","RMPRET",10,0)
EN ;Entry Point
"RTN","RMPRET",11,0)
 ;HCPCS SERVER
"RTN","RMPRET",12,0)
 ;
"RTN","RMPRET",13,0)
 ;K ^TMP($J)
"RTN","RMPRET",14,0)
 X XMREC D
"RTN","RMPRET",15,0)
 .;check
"RTN","RMPRET",16,0)
 .S RMPRWHO3=XMRG
"RTN","RMPRET",17,0)
 .X XMREC S RMPRWHO1=XMRG
"RTN","RMPRET",18,0)
 .X XMREC S RMPRWHO2=XMRG
"RTN","RMPRET",19,0)
 .S RMPRWHO=$$DEC^RMPR4LI(RMPRWHO3,RMPRWHO1,RMPRWHO2)
"RTN","RMPRET",20,0)
 .S RMPRCHK=0
"RTN","RMPRET",21,0)
 .F  S RMPRCHK=$O(^RMPR(669.9,RMPRCHK)) Q:RMPRCHK>0
"RTN","RMPRET",22,0)
 .I RMPRWHO'=$P(^RMPR(669.9,RMPRCHK,"INV"),U,4) D NOGO Q
"RTN","RMPRET",23,0)
 D NOW^%DTC S RMPRWHN=%
"RTN","RMPRET",24,0)
 S CNT=6,RMPRDLM=","_"""I"""
"RTN","RMPRET",25,0)
 S (RMPRIEN,RMPRFLD,RMPRVL,RMPRIEN2)=""
"RTN","RMPRET",26,0)
 F  X XMREC Q:XMRG=""  D
"RTN","RMPRET",27,0)
 .;S RMPRMSG(CNT+10000)=$P(XMRG,RMPRDLM,1)_$P(XMRG,RMPRDLM,2)
"RTN","RMPRET",28,0)
 .S RMPRIEN=$P(XMRG,U,1)
"RTN","RMPRET",29,0)
 .S RMPRFLD=$P(XMRG,U,2)
"RTN","RMPRET",30,0)
 .S RMPRVL=$P(XMRG,U,3)
"RTN","RMPRET",31,0)
 .S RMPRIEN2=$P(XMRG,U,4)
"RTN","RMPRET",32,0)
 .I RMPRFLD=.01 S RMPRMSG(CNT)="HCPCS: "_RMPRVL
"RTN","RMPRET",33,0)
 .;S ^TMP($J,RMPRIEN,RMPRFLD)=RMPRVL
"RTN","RMPRET",34,0)
 .;check to see if new and add
"RTN","RMPRET",35,0)
 .I '$D(^RMPR(661.1,RMPRIEN)) D
"RTN","RMPRET",36,0)
 . .S $P(^RMPR(661.1,RMPRIEN,0),U,1)=RMPRVL
"RTN","RMPRET",37,0)
 . .S DIK="^RMPR(661.1,"
"RTN","RMPRET",38,0)
 . .S DA=RMPRIEN D IX1^DIK
"RTN","RMPRET",39,0)
 .S UPD(661.1,RMPRIEN_",",1.1)=RMPRWHN
"RTN","RMPRET",40,0)
 .S UPD(661.1,RMPRIEN_",",1.2)=XMFROM
"RTN","RMPRET",41,0)
 .I RMPRFLD="661.18" D
"RTN","RMPRET",42,0)
 . .;START DESCRIPTION
"RTN","RMPRET",43,0)
 . .I RMPRIEN2=1 D  K DIK,DA,DA(1)      ;RMPR*3.0*172 Clear current description in file before new description lines entered
"RTN","RMPRET",44,0)
 . . .F I=1:1:20 I $D(^RMPR(661.1,RMPRIEN,2,I,0)) S DA=I,DA(1)=RMPRIEN,DIK="^RMPR(661.1,"_DA(1)_",2," D ^DIK
"RTN","RMPRET",45,0)
 . . .K DIK,DA,DA(1),I,^RMPR(661.1,RMPRIEN,2,"B")
"RTN","RMPRET",46,0)
 . .S ^RMPR(661.1,RMPRIEN,2,RMPRIEN2,0)=RMPRVL
"RTN","RMPRET",47,0)
 . .S CNTIEN=0,CNTIEN1=0
"RTN","RMPRET",48,0)
 . .F  S CNTIEN=$O(^RMPR(661.1,RMPRIEN,2,CNTIEN)) Q:CNTIEN'>0  D
"RTN","RMPRET",49,0)
 . . .S CNTIEN1=CNTIEN1+1
"RTN","RMPRET",50,0)
 . .S ^RMPR(661.1,RMPRIEN,2,0)="^661.18^"_CNTIEN1_U_CNTIEN1
"RTN","RMPRET",51,0)
 . .S DIK="^RMPR(661.1,"
"RTN","RMPRET",52,0)
 . .S DA=RMPRIEN D IX1^DIK
"RTN","RMPRET",53,0)
 . .S RMPRFLD=""
"RTN","RMPRET",54,0)
 .I RMPRFLD="" Q
"RTN","RMPRET",55,0)
 .I RMPRFLD'=.01 S UPD(661.1,RMPRIEN_",",RMPRFLD)=RMPRVL
"RTN","RMPRET",56,0)
 .S CNT=CNT+1
"RTN","RMPRET",57,0)
 D FILE^DIE("","UPD","ERROR")
"RTN","RMPRET",58,0)
 I $D(ERROR("DIERR")) S RMPRMSG(1.1)="******* ERROR ENCOUNTERED*******"
"RTN","RMPRET",59,0)
 S XMDUZ=.5
"RTN","RMPRET",60,0)
 S XMY("G.RMPR SERVER")=""
"RTN","RMPRET",61,0)
 S XMY("VHACOPSASPIPReport@domain.ext")=""
"RTN","RMPRET",62,0)
 S XMSUB="PSAS HCPCS Item Server Update "_$P($$SITE^VASITE,U,2)
"RTN","RMPRET",63,0)
 S RMPRMSG(1)="The National PSAS Item Server has been activated today by Prosthetics HQ."
"RTN","RMPRET",64,0)
 S RMPRMSG(2)="Please print your HCPCS Mapping File."
"RTN","RMPRET",65,0)
 S RMPRMSG(3)=""
"RTN","RMPRET",66,0)
 S RMPRMSG(4)="This was activated by "_$P(XMFROM,"@",1)
"RTN","RMPRET",67,0)
 S RMPRMSG(5)=""
"RTN","RMPRET",68,0)
 S XMTEXT="RMPRMSG("
"RTN","RMPRET",69,0)
 D ^XMD
"RTN","RMPRET",70,0)
 G EXIT
"RTN","RMPRET",71,0)
 Q
"RTN","RMPRET",72,0)
NOGO ;message not valid
"RTN","RMPRET",73,0)
 S XMDUZ=.5
"RTN","RMPRET",74,0)
 S XMY("G.RMPR SERVER")=""
"RTN","RMPRET",75,0)
 S XMY("VHACOPSASPIPReport@domain.ext")=""
"RTN","RMPRET",76,0)
 S XMSUB="**ERROR** Not Authorized HCPCS Item Server Update From "_$P($$SITE^VASITE,U,2)
"RTN","RMPRET",77,0)
 S RMPRMSG(1)="The National PSAS Item Server was unsuccessful today."
"RTN","RMPRET",78,0)
 S RMPRMSG(2)="****ERROR**** Not Authorized!"
"RTN","RMPRET",79,0)
 S RMPRMSG(3)=""
"RTN","RMPRET",80,0)
 S RMPRMSG(4)="This was activated by "_XMFROM
"RTN","RMPRET",81,0)
 S XMTEXT="RMPRMSG("
"RTN","RMPRET",82,0)
 D ^XMD
"RTN","RMPRET",83,0)
 ;
"RTN","RMPRET",84,0)
EXIT ;common exit point
"RTN","RMPRET",85,0)
 S XMSER="S."_XQSOP,XMZ=XQMSG D REMSBMSG^XMA1C
"RTN","RMPRET",86,0)
 K %,CNT,DA,DIK,ERROR,RMPRDL,RMPRFLD,RMPRIEN2,RMPRMSG,RMPRVL,RMPRWHN
"RTN","RMPRET",87,0)
 K UPD,XMDUZ,XMFROM,XMREC,XMRG,XMSUB,XMTEXT,XMY,RMPRIEN,RMPRDLM,CNTIEN,CNTIEN1
"RTN","RMPRET",88,0)
 K RMPRWHO,RMPRWHO1,RMPRWHO2,RMPRWHO3,XMSER,RMPRCHK,XMZ,XQMSG,XQSOP
"RTN","RMPRET",89,0)
 ;END
"VER")
8.0^22.0
"BLD",8591,6)
^151
**END**
**END**
