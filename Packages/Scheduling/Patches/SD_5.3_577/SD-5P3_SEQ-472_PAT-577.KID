Released SD*5.3*577 SEQ #472
Extracted from mail message
**KIDS**:SD*5.3*577^

**INSTALL NAME**
SD*5.3*577
"BLD",8587,0)
SD*5.3*577^SCHEDULING^0^3110107^y
"BLD",8587,1,0)
^^1^1^3110104^
"BLD",8587,1,1,0)
Fixes undefined variable error - <Undefined>EN+15^SCENIA0.
"BLD",8587,4,0)
^9.64PA^^
"BLD",8587,6.3)
2
"BLD",8587,"ABPKG")
n
"BLD",8587,"KRN",0)
^9.67PA^779.2^20
"BLD",8587,"KRN",.4,0)
.4
"BLD",8587,"KRN",.401,0)
.401
"BLD",8587,"KRN",.402,0)
.402
"BLD",8587,"KRN",.403,0)
.403
"BLD",8587,"KRN",.5,0)
.5
"BLD",8587,"KRN",.84,0)
.84
"BLD",8587,"KRN",3.6,0)
3.6
"BLD",8587,"KRN",3.8,0)
3.8
"BLD",8587,"KRN",9.2,0)
9.2
"BLD",8587,"KRN",9.8,0)
9.8
"BLD",8587,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",8587,"KRN",9.8,"NM",1,0)
SCENIA0^^0^B13233235
"BLD",8587,"KRN",9.8,"NM","B","SCENIA0",1)

"BLD",8587,"KRN",19,0)
19
"BLD",8587,"KRN",19.1,0)
19.1
"BLD",8587,"KRN",101,0)
101
"BLD",8587,"KRN",409.61,0)
409.61
"BLD",8587,"KRN",771,0)
771
"BLD",8587,"KRN",779.2,0)
779.2
"BLD",8587,"KRN",870,0)
870
"BLD",8587,"KRN",8989.51,0)
8989.51
"BLD",8587,"KRN",8989.52,0)
8989.52
"BLD",8587,"KRN",8994,0)
8994
"BLD",8587,"KRN","B",.4,.4)

"BLD",8587,"KRN","B",.401,.401)

"BLD",8587,"KRN","B",.402,.402)

"BLD",8587,"KRN","B",.403,.403)

"BLD",8587,"KRN","B",.5,.5)

"BLD",8587,"KRN","B",.84,.84)

"BLD",8587,"KRN","B",3.6,3.6)

"BLD",8587,"KRN","B",3.8,3.8)

"BLD",8587,"KRN","B",9.2,9.2)

"BLD",8587,"KRN","B",9.8,9.8)

"BLD",8587,"KRN","B",19,19)

"BLD",8587,"KRN","B",19.1,19.1)

"BLD",8587,"KRN","B",101,101)

"BLD",8587,"KRN","B",409.61,409.61)

"BLD",8587,"KRN","B",771,771)

"BLD",8587,"KRN","B",779.2,779.2)

"BLD",8587,"KRN","B",870,870)

"BLD",8587,"KRN","B",8989.51,8989.51)

"BLD",8587,"KRN","B",8989.52,8989.52)

"BLD",8587,"KRN","B",8994,8994)

"BLD",8587,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",8587,"QUES",0)
^9.62^^
"BLD",8587,"REQB",0)
^9.611^1^1
"BLD",8587,"REQB",1,0)
SD*5.3*66^2
"BLD",8587,"REQB","B","SD*5.3*66",1)

"MBREQ")
0
"PKG",16,-1)
1^1
"PKG",16,0)
SCHEDULING^SD^APPOINTMENTS,PROFILES,LETTERS,AMIS REPORTS
"PKG",16,20,0)
^9.402P^^
"PKG",16,22,0)
^9.49I^1^1
"PKG",16,22,1,0)
5.3^2930813
"PKG",16,22,1,"PAH",1,0)
577^3110107
"PKG",16,22,1,"PAH",1,1,0)
^^1^1^3110107
"PKG",16,22,1,"PAH",1,1,1,0)
Fixes undefined variable error - <Undefined>EN+15^SCENIA0.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","SCENIA0")
0^1^B13233235^B12845973
"RTN","SCENIA0",1,0)
SCENIA0 ;ALB/SCK - DISPLAY INCOMPLETE ENCOUNTER ERRORS ; 09-MAY-1997
"RTN","SCENIA0",2,0)
 ;;5.3;Scheduling;**66,577**;AUG 13, 1993;Build 2
"RTN","SCENIA0",3,0)
 ;
"RTN","SCENIA0",4,0)
EN ; -- main entry point for SCENI INCOMPLETE ENC DISPLAY
"RTN","SCENIA0",5,0)
 ;   Variables
"RTN","SCENIA0",6,0)
 ;        SDOE  - Ptr to #409.68
"RTN","SCENIA0",7,0)
 ;        SDCLN - Ptr to #44
"RTN","SCENIA0",8,0)
 ;        SDFLG - Deleted encounter or not
"RTN","SCENIA0",9,0)
 ;        SCINF - Encounter information array
"RTN","SCENIA0",10,0)
 ;
"RTN","SCENIA0",11,0)
 N VALMCNT
"RTN","SCENIA0",12,0)
 S VALMBCK=""
"RTN","SCENIA0",13,0)
 K ^TMP("SCENI DFN",$J),^TMP("SCENI XMT",$J)
"RTN","SCENIA0",14,0)
 K VA,SDFLG
"RTN","SCENIA0",15,0)
 ;
"RTN","SCENIA0",16,0)
 Q:'+SDXPTR
"RTN","SCENIA0",17,0)
 S SDFLG=$$OPENC^SCUTIE1(SDXPTR,"SCINF")
"RTN","SCENIA0",18,0)
 I SDFLG=-1,$D(SCINF("ERROR")) W !!,$G(SCINF("ERROR")) H 3 K SCINF Q   ;SD*577
"RTN","SCENIA0",19,0)
 ;
"RTN","SCENIA0",20,0)
 S DFN=SCINF("DFN")
"RTN","SCENIA0",21,0)
 S ^TMP("SCENI DFN",$J,0)=DFN
"RTN","SCENIA0",22,0)
 S ^TMP("SCENI XMT",$J,0)=+SDXPTR
"RTN","SCENIA0",23,0)
 D PID^VADPT6
"RTN","SCENIA0",24,0)
 D EN^VALM("SCENI INCOMPLETE ENC DISPLAY")
"RTN","SCENIA0",25,0)
 S VALMBCK="R"
"RTN","SCENIA0",26,0)
 Q
"RTN","SCENIA0",27,0)
 ;
"RTN","SCENIA0",28,0)
HDR ; -- header code
"RTN","SCENIA0",29,0)
 I '$G(VA("BID")) S DFN=SCINF("DFN") D PID^VADPT6
"RTN","SCENIA0",30,0)
 S VALMHDR(1)="  Patient: "_$$LOWER^VALM1($E($P(^DPT(SCINF("DFN"),0),U),1,25))
"RTN","SCENIA0",31,0)
 S VALMHDR(1)=$$SETSTR^VALM1("SSN: "_VA("BID"),VALMHDR(1),66,10)
"RTN","SCENIA0",32,0)
 S VALMHDR(2)="   Clinic: "_$E($P($G(^SC(SCINF("CLINIC"),0)),U),1,25)
"RTN","SCENIA0",33,0)
 S VALMHDR(2)=$$SETSTR^VALM1($S(SDFLG:"(DEL) ",1:"      ")_"Encounter Date: "_$$FDTTM^VALM1(SCINF("ENCOUNTER")),VALMHDR(2),49,30)
"RTN","SCENIA0",34,0)
 Q
"RTN","SCENIA0",35,0)
 ;
"RTN","SCENIA0",36,0)
INIT ; -- init variables and list array
"RTN","SCENIA0",37,0)
 ;     Variables
"RTN","SCENIA0",38,0)
 ;       IW,IC,EC,EW,DC,DW,SC,SW - Col widths and positions
"RTN","SCENIA0",39,0)
 ;       SDECNT - Counter
"RTN","SCENIA0",40,0)
 ;
"RTN","SCENIA0",41,0)
 K ^TMP("SCENI ERR",$J)
"RTN","SCENIA0",42,0)
 D CLEAN^VALM10
"RTN","SCENIA0",43,0)
 ;
"RTN","SCENIA0",44,0)
 S BL="",$P(BL," ",30)=""
"RTN","SCENIA0",45,0)
 S X=VALMDDF("INDEX"),IC=$P(X,U,2),IW=$P(X,U,3)
"RTN","SCENIA0",46,0)
 S X=VALMDDF("SOURCE"),SC=$P(X,U,2),SW=$P(X,U,3)
"RTN","SCENIA0",47,0)
 S X=VALMDDF("ERROR"),EC=$P(X,U,2),EW=$P(X,U,3)
"RTN","SCENIA0",48,0)
 S X=VALMDDF("DESCRIPTION"),DC=$P(X,U,2),DW=$P(X,U,3)
"RTN","SCENIA0",49,0)
 ;
"RTN","SCENIA0",50,0)
 D BLD
"RTN","SCENIA0",51,0)
 I '$D(^TMP("SCENI ERR",$J)) D  Q
"RTN","SCENIA0",52,0)
 . S (SDECNT,VALMCNT)=0
"RTN","SCENIA0",53,0)
 . D SET(" "),SET("No Errors found.")
"RTN","SCENIA0",54,0)
 Q
"RTN","SCENIA0",55,0)
 ;
"RTN","SCENIA0",56,0)
BLD ;  Build display global for error entries in the error file
"RTN","SCENIA0",57,0)
 ;
"RTN","SCENIA0",58,0)
 S (SDECNT,VALMCNT)=0,SDEPTR=""
"RTN","SCENIA0",59,0)
 F  S SDEPTR=$O(^SD(409.75,"B",SDXPTR,SDEPTR)) Q:'SDEPTR  D
"RTN","SCENIA0",60,0)
 . Q:'$D(^SD(409.75,SDEPTR))
"RTN","SCENIA0",61,0)
 . D BLD1(SDEPTR)
"RTN","SCENIA0",62,0)
 Q
"RTN","SCENIA0",63,0)
 ;
"RTN","SCENIA0",64,0)
BLD1(SDEPTR) ;   Build display line
"RTN","SCENIA0",65,0)
 ;    Input
"RTN","SCENIA0",66,0)
 ;         SDEPTR - Ptr to #409.75
"RTN","SCENIA0",67,0)
 ;
"RTN","SCENIA0",68,0)
 ;    Variables
"RTN","SCENIA0",69,0)
 ;        SDX     - Local variable
"RTN","SCENIA0",70,0)
 ;        ERNODE  - Error table node 0
"RTN","SCENIA0",71,0)
 ;        ERNODE1 - Error table node 1
"RTN","SCENIA0",72,0)
 ;        SDERR   - Error code
"RTN","SCENIA0",73,0)
 ;
"RTN","SCENIA0",74,0)
 N SDSRC
"RTN","SCENIA0",75,0)
 ;
"RTN","SCENIA0",76,0)
 S SDECNT=SDECNT+1,SDX="",$P(SDX," ",VALMWD+1)=""
"RTN","SCENIA0",77,0)
 ;W:(SDECNT#10)=0 "."
"RTN","SCENIA0",78,0)
 ;
"RTN","SCENIA0",79,0)
 S SDERR=$P(^SD(409.75,SDEPTR,0),U,2)
"RTN","SCENIA0",80,0)
 Q:'SDERR
"RTN","SCENIA0",81,0)
 S ERNODE=$G(^SD(409.76,SDERR,0))
"RTN","SCENIA0",82,0)
 S ERNODE1=$G(^SD(409.76,SDERR,1))
"RTN","SCENIA0",83,0)
 ;
"RTN","SCENIA0",84,0)
 S SDX=$E(SDX,1,IC-1)_$E(SDECNT_BL,1,IW)_$E(SDX,IC+IW+1,VALMWD)
"RTN","SCENIA0",85,0)
 S SDSRC=$P(ERNODE,U,2)
"RTN","SCENIA0",86,0)
 S SDX=$E(SDX,1,SC-1)_$E($S(SDSRC="V":"VISTA",SDSRC="N":"NPCD ",1:"UNK  ")_BL,1,SW)_$E(SDX,SC+SW+1,VALMWD)
"RTN","SCENIA0",87,0)
 S SDX=$E(SDX,1,EC-1)_$E($P(ERNODE,U)_BL,1,EW)_$E(SDX,EC+EW+1,VALMWD)
"RTN","SCENIA0",88,0)
 S SDX=$E(SDX,1,DC-1)_$E(ERNODE1_BL,1,DW)_$E(SDX,DC+DW+1,VALMWD)
"RTN","SCENIA0",89,0)
 D SET(SDX)
"RTN","SCENIA0",90,0)
 Q
"RTN","SCENIA0",91,0)
 ;
"RTN","SCENIA0",92,0)
SET(X) ;   Sets formatted display string into TMP global
"RTN","SCENIA0",93,0)
 S VALMCNT=VALMCNT+1,^TMP("SCENI ERR",$J,VALMCNT,0)=X
"RTN","SCENIA0",94,0)
 Q:'SDECNT
"RTN","SCENIA0",95,0)
 S ^TMP("SCENI ERR",$J,"IDX",VALMCNT,SDECNT)=SDEPTR_U_$P(ERNODE,U)
"RTN","SCENIA0",96,0)
 S ^TMP("SCENI ERR",$J,"DA",SDECNT,SDEPTR)=""
"RTN","SCENIA0",97,0)
 ;S ^TMP("SCENI ERR",$J,"XMT",SDECNT,SDXPTR)=""
"RTN","SCENIA0",98,0)
 Q
"RTN","SCENIA0",99,0)
 ;
"RTN","SCENIA0",100,0)
HELP ; -- help code
"RTN","SCENIA0",101,0)
 S X="?" D DISP^XQORM1 W !!
"RTN","SCENIA0",102,0)
 Q
"RTN","SCENIA0",103,0)
 ;
"RTN","SCENIA0",104,0)
EXIT ; -- exit code
"RTN","SCENIA0",105,0)
 K ^TMP("SCENI ERR",$J),^TMP("SCENI DFN",$J),^TMP("SCENI XMT",$J),VA
"RTN","SCENIA0",106,0)
 K BL,IW,IC,EC,EW,DC,DW,SC,SW,SDECNT,SCINF,SDFLG,SDEPTR,SDX,ERNODE,ERNODE1,SDERR,SCCOR,SCTEXT
"RTN","SCENIA0",107,0)
 K SDN1,SDN2,SCEPTR,SDOK,SINDX,DIE,DR,STATUS,RESULT
"RTN","SCENIA0",108,0)
 I $G(FLG1),$D(VALMBCK),VALMBCK="R" D REFRESH^VALM S VALMBCK=$P(VALMBCK,"R")_$P(VALMBCK,"R",2)
"RTN","SCENIA0",109,0)
 Q
"VER")
8.0^22.0
"BLD",8587,6)
^472
**END**
**END**
