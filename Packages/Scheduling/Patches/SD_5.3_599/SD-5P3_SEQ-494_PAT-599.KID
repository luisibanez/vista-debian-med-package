Released SD*5.3*599 SEQ #494
Extracted from mail message
**KIDS**:SD*5.3*599^

**INSTALL NAME**
SD*5.3*599
"BLD",9127,0)
SD*5.3*599^SCHEDULING^0^3120904^y
"BLD",9127,1,0)
^^4^4^3120815^
"BLD",9127,1,1,0)
This patch addresses one Scheduling issue:
"BLD",9127,1,2,0)
 
"BLD",9127,1,3,0)
1. Previously deleted unused fields were reinstalled into system from 
"BLD",9127,1,4,0)
patch SD*5.3*568.
"BLD",9127,4,0)
^9.64PA^^
"BLD",9127,6)
1^
"BLD",9127,6.3)
11
"BLD",9127,"ABPKG")
n
"BLD",9127,"INID")
^n
"BLD",9127,"INIT")
EN^SD599PT
"BLD",9127,"KRN",0)
^9.67PA^779.2^20
"BLD",9127,"KRN",.4,0)
.4
"BLD",9127,"KRN",.401,0)
.401
"BLD",9127,"KRN",.402,0)
.402
"BLD",9127,"KRN",.403,0)
.403
"BLD",9127,"KRN",.5,0)
.5
"BLD",9127,"KRN",.84,0)
.84
"BLD",9127,"KRN",3.6,0)
3.6
"BLD",9127,"KRN",3.8,0)
3.8
"BLD",9127,"KRN",9.2,0)
9.2
"BLD",9127,"KRN",9.8,0)
9.8
"BLD",9127,"KRN",19,0)
19
"BLD",9127,"KRN",19.1,0)
19.1
"BLD",9127,"KRN",101,0)
101
"BLD",9127,"KRN",409.61,0)
409.61
"BLD",9127,"KRN",771,0)
771
"BLD",9127,"KRN",779.2,0)
779.2
"BLD",9127,"KRN",870,0)
870
"BLD",9127,"KRN",8989.51,0)
8989.51
"BLD",9127,"KRN",8989.52,0)
8989.52
"BLD",9127,"KRN",8994,0)
8994
"BLD",9127,"KRN","B",.4,.4)

"BLD",9127,"KRN","B",.401,.401)

"BLD",9127,"KRN","B",.402,.402)

"BLD",9127,"KRN","B",.403,.403)

"BLD",9127,"KRN","B",.5,.5)

"BLD",9127,"KRN","B",.84,.84)

"BLD",9127,"KRN","B",3.6,3.6)

"BLD",9127,"KRN","B",3.8,3.8)

"BLD",9127,"KRN","B",9.2,9.2)

"BLD",9127,"KRN","B",9.8,9.8)

"BLD",9127,"KRN","B",19,19)

"BLD",9127,"KRN","B",19.1,19.1)

"BLD",9127,"KRN","B",101,101)

"BLD",9127,"KRN","B",409.61,409.61)

"BLD",9127,"KRN","B",771,771)

"BLD",9127,"KRN","B",779.2,779.2)

"BLD",9127,"KRN","B",870,870)

"BLD",9127,"KRN","B",8989.51,8989.51)

"BLD",9127,"KRN","B",8989.52,8989.52)

"BLD",9127,"KRN","B",8994,8994)

"BLD",9127,"QUES",0)
^9.62^^
"BLD",9127,"REQB",0)
^9.611^1^1
"BLD",9127,"REQB",1,0)
SD*5.3*568^2
"BLD",9127,"REQB","B","SD*5.3*568",1)

"INIT")
EN^SD599PT
"MBREQ")
0
"PKG",16,-1)
1^1
"PKG",16,0)
SCHEDULING^SD^APPOINTMENTS,PROFILES,LETTERS,AMIS REPORTS
"PKG",16,20,0)
^9.402P^^
"PKG",16,22,0)
^9.49I^1^1
"PKG",16,22,1,0)
5.3^2930813
"PKG",16,22,1,"PAH",1,0)
599^3120904^100892
"PKG",16,22,1,"PAH",1,1,0)
^^4^4^3120904
"PKG",16,22,1,"PAH",1,1,1,0)
This patch addresses one Scheduling issue:
"PKG",16,22,1,"PAH",1,1,2,0)
 
"PKG",16,22,1,"PAH",1,1,3,0)
1. Previously deleted unused fields were reinstalled into system from 
"PKG",16,22,1,"PAH",1,1,4,0)
patch SD*5.3*568.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","SD599PT")
0^^B9142610^n/a
"RTN","SD599PT",1,0)
SD599PT ;ALB/RJS - Patch SD*5.3*599 Post-Init Routine ; 8/13/12 11:08am
"RTN","SD599PT",2,0)
 ;;5.3;Scheduling;**599**;Aug 13, 1993;Build 11
"RTN","SD599PT",3,0)
 ;
"RTN","SD599PT",4,0)
 Q
"RTN","SD599PT",5,0)
 ;
"RTN","SD599PT",6,0)
EN ; --- main entry point
"RTN","SD599PT",7,0)
 S U="^"
"RTN","SD599PT",8,0)
 D BMES^XPDUTL("Post-Init Started...")
"RTN","SD599PT",9,0)
 ;
"RTN","SD599PT",10,0)
 ; -- main driver calls
"RTN","SD599PT",11,0)
 D HL
"RTN","SD599PT",12,0)
 ;
"RTN","SD599PT",13,0)
 D BMES^XPDUTL("Post-Init Finished.")
"RTN","SD599PT",14,0)
 Q
"RTN","SD599PT",15,0)
 ;
"RTN","SD599PT",16,0)
HL ; -- delete HOSPITIAL LOCATION (#44) fields and related data
"RTN","SD599PT",17,0)
 N SDARY,SDIEN
"RTN","SD599PT",18,0)
 ;
"RTN","SD599PT",19,0)
 D BMES^XPDUTL("   >>> Deleting HOSPITAL LOCATION (#44) fields...")
"RTN","SD599PT",20,0)
 ;
"RTN","SD599PT",21,0)
 ; -- get fields to delete
"RTN","SD599PT",22,0)
 D BUILDR(44,.SDARY)
"RTN","SD599PT",23,0)
 ;
"RTN","SD599PT",24,0)
 IF '$O(SDARY(0)) D MES^XPDUTL("       -> Fields already deleted.") Q
"RTN","SD599PT",25,0)
 ;
"RTN","SD599PT",26,0)
 ; -- delete data
"RTN","SD599PT",27,0)
 S SDIEN=0
"RTN","SD599PT",28,0)
 F  S SDIEN=$O(^SC(SDIEN)) Q:'SDIEN  D
"RTN","SD599PT",29,0)
 . N SDFDA,SDFLD
"RTN","SD599PT",30,0)
 . S SDFLD=0
"RTN","SD599PT",31,0)
 . F  S SDFLD=$O(SDARY(SDFLD)) Q:'SDFLD  D
"RTN","SD599PT",32,0)
 . . I SDFLD=25,$D(^SC("AE",1,SDIEN)) D  Q  ;Re file data associated with field 2802 global position 25
"RTN","SD599PT",33,0)
 . . . S SDFDA(44,SDIEN_",",SDFLD)=1
"RTN","SD599PT",34,0)
 . . . D FILE^DIE("S","SDFDA")
"RTN","SD599PT",35,0)
 . . S SDFDA(44,SDIEN_",",SDFLD)="@"
"RTN","SD599PT",36,0)
 . D FILE^DIE("S","SDFDA")
"RTN","SD599PT",37,0)
 I $D(^SC("AF")) K ^("AF") ;if "AF" xref still exists after file edit. Delete entire xref.
"RTN","SD599PT",38,0)
 ;
"RTN","SD599PT",39,0)
 ; -- delete dds
"RTN","SD599PT",40,0)
 D DELDD(44)
"RTN","SD599PT",41,0)
 D MES^XPDUTL("   >>> Done.")
"RTN","SD599PT",42,0)
 Q
"RTN","SD599PT",43,0)
 ;
"RTN","SD599PT",44,0)
BUILDR(SDD,SDARY) ; -- build array of fields to delete
"RTN","SD599PT",45,0)
 N SDI,SDX,SDENDFLG
"RTN","SD599PT",46,0)
 S SDENDFLG="$$END$$"
"RTN","SD599PT",47,0)
 ;
"RTN","SD599PT",48,0)
 F SDI=1:1 S SDX=$P($T(FLDS+SDI),";;",2) Q:SDX=SDENDFLG  D
"RTN","SD599PT",49,0)
 . N SDFILE,SDFLD
"RTN","SD599PT",50,0)
 . S SDFILE=+SDX
"RTN","SD599PT",51,0)
 . S SDFLD=+$P(SDX,U,2)
"RTN","SD599PT",52,0)
 . S SDNAME=$P(SDX,U,3)
"RTN","SD599PT",53,0)
 . IF SDD=SDFILE,$$LABEL(SDFILE,SDFLD)=SDNAME D
"RTN","SD599PT",54,0)
 . . S SDARY(SDFLD)=""
"RTN","SD599PT",55,0)
 Q
"RTN","SD599PT",56,0)
 ;
"RTN","SD599PT",57,0)
DELDD(SDD) ; -- tool to delete fields dd
"RTN","SD599PT",58,0)
 ; -- delete dd
"RTN","SD599PT",59,0)
 N SDI,SDX,SDENDFLG,SDCNT
"RTN","SD599PT",60,0)
 S SDENDFLG="$$END$$"
"RTN","SD599PT",61,0)
 S SDCNT=0
"RTN","SD599PT",62,0)
 ;
"RTN","SD599PT",63,0)
 ; -- delete dds
"RTN","SD599PT",64,0)
 F SDI=1:1 S SDX=$P($T(FLDS+SDI),";;",2) Q:SDX=SDENDFLG  D
"RTN","SD599PT",65,0)
 . N SDFILE,SDFLD,SDNAME
"RTN","SD599PT",66,0)
 . S SDFILE=+SDX
"RTN","SD599PT",67,0)
 . S SDFLD=+$P(SDX,U,2)
"RTN","SD599PT",68,0)
 . S SDNAME=$P(SDX,U,3)
"RTN","SD599PT",69,0)
 . ;
"RTN","SD599PT",70,0)
 . ; -- make sure field is not reused before deleting
"RTN","SD599PT",71,0)
 . IF SDD=SDFILE,$$LABEL(SDFILE,SDFLD)=SDNAME D
"RTN","SD599PT",72,0)
 . . N DIK,DA
"RTN","SD599PT",73,0)
 . . S DIK="^DD("_SDD_",",DA=SDFLD,DA(1)=SDD D ^DIK
"RTN","SD599PT",74,0)
 . . D MSG(SDFLD,SDNAME)
"RTN","SD599PT",75,0)
 . . S SDCNT=SDCNT+1
"RTN","SD599PT",76,0)
 ;
"RTN","SD599PT",77,0)
 IF 'SDCNT D MES^XPDUTL("       -> Fields already deleted.")
"RTN","SD599PT",78,0)
 Q
"RTN","SD599PT",79,0)
 ;
"RTN","SD599PT",80,0)
LABEL(SDFILE,SDFLD) ; -- get label if not deleted
"RTN","SD599PT",81,0)
 N SDY
"RTN","SD599PT",82,0)
 D FIELD^DID(SDFILE,SDFLD,"N","LABEL","SDY")
"RTN","SD599PT",83,0)
 Q $G(SDY("LABEL"))
"RTN","SD599PT",84,0)
 ;
"RTN","SD599PT",85,0)
MSG(SDFLD,SDNAME) ; -- tell user (use kids call??) 
"RTN","SD599PT",86,0)
 D MES^XPDUTL("       -> Field '"_SDFLD_" - "_SDNAME_"' deleted.")
"RTN","SD599PT",87,0)
 Q
"RTN","SD599PT",88,0)
 ;
"RTN","SD599PT",89,0)
FLDS ; -- fields to be deleted [ file# ^ field# ^ field label ]
"RTN","SD599PT",90,0)
 ;;44^25^PROCEDURE CHECK-OFF SHEET
"RTN","SD599PT",91,0)
 ;;44^26^ASK PROVIDER AT CHECK OUT
"RTN","SD599PT",92,0)
 ;;44^27^ASK DIAGNOSIS AT CHECK OUT
"RTN","SD599PT",93,0)
 ;;44^28^ASK STOP CODES AT CHECK OUT
"RTN","SD599PT",94,0)
 ;;$$END$$
"VER")
8.0^22.0
"BLD",9127,6)
^494
**END**
**END**
