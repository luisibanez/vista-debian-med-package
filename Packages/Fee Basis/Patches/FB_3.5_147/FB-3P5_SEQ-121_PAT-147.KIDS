Released FB*3.5*147 SEQ #121
Extracted from mail message
**KIDS**:FB*3.5*147^

**INSTALL NAME**
FB*3.5*147
"BLD",9225,0)
FB*3.5*147^FEE BASIS^0^3130228^y
"BLD",9225,1,0)
^^3^3^3130221^
"BLD",9225,1,1,0)
This patch adds two new Purpose Of Visit (POV) codes to the Fee Basis 
"BLD",9225,1,2,0)
Purpose of Visit (#161.82) file for Newborn care, and updates the name of 
"BLD",9225,1,3,0)
one existing POV code.
"BLD",9225,4,0)
^9.64PA^^
"BLD",9225,6.3)
9
"BLD",9225,"INID")
^n
"BLD",9225,"INIT")
POST^FBXIP147
"BLD",9225,"KRN",0)
^9.67PA^779.2^20
"BLD",9225,"KRN",.4,0)
.4
"BLD",9225,"KRN",.401,0)
.401
"BLD",9225,"KRN",.402,0)
.402
"BLD",9225,"KRN",.403,0)
.403
"BLD",9225,"KRN",.5,0)
.5
"BLD",9225,"KRN",.84,0)
.84
"BLD",9225,"KRN",3.6,0)
3.6
"BLD",9225,"KRN",3.8,0)
3.8
"BLD",9225,"KRN",9.2,0)
9.2
"BLD",9225,"KRN",9.8,0)
9.8
"BLD",9225,"KRN",19,0)
19
"BLD",9225,"KRN",19.1,0)
19.1
"BLD",9225,"KRN",101,0)
101
"BLD",9225,"KRN",409.61,0)
409.61
"BLD",9225,"KRN",771,0)
771
"BLD",9225,"KRN",779.2,0)
779.2
"BLD",9225,"KRN",870,0)
870
"BLD",9225,"KRN",8989.51,0)
8989.51
"BLD",9225,"KRN",8989.52,0)
8989.52
"BLD",9225,"KRN",8994,0)
8994
"BLD",9225,"KRN","B",.4,.4)

"BLD",9225,"KRN","B",.401,.401)

"BLD",9225,"KRN","B",.402,.402)

"BLD",9225,"KRN","B",.403,.403)

"BLD",9225,"KRN","B",.5,.5)

"BLD",9225,"KRN","B",.84,.84)

"BLD",9225,"KRN","B",3.6,3.6)

"BLD",9225,"KRN","B",3.8,3.8)

"BLD",9225,"KRN","B",9.2,9.2)

"BLD",9225,"KRN","B",9.8,9.8)

"BLD",9225,"KRN","B",19,19)

"BLD",9225,"KRN","B",19.1,19.1)

"BLD",9225,"KRN","B",101,101)

"BLD",9225,"KRN","B",409.61,409.61)

"BLD",9225,"KRN","B",771,771)

"BLD",9225,"KRN","B",779.2,779.2)

"BLD",9225,"KRN","B",870,870)

"BLD",9225,"KRN","B",8989.51,8989.51)

"BLD",9225,"KRN","B",8989.52,8989.52)

"BLD",9225,"KRN","B",8994,8994)

"BLD",9225,"QDEF")
^^^^NO^^^^NO^^YES
"BLD",9225,"QUES",0)
^9.62^^
"INIT")
POST^FBXIP147
"MBREQ")
0
"PKG",60,-1)
1^1
"PKG",60,0)
FEE BASIS^FB^Used to pay private vendors
"PKG",60,20,0)
^9.402P^1^1
"PKG",60,20,1,0)
2^^FBPMRG
"PKG",60,20,1,1)

"PKG",60,20,"B",2,1)

"PKG",60,22,0)
^9.49I^1^1
"PKG",60,22,1,0)
3.5^2950130^2950313
"PKG",60,22,1,"PAH",1,0)
147^3130228^1199
"PKG",60,22,1,"PAH",1,1,0)
^^3^3^3130228
"PKG",60,22,1,"PAH",1,1,1,0)
This patch adds two new Purpose Of Visit (POV) codes to the Fee Basis 
"PKG",60,22,1,"PAH",1,1,2,0)
Purpose of Visit (#161.82) file for Newborn care, and updates the name of 
"PKG",60,22,1,"PAH",1,1,3,0)
one existing POV code.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","FBXIP147")
0^^B8692347^n/a
"RTN","FBXIP147",1,0)
FBXIP147 ;ALB/DEP-PATCH INSTALL ROUTINE ; 2/8/13 11:22am
"RTN","FBXIP147",2,0)
 ;;3.5;FEE BASIS;**147**;JAN 30, 1995;Build 9
"RTN","FBXIP147",3,0)
 ;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","FBXIP147",4,0)
 Q
"RTN","FBXIP147",5,0)
 ;
"RTN","FBXIP147",6,0)
POST ; post-install entry point
"RTN","FBXIP147",7,0)
 ; create KIDS checkpoints with call backs
"RTN","FBXIP147",8,0)
 N FBT,Y
"RTN","FBXIP147",9,0)
 S FBT="UPDPOV" D
"RTN","FBXIP147",10,0)
 . S Y=$$NEWCP^XPDUTL(FBT,FBT_"^FBXIP147")
"RTN","FBXIP147",11,0)
 . I 'Y D BMES^XPDUTL("ERROR Creating "_FBT_" Checkpoint.")
"RTN","FBXIP147",12,0)
 Q
"RTN","FBXIP147",13,0)
 ;
"RTN","FBXIP147",14,0)
UPDPOV ; Update Selected Purpose of Visits (POV)
"RTN","FBXIP147",15,0)
 N FBCODE,FBDA,FBFDA,FBI,FBNAME,FBPROG,FBX,X,Y
"RTN","FBXIP147",16,0)
 D BMES^XPDUTL("  Updating selected POVs in the FEE BASIS PURPOSE OF VISIT (161.82) file...")
"RTN","FBXIP147",17,0)
 ;
"RTN","FBXIP147",18,0)
 ; verify IEN of OUTPATIENT program in FEE BASIS PROGRAM file
"RTN","FBXIP147",19,0)
 I $P($G(^FBAA(161.8,2,0)),U)'="OUTPATIENT" D  Q
"RTN","FBXIP147",20,0)
 . D MES^XPDUTL("    ERROR: Fee Program with IEN 2 is not OUTPATIENT.")
"RTN","FBXIP147",21,0)
 . D MES^XPDUTL("    Purpose of Visits could not be updated.")
"RTN","FBXIP147",22,0)
 . D MES^XPDUTL("    Please contact your IRM for assistance.")
"RTN","FBXIP147",23,0)
 ;
"RTN","FBXIP147",24,0)
 ; verify IEN of CIVIL HOSPITAL in FEE BASIS PROGRAM file
"RTN","FBXIP147",25,0)
 I $P($G(^FBAA(161.8,6,0)),U)'="CIVIL HOSPITAL" D  Q
"RTN","FBXIP147",26,0)
 . D MES^XPDUTL("    ERROR: Fee Program with IEN 6 is not CIVIL HOSPITAL.")
"RTN","FBXIP147",27,0)
 . D MES^XPDUTL("    Purpose of Visits could not be updated.")
"RTN","FBXIP147",28,0)
 . D MES^XPDUTL("    Please contact your IRM for assistance.")
"RTN","FBXIP147",29,0)
 ;
"RTN","FBXIP147",30,0)
 ; update POVs
"RTN","FBXIP147",31,0)
 ; loop thru POVs
"RTN","FBXIP147",32,0)
 F FBI=1:1 S FBX=$P($T(POV+FBI),";;",2) Q:FBX="END"  D
"RTN","FBXIP147",33,0)
 . S FBCODE=$P(FBX,U)
"RTN","FBXIP147",34,0)
 . S FBNAME=$P(FBX,U,2)
"RTN","FBXIP147",35,0)
 . S FBPROG=$P(FBX,U,3)
"RTN","FBXIP147",36,0)
 . ;
"RTN","FBXIP147",37,0)
 . ; locate POV in file
"RTN","FBXIP147",38,0)
 . S FBDA=$$FIND1^DIC(161.82,"","X",FBCODE,"AC")
"RTN","FBXIP147",39,0)
 . ;
"RTN","FBXIP147",40,0)
 . ; if POV found then check and if necessary add to update array
"RTN","FBXIP147",41,0)
 . I FBDA D
"RTN","FBXIP147",42,0)
 . . I $$GET1^DIQ(161.82,FBDA_",",.01)'=FBNAME S FBFDA(161.82,FBDA_",",.01)=FBNAME
"RTN","FBXIP147",43,0)
 . . I $$GET1^DIQ(161.82,FBDA_",",2,"I")'=FBPROG S FBFDA(161.82,FBDA_",",2)=FBPROG
"RTN","FBXIP147",44,0)
 . . D MES^XPDUTL("POV WITH CODE "_FBCODE_" HAS BEEN UPDATED")
"RTN","FBXIP147",45,0)
 . ;
"RTN","FBXIP147",46,0)
 . ; if POV not found then add it
"RTN","FBXIP147",47,0)
 . I 'FBDA,FBNAME'="" D
"RTN","FBXIP147",48,0)
 . . N DA,DD,DIC,DINUM,DLAYGO,DO,X
"RTN","FBXIP147",49,0)
 . . S DIC="^FBAA(161.82,",DIC(0)="L",DLAYGO=161.82
"RTN","FBXIP147",50,0)
 . . S X=FBNAME
"RTN","FBXIP147",51,0)
 . . S DIC("DR")="2///^S X=FBPROG;3///^S X=FBCODE"
"RTN","FBXIP147",52,0)
 . . I +FBCODE,'$D(^FBAA(161.82,+FBCODE,0)) S DINUM=+FBCODE
"RTN","FBXIP147",53,0)
 . . D FILE^DICN
"RTN","FBXIP147",54,0)
 . . I Y<0 D MES^XPDUTL("ERROR ADDING POV WITH CODE "_FBCODE) Q
"RTN","FBXIP147",55,0)
 . . D MES^XPDUTL("POV WITH CODE "_FBCODE_" HAS BEEN ADDED")
"RTN","FBXIP147",56,0)
 ;
"RTN","FBXIP147",57,0)
 ; actually update the found POVs
"RTN","FBXIP147",58,0)
 I $D(FBFDA) D FILE^DIE("","FBFDA")
"RTN","FBXIP147",59,0)
 ;
"RTN","FBXIP147",60,0)
 D MES^XPDUTL("    Done.")
"RTN","FBXIP147",61,0)
 Q
"RTN","FBXIP147",62,0)
 ;
"RTN","FBXIP147",63,0)
POV ;austin code^name^fee program for Purpose of Visit (POV) code(s)
"RTN","FBXIP147",64,0)
 ;;29^NEWBORN CARE FOR THE FIRST 7 DAYS AFTER BIRTH.^6
"RTN","FBXIP147",65,0)
 ;;34^NON-VA HOSP. CARE FOR WOMEN VETERANS (NO OTHER ELIGIBILITY). INCLUDES MATERNITY CARE^6
"RTN","FBXIP147",66,0)
 ;;66^NEWBORN CARE FOR THE FIRST 7 DAYS AFTER BIRTH.^2
"RTN","FBXIP147",67,0)
 ;;END
"RTN","FBXIP147",68,0)
 ;
"RTN","FBXIP147",69,0)
 ;FBXIP147
"VER")
8.0^22.0
"BLD",9225,6)
^121
**END**
**END**
