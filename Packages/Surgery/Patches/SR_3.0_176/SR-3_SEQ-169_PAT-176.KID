Released SR*3*176 SEQ #169
Extracted from mail message
**KIDS**:SR*3.0*176^

**INSTALL NAME**
SR*3.0*176
"BLD",8080,0)
SR*3.0*176^SURGERY^0^3120409^y
"BLD",8080,1,0)
^^130^130^3120120^
"BLD",8080,1,1,0)
In support of the VA Surgery Quality Improvement Program (VASQIP), this 
"BLD",8080,1,2,0)
patch provides the VASQIP Increment 2 update to the Veterans Health 
"BLD",8080,1,3,0)
Information Systems and Technology Architecture (VistA) Surgery package.
"BLD",8080,1,4,0)
The updates include the addition of new data fields, changes to existing
"BLD",8080,1,5,0)
fields, changes to data entry screens, changes to reports, changes to the
"BLD",8080,1,6,0)
Surgery Risk Assessment transmissions, and changes to transplant
"BLD",8080,1,7,0)
components of the VistA Surgery application.
"BLD",8080,1,8,0)
 
"BLD",8080,1,9,0)
 1. Surgery Cancellation Modifications
"BLD",8080,1,10,0)
   a. Surgery cancellation functionality is modified so that any surgery 
"BLD",8080,1,11,0)
      case that is placed on the surgery schedule and then cancelled will 
"BLD",8080,1,12,0)
      be retained in the SURGERY file (#130) as a cancelled case
"BLD",8080,1,13,0)
      regardless of when the case is cancelled. Also, a cancellation
"BLD",8080,1,14,0)
      reason is required for every cancellation. Any scheduled case that
"BLD",8080,1,15,0)
      is cancelled will be counted as a cancellation on the Report of
"BLD",8080,1,16,0)
      Cancellations generated by the Report of Cancellations [SROCAN]
"BLD",8080,1,17,0)
      option.
"BLD",8080,1,18,0)
 
"BLD",8080,1,19,0)
   b. The Report of Cancellations, generated by the Report of 
"BLD",8080,1,20,0)
      Cancellations [SROCAN] option, is modified to group patient data 
"BLD",8080,1,21,0)
      together within specialty so that all cases for a single patient
"BLD",8080,1,22,0)
      will be shown together. The report will also order based on 
"BLD",8080,1,23,0)
      operations so the same operation descriptions will show next to each
"BLD",8080,1,24,0)
      other for the same patient.  
"BLD",8080,1,25,0)
 
"BLD",8080,1,26,0)
 2. Miscellaneous Additions to Risk Assessment Transmissions
"BLD",8080,1,27,0)
   a. The name of the operating room as defined in the HOSPITAL LOCATION 
"BLD",8080,1,28,0)
      file (#44) is added to each cardiac and non-cardiac risk assessment 
"BLD",8080,1,29,0)
      transmission and to each 1-liner case transmission.
"BLD",8080,1,30,0)
 
"BLD",8080,1,31,0)
   b. The following four fields in the SURGERY file (#130) are added to
"BLD",8080,1,32,0)
      each 1-liner case transmission and to the list of items checked for
"BLD",8080,1,33,0)
      by the List of 1-Liner Cases Missing Information which is one of the
"BLD",8080,1,34,0)
      reports generated by the List of Surgery Risk Assessments [SROA
"BLD",8080,1,35,0)
      ASSESSMENT LIST] option:
"BLD",8080,1,36,0)
       - TIME OPERATION BEGAN (#.22)
"BLD",8080,1,37,0)
       - TIME OPERATION ENDS (#.23)
"BLD",8080,1,38,0)
       - TIME PAT IN OR (#.205)
"BLD",8080,1,39,0)
       - TIME PAT OUT OR (#.232)
"BLD",8080,1,40,0)
 
"BLD",8080,1,41,0)
 3. Positive Drug Screening
"BLD",8080,1,42,0)
    A new POSITIVE DRUG SCREENING  field (#618) is added to the SURGERY 
"BLD",8080,1,43,0)
    file (#130). This field is added to the Preoperative Information 
"BLD",8080,1,44,0)
    (Enter/Edit)[SROA PREOP DATA] option, the Clinical Information 
"BLD",8080,1,45,0)
    (Enter/Edit)[SROA CLINICAL INFORMATION] option and the Print a Surgery
"BLD",8080,1,46,0)
    Risk Assessment [SROA PRINT ASSESSMENT] option. This field is also
"BLD",8080,1,47,0)
    added to the cardiac and non-cardiac risk assessment transmissions and
"BLD",8080,1,48,0)
    is added to the list of missing items functionality.
"BLD",8080,1,49,0)
 
"BLD",8080,1,50,0)
 4. Consolidation of Shared Cardiac, Non-Cardiac and Transplant Fields
"BLD",8080,1,51,0)
    This patch updates various fields in the SURGERY file (#130) and in
"BLD",8080,1,52,0)
    the SURGERY TRANSPLANT ASSESSMENTS file (#139.5) as well as various
"BLD",8080,1,53,0)
    occurrence category descriptions in the PERIOPERATIVE OCCURRENCE
"BLD",8080,1,54,0)
    CATEGORY file (#136.5) so that common items share common definitions.
"BLD",8080,1,55,0)
    This patch also replaces various fields with new fields in order to
"BLD",8080,1,56,0)
    enhance and refine certain data elements that are in common with
"BLD",8080,1,57,0)
    cardiac and non-cardiac risk assessments and transplant assessments.
"BLD",8080,1,58,0)
    All the associated data input options, assessment printouts and
"BLD",8080,1,59,0)
    transmissions are updated accordingly.
"BLD",8080,1,60,0)
    
"BLD",8080,1,61,0)
    The complete list of updated fields, new fields and replaced 
"BLD",8080,1,62,0)
    fields is in the patch release notes.
"BLD",8080,1,63,0)
    
"BLD",8080,1,64,0)
 5. Add Serial Number for Prosthesis Items
"BLD",8080,1,65,0)
     - Two new fields, LOT NUMBER (#11) and SERIAL NUMBER (#12) are 
"BLD",8080,1,66,0)
       added to the PROSTHESIS INSTALLED multiple field (#.47, sub-file 
"BLD",8080,1,67,0)
       #130.01) to replace the existing LOT/SERIAL NO field (#2.5). The 
"BLD",8080,1,68,0)
       Operation [SROMEN-OP] option and the Nurse Intraoperative Report 
"BLD",8080,1,69,0)
       [SRONRPT] option are updated to allow editing and display of these
"BLD",8080,1,70,0)
       two new fields.
"BLD",8080,1,71,0)
     - LOT NUMBER field (#8) and SERIAL NUMBER field (#9) are added to
"BLD",8080,1,72,0)
       the PROSTHESIS file (#131.9). The Update Site Configurable Files
"BLD",8080,1,73,0)
       [SR UPDATE FILES] option is modified to allow editing of these new
"BLD",8080,1,74,0)
       fields and to disallow editing of the LOT/SERIAL NO field (#4) and
"BLD",8080,1,75,0)
       the STERILE CODE field (#3).
"BLD",8080,1,76,0)
       
"BLD",8080,1,77,0)
 6. Flash Sterilization
"BLD",8080,1,78,0)
    Six new fields are added to the SURGERY file (#130) to document the
"BLD",8080,1,79,0)
    number of episodes of each type of flash sterilization that happened
"BLD",8080,1,80,0)
    for an operation:
"BLD",8080,1,81,0)
     - FLASH-CONTAMINATION (#619)
"BLD",8080,1,82,0)
     - FLASH-SPD/OR MGT ISSUE (#620)
"BLD",8080,1,83,0)
     - FLASH-EMERGENCY CASE (#621)
"BLD",8080,1,84,0)
     - FLASH-NO BETTER OPTION (#622)
"BLD",8080,1,85,0)
     - FLASH-LOANER INSTRUMENT (#623)
"BLD",8080,1,86,0)
     - FLASH-DECONTAMINATION (#624)
"BLD",8080,1,87,0)
       
"BLD",8080,1,88,0)
    The Post Operation [SROMEN-POST] option and the Nurse Intraoperative
"BLD",8080,1,89,0)
    Report [SRONRPT] option are updated to allow editing and display of
"BLD",8080,1,90,0)
    these two new fields.
"BLD",8080,1,91,0)
    
"BLD",8080,1,92,0)
 7. 30-Day Readmission
"BLD",8080,1,93,0)
    This patch creates a transmission report that lists inpatient 
"BLD",8080,1,94,0)
    surgery cases which were followed by the patient being readmitted 
"BLD",8080,1,95,0)
    within 30 days of discharge. This report is run by the Surgery 
"BLD",8080,1,96,0)
    Nightly Cleanup and Updates [SRTASK-NIGHT] option and will transmit to
"BLD",8080,1,97,0)
    the VASQIP database automatically each quarter.
"BLD",8080,1,98,0)
    
"BLD",8080,1,99,0)
 8. Update ICD9 to ICD
"BLD",8080,1,100,0)
    References to ICD9 are replaced with ICD in the following menu 
"BLD",8080,1,101,0)
    options:
"BLD",8080,1,102,0)
     - CPT/ICD9 Coding Menu [SRCODING MENU]
"BLD",8080,1,103,0)
     - CPT/ICD9 Update/Verify Menu [SRCODING UPDATE/VERIFY MENU]
"BLD",8080,1,104,0)
     - Update/verify Procedure/Diagnosis Codes [SRCODING EDIT]
"BLD",8080,1,105,0)
    
"BLD",8080,1,106,0)
 9. Remove Quarterly Report References
"BLD",8080,1,107,0)
   a. References to "Quarterly Report" are removed from the Deaths Within
"BLD",8080,1,108,0)
      30 Days of Surgery [SROQD] option.
"BLD",8080,1,109,0)
 
"BLD",8080,1,110,0)
   b. The routines that provided the Surgery Quarterly Report
"BLD",8080,1,111,0)
      functionality are removed. Those routines are SROQ1, SROQ1A, SROQ2,
"BLD",8080,1,112,0)
      SROQM, SROQM0, SROQM1 and SROQT.
"BLD",8080,1,113,0)
 
"BLD",8080,1,114,0)
10. Add Superficial Incisional SSI to Cardiac Outcomes
"BLD",8080,1,115,0)
    The SUPERFICIAL INCISIONAL SSI field (#248) in the SURGERY file 
"BLD",8080,1,116,0)
    (#130) is added to the Outcome Information (Enter/Edit) [SROA 
"BLD",8080,1,117,0)
    CARDIAC-OUTCOMES] option, the cardiac assessment transmission and to 
"BLD",8080,1,118,0)
    the cardiac assessment printout.
"BLD",8080,1,119,0)
 
"BLD",8080,1,120,0)
11. The following routines associated with obsolete functionality are 
"BLD",8080,1,121,0)
    removed: SROAC, SROAC1, SROAC2, SROACCR, SROACRC, SROACS, SROASWAP,
"BLD",8080,1,122,0)
    SROASWP, SROASWP0, SROASWP1, SROASWP2, SROAWSP3, SROASWPD, SRSLOOK,
"BLD",8080,1,123,0)
    and SRSLOOK1.
"BLD",8080,1,124,0)
    
"BLD",8080,1,125,0)
12. This patch fixes the issue reported by Remedy ticket #528445, where 
"BLD",8080,1,126,0)
    the PREOPERATIVE IMAGES CONFIRMED field (#606) displays the same data
"BLD",8080,1,127,0)
    as MARKED SITE CONFIRMED field (#605).
"BLD",8080,1,128,0)
 
"BLD",8080,1,129,0)
13. This patch updates the CPT EXCLUSIONS file (#137) with data for 
"BLD",8080,1,130,0)
    fiscal year 2012.
"BLD",8080,4,0)
^9.64PA^136.5^5
"BLD",8080,4,130,0)
130
"BLD",8080,4,130,2,0)
^9.641^130.22^3
"BLD",8080,4,130,2,130,0)
SURGERY  (File-top level)
"BLD",8080,4,130,2,130,1,0)
^9.6411^248^30
"BLD",8080,4,130,2,130,1,78,0)
PREVIOUSLY SCHEDULED CASE
"BLD",8080,4,130,2,130,1,79,0)
RESCHEDULED CASE
"BLD",8080,4,130,2,130,1,202,0)
*CURRENT SMOKER
"BLD",8080,4,130,2,130,1,240,0)
FUNCTIONAL HEALTH STATUS
"BLD",8080,4,130,2,130,1,248,0)
SUPERFICIAL INCISIONAL SSI
"BLD",8080,4,130,2,130,1,254,0)
ACUTE RENAL FAILURE
"BLD",8080,4,130,2,130,1,256,0)
STROKE/CVA
"BLD",8080,4,130,2,130,1,258,0)
MYOCARDIAL INFARCTION
"BLD",8080,4,130,2,130,1,264,0)
*CEREBRAL VASCULAR DISEASE
"BLD",8080,4,130,2,130,1,334,0)
*HISTORY OF TIA'S
"BLD",8080,4,130,2,130,1,335,0)
*CVA/STROKE WITH NEURO DEFICIT
"BLD",8080,4,130,2,130,1,336,0)
*CVA/STROKE - NO NEURO DEFICIT
"BLD",8080,4,130,2,130,1,346,0)
*DIABETES
"BLD",8080,4,130,2,130,1,385,0)
PERIOPERATIVE MI
"BLD",8080,4,130,2,130,1,390,0)
*STROKE
"BLD",8080,4,130,2,130,1,475,0)
*DIABETES (CARDIAC)
"BLD",8080,4,130,2,130,1,510,0)
*CURRENT SMOKER (CARDIAC)
"BLD",8080,4,130,2,130,1,517,0)
TOBACCO USE
"BLD",8080,4,130,2,130,1,518,0)
TOBACCO USE TIMEFRAME
"BLD",8080,4,130,2,130,1,519,0)
DIABETES MELLITUS CHRONIC
"BLD",8080,4,130,2,130,1,520,0)
DIABETES MELLITUS PREOP MGMT
"BLD",8080,4,130,2,130,1,521,0)
CVD REPAIR/OBSTRUCTION
"BLD",8080,4,130,2,130,1,522,0)
HISTORY OF CVD
"BLD",8080,4,130,2,130,1,618,0)
POSITIVE DRUG SCREENING
"BLD",8080,4,130,2,130,1,619,0)
FLASH-CONTAMINATION
"BLD",8080,4,130,2,130,1,620,0)
FLASH-SPD/OR MGT ISSUE
"BLD",8080,4,130,2,130,1,621,0)
FLASH-EMERGENCY CASE
"BLD",8080,4,130,2,130,1,622,0)
FLASH-NO BETTER OPTION
"BLD",8080,4,130,2,130,1,623,0)
FLASH-LOANER INSTRUMENT
"BLD",8080,4,130,2,130,1,624,0)
FLASH-DECONTAMINATION
"BLD",8080,4,130,2,130.01,0)
PROSTHESIS INSTALLED  (sub-file)
"BLD",8080,4,130,2,130.01,1,0)
^9.6411^12^2
"BLD",8080,4,130,2,130.01,1,11,0)
LOT NUMBER
"BLD",8080,4,130,2,130.01,1,12,0)
SERIAL NUMBER
"BLD",8080,4,130,2,130.22,0)
POSTOP OCCURRENCE  (sub-file)
"BLD",8080,4,130,2,130.22,1,0)
^9.6411^9^1
"BLD",8080,4,130,2,130.22,1,9,0)
STROKE/CVA DURATION
"BLD",8080,4,130,222)
y^n^p^^^^n^^n
"BLD",8080,4,130,224)

"BLD",8080,4,131.9,0)
131.9
"BLD",8080,4,131.9,2,0)
^9.641^131.9^1
"BLD",8080,4,131.9,2,131.9,0)
PROSTHESIS  (File-top level)
"BLD",8080,4,131.9,2,131.9,1,0)
^9.6411^9^2
"BLD",8080,4,131.9,2,131.9,1,8,0)
LOT NUMBER
"BLD",8080,4,131.9,2,131.9,1,9,0)
SERIAL NUMBER
"BLD",8080,4,131.9,222)
y^n^p^^^^n^^n
"BLD",8080,4,131.9,224)

"BLD",8080,4,133,0)
133
"BLD",8080,4,133,2,0)
^9.641^133^1
"BLD",8080,4,133,2,133,0)
SURGERY SITE PARAMETERS  (File-top level)
"BLD",8080,4,133,2,133,1,0)
^9.6411^8^1
"BLD",8080,4,133,2,133,1,8,0)
LATEST 30-READMISSION REPORT
"BLD",8080,4,133,222)
y^n^p^^^^n^^n
"BLD",8080,4,133,224)

"BLD",8080,4,136.5,0)
136.5
"BLD",8080,4,136.5,222)
y^y^f^^n^^y^o^n
"BLD",8080,4,139.5,0)
139.5
"BLD",8080,4,139.5,2,0)
^9.641^139.5^1
"BLD",8080,4,139.5,2,139.5,0)
SURGERY TRANSPLANT ASSESSMENTS  (File-top level)
"BLD",8080,4,139.5,2,139.5,1,0)
^9.6411^203^12
"BLD",8080,4,139.5,2,139.5,1,121,0)
STROKE/CVA
"BLD",8080,4,139.5,2,139.5,1,147,0)
*DIABETES MELLITUS
"BLD",8080,4,139.5,2,139.5,1,171,0)
*CURRENT SMOKER - NOT USED
"BLD",8080,4,139.5,2,139.5,1,174,0)
*CEREBRAL VASCULAR DISEASE
"BLD",8080,4,139.5,2,139.5,1,191,0)
RENAL FAILURE REQ. DIALYSIS
"BLD",8080,4,139.5,2,139.5,1,192,0)
PERIOPERATIVE MI
"BLD",8080,4,139.5,2,139.5,1,198,0)
TOBACCO USE
"BLD",8080,4,139.5,2,139.5,1,199,0)
TOBACCO USE TIMEFRAME
"BLD",8080,4,139.5,2,139.5,1,200,0)
DIABETES MELLITUS CHRONIC
"BLD",8080,4,139.5,2,139.5,1,201,0)
DIABETES MELLITUS PREOP MGMT
"BLD",8080,4,139.5,2,139.5,1,202,0)
CVD REPAIR/OBSTRUCTION
"BLD",8080,4,139.5,2,139.5,1,203,0)
HISTORY OF CVD
"BLD",8080,4,139.5,222)
y^n^p^^^^n^^n
"BLD",8080,4,139.5,224)

"BLD",8080,4,"APDD",130,130)

"BLD",8080,4,"APDD",130,130,78)

"BLD",8080,4,"APDD",130,130,79)

"BLD",8080,4,"APDD",130,130,202)

"BLD",8080,4,"APDD",130,130,240)

"BLD",8080,4,"APDD",130,130,248)

"BLD",8080,4,"APDD",130,130,254)

"BLD",8080,4,"APDD",130,130,256)

"BLD",8080,4,"APDD",130,130,258)

"BLD",8080,4,"APDD",130,130,264)

"BLD",8080,4,"APDD",130,130,334)

"BLD",8080,4,"APDD",130,130,335)

"BLD",8080,4,"APDD",130,130,336)

"BLD",8080,4,"APDD",130,130,346)

"BLD",8080,4,"APDD",130,130,385)

"BLD",8080,4,"APDD",130,130,390)

"BLD",8080,4,"APDD",130,130,475)

"BLD",8080,4,"APDD",130,130,510)

"BLD",8080,4,"APDD",130,130,517)

"BLD",8080,4,"APDD",130,130,518)

"BLD",8080,4,"APDD",130,130,519)

"BLD",8080,4,"APDD",130,130,520)

"BLD",8080,4,"APDD",130,130,521)

"BLD",8080,4,"APDD",130,130,522)

"BLD",8080,4,"APDD",130,130,618)

"BLD",8080,4,"APDD",130,130,619)

"BLD",8080,4,"APDD",130,130,620)

"BLD",8080,4,"APDD",130,130,621)

"BLD",8080,4,"APDD",130,130,622)

"BLD",8080,4,"APDD",130,130,623)

"BLD",8080,4,"APDD",130,130,624)

"BLD",8080,4,"APDD",130,130.01)

"BLD",8080,4,"APDD",130,130.01,11)

"BLD",8080,4,"APDD",130,130.01,12)

"BLD",8080,4,"APDD",130,130.22)

"BLD",8080,4,"APDD",130,130.22,9)

"BLD",8080,4,"APDD",131.9,131.9)

"BLD",8080,4,"APDD",131.9,131.9,8)

"BLD",8080,4,"APDD",131.9,131.9,9)

"BLD",8080,4,"APDD",133,133)

"BLD",8080,4,"APDD",133,133,8)

"BLD",8080,4,"APDD",139.5,139.5)

"BLD",8080,4,"APDD",139.5,139.5,121)

"BLD",8080,4,"APDD",139.5,139.5,147)

"BLD",8080,4,"APDD",139.5,139.5,171)

"BLD",8080,4,"APDD",139.5,139.5,174)

"BLD",8080,4,"APDD",139.5,139.5,191)

"BLD",8080,4,"APDD",139.5,139.5,192)

"BLD",8080,4,"APDD",139.5,139.5,198)

"BLD",8080,4,"APDD",139.5,139.5,199)

"BLD",8080,4,"APDD",139.5,139.5,200)

"BLD",8080,4,"APDD",139.5,139.5,201)

"BLD",8080,4,"APDD",139.5,139.5,202)

"BLD",8080,4,"APDD",139.5,139.5,203)

"BLD",8080,4,"B",130,130)

"BLD",8080,4,"B",131.9,131.9)

"BLD",8080,4,"B",133,133)

"BLD",8080,4,"B",136.5,136.5)

"BLD",8080,4,"B",139.5,139.5)

"BLD",8080,6.3)
8
"BLD",8080,"INI")
PRE^SR176UTL
"BLD",8080,"INID")
^y^y
"BLD",8080,"INIT")
POST^SR176UTL
"BLD",8080,"KRN",0)
^9.67PA^779.2^20
"BLD",8080,"KRN",.4,0)
.4
"BLD",8080,"KRN",.401,0)
.401
"BLD",8080,"KRN",.402,0)
.402
"BLD",8080,"KRN",.402,"NM",0)
^9.68A^3^3
"BLD",8080,"KRN",.402,"NM",1,0)
SROMEN-POST    FILE #130^130^0
"BLD",8080,"KRN",.402,"NM",2,0)
SRONRPT    FILE #130^130^0
"BLD",8080,"KRN",.402,"NM",3,0)
SROMEN-OPER    FILE #130^130^0
"BLD",8080,"KRN",.402,"NM","B","SROMEN-OPER    FILE #130",3)

"BLD",8080,"KRN",.402,"NM","B","SROMEN-POST    FILE #130",1)

"BLD",8080,"KRN",.402,"NM","B","SRONRPT    FILE #130",2)

"BLD",8080,"KRN",.403,0)
.403
"BLD",8080,"KRN",.5,0)
.5
"BLD",8080,"KRN",.84,0)
.84
"BLD",8080,"KRN",3.6,0)
3.6
"BLD",8080,"KRN",3.8,0)
3.8
"BLD",8080,"KRN",9.2,0)
9.2
"BLD",8080,"KRN",9.2,"NM",0)
^9.68A^^
"BLD",8080,"KRN",9.8,0)
9.8
"BLD",8080,"KRN",9.8,"NM",0)
^9.68A^91^89
"BLD",8080,"KRN",9.8,"NM",1,0)
SROACL1^^0^B32293061
"BLD",8080,"KRN",9.8,"NM",2,0)
SROACLN^^0^B12597200
"BLD",8080,"KRN",9.8,"NM",3,0)
SROAPCA^^0^B30319092
"BLD",8080,"KRN",9.8,"NM",4,0)
SROAPRE1^^0^B13792714
"BLD",8080,"KRN",9.8,"NM",5,0)
SROAPS1^^0^B27027149
"BLD",8080,"KRN",9.8,"NM",6,0)
SROAPRT1^^0^B17263679
"BLD",8080,"KRN",9.8,"NM",8,0)
SRONRPT1^^0^B27292461
"BLD",8080,"KRN",9.8,"NM",9,0)
SROAUTL^^0^B41315079
"BLD",8080,"KRN",9.8,"NM",10,0)
SROAUTL1^^0^B19378590
"BLD",8080,"KRN",9.8,"NM",11,0)
SROAUTLC^^0^B28000682
"BLD",8080,"KRN",9.8,"NM",12,0)
SROAUTL4^^0^B55709470
"BLD",8080,"KRN",9.8,"NM",13,0)
SROESNR1^^0^B41160518
"BLD",8080,"KRN",9.8,"NM",14,0)
SROATMNO^^0^B36435737
"BLD",8080,"KRN",9.8,"NM",15,0)
SROATM1^^0^B25818950
"BLD",8080,"KRN",9.8,"NM",16,0)
SROATCM1^^0^B57561203
"BLD",8080,"KRN",9.8,"NM",17,0)
SRONRPT3^^0^B26846038
"BLD",8080,"KRN",9.8,"NM",18,0)
SROFILE^^0^B16246959
"BLD",8080,"KRN",9.8,"NM",19,0)
SROP^^0^B21464405
"BLD",8080,"KRN",9.8,"NM",20,0)
SROESNR0^^0^B39978191
"BLD",8080,"KRN",9.8,"NM",21,0)
SROACL2^^0^B3905416
"BLD",8080,"KRN",9.8,"NM",22,0)
SROQ30D^^0^B25737238
"BLD",8080,"KRN",9.8,"NM",23,0)
SROQ0^^0^B2820292
"BLD",8080,"KRN",9.8,"NM",24,0)
SROQD^^0^B31124608
"BLD",8080,"KRN",9.8,"NM",25,0)
SRONITE^^0^B3746041
"BLD",8080,"KRN",9.8,"NM",26,0)
SROUTC^^0^B20577259
"BLD",8080,"KRN",9.8,"NM",27,0)
SROAOUT^^0^B16161579
"BLD",8080,"KRN",9.8,"NM",28,0)
SROAPCA3^^0^B26346165
"BLD",8080,"KRN",9.8,"NM",29,0)
SRTPHRT3^^0^B29966365
"BLD",8080,"KRN",9.8,"NM",30,0)
SRTPRH1^^0^B19779584
"BLD",8080,"KRN",9.8,"NM",31,0)
SROAUTL3^^0^B13680381
"BLD",8080,"KRN",9.8,"NM",32,0)
SROCMPED^^0^B34021331
"BLD",8080,"KRN",9.8,"NM",33,0)
SRTPRH2^^0^B10615308
"BLD",8080,"KRN",9.8,"NM",34,0)
SROAPS2^^0^B17240705
"BLD",8080,"KRN",9.8,"NM",35,0)
SROAPRE2^^0^B9148135
"BLD",8080,"KRN",9.8,"NM",36,0)
SROAPRT2^^0^B11792393
"BLD",8080,"KRN",9.8,"NM",37,0)
SRTPKID3^^0^B22920528
"BLD",8080,"KRN",9.8,"NM",38,0)
SRTPLIV4^^0^B18271645
"BLD",8080,"KRN",9.8,"NM",39,0)
SRTPLUN3^^0^B23740054
"BLD",8080,"KRN",9.8,"NM",40,0)
SRTPRK1^^0^B17385598
"BLD",8080,"KRN",9.8,"NM",41,0)
SRTPRLI1^^0^B12730267
"BLD",8080,"KRN",9.8,"NM",42,0)
SRTPRLU1^^0^B10274745
"BLD",8080,"KRN",9.8,"NM",43,0)
SRTPTM1^^0^B30165729
"BLD",8080,"KRN",9.8,"NM",45,0)
SROCAN0^^0^B16620958
"BLD",8080,"KRN",9.8,"NM",46,0)
SRSCAN0^^0^B17191683
"BLD",8080,"KRN",9.8,"NM",47,0)
SRSCAN2^^0^B12903373
"BLD",8080,"KRN",9.8,"NM",48,0)
SROAPRT7^^0^B30682535
"BLD",8080,"KRN",9.8,"NM",49,0)
SROAUTL0^^0^B21141152
"BLD",8080,"KRN",9.8,"NM",50,0)
SRTPUTL^^0^B17836670
"BLD",8080,"KRN",9.8,"NM",51,0)
SRTPUTLC^^0^B15681866
"BLD",8080,"KRN",9.8,"NM",52,0)
SRTPUTL4^^0^B68822462
"BLD",8080,"KRN",9.8,"NM",53,0)
SROATM2^^0^B35035640
"BLD",8080,"KRN",9.8,"NM",54,0)
SROQ0A^^0^B1380442
"BLD",8080,"KRN",9.8,"NM",55,0)
SROQ^^0^B206693
"BLD",8080,"KRN",9.8,"NM",56,0)
SROALMN^^0^B24842259
"BLD",8080,"KRN",9.8,"NM",57,0)
SROAUTL2^^0^B35937353
"BLD",8080,"KRN",9.8,"NM",58,0)
SROAPCA4^^0^B15333948
"BLD",8080,"KRN",9.8,"NM",59,0)
SROQ1^^1^
"BLD",8080,"KRN",9.8,"NM",60,0)
SROQ1A^^1^
"BLD",8080,"KRN",9.8,"NM",61,0)
SROQ2^^1^
"BLD",8080,"KRN",9.8,"NM",62,0)
SROQM^^1^
"BLD",8080,"KRN",9.8,"NM",63,0)
SROQM0^^1^
"BLD",8080,"KRN",9.8,"NM",64,0)
SROQM1^^1^
"BLD",8080,"KRN",9.8,"NM",65,0)
SROQT^^1^
"BLD",8080,"KRN",9.8,"NM",66,0)
SROCCAT^^0^B16992620
"BLD",8080,"KRN",9.8,"NM",67,0)
SROACRC^^1^
"BLD",8080,"KRN",9.8,"NM",68,0)
SROAC^^1^
"BLD",8080,"KRN",9.8,"NM",69,0)
SROAC1^^1^
"BLD",8080,"KRN",9.8,"NM",70,0)
SROAC2^^1^
"BLD",8080,"KRN",9.8,"NM",71,0)
SROASWAP^^1^
"BLD",8080,"KRN",9.8,"NM",72,0)
SROASWP^^1^
"BLD",8080,"KRN",9.8,"NM",73,0)
SROASWP0^^1^
"BLD",8080,"KRN",9.8,"NM",74,0)
SROASWP1^^1^
"BLD",8080,"KRN",9.8,"NM",75,0)
SROASWP2^^1^
"BLD",8080,"KRN",9.8,"NM",76,0)
SROASWP3^^1^
"BLD",8080,"KRN",9.8,"NM",77,0)
SROASWPD^^1^
"BLD",8080,"KRN",9.8,"NM",78,0)
SROACCR^^1^
"BLD",8080,"KRN",9.8,"NM",79,0)
SRONRPT0^^0^B63289001
"BLD",8080,"KRN",9.8,"NM",80,0)
SRTPKID4^^0^B14842762
"BLD",8080,"KRN",9.8,"NM",81,0)
SRTPHRT5^^0^B16458020
"BLD",8080,"KRN",9.8,"NM",82,0)
SRTPLIV6^^0^B15125679
"BLD",8080,"KRN",9.8,"NM",83,0)
SRONIN^^0^B79594372
"BLD",8080,"KRN",9.8,"NM",84,0)
SRSLOOK^^1^
"BLD",8080,"KRN",9.8,"NM",85,0)
SRSLOOK1^^1^
"BLD",8080,"KRN",9.8,"NM",86,0)
SRONEW^^0^B35630421
"BLD",8080,"KRN",9.8,"NM",87,0)
SR176UT0^^0^B69974019
"BLD",8080,"KRN",9.8,"NM",88,0)
SR176UT1^^0^B70158350
"BLD",8080,"KRN",9.8,"NM",89,0)
SR176UT2^^0^B70899048
"BLD",8080,"KRN",9.8,"NM",90,0)
SROACS^^1^
"BLD",8080,"KRN",9.8,"NM",91,0)
SROXR4^^0^B8706222
"BLD",8080,"KRN",9.8,"NM","B","SR176UT0",87)

"BLD",8080,"KRN",9.8,"NM","B","SR176UT1",88)

"BLD",8080,"KRN",9.8,"NM","B","SR176UT2",89)

"BLD",8080,"KRN",9.8,"NM","B","SROAC",68)

"BLD",8080,"KRN",9.8,"NM","B","SROAC1",69)

"BLD",8080,"KRN",9.8,"NM","B","SROAC2",70)

"BLD",8080,"KRN",9.8,"NM","B","SROACCR",78)

"BLD",8080,"KRN",9.8,"NM","B","SROACL1",1)

"BLD",8080,"KRN",9.8,"NM","B","SROACL2",21)

"BLD",8080,"KRN",9.8,"NM","B","SROACLN",2)

"BLD",8080,"KRN",9.8,"NM","B","SROACRC",67)

"BLD",8080,"KRN",9.8,"NM","B","SROACS",90)

"BLD",8080,"KRN",9.8,"NM","B","SROALMN",56)

"BLD",8080,"KRN",9.8,"NM","B","SROAOUT",27)

"BLD",8080,"KRN",9.8,"NM","B","SROAPCA",3)

"BLD",8080,"KRN",9.8,"NM","B","SROAPCA3",28)

"BLD",8080,"KRN",9.8,"NM","B","SROAPCA4",58)

"BLD",8080,"KRN",9.8,"NM","B","SROAPRE1",4)

"BLD",8080,"KRN",9.8,"NM","B","SROAPRE2",35)

"BLD",8080,"KRN",9.8,"NM","B","SROAPRT1",6)

"BLD",8080,"KRN",9.8,"NM","B","SROAPRT2",36)

"BLD",8080,"KRN",9.8,"NM","B","SROAPRT7",48)

"BLD",8080,"KRN",9.8,"NM","B","SROAPS1",5)

"BLD",8080,"KRN",9.8,"NM","B","SROAPS2",34)

"BLD",8080,"KRN",9.8,"NM","B","SROASWAP",71)

"BLD",8080,"KRN",9.8,"NM","B","SROASWP",72)

"BLD",8080,"KRN",9.8,"NM","B","SROASWP0",73)

"BLD",8080,"KRN",9.8,"NM","B","SROASWP1",74)

"BLD",8080,"KRN",9.8,"NM","B","SROASWP2",75)

"BLD",8080,"KRN",9.8,"NM","B","SROASWP3",76)

"BLD",8080,"KRN",9.8,"NM","B","SROASWPD",77)

"BLD",8080,"KRN",9.8,"NM","B","SROATCM1",16)

"BLD",8080,"KRN",9.8,"NM","B","SROATM1",15)

"BLD",8080,"KRN",9.8,"NM","B","SROATM2",53)

"BLD",8080,"KRN",9.8,"NM","B","SROATMNO",14)

"BLD",8080,"KRN",9.8,"NM","B","SROAUTL",9)

"BLD",8080,"KRN",9.8,"NM","B","SROAUTL0",49)

"BLD",8080,"KRN",9.8,"NM","B","SROAUTL1",10)

"BLD",8080,"KRN",9.8,"NM","B","SROAUTL2",57)

"BLD",8080,"KRN",9.8,"NM","B","SROAUTL3",31)

"BLD",8080,"KRN",9.8,"NM","B","SROAUTL4",12)

"BLD",8080,"KRN",9.8,"NM","B","SROAUTLC",11)

"BLD",8080,"KRN",9.8,"NM","B","SROCAN0",45)

"BLD",8080,"KRN",9.8,"NM","B","SROCCAT",66)

"BLD",8080,"KRN",9.8,"NM","B","SROCMPED",32)

"BLD",8080,"KRN",9.8,"NM","B","SROESNR0",20)

"BLD",8080,"KRN",9.8,"NM","B","SROESNR1",13)

"BLD",8080,"KRN",9.8,"NM","B","SROFILE",18)

"BLD",8080,"KRN",9.8,"NM","B","SRONEW",86)

"BLD",8080,"KRN",9.8,"NM","B","SRONIN",83)

"BLD",8080,"KRN",9.8,"NM","B","SRONITE",25)

"BLD",8080,"KRN",9.8,"NM","B","SRONRPT0",79)

"BLD",8080,"KRN",9.8,"NM","B","SRONRPT1",8)

"BLD",8080,"KRN",9.8,"NM","B","SRONRPT3",17)

"BLD",8080,"KRN",9.8,"NM","B","SROP",19)

"BLD",8080,"KRN",9.8,"NM","B","SROQ",55)

"BLD",8080,"KRN",9.8,"NM","B","SROQ0",23)

"BLD",8080,"KRN",9.8,"NM","B","SROQ0A",54)

"BLD",8080,"KRN",9.8,"NM","B","SROQ1",59)

"BLD",8080,"KRN",9.8,"NM","B","SROQ1A",60)

"BLD",8080,"KRN",9.8,"NM","B","SROQ2",61)

"BLD",8080,"KRN",9.8,"NM","B","SROQ30D",22)

"BLD",8080,"KRN",9.8,"NM","B","SROQD",24)

"BLD",8080,"KRN",9.8,"NM","B","SROQM",62)

"BLD",8080,"KRN",9.8,"NM","B","SROQM0",63)

"BLD",8080,"KRN",9.8,"NM","B","SROQM1",64)

"BLD",8080,"KRN",9.8,"NM","B","SROQT",65)

"BLD",8080,"KRN",9.8,"NM","B","SROUTC",26)

"BLD",8080,"KRN",9.8,"NM","B","SROXR4",91)

"BLD",8080,"KRN",9.8,"NM","B","SRSCAN0",46)

"BLD",8080,"KRN",9.8,"NM","B","SRSCAN2",47)

"BLD",8080,"KRN",9.8,"NM","B","SRSLOOK",84)

"BLD",8080,"KRN",9.8,"NM","B","SRSLOOK1",85)

"BLD",8080,"KRN",9.8,"NM","B","SRTPHRT3",29)

"BLD",8080,"KRN",9.8,"NM","B","SRTPHRT5",81)

"BLD",8080,"KRN",9.8,"NM","B","SRTPKID3",37)

"BLD",8080,"KRN",9.8,"NM","B","SRTPKID4",80)

"BLD",8080,"KRN",9.8,"NM","B","SRTPLIV4",38)

"BLD",8080,"KRN",9.8,"NM","B","SRTPLIV6",82)

"BLD",8080,"KRN",9.8,"NM","B","SRTPLUN3",39)

"BLD",8080,"KRN",9.8,"NM","B","SRTPRH1",30)

"BLD",8080,"KRN",9.8,"NM","B","SRTPRH2",33)

"BLD",8080,"KRN",9.8,"NM","B","SRTPRK1",40)

"BLD",8080,"KRN",9.8,"NM","B","SRTPRLI1",41)

"BLD",8080,"KRN",9.8,"NM","B","SRTPRLU1",42)

"BLD",8080,"KRN",9.8,"NM","B","SRTPTM1",43)

"BLD",8080,"KRN",9.8,"NM","B","SRTPUTL",50)

"BLD",8080,"KRN",9.8,"NM","B","SRTPUTL4",52)

"BLD",8080,"KRN",9.8,"NM","B","SRTPUTLC",51)

"BLD",8080,"KRN",19,0)
19
"BLD",8080,"KRN",19,"NM",0)
^9.68A^4^4
"BLD",8080,"KRN",19,"NM",1,0)
SRCODING MENU^^3
"BLD",8080,"KRN",19,"NM",2,0)
SRCODING UPDATE/VERIFY MENU^^3
"BLD",8080,"KRN",19,"NM",3,0)
SRCODING EDIT^^0
"BLD",8080,"KRN",19,"NM",4,0)
SROQD^^0
"BLD",8080,"KRN",19,"NM","B","SRCODING EDIT",3)

"BLD",8080,"KRN",19,"NM","B","SRCODING MENU",1)

"BLD",8080,"KRN",19,"NM","B","SRCODING UPDATE/VERIFY MENU",2)

"BLD",8080,"KRN",19,"NM","B","SROQD",4)

"BLD",8080,"KRN",19.1,0)
19.1
"BLD",8080,"KRN",101,0)
101
"BLD",8080,"KRN",409.61,0)
409.61
"BLD",8080,"KRN",771,0)
771
"BLD",8080,"KRN",779.2,0)
779.2
"BLD",8080,"KRN",870,0)
870
"BLD",8080,"KRN",8989.51,0)
8989.51
"BLD",8080,"KRN",8989.52,0)
8989.52
"BLD",8080,"KRN",8994,0)
8994
"BLD",8080,"KRN","B",.4,.4)

"BLD",8080,"KRN","B",.401,.401)

"BLD",8080,"KRN","B",.402,.402)

"BLD",8080,"KRN","B",.403,.403)

"BLD",8080,"KRN","B",.5,.5)

"BLD",8080,"KRN","B",.84,.84)

"BLD",8080,"KRN","B",3.6,3.6)

"BLD",8080,"KRN","B",3.8,3.8)

"BLD",8080,"KRN","B",9.2,9.2)

"BLD",8080,"KRN","B",9.8,9.8)

"BLD",8080,"KRN","B",19,19)

"BLD",8080,"KRN","B",19.1,19.1)

"BLD",8080,"KRN","B",101,101)

"BLD",8080,"KRN","B",409.61,409.61)

"BLD",8080,"KRN","B",771,771)

"BLD",8080,"KRN","B",779.2,779.2)

"BLD",8080,"KRN","B",870,870)

"BLD",8080,"KRN","B",8989.51,8989.51)

"BLD",8080,"KRN","B",8989.52,8989.52)

"BLD",8080,"KRN","B",8994,8994)

"BLD",8080,"QDEF")
^^^^NO^^^^YES^^NO
"BLD",8080,"QUES",0)
^9.62^^
"BLD",8080,"REQB",0)
^9.611^5^1
"BLD",8080,"REQB",5,0)
SR*3.0*175^2
"BLD",8080,"REQB","B","SR*3.0*175",5)

"DATA",136.5,1,0)
SUPERFICIAL INCISIONAL SSI
"DATA",136.5,1,1,0)
^^22^22^3040318^
"DATA",136.5,1,1,1,0)
Definition Revised (2004):
"DATA",136.5,1,1,2,0)
Superficial incisional SSI is an infection that occurs within 30 days 
"DATA",136.5,1,1,3,0)
after the operation and infection involves only skin or subcutaneous 
"DATA",136.5,1,1,4,0)
tissue of the incision and at least one of the following:
"DATA",136.5,1,1,5,0)
 
"DATA",136.5,1,1,6,0)
 - Purulent drainage, with or without laboratory confirmation, from the
"DATA",136.5,1,1,7,0)
   superficial incision.
"DATA",136.5,1,1,8,0)
 - Organisms isolated from an aseptically obtained culture of fluid or
"DATA",136.5,1,1,9,0)
   tissue from the superficial incision. 
"DATA",136.5,1,1,10,0)
 - At least one of the following signs or symptoms of infection: pain
"DATA",136.5,1,1,11,0)
   or tenderness, localized swelling, redness, or heat and superficial
"DATA",136.5,1,1,12,0)
   incision is deliberately opened by the surgeon, unless incision is
"DATA",136.5,1,1,13,0)
   culture-negative.  
"DATA",136.5,1,1,14,0)
 - Diagnosis of superficial incisional SSI by the surgeon or attending
"DATA",136.5,1,1,15,0)
   physician.  
"DATA",136.5,1,1,16,0)
 
"DATA",136.5,1,1,17,0)
Do not report the following conditions as SSI:
"DATA",136.5,1,1,18,0)
 - Stitch abscess (minimal inflammation and discharge confined to the
"DATA",136.5,1,1,19,0)
   points of suture penetration).
"DATA",136.5,1,1,20,0)
 - Infected burn wound.
"DATA",136.5,1,1,21,0)
 - Incisional SSI that extends into the fascial and muscle layers (see
"DATA",136.5,1,1,22,0)
   deep incisional SSI).
"DATA",136.5,2,0)
DEEP INCISIONAL SSI
"DATA",136.5,2,1,0)
^^23^23^3040318^
"DATA",136.5,2,1,1,0)
Definition Revised (2004):
"DATA",136.5,2,1,2,0)
Deep Incision SSI is an infection that occurs within 30 days after the 
"DATA",136.5,2,1,3,0)
operation and the infection appears to be related to the operation and 
"DATA",136.5,2,1,4,0)
infection involved deep soft tissues (e.g., fascial and muscle layers) 
"DATA",136.5,2,1,5,0)
of the incision and at least one of the following: 
"DATA",136.5,2,1,6,0)
 
"DATA",136.5,2,1,7,0)
 - Purulent drainage from the deep incision but not from the 
"DATA",136.5,2,1,8,0)
   organ/space component of the surgical site.
"DATA",136.5,2,1,9,0)
 - A deep incision spontaneously dehisces or is deliberately opened by
"DATA",136.5,2,1,10,0)
   a surgeon when the patient has at least one of the following signs
"DATA",136.5,2,1,11,0)
   or symptoms: fever (>38 C), localized pain, or tenderness, unless
"DATA",136.5,2,1,12,0)
   site is culture-negative.
"DATA",136.5,2,1,13,0)
 - An abscess or other evidence of infection involving the deep 
"DATA",136.5,2,1,14,0)
   incision is found on direct examination, during reoperation, or by 
"DATA",136.5,2,1,15,0)
   histopathologic or radiologic examination.
"DATA",136.5,2,1,16,0)
 - Diagnosis of a deep incision SSI by a surgeon or attending 
"DATA",136.5,2,1,17,0)
   physician. 
"DATA",136.5,2,1,18,0)
 
"DATA",136.5,2,1,19,0)
Note:  
"DATA",136.5,2,1,20,0)
 - Report infection that involves both superficial and deep incision
"DATA",136.5,2,1,21,0)
   sites as deep incisional SSI.
"DATA",136.5,2,1,22,0)
 - Report an organ/space SSI that drains through the incision as a deep
"DATA",136.5,2,1,23,0)
   incisional SSI.
"DATA",136.5,3,0)
SYSTEMIC SEPSIS
"DATA",136.5,3,1,0)
^^65^65^3070221^
"DATA",136.5,3,1,1,0)
Definition Revised (2007):
"DATA",136.5,3,1,2,0)
Sepsis is a vast clinical entity that takes a variety of forms. The 
"DATA",136.5,3,1,3,0)
spectrum of disorders spans from relatively mild physiologic 
"DATA",136.5,3,1,4,0)
abnormalities to septic shock. Please report the most significant level
"DATA",136.5,3,1,5,0)
using the criteria below:
"DATA",136.5,3,1,6,0)
 
"DATA",136.5,3,1,7,0)
1. Sepsis: Sepsis is the systemic response to infection. Report this 
"DATA",136.5,3,1,8,0)
variable if the patient has clinical signs and symptoms of SIRS. SIRS 
"DATA",136.5,3,1,9,0)
is a widespread inflammatory response to a variety of severe clinical
"DATA",136.5,3,1,10,0)
insults. This syndrome is clinically recognized by the presence of two 
"DATA",136.5,3,1,11,0)
or more of the following:
"DATA",136.5,3,1,12,0)
   - Temp >38 degrees C or <36 degrees C
"DATA",136.5,3,1,13,0)
   - HR >90 bpm
"DATA",136.5,3,1,14,0)
   - RR >20 breaths/min or PaCO2 <32 mmHg(<4.3 kPa)
"DATA",136.5,3,1,15,0)
   - WBC >12,000 cell/mm3, <4000 cells/mm3, or >10% immature (band) 
"DATA",136.5,3,1,16,0)
     forms
"DATA",136.5,3,1,17,0)
   - Anion gap acidosis: this is defined by either:
"DATA",136.5,3,1,18,0)
      [Na + K] - [Cl + HCO3 (or serum CO2)]. If this number is 
"DATA",136.5,3,1,19,0)
      greater than 16, then an anion gap acidosis is present.
"DATA",136.5,3,1,20,0)
     or
"DATA",136.5,3,1,21,0)
      Na - [Cl + HCO3 (or serum CO2)]. If this number is greater
"DATA",136.5,3,1,22,0)
      than 12, then an anion gap acidosis is present.
"DATA",136.5,3,1,23,0)
 
"DATA",136.5,3,1,24,0)
 and one of the following:
"DATA",136.5,3,1,25,0)
   - positive blood culture
"DATA",136.5,3,1,26,0)
   - clinical documentation of purulence or positive culture from any 
"DATA",136.5,3,1,27,0)
     site thought to be causative
"DATA",136.5,3,1,28,0)
 
"DATA",136.5,3,1,29,0)
2. Severe Sepsis/Septic Shock: Sepsis is considered severe when it is 
"DATA",136.5,3,1,30,0)
associated with organ and/or circulatory dysfunction. Report this 
"DATA",136.5,3,1,31,0)
variable if the patient has the clinical signs and symptoms of SIRS or 
"DATA",136.5,3,1,32,0)
sepsis AND documented organ and/or circulatory dysfunction. Examples of
"DATA",136.5,3,1,33,0)
organ dysfunction include: oliguria, acute alteration in mental status,
"DATA",136.5,3,1,34,0)
acute respiratory distress. Examples of circulatory dysfunction 
"DATA",136.5,3,1,35,0)
include: hypotension, requirement of inotropic or vasopressor agents.
"DATA",136.5,3,1,36,0)
 
"DATA",136.5,3,1,37,0)
* For the patient that had sepsis preoperatively, worsening of any of 
"DATA",136.5,3,1,38,0)
the above signs postoperatively would be reported as a postoperative 
"DATA",136.5,3,1,39,0)
sepsis.
"DATA",136.5,3,1,40,0)
 
"DATA",136.5,3,1,41,0)
Examples:
"DATA",136.5,3,1,42,0)
 
"DATA",136.5,3,1,43,0)
A patient comes into the emergency room with signs of sepsis - WBC 31, 
"DATA",136.5,3,1,44,0)
Temperature 104. CT shows an abdominal abscess. He is given antibiotics
"DATA",136.5,3,1,45,0)
and is then taken emergently to the OR to drain the abscess. He 
"DATA",136.5,3,1,46,0)
receives antibiotics intraoperatively. Postoperatively his WBC and
"DATA",136.5,3,1,47,0)
Temperature are trending down.
"DATA",136.5,3,1,48,0)
  POD#1 WBC 24, Temp 102 
"DATA",136.5,3,1,49,0)
  POD#2 WBC 14, Temp 100 
"DATA",136.5,3,1,50,0)
  POD#3 WBC 10, Temp 99 
"DATA",136.5,3,1,51,0)
This patient does not have postoperative sepsis as his WBC and 
"DATA",136.5,3,1,52,0)
Temperature are improving each postoperative day. 
"DATA",136.5,3,1,53,0)
 
"DATA",136.5,3,1,54,0)
Patient comes into the ER with s/s of sepsis - WBC 31, Temp 104. CT 
"DATA",136.5,3,1,55,0)
shows an abdominal abscess. He is given antibiotics and is taken 
"DATA",136.5,3,1,56,0)
emergently to the OR to drain the abscess. He receives antibiotics 
"DATA",136.5,3,1,57,0)
intraoperatively. Postoperatively his WBC and Temp are as follows:  
"DATA",136.5,3,1,58,0)
  POD#1 WBC 28, Temp 103
"DATA",136.5,3,1,59,0)
  POD#2 WBC 24, Temp 102.6
"DATA",136.5,3,1,60,0)
  POD#3 WBC 22, Temp 102 
"DATA",136.5,3,1,61,0)
  POD#4 WBC 21, Temp 101.6
"DATA",136.5,3,1,62,0)
  POD#5 WBC 30, Temp 104  
"DATA",136.5,3,1,63,0)
This patient does have postoperative sepsis because on postoperative 
"DATA",136.5,3,1,64,0)
day #5, his WBC and Temperature increase. The patient is having
"DATA",136.5,3,1,65,0)
worsening of the defined signs of sepsis.
"DATA",136.5,4,0)
PNEUMONIA
"DATA",136.5,4,1,0)
^^42^42^3070214^
"DATA",136.5,4,1,1,0)
Definition Revised (2007):
"DATA",136.5,4,1,2,0)
Inflammation of the lungs caused primarily by bacteria, viruses, and/or
"DATA",136.5,4,1,3,0)
chemical irritants, usually manifested by chills, fever, pain in the
"DATA",136.5,4,1,4,0)
chest, cough, purulent, bloody sputum. Report as an occurrence if the
"DATA",136.5,4,1,5,0)
patient has pneumonia meeting the definition of pneumonia below AND
"DATA",136.5,4,1,6,0)
pneumonia not present preoperatively.
"DATA",136.5,4,1,7,0)
 
"DATA",136.5,4,1,8,0)
Pneumonia must meet one of the following TWO criteria:
"DATA",136.5,4,1,9,0)
Criterion 1.
"DATA",136.5,4,1,10,0)
  Rales or dullness to percussion on physical examination of chest AND
"DATA",136.5,4,1,11,0)
  any of the following:
"DATA",136.5,4,1,12,0)
  a. New onset of purulent sputum or change in character of sputum
"DATA",136.5,4,1,13,0)
  b. Organism isolate from blood culture
"DATA",136.5,4,1,14,0)
  c. Isolation of pathogen from specimen obtained by transtracheal
"DATA",136.5,4,1,15,0)
     aspirate, bronchial brushing, or biopsy
"DATA",136.5,4,1,16,0)
 
"DATA",136.5,4,1,17,0)
 OR
"DATA",136.5,4,1,18,0)
 
"DATA",136.5,4,1,19,0)
Criterion 2.
"DATA",136.5,4,1,20,0)
  Chest radiographic examination shows new or progressive infiltrate, 
"DATA",136.5,4,1,21,0)
  consolidation, cavitation, or pleural effusion AND any of the 
"DATA",136.5,4,1,22,0)
  following:
"DATA",136.5,4,1,23,0)
  a. New onset of purulent sputum or change in character of sputum
"DATA",136.5,4,1,24,0)
  b. Organism isolated from blood culture
"DATA",136.5,4,1,25,0)
  c. Isolation of pathogen from specimen obtained by transtracheal    
"DATA",136.5,4,1,26,0)
     aspirate, bronchial brushing, or biopsy
"DATA",136.5,4,1,27,0)
  d. Isolation of virus or detection of viral antigen in respiratory
"DATA",136.5,4,1,28,0)
     secretions
"DATA",136.5,4,1,29,0)
  e. Diagnostic single antibody titer (IgM) or fourfold increase in
"DATA",136.5,4,1,30,0)
     paired serum samples (IgG) for pathogen
"DATA",136.5,4,1,31,0)
  f. Histopathologic evidence of pneumonia
"DATA",136.5,4,1,32,0)
 
"DATA",136.5,4,1,33,0)
*If pneumonia was present preoperatively and resolved postoperatively 
"DATA",136.5,4,1,34,0)
and a new pneumonia is identified within 30 days after surgery, the
"DATA",136.5,4,1,35,0)
following criteria must be met in order to report as a postoperative
"DATA",136.5,4,1,36,0)
pneumonia occurrence:
"DATA",136.5,4,1,37,0)
   - Patient must have completed the antibiotic course for the 
"DATA",136.5,4,1,38,0)
     previous pneumonia.
"DATA",136.5,4,1,39,0)
   - Patient must have evidence of a clear chest x-ray after the 
"DATA",136.5,4,1,40,0)
     previous pneumonia and prior to the new pneumonia.
"DATA",136.5,4,1,41,0)
   - There must be evidence of a new isolate of micro-organism on 
"DATA",136.5,4,1,42,0)
     culture.
"DATA",136.5,5,0)
PULMONARY EMBOLISM
"DATA",136.5,5,1,0)
^^12^12^3070305^
"DATA",136.5,5,1,1,0)
Definition Revised (2007):
"DATA",136.5,5,1,2,0)
Lodging of a blood clot in a pulmonary artery with subsequent 
"DATA",136.5,5,1,3,0)
obstruction of blood supply to the lung parenchyma. The blood clots 
"DATA",136.5,5,1,4,0)
usually originate from the deep leg veins or the pelvic venous system.
"DATA",136.5,5,1,5,0)
Enter "YES" if the patient has a V-Q scan interpreted as high 
"DATA",136.5,5,1,6,0)
probability of pulmonary embolism or a positive pulmonary arteriogram 
"DATA",136.5,5,1,7,0)
or positive CT angiogram or positive Spiral CT exam. Treatment usually
"DATA",136.5,5,1,8,0)
consists of:
"DATA",136.5,5,1,9,0)
 - Initiation of anticoagulation therapy
"DATA",136.5,5,1,10,0)
 - Placement of mechanical interruption (e.g. Greenfield Filter), for
"DATA",136.5,5,1,11,0)
   patients in whom anticoagulation is contraindicated or already 
"DATA",136.5,5,1,12,0)
   instituted.
"DATA",136.5,6,0)
ON VENTILATOR > 48 HOURS
"DATA",136.5,6,1,0)
^^6^6^3110324^
"DATA",136.5,6,1,1,0)
Definition Revised (2011): Total duration of ventilator-assisted 
"DATA",136.5,6,1,2,0)
respirations during postoperative hospitalization was >48 hours. 
"DATA",136.5,6,1,3,0)
This can occur at any time during the 30-day period postoperatively.
"DATA",136.5,6,1,4,0)
This time assessment is CUMULATIVE, not necessarily consecutive.
"DATA",136.5,6,1,5,0)
Ventilator-assisted respirations can be via endotracheal tube, 
"DATA",136.5,6,1,6,0)
nasotracheal tube, or tracheostomy tube.
"DATA",136.5,7,0)
UNPLANNED INTUBATION^^1
"DATA",136.5,7,1,0)
^^9^9^3060313^
"DATA",136.5,7,1,1,0)
Definition Revised (2004):
"DATA",136.5,7,1,2,0)
Patient required placement of an endotracheal tube and mechanical or 
"DATA",136.5,7,1,3,0)
assisted ventilation because of the onset of respiratory or cardiac 
"DATA",136.5,7,1,4,0)
failure manifested by severe respiratory distress, hypoxia, 
"DATA",136.5,7,1,5,0)
hypercarbia, or respiratory acidosis. In patients who were intubated 
"DATA",136.5,7,1,6,0)
for their surgery, unplanned intubation occurs after they have been 
"DATA",136.5,7,1,7,0)
extubated after surgery. In patients who were not intubated during 
"DATA",136.5,7,1,8,0)
surgery, intubation at any time after their surgery is considered 
"DATA",136.5,7,1,9,0)
unplanned. 
"DATA",136.5,8,0)
RENAL INSUFFICIENCY
"DATA",136.5,8,1,0)
^^4^4^3040318^
"DATA",136.5,8,1,1,0)
Definition Revised (2004):
"DATA",136.5,8,1,2,0)
The reduced capacity of the kidney to perform its function as evidenced
"DATA",136.5,8,1,3,0)
by a rise in creatinine of >2 mg/dl from preoperative value, but with
"DATA",136.5,8,1,4,0)
no requirement for dialysis.
"DATA",136.5,8,2,0)
^136.53^1^1
"DATA",136.5,8,2,1,0)
PROGRESSIVE RENAL INSUFFICIENCY
"DATA",136.5,9,0)
ACUTE RENAL FAILURE
"DATA",136.5,9,1,0)
^^12^12^3110708^
"DATA",136.5,9,1,1,0)
VASQIP Definition (2011): 
"DATA",136.5,9,1,2,0)
Indicate if the patient developed new renal failure requiring renal
"DATA",136.5,9,1,3,0)
replacement therapy or experienced an exacerbation of preoperative
"DATA",136.5,9,1,4,0)
renal failure requiring initiation of renal replacement therapy (not on
"DATA",136.5,9,1,5,0)
renal replacement therapy preoperatively) within 30 days
"DATA",136.5,9,1,6,0)
postoperatively.  Renal replacement therapy is defined as venous to
"DATA",136.5,9,1,7,0)
venous hemodialysis [CVVHD], continuous venous to arterial hemodialysis
"DATA",136.5,9,1,8,0)
[CVAHD], peritoneal dialysis, hemofiltration, hemodiafiltration or
"DATA",136.5,9,1,9,0)
ultrafiltration.
"DATA",136.5,9,1,10,0)
 
"DATA",136.5,9,1,11,0)
TIP: If the patient refuses dialysis, report as an occurrence because 
"DATA",136.5,9,1,12,0)
he/she did require dialysis.
"DATA",136.5,9,2,0)
^136.53^1^1
"DATA",136.5,9,2,1,0)
RENAL FAILURE
"DATA",136.5,10,0)
URINARY TRACT INFECTION
"DATA",136.5,10,1,0)
^^22^22^3040318^
"DATA",136.5,10,1,1,0)
Definition Revised (2004):
"DATA",136.5,10,1,2,0)
Postoperative symptomatic urinary tract infection must meet one of the 
"DATA",136.5,10,1,3,0)
following TWO criteria:
"DATA",136.5,10,1,4,0)
 
"DATA",136.5,10,1,5,0)
1. One of the following: fever (>38 degrees C), urgency, frequency,
"DATA",136.5,10,1,6,0)
   dysuria, or suprapubic tenderness AND a urine culture of >100,000
"DATA",136.5,10,1,7,0)
   colonies/ml urine with no more than two species of organisms
"DATA",136.5,10,1,8,0)
 
"DATA",136.5,10,1,9,0)
OR
"DATA",136.5,10,1,10,0)
 
"DATA",136.5,10,1,11,0)
2. Two of the following: fever (>38 degrees C), urgency, frequency,
"DATA",136.5,10,1,12,0)
   dysuria, or suprapubic tenderness AND any of the following:
"DATA",136.5,10,1,13,0)
   - Dipstick test positive for leukocyte esterase and/or nitrate
"DATA",136.5,10,1,14,0)
   - Pyuria (>10 WBCs/cc or >3 WBC/hpf of unspun urine)
"DATA",136.5,10,1,15,0)
   - Organisms seen on Gram stain of unspun urine
"DATA",136.5,10,1,16,0)
   - Two urine cultures with repeated isolation of the same uropathogen
"DATA",136.5,10,1,17,0)
     with >100 colonies/ml urine in non-voided specimen
"DATA",136.5,10,1,18,0)
   - Urine culture with <100,000 colonies/ml urine of single
"DATA",136.5,10,1,19,0)
     uropathogen in patient being treated with appropriate
"DATA",136.5,10,1,20,0)
     antimicrobial therapy
"DATA",136.5,10,1,21,0)
   - Physician's diagnosis
"DATA",136.5,10,1,22,0)
   - Physician institutes appropriate antimicrobial therapy
"DATA",136.5,10,2,0)
^136.53^1^1
"DATA",136.5,10,2,1,0)
UTI
"DATA",136.5,11,0)
PULMONARY EDEMA^1
"DATA",136.5,11,1,0)
^136.52^2^2^3040318^^^^
"DATA",136.5,11,1,1,0)
Postoperative distress requiring treatment and diagnosis of CHF or
"DATA",136.5,11,1,2,0)
pulmonary edema or Adult Respiratory Distress Syndrome.
"DATA",136.5,12,0)
STROKE/CVA
"DATA",136.5,12,1,0)
^^11^11^3110711^
"DATA",136.5,12,1,1,0)
VASQIP Definitions (2011):
"DATA",136.5,12,1,2,0)
Indicate if the patient developed a new neurologic deficit with onset 
"DATA",136.5,12,1,3,0)
immediately post-operatively or occurring within the 30 days after 
"DATA",136.5,12,1,4,0)
surgery.  Neurologic deficits are defined as an embolic, thrombotic, 
"DATA",136.5,12,1,5,0)
or hemorrhagic vascular accident or stroke with motor, sensory, or
"DATA",136.5,12,1,6,0)
cognitive dysfunction (e.g., hemiplegia, hemiparesis, aphasia, sensory
"DATA",136.5,12,1,7,0)
deficit, impaired memory).  Indicate the duration as follows:
"DATA",136.5,12,1,8,0)
 1) no symptoms
"DATA",136.5,12,1,9,0)
 2) symptomatic duration less than 24 hours
"DATA",136.5,12,1,10,0)
 3) symptomatic duration of 24-72 hours
"DATA",136.5,12,1,11,0)
 4) symptomatic duration >72 hours
"DATA",136.5,12,2,0)
^136.53^2^2
"DATA",136.5,12,2,1,0)
CEREBRAL VASCULAR ACCIDENT
"DATA",136.5,12,2,2,0)
CVA
"DATA",136.5,13,0)
COMA > 24 HOURS
"DATA",136.5,13,1,0)
^^6^6^3110324^
"DATA",136.5,13,1,1,0)
Definition Revised (2011): Indicate if either postoperatively or 
"DATA",136.5,13,1,2,0)
within 30 days of surgery there was a significantly decreased level 
"DATA",136.5,13,1,3,0)
of consciousness (exclude transient disorientation or psychosis) for
"DATA",136.5,13,1,4,0)
greater than or equal to 24 hours as evidenced by lack of response to
"DATA",136.5,13,1,5,0)
deep, painful stimuli.. Do not include drug-induced coma (e.g. 
"DATA",136.5,13,1,6,0)
Propofol drips, etc.)
"DATA",136.5,14,0)
PERIPHERAL NERVE INJURY
"DATA",136.5,14,1,0)
^136.52^6^6^3110708^^^
"DATA",136.5,14,1,1,0)
Definition Revised (2007):
"DATA",136.5,14,1,2,0)
Peripheral nerve damage may result from damage to the nerve fibers, 
"DATA",136.5,14,1,3,0)
cell body, or myelin sheath during surgery. Peripheral nerve injuries
"DATA",136.5,14,1,4,0)
which result in motor deficits only to the cervical plexus, brachial
"DATA",136.5,14,1,5,0)
plexus, ulnar plexus, lumbar-sacral plexus (sciatic nerve), peroneal
"DATA",136.5,14,1,6,0)
nerve, and/or the femoral nerve should be included.
"DATA",136.5,15,0)
BLEEDING/TRANSFUSIONS
"DATA",136.5,15,1,0)
^^9^9^3040318^
"DATA",136.5,15,1,1,0)
Definition Revised (2004):
"DATA",136.5,15,1,2,0)
Any transfusion (including autologous) of packed red blood cells or 
"DATA",136.5,15,1,3,0)
whole blood given from the time the patient leaves the operating room 
"DATA",136.5,15,1,4,0)
up to and including 72 hours postoperatively. Report as an occurrence
"DATA",136.5,15,1,5,0)
for five or more units of packed red blood cell in the postoperative
"DATA",136.5,15,1,6,0)
period including hanging blood from the OR that is finished outside
"DATA",136.5,15,1,7,0)
of the OR. If the patient receives shed blood, autologous blood, cell
"DATA",136.5,15,1,8,0)
saver blood or pleurovac postoperatively, this is counted if greater
"DATA",136.5,15,1,9,0)
than four units. The blood may be given for any reason.
"DATA",136.5,16,0)
CARDIAC ARREST REQUIRING CPR^^1
"DATA",136.5,16,1,0)
^^12^12^3110324^
"DATA",136.5,16,1,1,0)
Definition Revised (2011): Indicate if there was any cardiac arrest 
"DATA",136.5,16,1,2,0)
requiring external or open cardiopulmonary resuscitation (CPR) 
"DATA",136.5,16,1,3,0)
occurring in the operating room, ICU, ward, or out-of-hospital after 
"DATA",136.5,16,1,4,0)
the chest had been completely closed and within 30 days of surgery.
"DATA",136.5,16,1,5,0)
Patients with AICDs that fire but the patient does not lose 
"DATA",136.5,16,1,6,0)
consciousness should be excluded.
"DATA",136.5,16,1,7,0)
 
"DATA",136.5,16,1,8,0)
If patient had cardiac arrest requiring CPR, indicate whether the 
"DATA",136.5,16,1,9,0)
arrest occurred intraoperatively or postoperatively. Indicate the 
"DATA",136.5,16,1,10,0)
one appropriate response:
"DATA",136.5,16,1,11,0)
- intraoperatively: occurring while patient was in the operating room
"DATA",136.5,16,1,12,0)
- postoperatively:  occurring after patient left the operating room
"DATA",136.5,17,0)
MYOCARDIAL INFARCTION^^1
"DATA",136.5,17,1,0)
^136.52^13^13^3110708^^
"DATA",136.5,17,1,1,0)
VASQIP Definition (2011): 
"DATA",136.5,17,1,2,0)
Indicate the presence of a peri-operative MI that occurs either 
"DATA",136.5,17,1,3,0)
intraoperatively or postoperatively within 30 days: 
"DATA",136.5,17,1,4,0)
 
"DATA",136.5,17,1,5,0)
Non-Cardiac Surgery: A new transmural acute myocardial infarction as 
"DATA",136.5,17,1,6,0)
manifested by new Q-waves on ECG. (Non-Q-wave infarctions should be 
"DATA",136.5,17,1,7,0)
entered under "Other Occurrence").  
"DATA",136.5,17,1,8,0)
 
"DATA",136.5,17,1,9,0)
Cardiac Surgery: A new transmural acute myocardial infarction as 
"DATA",136.5,17,1,10,0)
manifested by at least one of the following criteria: 
"DATA",136.5,17,1,11,0)
 1. Development of new Q-waves in two or more contiguous ECG leads;
"DATA",136.5,17,1,12,0)
 2. Evolutionary ST-segment elevations;
"DATA",136.5,17,1,13,0)
 3. New or presumably new LBBB pattern on the ECG.
"DATA",136.5,17,2,0)
^136.53^1^1
"DATA",136.5,17,2,1,0)
PERIOPERATIVE MI
"DATA",136.5,18,0)
ILEUS/BOWEL OBSTRUCTION^1
"DATA",136.5,18,1,0)
^136.52^6^6^3040318^^^^
"DATA",136.5,18,1,1,0)
This category includes prolonged ileus or bowel obstruction.  Ileus is
"DATA",136.5,18,1,2,0)
obstruction of the intestines from a variety of causes including
"DATA",136.5,18,1,3,0)
mechanical obstruction, peritonitis, adhesions, or post-surgically as a
"DATA",136.5,18,1,4,0)
result of functional dysmotility by the bowel.  Bowel obstruction is any
"DATA",136.5,18,1,5,0)
hindrance to the passage of the intestinal contents.  Prolonged ileus or
"DATA",136.5,18,1,6,0)
obstruction is defined as longer than 5 days postoperatively.
"DATA",136.5,19,0)
GRAFT/PROSTHESIS/FLAP FAILURE
"DATA",136.5,19,1,0)
^^4^4^3040318^
"DATA",136.5,19,1,1,0)
Definition Revised (2004):
"DATA",136.5,19,1,2,0)
Mechanical failure of an extracardiac graft/or prosthesis including 
"DATA",136.5,19,1,3,0)
myocutaneous flaps and skin grafts requiring return to the operating 
"DATA",136.5,19,1,4,0)
room, interventional radiology, or a balloon angioplasty.
"DATA",136.5,20,0)
DVT/THROMBOPHLEBITIS
"DATA",136.5,20,1,0)
^^7^7^3100430^
"DATA",136.5,20,1,1,0)
VASQIP Definition (2010):
"DATA",136.5,20,1,2,0)
The identification of a new blood clot or thrombus within the deep 
"DATA",136.5,20,1,3,0)
venous system, which may be coupled with inflammation. This diagnosis 
"DATA",136.5,20,1,4,0)
is confirmed by a duplex, venogram, CT scan or other imaging modality.
"DATA",136.5,20,1,5,0)
The patient must be treated with therapeutic anticoagulation therapy,
"DATA",136.5,20,1,6,0)
and/or placement of a vena cava filter or clipping of the vena cava or
"DATA",136.5,20,1,7,0)
recommended for such.
"DATA",136.5,20,2,0)
^136.53^2^2
"DATA",136.5,20,2,1,0)
DEEP VEIN THROMBOSIS/THROMBOPHLEBITIS
"DATA",136.5,20,2,2,0)
THROMBOPHLEBITIS
"DATA",136.5,21,0)
OTHER OCCURRENCE^^1
"DATA",136.5,21,1,0)
^^4^4^3040318^
"DATA",136.5,21,1,1,0)
Definition Revised (2004):
"DATA",136.5,21,1,2,0)
Enter any other surgical occurrences which you feel to be significant
"DATA",136.5,21,1,3,0)
and that are not covered by the predefined occurrence categories. This 
"DATA",136.5,21,1,4,0)
occurrence category should have an accompanying ICD Diagnosis code.
"DATA",136.5,22,0)
WOUND DISRUPTION
"DATA",136.5,22,1,0)
^^3^3^3040318^
"DATA",136.5,22,1,1,0)
Definition Revised (2004):
"DATA",136.5,22,1,2,0)
Separation of the layers of a surgical wound, which may be partial or 
"DATA",136.5,22,1,3,0)
complete, with disruption of the fascia. 
"DATA",136.5,23,0)
ENDOCARDITIS
"DATA",136.5,23,1,0)
^136.52^9^9^3040721^^^
"DATA",136.5,23,1,1,0)
Definition Revised (2004):
"DATA",136.5,23,1,2,0)
Indicate if the chart documents that active endocarditis was present 
"DATA",136.5,23,1,3,0)
within 30 days postoperatively. Endocarditis is defined as any 
"DATA",136.5,23,1,4,0)
postoperative intracardiac infection (usually on a valve) documented 
"DATA",136.5,23,1,5,0)
by two or more positive blood cultures with the same organism, and/or 
"DATA",136.5,23,1,6,0)
development of vegetations and valve destruction seen by echo or 
"DATA",136.5,23,1,7,0)
repeat surgery, and/or histologic evidence of infection at repeat 
"DATA",136.5,23,1,8,0)
surgery or autopsy. Patients with preoperative endocarditis who have 
"DATA",136.5,23,1,9,0)
the above evidence of persistent infection should be included.
"DATA",136.5,24,0)
LOW CARDIAC OUTPUT > 6 HOURS
"DATA",136.5,24,1,0)
^136.52^4^4^3040318^^^^
"DATA",136.5,24,1,1,0)
This includes patient's that have had a postoperative cardiac index of
"DATA",136.5,24,1,2,0)
less than 2.0 L/min/M2 and/or peripheral manifestations (e.g. oliguria) of
"DATA",136.5,24,1,3,0)
low cardiac output present for 6 or more hours following surgery requiring
"DATA",136.5,24,1,4,0)
inotropic and/or intra-aortic ballon pump support.
"DATA",136.5,25,0)
MEDIASTINITIS
"DATA",136.5,25,1,0)
^^4^4^3040809^
"DATA",136.5,25,1,1,0)
Definition Revised (2004):
"DATA",136.5,25,1,2,0)
Indicate if the patient developed a bacterial infection involving the 
"DATA",136.5,25,1,3,0)
sternum or deep to the sternum requiring drainage and anti-microbial 
"DATA",136.5,25,1,4,0)
therapy diagnosed within 30 days after surgery.
"DATA",136.5,26,0)
REOPERATION FOR BLEEDING
"DATA",136.5,26,1,0)
^^3^3^3040809^
"DATA",136.5,26,1,1,0)
Definition Revised (2004):
"DATA",136.5,26,1,2,0)
Indicate if there was any re-exploration of the thorax for suspected 
"DATA",136.5,26,1,3,0)
bleeding within 30 days of surgery.
"DATA",136.5,27,0)
REPEAT CARDIAC SURGICAL PROCEDURE
"DATA",136.5,27,1,0)
^136.52^17^17^3060302^^^
"DATA",136.5,27,1,1,0)
Definition Revised (2006):
"DATA",136.5,27,1,2,0)
Indicate the CPB status if the patient underwent a repeat operation on 
"DATA",136.5,27,1,3,0)
the heart after the patient had left the operating room from the 
"DATA",136.5,27,1,4,0)
initial operation and within current hospitalization or within 30 days
"DATA",136.5,27,1,5,0)
of the initial operation. Use the same criteria to define a cardiac
"DATA",136.5,27,1,6,0)
surgery as listed on page 1 of the VASQIP Instructions/Definitions. 
"DATA",136.5,27,1,7,0)
(Do NOT submit a separate second form for this second cardiac 
"DATA",136.5,27,1,8,0)
procedure if it occurs within 30 days post-operatively.) Indicate 
"DATA",136.5,27,1,9,0)
the one appropriate response:
"DATA",136.5,27,1,10,0)
 
"DATA",136.5,27,1,11,0)
None       - no repeat cardiac surgical procedure post-operatively 
"DATA",136.5,27,1,12,0)
             during index hospitalization or within 30 days of initial
"DATA",136.5,27,1,13,0)
             operation.
"DATA",136.5,27,1,14,0)
On-bypass  - patient underwent a repeat cardiac surgical procedure 
"DATA",136.5,27,1,15,0)
             utilizing CPB.
"DATA",136.5,27,1,16,0)
Off-bypass - patient underwent a repeat cardiac surgical procedure not 
"DATA",136.5,27,1,17,0)
             utilizing CPB.
"DATA",136.5,28,0)
STROKE^1
"DATA",136.5,28,1,0)
^136.52^3^3^3110711^^^^
"DATA",136.5,28,1,1,0)
This includes any new objective neurologic deficit lasting 30 minutes or
"DATA",136.5,28,1,2,0)
more with onset intraoperatively or occurring within 30 days following
"DATA",136.5,28,1,3,0)
surgery.
"DATA",136.5,29,0)
OTHER RESPIRATORY OCCURRENCE
"DATA",136.5,29,1,0)
^^5^5^3040318^
"DATA",136.5,29,1,1,0)
Definition Revised (2004):
"DATA",136.5,29,1,2,0)
Enter any other respiratory occurrences that you feel to be significant
"DATA",136.5,29,1,3,0)
and that are not covered by the predefined respiratory occurrence
"DATA",136.5,29,1,4,0)
categories. This occurrence category should have an accompanying ICD 
"DATA",136.5,29,1,5,0)
Diagnosis code.
"DATA",136.5,30,0)
OTHER CNS OCCURRENCE
"DATA",136.5,30,1,0)
^^5^5^3040318^
"DATA",136.5,30,1,1,0)
Definition Revised (2004):
"DATA",136.5,30,1,2,0)
Enter any other neurologic related occurrences, which you feel to be 
"DATA",136.5,30,1,3,0)
significant and that are not covered by the predefined CNS occurrence
"DATA",136.5,30,1,4,0)
categories. This occurrence category should have an accompanying ICD 
"DATA",136.5,30,1,5,0)
Diagnosis code.
"DATA",136.5,31,0)
OTHER URINARY TRACT OCCURRENCE
"DATA",136.5,31,1,0)
^^5^5^3040318^
"DATA",136.5,31,1,1,0)
Definition Revised (2004):
"DATA",136.5,31,1,2,0)
Enter any other urinary occurrences which you feel to be significant 
"DATA",136.5,31,1,3,0)
and that are not covered by the predefined urinary tract occurrence
"DATA",136.5,31,1,4,0)
categories. This occurrence category should have an accompanying ICD 
"DATA",136.5,31,1,5,0)
Diagnosis code.
"DATA",136.5,32,0)
OTHER CARDIAC OCCURRENCE
"DATA",136.5,32,1,0)
^^5^5^3040318^
"DATA",136.5,32,1,1,0)
Definition Revised (2004):
"DATA",136.5,32,1,2,0)
Enter any other cardiac related surgical occurrences which you feel to 
"DATA",136.5,32,1,3,0)
be significant and that are not covered by the predefined cardiac
"DATA",136.5,32,1,4,0)
occurrence categories. This occurrence category should have an 
"DATA",136.5,32,1,5,0)
accompanying ICD Diagnosis code.
"DATA",136.5,33,0)
TRACHEOSTOMY^^^Y
"DATA",136.5,33,1,0)
^^4^4^3040809^
"DATA",136.5,33,1,1,0)
Definition Revised (2004):
"DATA",136.5,33,1,2,0)
Indicate if a procedure to cut into the trachea and insert a tube to 
"DATA",136.5,33,1,3,0)
overcome tracheal obstruction or to facilitate extended mechanical 
"DATA",136.5,33,1,4,0)
ventilation was performed within 30 days of surgery.
"DATA",136.5,34,0)
NEW MECHANICAL CIRCULATORY SUPPORT^^1^Y
"DATA",136.5,34,1,0)
^^20^20^3040721^
"DATA",136.5,34,1,1,0)
Definition Revised (2004):
"DATA",136.5,34,1,2,0)
Indicate if the patient left the operating room suite with or required
"DATA",136.5,34,1,3,0)
post-op placement of a new IABP, ECMO, or VAD for circulatory support
"DATA",136.5,34,1,4,0)
within 30 days perioperatively. A "yes" response is appropriate even if
"DATA",136.5,34,1,5,0)
the pump is only used for a short time perioperatively. A "yes"
"DATA",136.5,34,1,6,0)
response, however, is only correct if the patient did not enter the
"DATA",136.5,34,1,7,0)
operating room with this same mechanical circulatory support, and the
"DATA",136.5,34,1,8,0)
device insertion occurred AFTER the induction of anesthesia.
"DATA",136.5,34,1,9,0)
 
"DATA",136.5,34,1,10,0)
If patient had/required new mechanical circulatory support, indicate 
"DATA",136.5,34,1,11,0)
whether the placement occurred intraoperatively or postoperatively.  
"DATA",136.5,34,1,12,0)
Indicate the one appropriate response:
"DATA",136.5,34,1,13,0)
 - intraoperatively: occurring while patient was in the operating room.
"DATA",136.5,34,1,14,0)
 - postoperatively:  occurring after patient left the operating room.
"DATA",136.5,34,1,15,0)
 
"DATA",136.5,34,1,16,0)
A "no" response is appropriate if the circulatory support device was 
"DATA",136.5,34,1,17,0)
placed as a prophylaxis before the induction of anesthesia; however, if
"DATA",136.5,34,1,18,0)
it was placed for any reason after the induction of anesthesia, then a
"DATA",136.5,34,1,19,0)
"yes" response is appropriate. A "no" response is also appropriate if
"DATA",136.5,34,1,20,0)
the primary operation is to insert a ventricular assist device.
"DATA",136.5,35,0)
ORGAN/SPACE SSI
"DATA",136.5,35,1,0)
^^32^32^3040318^
"DATA",136.5,35,1,1,0)
Definition Revised (2004):
"DATA",136.5,35,1,2,0)
Organ/Space SSI is an infection that occurs within 30 days after the 
"DATA",136.5,35,1,3,0)
operation and the infection appears to be related to the operation and 
"DATA",136.5,35,1,4,0)
the infection involves any part of the anatomy (e.g., organs or spaces), 
"DATA",136.5,35,1,5,0)
other than the incision, which was opened or manipulated during an 
"DATA",136.5,35,1,6,0)
operation and at least one of the following:
"DATA",136.5,35,1,7,0)
 
"DATA",136.5,35,1,8,0)
  - Purulent drainage from a drain that is placed through a stab wound 
"DATA",136.5,35,1,9,0)
    into the organ/space.  
"DATA",136.5,35,1,10,0)
  - Organisms isolated from an aseptically obtained culture of fluid or 
"DATA",136.5,35,1,11,0)
    tissue in the organ/space.  
"DATA",136.5,35,1,12,0)
  - An abscess or other evidence of infection involving the organ/space 
"DATA",136.5,35,1,13,0)
    that is found on direct examination, during reoperation, or by 
"DATA",136.5,35,1,14,0)
    histopathologic or radiologic examination.  
"DATA",136.5,35,1,15,0)
  - Diagnosis of an organ/space SSI by a surgeon or attending physician.  
"DATA",136.5,35,1,16,0)
   
"DATA",136.5,35,1,17,0)
  Site-Specific Classifications of Organ/Space Surgical Site Infection
"DATA",136.5,35,1,18,0)
  --------------------------------------------------------------------
"DATA",136.5,35,1,19,0)
  Arterial or venous infection        Meningitis or ventriculitis
"DATA",136.5,35,1,20,0)
  Breast abscess or mastitis          Myocarditis or pericarditis
"DATA",136.5,35,1,21,0)
  Disc space                          Oral cavity (mouth, tongue, or
"DATA",136.5,35,1,22,0)
  Ear, mastoid                         gums)
"DATA",136.5,35,1,23,0)
  Endocarditis                        Osteomyelitis
"DATA",136.5,35,1,24,0)
  Endometritis                        Other infections of the lower
"DATA",136.5,35,1,25,0)
  Eye, other than conjunctivitis       respiratory tract (e.g. abscess
"DATA",136.5,35,1,26,0)
  Gastrointestinal tract               or empyema)
"DATA",136.5,35,1,27,0)
  Intra-abdominal, not specified      Other male or female reproductive
"DATA",136.5,35,1,28,0)
   elsewhere                           tract
"DATA",136.5,35,1,29,0)
  Intracranial, brain abscess or      Sinusitis
"DATA",136.5,35,1,30,0)
   dura                               Spinal abscess without meningitis
"DATA",136.5,35,1,31,0)
  Joint or bursa                      Upper respiratory tract
"DATA",136.5,35,1,32,0)
  Mediastinitis                       Vaginal cuff
"DATA",136.5,36,0)
OTHER WOUND OCCURRENCE
"DATA",136.5,36,1,0)
^^5^5^3040318^
"DATA",136.5,36,1,1,0)
Definition Revised (2004):
"DATA",136.5,36,1,2,0)
Enter any other wound occurrences that you feel to be significant and 
"DATA",136.5,36,1,3,0)
that are not covered by the predefined wound occurrence categories. 
"DATA",136.5,36,1,4,0)
This occurrence category should have an accompanying ICD Diagnosis 
"DATA",136.5,36,1,5,0)
code.
"DATA",136.5,37,0)
REPEAT VENTILATOR SUPPORT W/IN 30 DAYS^^0^Y
"DATA",136.5,37,1,0)
^^10^10^3071102^
"DATA",136.5,37,1,1,0)
Definition Revised (2008)
"DATA",136.5,37,1,2,0)
Indicate if the patient was placed on ventilator support 
"DATA",136.5,37,1,3,0)
postoperatively within 30 days and this repeat ventilator support
"DATA",136.5,37,1,4,0)
is related to the index operation (For example, the patient is on
"DATA",136.5,37,1,5,0)
the ventilator intra-op and immediately post-op.  Then patient is
"DATA",136.5,37,1,6,0)
weaned and the ventilator is discontinued.  Later, the patient gets
"DATA",136.5,37,1,7,0)
into trouble and mechanical ventilation has to be reinstated.) 
"DATA",136.5,37,1,8,0)
However, if the patient returns to the OR within 30 days and gets
"DATA",136.5,37,1,9,0)
extubated immediately after, it is not considered repeat ventilator
"DATA",136.5,37,1,10,0)
support.
"DATA",136.5,38,0)
CLOSTRIDIUM DIFFICILE COLITIS (C-DIFFICILE)^^0
"DATA",136.5,38,1,0)
^^7^7^3071102^
"DATA",136.5,38,1,1,0)
Definition Revised (2008):
"DATA",136.5,38,1,2,0)
C. difficile-associated disease occurs when the normal intestinal
"DATA",136.5,38,1,3,0)
flora is altered, allowing C. difficile to flourish in the intestinal
"DATA",136.5,38,1,4,0)
tract and produce a toxin that causes a watery diarrhea.  C. difficile
"DATA",136.5,38,1,5,0)
diarrhea is confirmed by the presence of a toxin in a stool specimen.  
"DATA",136.5,38,1,6,0)
Answer yes only if you have a positive culture for C. difficile and/or
"DATA",136.5,38,1,7,0)
a toxin assay and diagnosis of C. difficile documented in the chart.
"DATA",136.5,38,2,0)
^136.53^1^1
"DATA",136.5,38,2,1,0)
C. DIFFICILE
"DATA",136.5,39,0)
POSTOPERATIVE ATRIAL FIBRILLATION^^0^Y
"DATA",136.5,39,1,0)
^136.52^4^4^3100430^^
"DATA",136.5,39,1,1,0)
VASQIP Definition (2010):
"DATA",136.5,39,1,2,0)
Indicate whether the patient had a new onset of atrial 
"DATA",136.5,39,1,3,0)
fibrillation/flutter (AF) requiring treatment. Does not include 
"DATA",136.5,39,1,4,0)
recurrence of AF which had been present preoperatively.
"FIA",130)
SURGERY
"FIA",130,0)
^SRF(
"FIA",130,0,0)
130IP
"FIA",130,0,1)
y^n^p^^^^n^^n
"FIA",130,0,10)

"FIA",130,0,11)

"FIA",130,0,"RLRO")

"FIA",130,0,"VR")
3.0^SR
"FIA",130,130)
1
"FIA",130,130,78)

"FIA",130,130,79)

"FIA",130,130,202)

"FIA",130,130,240)

"FIA",130,130,248)

"FIA",130,130,254)

"FIA",130,130,256)

"FIA",130,130,258)

"FIA",130,130,264)

"FIA",130,130,334)

"FIA",130,130,335)

"FIA",130,130,336)

"FIA",130,130,346)

"FIA",130,130,385)

"FIA",130,130,390)

"FIA",130,130,475)

"FIA",130,130,510)

"FIA",130,130,517)

"FIA",130,130,518)

"FIA",130,130,519)

"FIA",130,130,520)

"FIA",130,130,521)

"FIA",130,130,522)

"FIA",130,130,618)

"FIA",130,130,619)

"FIA",130,130,620)

"FIA",130,130,621)

"FIA",130,130,622)

"FIA",130,130,623)

"FIA",130,130,624)

"FIA",130,130.01)
1
"FIA",130,130.01,11)

"FIA",130,130.01,12)

"FIA",130,130.22)
1
"FIA",130,130.22,9)

"FIA",131.9)
PROSTHESIS
"FIA",131.9,0)
^SRO(131.9,
"FIA",131.9,0,0)
131.9
"FIA",131.9,0,1)
y^n^p^^^^n^^n
"FIA",131.9,0,10)

"FIA",131.9,0,11)

"FIA",131.9,0,"RLRO")

"FIA",131.9,0,"VR")
3.0^SR
"FIA",131.9,131.9)
1
"FIA",131.9,131.9,8)

"FIA",131.9,131.9,9)

"FIA",133)
SURGERY SITE PARAMETERS
"FIA",133,0)
^SRO(133,
"FIA",133,0,0)
133P
"FIA",133,0,1)
y^n^p^^^^n^^n
"FIA",133,0,10)

"FIA",133,0,11)

"FIA",133,0,"RLRO")

"FIA",133,0,"VR")
3.0^SR
"FIA",133,133)
1
"FIA",133,133,8)

"FIA",136.5)
PERIOPERATIVE OCCURRENCE CATEGORY
"FIA",136.5,0)
^SRO(136.5,
"FIA",136.5,0,0)
136.5I
"FIA",136.5,0,1)
y^y^f^^n^^y^o^n
"FIA",136.5,0,10)

"FIA",136.5,0,11)

"FIA",136.5,0,"RLRO")

"FIA",136.5,0,"VR")
3.0^SR
"FIA",136.5,136.5)
0
"FIA",136.5,136.52)
0
"FIA",136.5,136.53)
0
"FIA",139.5)
SURGERY TRANSPLANT ASSESSMENTS
"FIA",139.5,0)
^SRT(
"FIA",139.5,0,0)
139.5P
"FIA",139.5,0,1)
y^n^p^^^^n^^n
"FIA",139.5,0,10)

"FIA",139.5,0,11)

"FIA",139.5,0,"RLRO")

"FIA",139.5,0,"VR")
3.0^SR
"FIA",139.5,139.5)
1
"FIA",139.5,139.5,121)

"FIA",139.5,139.5,147)

"FIA",139.5,139.5,171)

"FIA",139.5,139.5,174)

"FIA",139.5,139.5,191)

"FIA",139.5,139.5,192)

"FIA",139.5,139.5,198)

"FIA",139.5,139.5,199)

"FIA",139.5,139.5,200)

"FIA",139.5,139.5,201)

"FIA",139.5,139.5,202)

"FIA",139.5,139.5,203)

"INI")
PRE^SR176UTL
"INIT")
POST^SR176UTL
"KRN",.402,742,-1)
0^1
"KRN",.402,742,0)
SROMEN-POST^3110531.152^^130^^^3110531
"KRN",.402,742,"DIAB",1,0,130,0)
41;T
"KRN",.402,742,"DIAB",1,1,130.16,0)
.01;T
"KRN",.402,742,"DIAB",1,1,130.18,0)
.01;T
"KRN",.402,742,"DIAB",1,1,130.213,0)
.01;T
"KRN",.402,742,"DIAB",2,0,130,0)
.875;T
"KRN",.402,742,"DIAB",2,1,130.16,0)
3;T
"KRN",.402,742,"DIAB",2,1,130.213,0)
1;T
"KRN",.402,742,"DIAB",3,0,130,0)
22;T
"KRN",.402,742,"DIAB",3,1,130.16,0)
1.5;T
"KRN",.402,742,"DIAB",3,1,130.18,0)
2;T
"KRN",.402,742,"DIAB",4,0,130,0)
.25;T
"KRN",.402,742,"DIAB",5,0,130,0)
.255;T
"KRN",.402,742,"DIAB",6,0,130,0)
62;T
"KRN",.402,742,"DIAB",7,0,130,0)
1.09;T
"KRN",.402,742,"DIAB",8,0,130,0)
.81;T
"KRN",.402,742,"DIAB",9,0,130,0)
.821;T
"KRN",.402,742,"DIAB",10,0,130,0)
.76;T
"KRN",.402,742,"DIAB",11,0,130,0)
.23;T
"KRN",.402,742,"DIAB",12,0,130,0)
.213;T
"KRN",.402,742,"DIAB",13,0,130,0)
.232;T
"KRN",.402,742,"DIAB",14,0,130,0)
.46;T
"KRN",.402,742,"DIAB",15,0,130,0)
25;T
"KRN",.402,742,"DIAB",16,0,130,0)
34;T
"KRN",.402,742,"DIAB",17,0,130,0)
32.5;T
"KRN",.402,742,"DIAB",18,0,130,0)
.74;T
"KRN",.402,742,"DIAB",19,0,130,0)
26;T
"KRN",.402,742,"DIAB",20,0,130,0)
27;T
"KRN",.402,742,"DIAB",21,0,130,0)
.42;T
"KRN",.402,742,"DIAB",22,0,130,0)
.166;T
"KRN",.402,742,"DIAB",23,0,130,0)
619;T
"KRN",.402,742,"DIAB",24,0,130,0)
620;T
"KRN",.402,742,"DIAB",25,0,130,0)
621;T
"KRN",.402,742,"DIAB",26,0,130,0)
622;T
"KRN",.402,742,"DIAB",27,0,130,0)
623;T
"KRN",.402,742,"DIAB",28,0,130,0)
624;T
"KRN",.402,742,"DR",1,130)
41T~;.875T~;22T~;.25T~;.255T~;62T~;1.09T~;.81T~;.821T~;.76T~;.23T~;.213T~;.232T~;.46T~;25T~;34T~;32.5T~;.74T~;26T~;27T~;.42T~;.166T~;619T~;620T~;621T~;622T~;623T~;624T~;
"KRN",.402,742,"DR",2,130.16)
.01T~;3T~;1.5T~;
"KRN",.402,742,"DR",2,130.18)
.01T~;3;2T~;
"KRN",.402,742,"DR",2,130.213)
.01T~;1T~;
"KRN",.402,743,-1)
0^3
"KRN",.402,743,0)
SROMEN-OPER^3110602.0859^^130^^^3111109
"KRN",.402,743,"DIAB",1,0,130,0)
.203;T
"KRN",.402,743,"DIAB",1,1,130.01,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.0129,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.013,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.02,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.04,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.08,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.16,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.213,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.32,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.33,0)
.01;T
"KRN",.402,743,"DIAB",1,2,130.0134,0)
.01;T
"KRN",.402,743,"DIAB",1,2,130.34,0)
.01;T
"KRN",.402,743,"DIAB",1,2,130.39,0)
.01;T
"KRN",.402,743,"DIAB",2,0,130,0)
.205;T
"KRN",.402,743,"DIAB",2,1,130.01,0)
8;T
"KRN",.402,743,"DIAB",2,1,130.0129,0)
1;T
"KRN",.402,743,"DIAB",2,1,130.013,0)
1;T
"KRN",.402,743,"DIAB",2,1,130.02,0)
1;T
"KRN",.402,743,"DIAB",2,1,130.04,0)
1;T
"KRN",.402,743,"DIAB",2,1,130.08,0)
1;T
"KRN",.402,743,"DIAB",2,1,130.16,0)
3;T
"KRN",.402,743,"DIAB",2,1,130.213,0)
1;T
"KRN",.402,743,"DIAB",2,1,130.32,0)
1;T
"KRN",.402,743,"DIAB",2,1,130.33,0)
1;T
"KRN",.402,743,"DIAB",2,2,130.0134,0)
1;T
"KRN",.402,743,"DIAB",2,2,130.34,0)
1;T
"KRN",.402,743,"DIAB",2,2,130.39,0)
1;T
"KRN",.402,743,"DIAB",3,0,130,0)
.213;T
"KRN",.402,743,"DIAB",3,1,130.01,0)
9;T
"KRN",.402,743,"DIAB",3,1,130.0129,0)
2;T
"KRN",.402,743,"DIAB",3,1,130.013,0)
2;T
"KRN",.402,743,"DIAB",3,1,130.02,0)
2;T
"KRN",.402,743,"DIAB",3,1,130.04,0)
3;T
"KRN",.402,743,"DIAB",3,1,130.16,0)
1.5;T
"KRN",.402,743,"DIAB",3,1,130.32,0)
2;T
"KRN",.402,743,"DIAB",3,2,130.0134,0)
2;T
"KRN",.402,743,"DIAB",3,2,130.34,0)
2;T
"KRN",.402,743,"DIAB",3,2,130.39,0)
2;T
"KRN",.402,743,"DIAB",4,0,130,0)
.22;T
"KRN",.402,743,"DIAB",4,1,130.01,0)
10;T
"KRN",.402,743,"DIAB",4,1,130.0129,0)
4;T
"KRN",.402,743,"DIAB",4,1,130.013,0)
3;T
"KRN",.402,743,"DIAB",4,1,130.02,0)
3;T
"KRN",.402,743,"DIAB",4,1,130.04,0)
4;T
"KRN",.402,743,"DIAB",4,1,130.32,0)
3;T
"KRN",.402,743,"DIAB",4,2,130.34,0)
3;T
"KRN",.402,743,"DIAB",5,0,130,0)
49;T
"KRN",.402,743,"DIAB",5,1,130.01,0)
1;T
"KRN",.402,743,"DIAB",5,1,130.0129,0)
3;T
"KRN",.402,743,"DIAB",5,1,130.013,0)
4;T
"KRN",.402,743,"DIAB",5,1,130.02,0)
4;T
"KRN",.402,743,"DIAB",5,1,130.04,0)
5;T
"KRN",.402,743,"DIAB",5,2,130.34,0)
4;T
"KRN",.402,743,"DIAB",6,0,130,0)
64;T
"KRN",.402,743,"DIAB",6,1,130.01,0)
2;T
"KRN",.402,743,"DIAB",6,1,130.0129,0)
5;T
"KRN",.402,743,"DIAB",6,2,130.34,0)
5;T
"KRN",.402,743,"DIAB",7,0,130,0)
.757;T
"KRN",.402,743,"DIAB",7,1,130.01,0)
11;T
"KRN",.402,743,"DIAB",8,0,130,0)
.75;T
"KRN",.402,743,"DIAB",8,1,130.01,0)
12;T
"KRN",.402,743,"DIAB",9,0,130,0)
57;T
"KRN",.402,743,"DIAB",9,1,130.01,0)
5;T
"KRN",.402,743,"DIAB",10,0,130,0)
58;T
"KRN",.402,743,"DIAB",10,1,130.01,0)
6;T
"KRN",.402,743,"DIAB",11,0,130,0)
.48;T
"KRN",.402,743,"DIAB",11,1,130.01,0)
7;T
"KRN",.402,743,"DIAB",12,0,130,0)
.47;T
"KRN",.402,743,"DIAB",13,0,130,0)
.27;T
"KRN",.402,743,"DIAB",14,0,130,0)
.39;T
"KRN",.402,743,"DIAB",15,0,130,0)
.375;T
"KRN",.402,743,"DIAB",16,0,130,0)
44;T
"KRN",.402,743,"DIAB",17,0,130,0)
45;T
"KRN",.402,743,"DIAB",18,0,130,0)
46;T
"KRN",.402,743,"DIAB",19,0,130,0)
47;T
"KRN",.402,743,"DIAB",20,0,130,0)
48;T
"KRN",.402,743,"DIAB",21,0,130,0)
127;T
"KRN",.402,743,"DIAB",22,0,130,0)
129;T
"KRN",.402,743,"DIAB",23,0,130,0)
130;T
"KRN",.402,743,"DIAB",24,0,130,0)
.29;T
"KRN",.402,743,"DIAB",25,0,130,0)
32;T
"KRN",.402,743,"DIAB",26,0,130,0)
32.5;T
"KRN",.402,743,"DIAB",27,0,130,0)
26;T
"KRN",.402,743,"DIAB",28,0,130,0)
27;T
"KRN",.402,743,"DIAB",29,0,130,0)
.42;T
"KRN",.402,743,"DIAB",30,0,130,0)
55;T
"KRN",.402,743,"DIAB",31,0,130,0)
60;T
"KRN",.402,743,"DR",1,130)
.203T~;.205T~;.213T~;.22T~;49T~;64T~;.757T~;.75T~;57T~;58T~;.48T~;.47T~;.27T~;.39T~;.375T~;44T~;45T~;46T~;47T~;48T~;127T~;129T~;130T~;.29T~;32T~;32.5T~;26T~;27T~;.42T~;55T~;60T~;
"KRN",.402,743,"DR",2,130.01)
.01T~;8T~;9T~;10T~;1T~;2T~;11T~;12T~;5T~;6T~;7T~;
"KRN",.402,743,"DR",2,130.0129)
.01T~;1T~;2T~;4T~;3T~;5T~;
"KRN",.402,743,"DR",2,130.013)
.01T~;1T~;2T~;3T~;4T~;
"KRN",.402,743,"DR",2,130.02)
.01T~;1T~;2T~;3T~;4T~;
"KRN",.402,743,"DR",2,130.04)
.01T~;1T~;3T~;4T~;5T~;
"KRN",.402,743,"DR",2,130.08)
.01T~;1T~;
"KRN",.402,743,"DR",2,130.16)
.01T~;3T~;1.5T~;
"KRN",.402,743,"DR",2,130.213)
.01T~;1T~;
"KRN",.402,743,"DR",2,130.32)
.01T~;1T~;2T~;3T~;
"KRN",.402,743,"DR",2,130.33)
.01T~;1T~;
"KRN",.402,743,"DR",3,130.0134)
.01T~;1T~;2T~;
"KRN",.402,743,"DR",3,130.34)
.01T~;1T~;2T~;3T~;4T~;5T~;
"KRN",.402,743,"DR",3,130.39)
.01T~;1T~;2T~;
"KRN",.402,2136,-1)
0^2
"KRN",.402,2136,0)
SRONRPT^3110601.1209^^130^^^3110601
"KRN",.402,2136,"DIAB",1,0,130,0)
600;T
"KRN",.402,2136,"DIAB",1,0,130,1)
.33;T
"KRN",.402,2136,"DIAB",1,0,130,2)
.76;T
"KRN",.402,2136,"DIAB",1,1,130.01,0)
.01;T
"KRN",.402,2136,"DIAB",1,1,130.0129,0)
.01;T
"KRN",.402,2136,"DIAB",1,1,130.013,0)
.01;T
"KRN",.402,2136,"DIAB",1,1,130.02,0)
.01;T
"KRN",.402,2136,"DIAB",1,1,130.04,0)
.01;T
"KRN",.402,2136,"DIAB",1,1,130.06,0)
.01;T
"KRN",.402,2136,"DIAB",1,1,130.065,0)
.01;T
"KRN",.402,2136,"DIAB",1,1,130.08,0)
.01;T
"KRN",.402,2136,"DIAB",1,1,130.16,0)
.01;T
"KRN",.402,2136,"DIAB",1,1,130.23,0)
.01;T
"KRN",.402,2136,"DIAB",1,1,130.24,0)
.01;T
"KRN",.402,2136,"DIAB",1,1,130.28,0)
.01;T
"KRN",.402,2136,"DIAB",1,1,130.31,0)
.01;T
"KRN",.402,2136,"DIAB",1,1,130.32,0)
.01;T
"KRN",.402,2136,"DIAB",1,1,130.33,0)
.01;T
"KRN",.402,2136,"DIAB",1,1,130.36,0)
.01;T
"KRN",.402,2136,"DIAB",1,2,130.0134,0)
.01;T
"KRN",.402,2136,"DIAB",1,2,130.34,0)
.01;T
"KRN",.402,2136,"DIAB",1,2,130.39,0)
.01;T
"KRN",.402,2136,"DIAB",2,0,130,0)
601;T
"KRN",.402,2136,"DIAB",2,0,130,1)
30;T
"KRN",.402,2136,"DIAB",2,0,130,2)
.77;T
"KRN",.402,2136,"DIAB",2,1,130.01,0)
8;T
"KRN",.402,2136,"DIAB",2,1,130.0129,0)
1;T
"KRN",.402,2136,"DIAB",2,1,130.013,0)
1;T
"KRN",.402,2136,"DIAB",2,1,130.02,0)
3;T
"KRN",.402,2136,"DIAB",2,1,130.04,0)
1;T
"KRN",.402,2136,"DIAB",2,1,130.065,0)
1;T
"KRN",.402,2136,"DIAB",2,1,130.08,0)
1;T
"KRN",.402,2136,"DIAB",2,1,130.23,0)
1;T
"KRN",.402,2136,"DIAB",2,1,130.24,0)
1;T
"KRN",.402,2136,"DIAB",2,1,130.28,0)
3;T
"KRN",.402,2136,"DIAB",2,1,130.31,0)
1;T
"KRN",.402,2136,"DIAB",2,1,130.32,0)
2;T
"KRN",.402,2136,"DIAB",2,1,130.33,0)
1;T
"KRN",.402,2136,"DIAB",2,1,130.36,0)
3;T
"KRN",.402,2136,"DIAB",2,2,130.0134,0)
1;T
"KRN",.402,2136,"DIAB",2,2,130.34,0)
1;T
"KRN",.402,2136,"DIAB",2,2,130.39,0)
1;T
"KRN",.402,2136,"DIAB",3,0,130,0)
602;T
"KRN",.402,2136,"DIAB",3,0,130,1)
.112;T
"KRN",.402,2136,"DIAB",3,0,130,2)
129;T
"KRN",.402,2136,"DIAB",3,1,130.01,0)
9;T
"KRN",.402,2136,"DIAB",3,1,130.0129,0)
2;T
"KRN",.402,2136,"DIAB",3,1,130.013,0)
2;T
"KRN",.402,2136,"DIAB",3,1,130.02,0)
1;T
"KRN",.402,2136,"DIAB",3,1,130.04,0)
3;T
"KRN",.402,2136,"DIAB",3,1,130.31,0)
2;T
"KRN",.402,2136,"DIAB",3,1,130.32,0)
1;T
"KRN",.402,2136,"DIAB",3,2,130.0134,0)
2;T
"KRN",.402,2136,"DIAB",3,2,130.34,0)
2;T
"KRN",.402,2136,"DIAB",3,2,130.39,0)
2;T
"KRN",.402,2136,"DIAB",4,0,130,0)
603;T
"KRN",.402,2136,"DIAB",4,0,130,1)
.111;T
"KRN",.402,2136,"DIAB",4,0,130,2)
127;T
"KRN",.402,2136,"DIAB",4,1,130.01,0)
10;T
"KRN",.402,2136,"DIAB",4,1,130.0129,0)
4;T
"KRN",.402,2136,"DIAB",4,1,130.013,0)
3;T
"KRN",.402,2136,"DIAB",4,1,130.02,0)
4;T
"KRN",.402,2136,"DIAB",4,1,130.04,0)
4;T
"KRN",.402,2136,"DIAB",4,1,130.32,0)
3;T
"KRN",.402,2136,"DIAB",4,2,130.34,0)
3;T
"KRN",.402,2136,"DIAB",5,0,130,0)
604;T
"KRN",.402,2136,"DIAB",5,0,130,1)
31;T
"KRN",.402,2136,"DIAB",5,0,130,2)
25;T
"KRN",.402,2136,"DIAB",5,1,130.01,0)
1;T
"KRN",.402,2136,"DIAB",5,1,130.0129,0)
3;T
"KRN",.402,2136,"DIAB",5,1,130.013,0)
4;T
"KRN",.402,2136,"DIAB",5,1,130.02,0)
2;T
"KRN",.402,2136,"DIAB",5,1,130.04,0)
5;T
"KRN",.402,2136,"DIAB",5,2,130.34,0)
4;T
"KRN",.402,2136,"DIAB",6,0,130,0)
605;T
"KRN",.402,2136,"DIAB",6,0,130,1)
.19;T
"KRN",.402,2136,"DIAB",6,0,130,2)
130;T
"KRN",.402,2136,"DIAB",6,1,130.01,0)
2;T
"KRN",.402,2136,"DIAB",6,1,130.0129,0)
5;T
"KRN",.402,2136,"DIAB",6,1,130.013,0)
5;T
"KRN",.402,2136,"DIAB",6,2,130.34,0)
5;T
"KRN",.402,2136,"DIAB",7,0,130,0)
606;T
"KRN",.402,2136,"DIAB",7,0,130,1)
.196;T
"KRN",.402,2136,"DIAB",7,0,130,2)
131;T
"KRN",.402,2136,"DIAB",7,1,130.01,0)
11;T
"KRN",.402,2136,"DIAB",8,0,130,0)
607;T
"KRN",.402,2136,"DIAB",8,0,130,1)
.07;T
"KRN",.402,2136,"DIAB",8,0,130,2)
619;T
"KRN",.402,2136,"DIAB",8,1,130.01,0)
12;T
"KRN",.402,2136,"DIAB",9,0,130,0)
611;T
"KRN",.402,2136,"DIAB",9,0,130,1)
.195;T
"KRN",.402,2136,"DIAB",9,0,130,2)
620;T
"KRN",.402,2136,"DIAB",9,1,130.01,0)
5;T
"KRN",.402,2136,"DIAB",10,0,130,0)
608;T
"KRN",.402,2136,"DIAB",10,0,130,1)
.12;T
"KRN",.402,2136,"DIAB",10,0,130,2)
621;T
"KRN",.402,2136,"DIAB",10,1,130.01,0)
6;T
"KRN",.402,2136,"DIAB",11,0,130,0)
609;T
"KRN",.402,2136,"DIAB",11,0,130,1)
506;T
"KRN",.402,2136,"DIAB",11,0,130,2)
622;T
"KRN",.402,2136,"DIAB",11,1,130.01,0)
7;T
"KRN",.402,2136,"DIAB",12,0,130,0)
610;T
"KRN",.402,2136,"DIAB",12,0,130,1)
508;T
"KRN",.402,2136,"DIAB",12,0,130,2)
623;T
"KRN",.402,2136,"DIAB",13,0,130,0)
85;T
"KRN",.402,2136,"DIAB",13,0,130,1)
.18;T
"KRN",.402,2136,"DIAB",13,0,130,2)
624;T
"KRN",.402,2136,"DIAB",14,0,130,0)
.69;T
"KRN",.402,2136,"DIAB",14,0,130,1)
4;T
"KRN",.402,2136,"DIAB",14,0,130,2)
.29;T
"KRN",.402,2136,"DIAB",15,0,130,1)
.175;T
"KRN",.402,2136,"DIAB",16,0,130,0)
44;T
"KRN",.402,2136,"DIAB",16,0,130,1)
8;T
"KRN",.402,2136,"DIAB",17,0,130,0)
45;T
"KRN",.402,2136,"DIAB",17,0,130,1)
65;T
"KRN",.402,2136,"DIAB",18,0,130,0)
46;T
"KRN",.402,2136,"DIAB",18,0,130,1)
.13;T
"KRN",.402,2136,"DIAB",19,0,130,0)
47;T
"KRN",.402,2136,"DIAB",19,0,130,1)
.75;T
"KRN",.402,2136,"DIAB",20,0,130,0)
48;T
"KRN",.402,2136,"DIAB",20,0,130,1)
57;T
"KRN",.402,2136,"DIAB",21,0,130,0)
.203;T
"KRN",.402,2136,"DIAB",21,0,130,1)
58;T
"KRN",.402,2136,"DIAB",22,0,130,0)
.205;T
"KRN",.402,2136,"DIAB",22,0,130,1)
.55;T
"KRN",.402,2136,"DIAB",23,0,130,0)
.22;T
"KRN",.402,2136,"DIAB",23,0,130,1)
6;T
"KRN",.402,2136,"DIAB",24,0,130,0)
.23;T
"KRN",.402,2136,"DIAB",24,0,130,1)
49;T
"KRN",.402,2136,"DIAB",25,0,130,0)
.206;T
"KRN",.402,2136,"DIAB",25,0,130,1)
64;T
"KRN",.402,2136,"DIAB",26,0,130,0)
.232;T
"KRN",.402,2136,"DIAB",26,0,130,1)
.37;T
"KRN",.402,2136,"DIAB",27,0,130,0)
26;T
"KRN",.402,2136,"DIAB",27,0,130,1)
22;T
"KRN",.402,2136,"DIAB",28,0,130,0)
.42;T
"KRN",.402,2136,"DIAB",28,0,130,1)
.48;T
"KRN",.402,2136,"DIAB",29,0,130,0)
1.09;T
"KRN",.402,2136,"DIAB",29,0,130,1)
.757;T
"KRN",.402,2136,"DIAB",30,0,130,0)
.46;T
"KRN",.402,2136,"DIAB",30,0,130,1)
.47;T
"KRN",.402,2136,"DIAB",31,0,130,0)
.03;T
"KRN",.402,2136,"DIAB",31,0,130,1)
.375;T
"KRN",.402,2136,"DIAB",32,0,130,0)
.02;T
"KRN",.402,2136,"DIAB",32,0,130,1)
.39;T
"KRN",.402,2136,"DIAB",33,0,130,0)
.035;T
"KRN",.402,2136,"DIAB",33,0,130,1)
.27;T
"KRN",.402,2136,"DIAB",34,0,130,0)
.14;T
"KRN",.402,2136,"DIAB",34,0,130,1)
41;T
"KRN",.402,2136,"DIAB",35,0,130,0)
.164;T
"KRN",.402,2136,"DIAB",35,0,130,1)
.875;T
"KRN",.402,2136,"DIAB",36,0,130,0)
.15;T
"KRN",.402,2136,"DIAB",36,0,130,1)
.25;T
"KRN",.402,2136,"DIAB",37,0,130,0)
.16;T
"KRN",.402,2136,"DIAB",37,0,130,1)
.255;T
"KRN",.402,2136,"DIAB",38,0,130,0)
.31;T
"KRN",.402,2136,"DIAB",38,0,130,1)
.81;T
"KRN",.402,2136,"DIAB",39,0,130,1)
.821;T
"KRN",.402,2136,"DR",1,130)
600T~;601T~;602T~;603T~;604T~;605T~;606T~;607T~;611T~;608T~;609T~;610T~;85T~;.69T~;W !;44T~;45T~;46T~;47T~;48T~;.203T~;.205T~;.22T~;.23T~;.206T~;.232T~;26T~;.42T~;1.09T~;.46T~;.03T~;.02T~;.035T~;.14T~;.164T~;.15T~;.16T~;.31T~;
"KRN",.402,2136,"DR",1,130,1)
.33T~;30T~;.112T~;.111T~;31T~;.19T~;.196T~;.07T~;.195T~;.12T~;506T~;508T~;.18T~;4T~;.175T~;8T~;65T~;.13T~;.75T~;57T~;58T~;.55T~;6T~;49T~;64T~;.37T~;22T~;.48T~;.757T~;.47T~;.375T~;.39T~;.27T~;41T~;.875T~;.25T~;.255T~;.81T~;.821T~;
"KRN",.402,2136,"DR",1,130,2)
.76T~;.77T~;129T~;127T~;25T~;130T~;131T~;619T~;620T~;621T~;622T~;623T~;624T~;.29T~;
"KRN",.402,2136,"DR",2,130.01)
.01T~;8T~;9T~;10T~;1T~;2T~;11T~;12T~;5T~;6T~;7T~;
"KRN",.402,2136,"DR",2,130.0129)
.01T~;1T~;2T~;4T~;3T~;5T~;
"KRN",.402,2136,"DR",2,130.013)
.01T~;1T~;2T~;3T~;4T~;5T~;
"KRN",.402,2136,"DR",2,130.02)
.01T~;3T~;1T~;4T~;2T~;
"KRN",.402,2136,"DR",2,130.04)
.01T~;1T~;3T~;4T~;5T~;
"KRN",.402,2136,"DR",2,130.06)
.01T~;
"KRN",.402,2136,"DR",2,130.065)
.01T~;1T~;
"KRN",.402,2136,"DR",2,130.08)
.01T~;1T~;
"KRN",.402,2136,"DR",2,130.16)
.01T~;
"KRN",.402,2136,"DR",2,130.23)
.01T~;1T~;
"KRN",.402,2136,"DR",2,130.24)
.01T~;1T~;
"KRN",.402,2136,"DR",2,130.28)
.01T~;3T~;
"KRN",.402,2136,"DR",2,130.31)
.01T~;1T~;2T~;
"KRN",.402,2136,"DR",2,130.32)
.01T~;2T~;1T~;3T~;
"KRN",.402,2136,"DR",2,130.33)
.01T~;1T~;
"KRN",.402,2136,"DR",2,130.36)
.01T~;3T~;
"KRN",.402,2136,"DR",3,130.0134)
.01T~;1T~;2T~;
"KRN",.402,2136,"DR",3,130.34)
.01T~;1T~;2T~;3T~;4T~;5T~;
"KRN",.402,2136,"DR",3,130.39)
.01T~;1T~;2T~;
"KRN",19,10102,-1)
0^4
"KRN",19,10102,0)
SROQD^Deaths Within 30 Days of Surgery^^R^^^^^^^^SURGERY^^1^1
"KRN",19,10102,1,0)
^^23^23^3110831^
"KRN",19,10102,1,1,0)
This option lists patients who had surgery within the selected date range 
"KRN",19,10102,1,2,0)
and who died within 30 days of surgery. Two separate reports are  
"KRN",19,10102,1,3,0)
available through this option.  
"KRN",19,10102,1,4,0)
  
"KRN",19,10102,1,5,0)
 1. Total Cases Summary 
"KRN",19,10102,1,6,0)
    This report may be printed in one of three ways.  
"KRN",19,10102,1,7,0)
    a. All Cases 
"KRN",19,10102,1,8,0)
       The report will list all patients who had surgery within the 
"KRN",19,10102,1,9,0)
       selected date range and who died within 30 days of surgery, along 
"KRN",19,10102,1,10,0)
       with all of the patients' operations that were performed during the
"KRN",19,10102,1,11,0)
       selected date range.  
"KRN",19,10102,1,12,0)
    b. Outpatient Cases Only The report will list only the surgical cases
"KRN",19,10102,1,13,0)
       that are associated with deaths that are counted as outpatient
"KRN",19,10102,1,14,0)
       (ambulatory) deaths.  
"KRN",19,10102,1,15,0)
    c. Inpatient Cases Only
"KRN",19,10102,1,16,0)
       The report will list only the surgical cases that are associated 
"KRN",19,10102,1,17,0)
       with deaths that are counted as inpatient deaths.  
"KRN",19,10102,1,18,0)
  
"KRN",19,10102,1,19,0)
 2. Specialty Procedures 
"KRN",19,10102,1,20,0)
    This report will list the surgical cases that are associated with 
"KRN",19,10102,1,21,0)
    deaths that are counted for the national surgical specialty linked to 
"KRN",19,10102,1,22,0)
    the local surgical specialty. Cases are listed by national surgical 
"KRN",19,10102,1,23,0)
    specialty.
"KRN",19,10102,15)
D EXIT^SROVAR
"KRN",19,10102,20)
D ^SROVAR
"KRN",19,10102,22)
Q
"KRN",19,10102,25)
SROQD
"KRN",19,10102,"U")
DEATHS WITHIN 30 DAYS OF SURGE
"KRN",19,11283,-1)
3^2
"KRN",19,11283,0)
SRCODING UPDATE/VERIFY MENU^CPT/ICD Update/Verify Menu^^M^^SR CODER^^^^^^SURGERY^y^1^1^^1
"KRN",19,11283,1,0)
^^2^2^3110526^
"KRN",19,11283,1,1,0)
This menu contains options to be used by those responsible for entering
"KRN",19,11283,1,2,0)
CPT and ICD codes for operations and non-OR procedures.
"KRN",19,11283,10,0)
^19.01IP^5^4
"KRN",19,11283,10,1,0)
11284^UV^1
"KRN",19,11283,10,1,"^")
SRCODING EDIT
"KRN",19,11283,15)
D EXIT^SROVAR K SRTN
"KRN",19,11283,20)
K SRCASE D ^SROVAR Q:$D(XQUIT)  D:'$D(SRTN) ^SROPS1 W @IOF S:'$D(SRTN) XQUIT="" Q:$D(XQUIT)  D ^SRSKILL
"KRN",19,11283,22)
Q
"KRN",19,11283,26)
D HDR^SROUTL
"KRN",19,11283,99)
60334,25422
"KRN",19,11283,"U")
CPT/ICD UPDATE/VERIFY MENU
"KRN",19,11284,-1)
0^3
"KRN",19,11284,0)
SRCODING EDIT^Update/Verify Procedure/Diagnosis Codes^^R^^^^^^^^SURGERY^y^1^1
"KRN",19,11284,1,0)
^^2^2^3110526^
"KRN",19,11284,1,1,0)
This option is used to enter/edit the final CPT and ICD codes for an
"KRN",19,11284,1,2,0)
operation or non-OR procedure.
"KRN",19,11284,15)
K:'$D(SRTNK) SRTN K SRTNK D EXIT^SROVAR
"KRN",19,11284,20)
D ^SROVAR Q:$D(XQUIT)  S:$D(SRTN) SRTNK=SRTN D:'$D(SRTN) ^SROPS1 S:'$D(SRTN) XQUIT="" Q:$D(XQUIT)
"KRN",19,11284,22)
Q
"KRN",19,11284,25)
SROCD
"KRN",19,11284,"U")
UPDATE/VERIFY PROCEDURE/DIAGNO
"KRN",19,11287,-1)
3^1
"KRN",19,11287,0)
SRCODING MENU^CPT/ICD Coding Menu^^M^^SR CODER^^^^^^SURGERY^y^1^1^^1
"KRN",19,11287,1,0)
^^3^3^3110526^
"KRN",19,11287,1,1,0)
This menu provides functionality for reviewing operations and non-OR
"KRN",19,11287,1,2,0)
procedures and for editing operation and non-OR procedure CPT and ICD
"KRN",19,11287,1,3,0)
codes.
"KRN",19,11287,10,0)
^19.01IP^10^9
"KRN",19,11287,10,1,0)
11283^EDIT^1
"KRN",19,11287,10,1,"^")
SRCODING UPDATE/VERIFY MENU
"KRN",19,11287,15)
D EXIT^SROVAR
"KRN",19,11287,20)
D ^SROVAR W @IOF
"KRN",19,11287,22)
Q
"KRN",19,11287,26)
D HDR^SROUTL
"KRN",19,11287,99)
62325,33631
"KRN",19,11287,"U")
CPT/ICD CODING MENU
"MBREQ")
0
"ORD",0,9.8)
9.8;;1;RTNF^XPDTA;RTNE^XPDTA
"ORD",0,9.8,0)
ROUTINE
"ORD",7,.402)
.402;7;;;EDEOUT^DIFROMSO(.402,DA,"",XPDA);FPRE^DIFROMSI(.402,"",XPDA);EPRE^DIFROMSI(.402,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.402,DA,"",XPDA);DEL^DIFROMSK(.402,"",%)
"ORD",7,.402,0)
INPUT TEMPLATE
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",167,-1)
1^1
"PKG",167,0)
SURGERY^SR^SURGICAL DATA COLLECTION AND OPERATIONS SCHEDULING
"PKG",167,20,0)
^9.402P^^
"PKG",167,22,0)
^9.49I^1^1
"PKG",167,22,1,0)
3.0^3040426^2930811
"PKG",167,22,1,"PAH",1,0)
176^3120409
"PKG",167,22,1,"PAH",1,1,0)
^^130^130^3120409
"PKG",167,22,1,"PAH",1,1,1,0)
In support of the VA Surgery Quality Improvement Program (VASQIP), this 
"PKG",167,22,1,"PAH",1,1,2,0)
patch provides the VASQIP Increment 2 update to the Veterans Health 
"PKG",167,22,1,"PAH",1,1,3,0)
Information Systems and Technology Architecture (VistA) Surgery package.
"PKG",167,22,1,"PAH",1,1,4,0)
The updates include the addition of new data fields, changes to existing
"PKG",167,22,1,"PAH",1,1,5,0)
fields, changes to data entry screens, changes to reports, changes to the
"PKG",167,22,1,"PAH",1,1,6,0)
Surgery Risk Assessment transmissions, and changes to transplant
"PKG",167,22,1,"PAH",1,1,7,0)
components of the VistA Surgery application.
"PKG",167,22,1,"PAH",1,1,8,0)
 
"PKG",167,22,1,"PAH",1,1,9,0)
 1. Surgery Cancellation Modifications
"PKG",167,22,1,"PAH",1,1,10,0)
   a. Surgery cancellation functionality is modified so that any surgery 
"PKG",167,22,1,"PAH",1,1,11,0)
      case that is placed on the surgery schedule and then cancelled will 
"PKG",167,22,1,"PAH",1,1,12,0)
      be retained in the SURGERY file (#130) as a cancelled case
"PKG",167,22,1,"PAH",1,1,13,0)
      regardless of when the case is cancelled. Also, a cancellation
"PKG",167,22,1,"PAH",1,1,14,0)
      reason is required for every cancellation. Any scheduled case that
"PKG",167,22,1,"PAH",1,1,15,0)
      is cancelled will be counted as a cancellation on the Report of
"PKG",167,22,1,"PAH",1,1,16,0)
      Cancellations generated by the Report of Cancellations [SROCAN]
"PKG",167,22,1,"PAH",1,1,17,0)
      option.
"PKG",167,22,1,"PAH",1,1,18,0)
 
"PKG",167,22,1,"PAH",1,1,19,0)
   b. The Report of Cancellations, generated by the Report of 
"PKG",167,22,1,"PAH",1,1,20,0)
      Cancellations [SROCAN] option, is modified to group patient data 
"PKG",167,22,1,"PAH",1,1,21,0)
      together within specialty so that all cases for a single patient
"PKG",167,22,1,"PAH",1,1,22,0)
      will be shown together. The report will also order based on 
"PKG",167,22,1,"PAH",1,1,23,0)
      operations so the same operation descriptions will show next to each
"PKG",167,22,1,"PAH",1,1,24,0)
      other for the same patient.  
"PKG",167,22,1,"PAH",1,1,25,0)
 
"PKG",167,22,1,"PAH",1,1,26,0)
 2. Miscellaneous Additions to Risk Assessment Transmissions
"PKG",167,22,1,"PAH",1,1,27,0)
   a. The name of the operating room as defined in the HOSPITAL LOCATION 
"PKG",167,22,1,"PAH",1,1,28,0)
      file (#44) is added to each cardiac and non-cardiac risk assessment 
"PKG",167,22,1,"PAH",1,1,29,0)
      transmission and to each 1-liner case transmission.
"PKG",167,22,1,"PAH",1,1,30,0)
 
"PKG",167,22,1,"PAH",1,1,31,0)
   b. The following four fields in the SURGERY file (#130) are added to
"PKG",167,22,1,"PAH",1,1,32,0)
      each 1-liner case transmission and to the list of items checked for
"PKG",167,22,1,"PAH",1,1,33,0)
      by the List of 1-Liner Cases Missing Information which is one of the
"PKG",167,22,1,"PAH",1,1,34,0)
      reports generated by the List of Surgery Risk Assessments [SROA
"PKG",167,22,1,"PAH",1,1,35,0)
      ASSESSMENT LIST] option:
"PKG",167,22,1,"PAH",1,1,36,0)
       - TIME OPERATION BEGAN (#.22)
"PKG",167,22,1,"PAH",1,1,37,0)
       - TIME OPERATION ENDS (#.23)
"PKG",167,22,1,"PAH",1,1,38,0)
       - TIME PAT IN OR (#.205)
"PKG",167,22,1,"PAH",1,1,39,0)
       - TIME PAT OUT OR (#.232)
"PKG",167,22,1,"PAH",1,1,40,0)
 
"PKG",167,22,1,"PAH",1,1,41,0)
 3. Positive Drug Screening
"PKG",167,22,1,"PAH",1,1,42,0)
    A new POSITIVE DRUG SCREENING  field (#618) is added to the SURGERY 
"PKG",167,22,1,"PAH",1,1,43,0)
    file (#130). This field is added to the Preoperative Information 
"PKG",167,22,1,"PAH",1,1,44,0)
    (Enter/Edit)[SROA PREOP DATA] option, the Clinical Information 
"PKG",167,22,1,"PAH",1,1,45,0)
    (Enter/Edit)[SROA CLINICAL INFORMATION] option and the Print a Surgery
"PKG",167,22,1,"PAH",1,1,46,0)
    Risk Assessment [SROA PRINT ASSESSMENT] option. This field is also
"PKG",167,22,1,"PAH",1,1,47,0)
    added to the cardiac and non-cardiac risk assessment transmissions and
"PKG",167,22,1,"PAH",1,1,48,0)
    is added to the list of missing items functionality.
"PKG",167,22,1,"PAH",1,1,49,0)
 
"PKG",167,22,1,"PAH",1,1,50,0)
 4. Consolidation of Shared Cardiac, Non-Cardiac and Transplant Fields
"PKG",167,22,1,"PAH",1,1,51,0)
    This patch updates various fields in the SURGERY file (#130) and in
"PKG",167,22,1,"PAH",1,1,52,0)
    the SURGERY TRANSPLANT ASSESSMENTS file (#139.5) as well as various
"PKG",167,22,1,"PAH",1,1,53,0)
    occurrence category descriptions in the PERIOPERATIVE OCCURRENCE
"PKG",167,22,1,"PAH",1,1,54,0)
    CATEGORY file (#136.5) so that common items share common definitions.
"PKG",167,22,1,"PAH",1,1,55,0)
    This patch also replaces various fields with new fields in order to
"PKG",167,22,1,"PAH",1,1,56,0)
    enhance and refine certain data elements that are in common with
"PKG",167,22,1,"PAH",1,1,57,0)
    cardiac and non-cardiac risk assessments and transplant assessments.
"PKG",167,22,1,"PAH",1,1,58,0)
    All the associated data input options, assessment printouts and
"PKG",167,22,1,"PAH",1,1,59,0)
    transmissions are updated accordingly.
"PKG",167,22,1,"PAH",1,1,60,0)
    
"PKG",167,22,1,"PAH",1,1,61,0)
    The complete list of updated fields, new fields and replaced 
"PKG",167,22,1,"PAH",1,1,62,0)
    fields is in the patch release notes.
"PKG",167,22,1,"PAH",1,1,63,0)
    
"PKG",167,22,1,"PAH",1,1,64,0)
 5. Add Serial Number for Prosthesis Items
"PKG",167,22,1,"PAH",1,1,65,0)
     - Two new fields, LOT NUMBER (#11) and SERIAL NUMBER (#12) are 
"PKG",167,22,1,"PAH",1,1,66,0)
       added to the PROSTHESIS INSTALLED multiple field (#.47, sub-file 
"PKG",167,22,1,"PAH",1,1,67,0)
       #130.01) to replace the existing LOT/SERIAL NO field (#2.5). The 
"PKG",167,22,1,"PAH",1,1,68,0)
       Operation [SROMEN-OP] option and the Nurse Intraoperative Report 
"PKG",167,22,1,"PAH",1,1,69,0)
       [SRONRPT] option are updated to allow editing and display of these
"PKG",167,22,1,"PAH",1,1,70,0)
       two new fields.
"PKG",167,22,1,"PAH",1,1,71,0)
     - LOT NUMBER field (#8) and SERIAL NUMBER field (#9) are added to
"PKG",167,22,1,"PAH",1,1,72,0)
       the PROSTHESIS file (#131.9). The Update Site Configurable Files
"PKG",167,22,1,"PAH",1,1,73,0)
       [SR UPDATE FILES] option is modified to allow editing of these new
"PKG",167,22,1,"PAH",1,1,74,0)
       fields and to disallow editing of the LOT/SERIAL NO field (#4) and
"PKG",167,22,1,"PAH",1,1,75,0)
       the STERILE CODE field (#3).
"PKG",167,22,1,"PAH",1,1,76,0)
       
"PKG",167,22,1,"PAH",1,1,77,0)
 6. Flash Sterilization
"PKG",167,22,1,"PAH",1,1,78,0)
    Six new fields are added to the SURGERY file (#130) to document the
"PKG",167,22,1,"PAH",1,1,79,0)
    number of episodes of each type of flash sterilization that happened
"PKG",167,22,1,"PAH",1,1,80,0)
    for an operation:
"PKG",167,22,1,"PAH",1,1,81,0)
     - FLASH-CONTAMINATION (#619)
"PKG",167,22,1,"PAH",1,1,82,0)
     - FLASH-SPD/OR MGT ISSUE (#620)
"PKG",167,22,1,"PAH",1,1,83,0)
     - FLASH-EMERGENCY CASE (#621)
"PKG",167,22,1,"PAH",1,1,84,0)
     - FLASH-NO BETTER OPTION (#622)
"PKG",167,22,1,"PAH",1,1,85,0)
     - FLASH-LOANER INSTRUMENT (#623)
"PKG",167,22,1,"PAH",1,1,86,0)
     - FLASH-DECONTAMINATION (#624)
"PKG",167,22,1,"PAH",1,1,87,0)
       
"PKG",167,22,1,"PAH",1,1,88,0)
    The Post Operation [SROMEN-POST] option and the Nurse Intraoperative
"PKG",167,22,1,"PAH",1,1,89,0)
    Report [SRONRPT] option are updated to allow editing and display of
"PKG",167,22,1,"PAH",1,1,90,0)
    these two new fields.
"PKG",167,22,1,"PAH",1,1,91,0)
    
"PKG",167,22,1,"PAH",1,1,92,0)
 7. 30-Day Readmission
"PKG",167,22,1,"PAH",1,1,93,0)
    This patch creates a transmission report that lists inpatient 
"PKG",167,22,1,"PAH",1,1,94,0)
    surgery cases which were followed by the patient being readmitted 
"PKG",167,22,1,"PAH",1,1,95,0)
    within 30 days of discharge. This report is run by the Surgery 
"PKG",167,22,1,"PAH",1,1,96,0)
    Nightly Cleanup and Updates [SRTASK-NIGHT] option and will transmit to
"PKG",167,22,1,"PAH",1,1,97,0)
    the VASQIP database automatically each quarter.
"PKG",167,22,1,"PAH",1,1,98,0)
    
"PKG",167,22,1,"PAH",1,1,99,0)
 8. Update ICD9 to ICD
"PKG",167,22,1,"PAH",1,1,100,0)
    References to ICD9 are replaced with ICD in the following menu 
"PKG",167,22,1,"PAH",1,1,101,0)
    options:
"PKG",167,22,1,"PAH",1,1,102,0)
     - CPT/ICD9 Coding Menu [SRCODING MENU]
"PKG",167,22,1,"PAH",1,1,103,0)
     - CPT/ICD9 Update/Verify Menu [SRCODING UPDATE/VERIFY MENU]
"PKG",167,22,1,"PAH",1,1,104,0)
     - Update/verify Procedure/Diagnosis Codes [SRCODING EDIT]
"PKG",167,22,1,"PAH",1,1,105,0)
    
"PKG",167,22,1,"PAH",1,1,106,0)
 9. Remove Quarterly Report References
"PKG",167,22,1,"PAH",1,1,107,0)
   a. References to "Quarterly Report" are removed from the Deaths Within
"PKG",167,22,1,"PAH",1,1,108,0)
      30 Days of Surgery [SROQD] option.
"PKG",167,22,1,"PAH",1,1,109,0)
 
"PKG",167,22,1,"PAH",1,1,110,0)
   b. The routines that provided the Surgery Quarterly Report
"PKG",167,22,1,"PAH",1,1,111,0)
      functionality are removed. Those routines are SROQ1, SROQ1A, SROQ2,
"PKG",167,22,1,"PAH",1,1,112,0)
      SROQM, SROQM0, SROQM1 and SROQT.
"PKG",167,22,1,"PAH",1,1,113,0)
 
"PKG",167,22,1,"PAH",1,1,114,0)
10. Add Superficial Incisional SSI to Cardiac Outcomes
"PKG",167,22,1,"PAH",1,1,115,0)
    The SUPERFICIAL INCISIONAL SSI field (#248) in the SURGERY file 
"PKG",167,22,1,"PAH",1,1,116,0)
    (#130) is added to the Outcome Information (Enter/Edit) [SROA 
"PKG",167,22,1,"PAH",1,1,117,0)
    CARDIAC-OUTCOMES] option, the cardiac assessment transmission and to 
"PKG",167,22,1,"PAH",1,1,118,0)
    the cardiac assessment printout.
"PKG",167,22,1,"PAH",1,1,119,0)
 
"PKG",167,22,1,"PAH",1,1,120,0)
11. The following routines associated with obsolete functionality are 
"PKG",167,22,1,"PAH",1,1,121,0)
    removed: SROAC, SROAC1, SROAC2, SROACCR, SROACRC, SROACS, SROASWAP,
"PKG",167,22,1,"PAH",1,1,122,0)
    SROASWP, SROASWP0, SROASWP1, SROASWP2, SROAWSP3, SROASWPD, SRSLOOK,
"PKG",167,22,1,"PAH",1,1,123,0)
    and SRSLOOK1.
"PKG",167,22,1,"PAH",1,1,124,0)
    
"PKG",167,22,1,"PAH",1,1,125,0)
12. This patch fixes the issue reported by Remedy ticket #528445, where 
"PKG",167,22,1,"PAH",1,1,126,0)
    the PREOPERATIVE IMAGES CONFIRMED field (#606) displays the same data
"PKG",167,22,1,"PAH",1,1,127,0)
    as MARKED SITE CONFIRMED field (#605).
"PKG",167,22,1,"PAH",1,1,128,0)
 
"PKG",167,22,1,"PAH",1,1,129,0)
13. This patch updates the CPT EXCLUSIONS file (#137) with data for 
"PKG",167,22,1,"PAH",1,1,130,0)
    fiscal year 2012.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
90
"RTN","SR176UT0")
0^87^B69974019^n/a
"RTN","SR176UT0",1,0)
SR176UT0 ;BIR/ADM - FY12 CPT EXCLUSION UTILITY, CONTINUED ;11/08/2011
"RTN","SR176UT0",2,0)
 ;;3.0;Surgery;**176**;24 Jun 93;Build 8
"RTN","SR176UT0",3,0)
 Q
"RTN","SR176UT0",4,0)
PEX ; populate file 137
"RTN","SR176UT0",5,0)
 F SRJ=0:1 S SRLIST=$P($T(LIST+SRJ)," ;;",2) Q:SRLIST=""  F SRI=1:1 S SRX=$P(SRLIST,",",SRI) Q:SRX=""  I $D(^ICPT("B",SRX)) D INT
"RTN","SR176UT0",6,0)
 Q
"RTN","SR176UT0",7,0)
INT S SRY=0,SRY=$O(^ICPT("B",SRX,SRY)) Q:SRY=""
"RTN","SR176UT0",8,0)
 K DA,DIC,DD,DO,DINUM S (DINUM,X)=SRY,DIC="^SRO(137,",DIC(0)="L" D FILE^DICN
"RTN","SR176UT0",9,0)
 Q
"RTN","SR176UT0",10,0)
LIST ;;21081,21082,21083,21084,21085,21086,21087,21088,21089,21116,21210,21310,21315,21320,21325,21330,21335,21336,21337,21338
"RTN","SR176UT0",11,0)
 ;;21339,21340,21345,21400,21401,21421,21431,21440,21450,21451,21452,21453,21480,21485,21497,21550,21552,21554,21555,21556
"RTN","SR176UT0",12,0)
 ;;21800,21820,21920,21925,21930,21931,21932,21933,22305,22310,22315,22505,22520,22521,22522,22900,22901,22902,22903,23065
"RTN","SR176UT0",13,0)
 ;;23066,23071,23073,23075,23076,23100,23330,23331,23350,23500,23505,23520,23525,23540,23545,23570,23575,23600,23605,23620
"RTN","SR176UT0",14,0)
 ;;23625,23650,23655,23665,23675,23700,23930,23931,24065,24066,24071,24073,24075,24076,24100,24101,24147,24160,24164,24200
"RTN","SR176UT0",15,0)
 ;;24220,24300,24343,24470,24500,24505,24530,24535,24560,24565,24576,24577,24600,24605,24620,24640,24650,24655,24670,24675
"RTN","SR176UT0",16,0)
 ;;25000,25028,25031,25065,25066,25071,25073,25075,25076,25100,25246,25250,25251,25259,25500,25505,25520,25530,25535,25560
"RTN","SR176UT0",17,0)
 ;;25565,25600,25605,25622,25624,25630,25635,25650,25651,25660,25671,25675,25680,25690,25800,25805,25810,25820,25825,25830
"RTN","SR176UT0",18,0)
 ;;26010,26011,26020,26025,26030,26034,26035,26037,26040,26045,26055,26060,26070,26075,26080,26100,26105,26110,26111,26113
"RTN","SR176UT0",19,0)
 ;;26115,26116,26121,26123,26140,26160,26200,26210,26262,26320,26340,26341,26416,26432,26508,26516,26517,26518,26600,26605
"RTN","SR176UT0",20,0)
 ;;26607,26608,26641,26645,26670,26675,26700,26705,26720,26725,26740,26742,26750,26755,26756,26770,26775,26820,26841,26842
"RTN","SR176UT0",21,0)
 ;;26843,26844,26850,26852,26860,26861,26862,26863,26910,26951,27003,27040,27041,27043,27045,27047,27048,27050,27052,27065
"RTN","SR176UT0",22,0)
 ;;27090,27091,27093,27095,27096,27175,27178,27193,27194,27200,27216,27220,27222,27230,27232,27238,27240,27246,27250,27252
"RTN","SR176UT0",23,0)
 ;;27256,27257,27265,27266,27267,27268,27275,27306,27323,27324,27330,27337,27339,27370,27500,27501,27502,27503,27508,27510
"RTN","SR176UT0",24,0)
 ;;27516,27517,27520,27530,27532,27538,27550,27552,27560,27562,27570,27613,27614,27618,27619,27632,27634,27648,27690,27691
"RTN","SR176UT0",25,0)
 ;;27750,27752,27760,27762,27767,27768,27780,27781,27786,27788,27808,27810,27816,27818,27824,27825,27830,27831,27840,27842
"RTN","SR176UT0",26,0)
 ;;27860,27870,27871,28001,28005,28008,28010,28011,28020,28022,28024,28035,28039,28041,28043,28045,28046,28050,28052,28054
"RTN","SR176UT0",27,0)
 ;;28055,28060,28062,28070,28072,28080,28086,28088,28090,28092,28100,28102,28103,28104,28106,28107,28108,28110,28111,28112
"RTN","SR176UT0",28,0)
 ;;28113,28114,28116,28118,28119,28120,28122,28124,28126,28130,28140,28150,28153,28160,28171,28173,28175,28190,28192,28193
"RTN","SR176UT0",29,0)
 ;;28200,28202,28208,28210,28220,28222,28225,28226,28230,28232,28234,28238,28240,28250,28260,28261,28262,28264,28270,28272
"RTN","SR176UT0",30,0)
 ;;28280,28285,28286,28288,28289,28290,28292,28293,28294,28296,28297,28298,28299,28300,28302,28304,28305,28306,28307,28308
"RTN","SR176UT0",31,0)
 ;;28309,28310,28312,28313,28315,28320,28322,28340,28341,28344,28345,28360,28400,28405,28406,28415,28430,28435,28436,28450
"RTN","SR176UT0",32,0)
 ;;28455,28456,28465,28470,28475,28476,28485,28490,28495,28496,28505,28510,28515,28525,28530,28531,28540,28545,28546,28555
"RTN","SR176UT0",33,0)
 ;;28570,28575,28576,28585,28600,28605,28606,28615,28630,28635,28636,28645,28660,28665,28666,28675,28705,28715,28725,28730
"RTN","SR176UT0",34,0)
 ;;28735,28737,28740,28750,28755,28760,28810,28820,28825,28890,28899,29000,29010,29015,29020,29025,29035,29040,29044,29046
"RTN","SR176UT0",35,0)
 ;;29049,29055,29058,29065,29075,29085,29086,29105,29125,29126,29130,29131,29200,29240,29260,29280,29305,29325,29345,29355
"RTN","SR176UT0",36,0)
 ;;29358,29365,29405,29425,29435,29440,29445,29450,29505,29515,29520,29530,29540,29550,29580,29581,29582,29583,29584,29590
"RTN","SR176UT0",37,0)
 ;;29700,29705,29710,29715,29720,29730,29740,29750,29799,29800,29804,29805,29830,29836,29840,29843,29845,29848,29856,29860
"RTN","SR176UT0",38,0)
 ;;29863,29870,29900,29901,29902,30000,30020,3006F,3008F,30100,30110,30115,30117,30118,3011F,30120,30124,30125,30130,30140
"RTN","SR176UT0",39,0)
 ;;3014F,30150,3015F,30160,3016F,3017F,3018F,3019F,30200,3020F,30210,3021F,30220,3022F,3023F,3025F,3027F,3028F,30300,30310
"RTN","SR176UT0",40,0)
 ;;30320,3035F,3037F,3038F,30400,3040F,30410,30420,3042F,30430,30435,3044F,30450,3045F,30460,30462,30465,3046F,3048F,3049F
"RTN","SR176UT0",41,0)
 ;;3050F,30520,30540,30545,3055F,30560,3056F,30580,30600,3060F,3061F,30620,3062F,30630,3066F,3072F,3073F,3074F,3075F,3077F
"RTN","SR176UT0",42,0)
 ;;3078F,3079F,30801,30802,3080F,3082F,3083F,3084F,3085F,3088F,3089F,30901,30903,30905,30906,3090F,30915,3091F,30920,3092F
"RTN","SR176UT0",43,0)
 ;;30930,3093F,3095F,3096F,30999,31000,31002,3100F,31020,31030,31032,31040,31050,31051,31070,31075,31080,31081,31084,31085
"RTN","SR176UT0",44,0)
 ;;31086,31087,31090,3110F,3111F,3112F,3115F,3117F,3118F,3119F,31200,31201,31205,3120F,31225,31230,31231,31233,31235,31237
"RTN","SR176UT0",45,0)
 ;;31238,31239,31240,31254,31255,31256,3125F,31267,31276,31287,31288,31290,31291,31292,31293,31294,31295,31296,31297,31299
"RTN","SR176UT0",46,0)
 ;;3130F,3132F,3140F,3141F,3142F,31500,31502,31505,3150F,31510,31511,31512,31513,31515,31520,31525,31526,31527,31528,31529
"RTN","SR176UT0",47,0)
 ;;31530,31531,31535,31536,31540,31541,31545,31546,3155F,31560,31561,31570,31571,31575,31576,31577,31578,31579,31582,31584
"RTN","SR176UT0",48,0)
 ;;31588,31600,31601,31603,31605,3160F,31610,31612,31613,31615,31620,31622,31623,31624,31625,31626,31627,31628,31629,31630
"RTN","SR176UT0",49,0)
 ;;31631,31632,31633,31634,31635,31636,31637,31638,31640,31641,31643,31645,31646,31656,3170F,31715,31717,31720,31725,31730
"RTN","SR176UT0",50,0)
 ;;31830,3200F,3210F,3215F,3216F,3218F,3220F,3230F,32400,32405,32420,32421,32422,3250F,32550,32551,32552,32553,32560,32561
"RTN","SR176UT0",51,0)
 ;;32562,32601,32602,32603,32604,32605,32606,32607,32608,32609,3260F,3265F,3266F,3267F,3268F,3269F,3270F,3271F,3272F,3273F
"RTN","SR176UT0",52,0)
 ;;3274F,3278F,3279F,3280F,3281F,3284F,32850,32855,32856,3285F,3288F,3290F,3291F,3292F,3293F,3294F,32960,3300F,3301F,3315F
"RTN","SR176UT0",53,0)
 ;;3316F,3317F,3318F,3319F,33206,33207,33208,3320F,33210,33211,33212,33213,33214,33215,33216,33217,33218,3321F,33220,33221
"RTN","SR176UT0",54,0)
 ;;33222,33223,33224,33225,33226,33227,33228,33229,3322F,33230,33231,33233,33234,33235,33236,33237,33238,3323F,33240,33241
"RTN","SR176UT0",55,0)
 ;;33243,33244,33249,3324F,3325F,33262,33263,33264,33282,33284,3328F,3330F,3331F,3340F,3341F,3342F,3343F,3344F,3345F,33470
"RTN","SR176UT0",56,0)
 ;;33471,3350F,3351F,3352F,3353F,3354F,33620,33622,3370F,3372F,3374F,3376F,3378F,3380F,3382F,3384F,3386F,3388F,3390F,33930
"RTN","SR176UT0",57,0)
 ;;33933,33940,33944,3394F,3395F,33967,33968,33970,33971,33973,33974,3450F,3451F,3452F,3455F,3470F,3471F,3472F,3475F,3476F
"RTN","SR176UT0",58,0)
 ;;3490F,3491F,3492F,3493F,3494F,3495F,3496F,3497F,3498F,3500F,3502F,3503F,3510F,3511F,3512F,3513F,3514F,3515F,35400,35450
"RTN","SR176UT0",59,0)
 ;;35452,35458,35460,35471,35472,35475,35476,3550F,3551F,3552F,3555F,3570F,3572F,3573F,36000,36002,36005,36010,36011,36012
"RTN","SR176UT0",60,0)
 ;;36013,36014,36015,36100,36120,36140,36147,36148,36160,36200,36215,36216,36217,36218,36245,36246,36247,36248,36251,36252
"RTN","SR176UT0",61,0)
 ;;36253,36254,36260,36261,36262,36299,36400,36405,36406,36410,36415,36416,36420,36425,36430,36440,36450,36455,36460,36468
"RTN","SR176UT0",62,0)
 ;;36469,36470,36471,36481,36500,3650F,36510,36511,36512,36513,36514,36515,36516,36522,36555,36556,36557,36558,36560,36561
"RTN","SR176UT0",63,0)
 ;;36563,36565,36566,36568,36569,36570,36571,36575,36576,36578,36580,36581,36582,36583,36584,36585,36589,36590,36591,36592
"RTN","SR176UT0",64,0)
 ;;36593,36595,36596,36597,36600,36620,36625,36640,36660,36680,36800,36810,36815,36818,36819,36820,36821,36822,36823,36825
"RTN","SR176UT0",65,0)
 ;;36830,36831,36832,36833,36835,36870,3700F,37183,37191,37192,37193,37195,37200,37209,3720F,37220,37221,37222,37223,37224
"RTN","SR176UT0",66,0)
 ;;37225,37226,37227,37228,37229,37230,37231,37232,37233,37234,37235,37250,37251,3725F,37501,37607,37609,37620,37785,38200
"RTN","SR176UT0",67,0)
 ;;38204,38205,38206,38207,38208,38209,38210,38211,38212,38213,38214,38215,38220,38221,38230,38232,38240,38241,38242,38500
"RTN","SR176UT0",68,0)
 ;;38505,38510,38520,38525,38530,38790,38792,38794,38900,4000F,4001F,4002F,4003F,4004F,4005F,4006F,4008F,4009F,4010F,4011F
"RTN","SR176UT0",69,0)
 ;;4012F,4013F,4014F,4015F,4016F,4017F,4018F,4019F,4025F,4030F,4033F,4035F,4037F,4040F,4041F,4042F,4043F,4044F,4045F,4046F
"RTN","SR176UT0",70,0)
 ;;4047F,4048F,40490,4049F,4050F,4051F,4052F,4053F,4054F,4055F,4056F,4058F,4060F,4062F,4063F,4064F,4065F,4066F,4067F,4070F
"RTN","SR176UT0",71,0)
 ;;4073F,4075F,4077F,40799,4079F,40806,40808,40831,4084F,4086F,4090F,4095F,4100F,41010,41015,41019,41100,41105,41108,4110F
"RTN","SR176UT0",72,0)
 ;;41115,4115F,4120F,4124F,41250,41251,41252,4130F,4131F,4132F,4133F,4134F,4135F,4136F,4140F,4144F,4145F,4148F,4149F,4150F
"RTN","SR176UT0",73,0)
 ;;41510,41512,4151F,41520,41530,4153F,4155F,4157F,4158F,4159F,4163F,4164F,4165F,4167F,4168F,4169F,4171F,4172F,4174F,4175F
"RTN","SR176UT0",74,0)
 ;;4176F,4177F,4178F,4179F,41800,41805,4180F,4181F,4182F,4185F,4186F,41870,41872,41874,4187F,4188F,41899,4189F,4190F,4191F
"RTN","SR176UT0",75,0)
 ;;4192F,4193F,4194F,4195F,4196F,42000,4200F,4201F,42100,4210F,42180,42182,4220F,4221F,42280,42281,4230F,42310,42400,42405
"RTN","SR176UT0",76,0)
 ;;4240F,4242F,4245F,4248F,4250F,4255F,4256F,42600,4260F,4261F,42650,4265F,42660,4266F,4267F,4268F,4269F,4270F,4271F,4274F
"RTN","SR176UT0",77,0)
 ;;4275F,4276F,4279F,42800,42802,42804,42806,4280F,42820,42821,42825,42826,42830,42831,42835,42836,42860,4290F,4293F,42970
"RTN","SR176UT0",78,0)
 ;;42971,4300F,4301F,4305F,4306F,43200,43201,43202,43204,43205,4320F,43215,43216,43217,43219,43220,43226,43227,43228,4322F
"RTN","SR176UT0",79,0)
 ;;43231,43232,43234,43235,43236,43237,43238,43239,43240,43241,43242,43243,43244,43245,43246,43247,43248,43249,4324F,43250
"RTN","SR176UT0",80,0)
 ;;43251,43255,43256,43257,43258,43259,4325F,43260,43261,43262,43263,43264,43265,43267,43268,43269,4326F,43271,43272,43273
"RTN","SR176UT0",81,0)
 ;;4328F,4330F,4340F,43450,43453,43456,43458,43460,43499,4350F,43653,43752,43753,43754,43755,43756,43757,43760,43761,43830
"RTN","SR176UT0",82,0)
 ;;4400F,44015,44100,44132,44300,44360,44361,44363,44364,44365,44366,44369,44370,44372,44373,44376,44377,44378,44379,44380
"RTN","SR176UT0",83,0)
 ;;44382,44383,44385,44386,44388,44389,44390,44391,44392,44393,44394,44397,44500,4450F,4470F,44715,44720,44721,4480F,4481F
"RTN","SR176UT0",84,0)
 ;;44901,4500F,45100,4510F,4525F,4526F,45300,45303,45305,45307,45308,45309,45315,45317,45320,45321,45327,45330,45331,45332
"RTN","SR176UT0",85,0)
 ;;45333,45334,45335,45337,45338,45339,45340,45341,45342,45345,45355,45378,45379,45380,45381,45382,45383,45384,45385,45386
"RTN","SR176UT0",86,0)
 ;;45387,45391,45392,45520,45900,45910,45915,45990,46050,46070,46080,46083,46200,46220,46221,46230,46250,46255,46257,46258
"RTN","SR176UT0",87,0)
 ;;46260,46261,46262,46270,46275,46280,46285,46288,46320,46500,46505,46600,46604,46606,46608,46610,46611,46612,46614,46615
"RTN","SR176UT0",88,0)
 ;;46700,46705,46706,46707,46754,46900,46910,46916,46917,46922,46924,46930,46945,46946,47000,47011,47100,47133,47143,47144
"RTN","SR176UT0",89,0)
 ;;47145,47146,47147,47490,47500,47505,47510,47511,47525,47530,47552,47553,47554,47555,47556,47801,48102,48400,48551,48552
"RTN","SR176UT0",90,0)
 ;;49041,49081,49082,49083,49084,49180,49320,49324,49400,49411,49412,49418,49419,49421,49422,49423,49424,49427,49428,49429
"RTN","SR176UT0",91,0)
 ;;49440,49441,49442,49446,49450,49451,49452,49460,49465,49491,49492,49495,49496,49500,49501,49580,49582,50040,5005F,50080
"RTN","SR176UT0",92,0)
 ;;50081,5010F,5015F,50200,5020F,50300,50323,50325,50327,50328,50329,50385,50386,50390,50392,50393,50394,50398,5050F,50551
"RTN","SR176UT0",93,0)
 ;;50553,50555,50557,50561,50562,50570,50572,50574,50575,50576,50580,50590,50592,50600,50605,5060F,5062F,50684,50686,50688
"RTN","SR176UT0",94,0)
 ;;50690,50951,50953,50955,50957,50961,50970,50972,50974,50976,50980,5100F,51100,51101,51102,51600,51605,51610,51700,51701
"RTN","SR176UT0",95,0)
 ;;51702,51703,51705,51710,51715,51720,51725,51726,51727,51728,51729,51736,51741,51784,51785,51792,51797,51798,52000,52001
"RTN","SR176UT0",96,0)
 ;;52005,52007,5200F,52010,52204,52214,52224,52250,52260,52265,52270,52275,52276,52277,52281,52282,52283,52285,52290,52300
"RTN","SR176UT0",97,0)
 ;;52301,52305,52310,52315,52317,52318,52320,52325,52327,52332,52334,52343,52351,52352,52353,52354,52355,5250F,53020,53025
"RTN","SR176UT0",98,0)
 ;;53060,53200,53270,53275,53600,53601,53620,53621,53660,53661,53850,53855,53860,54000,54001,54055,54056,54060,54100,54105
"RTN","SR176UT0",99,0)
 ;;54150,54160,54161,54162,54163,54200,54230,54231,54235,54240,54250,54400,54401,54405,54406,54408,54410,54415,54416,54450
"RTN","SR176UT0",100,0)
 ;;54500,54505,54512,54520,54530,54535,54700,54800,54830,55000,55250,55300,55400,55450,55500,55520,55559,55700,55705,55706
"RTN","SR176UT0",101,0)
 ;;55870,55899,55920,56605,56606,56700,56820,57020,57022,57023,57100,57105,57150,57155,57156,57160,57170,57180,57287,57400
"RTN","SR176UT0",102,0)
 ;;57410,57420,57421,57452,57454,57456,57500,57510,57511,57513,57520,57700,58100,58300,58301,58321,58322,58323,58340,58345
"RTN","SR176UT0",103,0)
 ;;58346,58353,58555,58558,58559,58560,58561,58562,58563,58660,58661,58662,58670,58671,58672,58673,58679,58823,58900,58970
"RTN","SR176UT1")
0^88^B70158350^n/a
"RTN","SR176UT1",1,0)
SR176UT1 ;BIR/ADM - FY12 CPT EXCLUSION UTILITY, CONTINUED ;11/08/2011
"RTN","SR176UT1",2,0)
 ;;3.0;Surgery;**176**;24 Jun 93;Build 8
"RTN","SR176UT1",3,0)
 Q
"RTN","SR176UT1",4,0)
PEX ; populate file 137
"RTN","SR176UT1",5,0)
 F SRJ=0:1 S SRLIST=$P($T(LIST+SRJ)," ;;",2) Q:SRLIST=""  F SRI=1:1 S SRX=$P(SRLIST,",",SRI) Q:SRX=""  I $D(^ICPT("B",SRX)) D INT
"RTN","SR176UT1",6,0)
 Q
"RTN","SR176UT1",7,0)
INT S SRY=0,SRY=$O(^ICPT("B",SRX,SRY)) Q:SRY=""
"RTN","SR176UT1",8,0)
 K DA,DIC,DD,DO,DINUM S (DINUM,X)=SRY,DIC="^SRO(137,",DIC(0)="L" D FILE^DICN
"RTN","SR176UT1",9,0)
 Q
"RTN","SR176UT1",10,0)
LIST ;;58974,58976,59000,59001,59012,59015,59020,59025,59030,59050,59051,59070,59072,59074,59076,59100,59160,59200,59300,59320
"RTN","SR176UT1",11,0)
 ;;59325,59400,59409,59410,59412,59414,59425,59426,59430,59510,59514,59515,59525,59610,59612,59614,59618,59840,59841,59850
"RTN","SR176UT1",12,0)
 ;;59851,59852,59855,59856,59857,59866,59870,59871,59897,59899,6005F,60100,6010F,6015F,6020F,60300,6030F,6040F,6045F,6070F
"RTN","SR176UT1",13,0)
 ;;6080F,6090F,61001,6100F,6101F,61026,6102F,61050,61055,61070,6110F,61623,61790,61791,61796,61797,61798,61799,61800,62140
"RTN","SR176UT1",14,0)
 ;;62141,62142,62143,62146,62163,62252,62263,62264,62267,62268,62269,62270,62272,62273,62280,62281,62282,62284,62287,62290
"RTN","SR176UT1",15,0)
 ;;62291,62292,62294,62310,62311,62318,62319,62355,62367,62369,62370,63600,63610,63615,63620,63621,63650,64400,64402,64405
"RTN","SR176UT1",16,0)
 ;;64408,64410,64412,64413,64415,64416,64417,64418,64420,64421,64425,64430,64435,64445,64446,64447,64448,64449,64450,64455
"RTN","SR176UT1",17,0)
 ;;64479,64480,64483,64484,64490,64491,64492,64493,64494,64495,64505,64508,64510,64517,64520,64530,64550,64553,64555,64560
"RTN","SR176UT1",18,0)
 ;;64561,64565,64566,64568,64569,64570,64575,64577,64580,64581,64585,64590,64595,64600,64605,64610,64611,64612,64613,64614
"RTN","SR176UT1",19,0)
 ;;64620,64622,64623,64626,64627,64630,64632,64633,64634,64635,64636,64640,64650,64653,64680,64681,64716,64718,64719,64721
"RTN","SR176UT1",20,0)
 ;;64732,64734,64736,64738,64740,64742,64744,64761,64763,64766,64771,64772,64774,64776,64778,64782,64783,64784,64786,64787
"RTN","SR176UT1",21,0)
 ;;64788,64790,64792,64795,64820,64822,64823,64999,65091,65093,65101,65103,65105,65110,65112,65114,65125,65130,65135,65140
"RTN","SR176UT1",22,0)
 ;;65150,65155,65175,65205,65210,65220,65222,65235,65260,65265,65270,65272,65273,65275,65280,65285,65286,65290,65400,65410
"RTN","SR176UT1",23,0)
 ;;65420,65426,65430,65435,65436,65450,65600,65710,65730,65750,65755,65756,65757,65760,65765,65767,65770,65771,65772,65775
"RTN","SR176UT1",24,0)
 ;;65778,65779,65780,65781,65782,65800,65805,65810,65815,65820,65850,65855,65860,65865,65870,65875,65880,65900,65920,65930
"RTN","SR176UT1",25,0)
 ;;66020,66030,66130,66150,66155,66160,66165,66170,66172,66174,66175,66180,66185,66220,66225,66250,66500,66505,66600,66605
"RTN","SR176UT1",26,0)
 ;;66625,66630,66635,66680,66682,66700,66710,66711,66720,66740,66761,66762,66770,66820,66821,66825,66830,66840,66850,66852
"RTN","SR176UT1",27,0)
 ;;66920,66930,66940,66982,66983,66984,66985,66986,66990,66999,67005,67010,67015,67025,67027,67028,67030,67031,67036,67039
"RTN","SR176UT1",28,0)
 ;;67040,67041,67042,67043,67101,67105,67107,67108,67110,67112,67113,67115,67120,67121,67141,67145,67208,67210,67218,67220
"RTN","SR176UT1",29,0)
 ;;67221,67225,67227,67228,67229,67250,67255,67299,67311,67312,67314,67316,67318,67320,67331,67332,67334,67335,67340,67343
"RTN","SR176UT1",30,0)
 ;;67345,67346,67399,67400,67405,67412,67413,67414,67415,67420,67430,67440,67445,67450,67500,67505,67515,67550,67560,67570
"RTN","SR176UT1",31,0)
 ;;67599,67700,67710,67715,67800,67801,67805,67808,67810,67820,67825,67830,67835,67840,67850,67875,67880,67882,67900,67901
"RTN","SR176UT1",32,0)
 ;;67902,67903,67904,67906,67908,67909,67911,67912,67914,67915,67916,67917,67921,67922,67923,67924,67930,67935,67938,67950
"RTN","SR176UT1",33,0)
 ;;67961,67966,67971,67973,67974,67975,67999,68020,68040,68100,68110,68115,68130,68135,68200,68320,68325,68326,68328,68330
"RTN","SR176UT1",34,0)
 ;;68335,68340,68360,68362,68371,68399,68400,68420,68440,68500,68505,68510,68520,68525,68530,68540,68550,68700,68705,68720
"RTN","SR176UT1",35,0)
 ;;68745,68750,68760,68761,68770,68801,68810,68811,68815,68816,68840,68850,68899,69000,69005,69020,69090,69100,69105,69110
"RTN","SR176UT1",36,0)
 ;;69120,69140,69145,69150,69155,69200,69205,69210,69220,69222,69300,69310,69320,69399,69400,69401,69405,69420,69421,69424
"RTN","SR176UT1",37,0)
 ;;69433,69436,69440,69450,69501,69502,69505,69511,69530,69535,69540,69550,69552,69554,69601,69602,69603,69604,69605,69610
"RTN","SR176UT1",38,0)
 ;;69620,69631,69632,69633,69635,69636,69637,69641,69642,69643,69644,69645,69646,69650,69660,69661,69662,69666,69667,69670
"RTN","SR176UT1",39,0)
 ;;69676,69700,69710,69711,69720,69725,69740,69745,69799,69801,69802,69805,69806,69820,69840,69905,69910,69915,69930,69949
"RTN","SR176UT1",40,0)
 ;;69950,69955,69960,69970,69979,69990,70010,70015,70030,70100,7010F,70110,70120,70130,70134,70140,70150,70160,70170,70190
"RTN","SR176UT1",41,0)
 ;;70200,7020F,70210,70220,70240,70250,7025F,70260,70300,70310,70320,70328,70330,70332,70336,70350,70355,70360,70370,70371
"RTN","SR176UT1",42,0)
 ;;70373,70380,70390,70450,70460,70470,70480,70481,70482,70486,70487,70488,70490,70491,70492,70496,70498,70540,70542,70543
"RTN","SR176UT1",43,0)
 ;;70544,70545,70546,70547,70548,70549,70551,70552,70553,70554,70555,70557,70558,70559,71010,71015,71020,71021,71022,71023
"RTN","SR176UT1",44,0)
 ;;71030,71034,71035,71040,71060,71090,71100,71101,71110,71111,71120,71130,71250,71260,71270,71275,71550,71551,71552,71555
"RTN","SR176UT1",45,0)
 ;;72010,72020,72040,72050,72052,72069,72070,72072,72074,72080,72090,72100,72110,72114,72120,72125,72126,72127,72128,72129
"RTN","SR176UT1",46,0)
 ;;72130,72131,72132,72133,72141,72142,72146,72147,72148,72149,72156,72157,72158,72159,72170,72190,72191,72192,72193,72194
"RTN","SR176UT1",47,0)
 ;;72195,72196,72197,72198,72200,72202,72220,72240,72255,72265,72270,72275,72285,72291,72292,72295,73000,73010,73020,73030
"RTN","SR176UT1",48,0)
 ;;73040,73050,73060,73070,73080,73085,73090,73092,73100,73110,73115,73120,73130,73140,73200,73201,73202,73206,73218,73219
"RTN","SR176UT1",49,0)
 ;;73220,73221,73222,73223,73225,73500,73510,73520,73525,73530,73540,73542,73550,73560,73562,73564,73565,73580,73590,73592
"RTN","SR176UT1",50,0)
 ;;73600,73610,73615,73620,73630,73650,73660,73700,73701,73702,73706,73718,73719,73720,73721,73722,73723,73725,74000,74010
"RTN","SR176UT1",51,0)
 ;;74020,74022,74150,74160,74170,74174,74175,74176,74177,74178,74181,74182,74183,74185,74190,74210,74220,74230,74235,74240
"RTN","SR176UT1",52,0)
 ;;74241,74245,74246,74247,74249,74250,74251,74260,74261,74262,74263,74270,74280,74283,74290,74291,74300,74301,74305,74320
"RTN","SR176UT1",53,0)
 ;;74327,74328,74329,74330,74340,74355,74360,74363,74400,74410,74415,74420,74425,74430,74440,74445,74450,74455,74470,74475
"RTN","SR176UT1",54,0)
 ;;74480,74485,74710,74740,74742,74775,75557,75559,75561,75563,75565,75571,75572,75573,75574,75600,75605,75625,75630,75635
"RTN","SR176UT1",55,0)
 ;;75650,75658,75660,75662,75665,75671,75676,75680,75685,75705,75710,75716,75722,75724,75726,75731,75733,75736,75741,75743
"RTN","SR176UT1",56,0)
 ;;75746,75756,75774,75791,75801,75803,75805,75807,75809,75810,75820,75822,75825,75827,75831,75833,75840,75842,75860,75870
"RTN","SR176UT1",57,0)
 ;;75872,75880,75885,75887,75889,75891,75893,75894,75896,75898,75900,75901,75902,75940,75945,75946,75952,75953,75954,75956
"RTN","SR176UT1",58,0)
 ;;75957,75958,75959,75960,75961,75962,75964,75966,75968,75970,75978,75980,75982,75984,75989,76000,76001,76010,76080,76098
"RTN","SR176UT1",59,0)
 ;;76100,76101,76102,76120,76125,76140,76376,76377,76380,76390,76496,76497,76498,76499,76506,76510,76511,76512,76513,76514
"RTN","SR176UT1",60,0)
 ;;76516,76519,76529,76536,76604,76645,76700,76705,76770,76775,76776,76800,76801,76802,76805,76810,76811,76812,76813,76814
"RTN","SR176UT1",61,0)
 ;;76815,76816,76817,76818,76819,76820,76821,76825,76826,76827,76828,76830,76831,76856,76857,76870,76872,76873,76881,76882
"RTN","SR176UT1",62,0)
 ;;76885,76886,76930,76932,76936,76937,76940,76941,76942,76945,76946,76948,76950,76965,76970,76975,76977,76998,76999,77001
"RTN","SR176UT1",63,0)
 ;;77002,77003,77011,77012,77013,77014,77021,77022,77031,77032,77051,77052,77053,77054,77055,77056,77057,77058,77059,77071
"RTN","SR176UT1",64,0)
 ;;77072,77073,77074,77075,77076,77077,77078,77079,77080,77081,77082,77083,77084,77261,77262,77263,77280,77285,77290,77295
"RTN","SR176UT1",65,0)
 ;;77299,77300,77301,77305,77310,77315,77321,77326,77327,77328,77331,77332,77333,77334,77336,77338,77370,77371,77372,77373
"RTN","SR176UT1",66,0)
 ;;77399,77401,77402,77403,77404,77406,77407,77408,77409,77411,77412,77413,77414,77416,77417,77418,77421,77422,77423,77424
"RTN","SR176UT1",67,0)
 ;;77425,77427,77431,77432,77435,77469,77470,77499,77520,77522,77523,77525,77600,77605,77610,77615,77620,77750,77761,77762
"RTN","SR176UT1",68,0)
 ;;77763,77776,77777,77778,77785,77786,77787,77789,77790,77799,78000,78001,78003,78006,78007,78010,78011,78015,78016,78018
"RTN","SR176UT1",69,0)
 ;;78020,78070,78075,78099,78102,78103,78104,78110,78111,78120,78121,78122,78130,78135,78140,78185,78190,78191,78195,78199
"RTN","SR176UT1",70,0)
 ;;78201,78202,78205,78206,78215,78216,78220,78223,78226,78227,78230,78231,78232,78258,78261,78262,78264,78267,78268,78270
"RTN","SR176UT1",71,0)
 ;;78271,78272,78278,78282,78290,78291,78299,78300,78305,78306,78315,78320,78350,78351,78399,78414,78428,78445,78451,78452
"RTN","SR176UT1",72,0)
 ;;78453,78454,78456,78457,78458,78459,78466,78468,78469,78472,78473,78481,78483,78491,78492,78494,78496,78499,78579,78580
"RTN","SR176UT1",73,0)
 ;;78582,78584,78585,78586,78587,78588,78591,78593,78594,78596,78597,78598,78599,78600,78601,78605,78606,78607,78608,78609
"RTN","SR176UT1",74,0)
 ;;78610,78630,78635,78645,78647,78650,78660,78699,78700,78701,78707,78708,78709,78710,78725,78730,78740,78761,78799,78800
"RTN","SR176UT1",75,0)
 ;;78801,78802,78803,78804,78805,78806,78807,78808,78811,78812,78813,78814,78815,78816,78999,79005,79101,79200,79300,79403
"RTN","SR176UT1",76,0)
 ;;79440,79445,79999,80047,80048,80050,80051,80053,80055,80061,80069,80074,80076,80100,80101,80102,80103,80104,80150,80152
"RTN","SR176UT1",77,0)
 ;;80154,80156,80157,80158,80160,80162,80164,80166,80168,80170,80172,80173,80174,80176,80178,80182,80184,80185,80186,80188
"RTN","SR176UT1",78,0)
 ;;80190,80192,80194,80195,80196,80197,80198,80200,80201,80202,80299,80400,80402,80406,80408,80410,80412,80414,80415,80416
"RTN","SR176UT1",79,0)
 ;;80417,80418,80420,80422,80424,80426,80428,80430,80432,80434,80435,80436,80438,80439,80440,80500,80502,81000,81001,81002
"RTN","SR176UT1",80,0)
 ;;81003,81005,81007,81015,81020,81025,81050,81099,81200,81205,81206,81207,81208,81209,81210,81211,81212,81213,81214,81215
"RTN","SR176UT1",81,0)
 ;;81216,81217,81220,81221,81222,81223,81224,81225,81226,81227,81228,81229,81240,81241,81242,81243,81244,81245,81250,81251
"RTN","SR176UT1",82,0)
 ;;81255,81256,81257,81260,81261,81262,81263,81264,81265,81266,81267,81268,81270,81275,81280,81281,81282,81290,81291,81292
"RTN","SR176UT1",83,0)
 ;;81293,81294,81295,81296,81297,81298,81299,81300,81301,81302,81303,81304,81310,81315,81316,81317,81318,81319,81330,81331
"RTN","SR176UT1",84,0)
 ;;81332,81340,81341,81342,81350,81355,81370,81371,81372,81373,81374,81375,81376,81377,81378,81379,81380,81381,81382,81383
"RTN","SR176UT1",85,0)
 ;;81400,81401,81402,81403,81404,81405,81406,81407,81408,82000,82003,82009,82010,82013,82016,82017,82024,82030,82040,82042
"RTN","SR176UT1",86,0)
 ;;82043,82044,82045,82055,82075,82085,82088,82101,82103,82104,82105,82106,82107,82108,82120,82127,82128,82131,82135,82136
"RTN","SR176UT1",87,0)
 ;;82139,82140,82143,82145,82150,82154,82157,82160,82163,82164,82172,82175,82180,82190,82205,82232,82239,82240,82247,82248
"RTN","SR176UT1",88,0)
 ;;82252,82261,82270,82271,82272,82274,82286,82300,82306,82308,82310,82330,82331,82340,82355,82360,82365,82370,82373,82374
"RTN","SR176UT1",89,0)
 ;;82375,82376,82378,82379,82380,82382,82383,82384,82387,82390,82397,82415,82435,82436,82438,82441,82465,82480,82482,82485
"RTN","SR176UT1",90,0)
 ;;82486,82487,82488,82489,82491,82492,82495,82507,82520,82523,82525,82528,82530,82533,82540,82541,82542,82543,82544,82550
"RTN","SR176UT1",91,0)
 ;;82552,82553,82554,82565,82570,82575,82585,82595,82600,82607,82608,82610,82615,82626,82627,82633,82634,82638,82646,82649
"RTN","SR176UT1",92,0)
 ;;82651,82652,82654,82656,82657,82658,82664,82666,82668,82670,82671,82672,82677,82679,82690,82693,82696,82705,82710,82715
"RTN","SR176UT1",93,0)
 ;;82725,82726,82728,82731,82735,82742,82746,82747,82757,82759,82760,82775,82776,82784,82785,82787,82800,82803,82805,82810
"RTN","SR176UT1",94,0)
 ;;82820,82930,82938,82941,82943,82945,82946,82947,82948,82950,82951,82952,82953,82955,82960,82962,82963,82965,82975,82977
"RTN","SR176UT1",95,0)
 ;;82978,82979,82980,82985,83001,83002,83003,83008,83009,83010,83012,83013,83014,83015,83018,83020,83021,83026,83030,83033
"RTN","SR176UT1",96,0)
 ;;83036,83037,83045,83050,83051,83055,83060,83065,83068,83069,83070,83071,83080,83088,83090,83150,83491,83497,83498,83499
"RTN","SR176UT1",97,0)
 ;;83500,83505,83516,83518,83519,83520,83525,83527,83528,83540,83550,83570,83582,83586,83593,83605,83615,83625,83630,83631
"RTN","SR176UT1",98,0)
 ;;83632,83633,83634,83655,83661,83662,83663,83664,83670,83690,83695,83698,83700,83701,83704,83718,83719,83721,83727,83735
"RTN","SR176UT1",99,0)
 ;;83775,83785,83788,83789,83805,83825,83835,83840,83857,83858,83861,83864,83866,83872,83873,83874,83876,83880,83883,83885
"RTN","SR176UT1",100,0)
 ;;83887,83890,83891,83892,83893,83894,83896,83897,83898,83900,83901,83902,83903,83904,83905,83906,83907,83908,83909,83912
"RTN","SR176UT1",101,0)
 ;;83913,83914,83915,83916,83918,83919,83921,83925,83930,83935,83937,83945,83950,83951,83970,83986,83987,83992,83993,84022
"RTN","SR176UT1",102,0)
 ;;84030,84035,84060,84061,84066,84075,84078,84080,84081,84085,84087,84100,84105,84106,84110,84112,84119,84120,84126,84127
"RTN","SR176UT1",103,0)
 ;;84132,84133,84134,84135,84138,84140,84143,84144,84145,84146,84150,84152,84153,84154,84155,84156,84157,84160,84163,84165
"RTN","SR176UT2")
0^89^B70899048^n/a
"RTN","SR176UT2",1,0)
SR176UT2 ;BIR/ADM - FY12 CPT EXCLUSION UTILITY, CONTINUED ;11/08/2011
"RTN","SR176UT2",2,0)
 ;;3.0;Surgery;**176**;24 Jun 93;Build 8
"RTN","SR176UT2",3,0)
 Q
"RTN","SR176UT2",4,0)
PEX ; populate file 137
"RTN","SR176UT2",5,0)
 F SRJ=0:1 S SRLIST=$P($T(LIST+SRJ)," ;;",2) Q:SRLIST=""  F SRI=1:1 S SRX=$P(SRLIST,",",SRI) Q:SRX=""  I $D(^ICPT("B",SRX)) D INT
"RTN","SR176UT2",6,0)
 Q
"RTN","SR176UT2",7,0)
INT S SRY=0,SRY=$O(^ICPT("B",SRX,SRY)) Q:SRY=""
"RTN","SR176UT2",8,0)
 K DA,DIC,DD,DO,DINUM S (DINUM,X)=SRY,DIC="^SRO(137,",DIC(0)="L" D FILE^DICN
"RTN","SR176UT2",9,0)
 Q
"RTN","SR176UT2",10,0)
LIST ;;84166,84181,84182,84202,84203,84206,84207,84210,84220,84228,84233,84234,84235,84238,84244,84252,84255,84260,84270,84275
"RTN","SR176UT2",11,0)
 ;;84285,84295,84300,84302,84305,84307,84311,84315,84375,84376,84377,84378,84379,84392,84402,84403,84425,84430,84431,84432
"RTN","SR176UT2",12,0)
 ;;84436,84437,84439,84442,84443,84445,84446,84449,84450,84460,84466,84478,84479,84480,84481,84482,84484,84485,84488,84490
"RTN","SR176UT2",13,0)
 ;;84510,84512,84520,84525,84540,84545,84550,84560,84577,84578,84580,84583,84585,84586,84588,84590,84591,84597,84600,84620
"RTN","SR176UT2",14,0)
 ;;84630,84681,84702,84703,84704,84830,84999,85002,85004,85007,85008,85009,85013,85014,85018,85025,85027,85032,85041,85044
"RTN","SR176UT2",15,0)
 ;;85045,85046,85048,85049,85055,85060,85097,85130,85170,85175,85210,85220,85230,85240,85244,85245,85246,85247,85250,85260
"RTN","SR176UT2",16,0)
 ;;85270,85280,85290,85291,85292,85293,85300,85301,85302,85303,85305,85306,85307,85335,85337,85345,85347,85348,85360,85362
"RTN","SR176UT2",17,0)
 ;;85366,85370,85378,85379,85380,85384,85385,85390,85396,85397,85400,85410,85415,85420,85421,85441,85445,85460,85461,85475
"RTN","SR176UT2",18,0)
 ;;85520,85525,85530,85536,85540,85547,85549,85555,85557,85576,85597,85598,85610,85611,85612,85613,85635,85651,85652,85660
"RTN","SR176UT2",19,0)
 ;;85670,85675,85705,85730,85732,85810,85999,86000,86001,86003,86005,86021,86022,86023,86038,86039,86060,86063,86077,86078
"RTN","SR176UT2",20,0)
 ;;86079,86140,86141,86146,86147,86148,86155,86156,86157,86160,86161,86162,86171,86185,86200,86215,86225,86226,86235,86243
"RTN","SR176UT2",21,0)
 ;;86255,86256,86277,86280,86294,86300,86301,86304,86305,86308,86309,86310,86316,86317,86318,86320,86325,86327,86329,86331
"RTN","SR176UT2",22,0)
 ;;86332,86334,86335,86336,86337,86340,86341,86343,86344,86352,86353,86355,86356,86357,86359,86360,86361,86367,86376,86378
"RTN","SR176UT2",23,0)
 ;;86382,86384,86386,86403,86406,86430,86431,86480,86481,86485,86486,86490,86510,86580,86590,86592,86593,86602,86603,86606
"RTN","SR176UT2",24,0)
 ;;86609,86611,86612,86615,86617,86618,86619,86622,86625,86628,86631,86632,86635,86638,86641,86644,86645,86648,86651,86652
"RTN","SR176UT2",25,0)
 ;;86653,86654,86658,86663,86664,86665,86666,86668,86671,86674,86677,86682,86684,86687,86688,86689,86692,86694,86695,86696
"RTN","SR176UT2",26,0)
 ;;86698,86701,86702,86703,86704,86705,86706,86707,86708,86709,86710,86713,86717,86720,86723,86727,86729,86732,86735,86738
"RTN","SR176UT2",27,0)
 ;;86741,86744,86747,86750,86753,86756,86757,86759,86762,86765,86768,86771,86774,86777,86778,86780,86784,86787,86788,86789
"RTN","SR176UT2",28,0)
 ;;86790,86793,86800,86803,86804,86805,86806,86807,86808,86812,86813,86816,86817,86821,86822,86825,86826,86849,86850,86860
"RTN","SR176UT2",29,0)
 ;;86870,86880,86885,86886,86890,86891,86900,86901,86902,86904,86905,86906,86910,86911,86920,86921,86922,86923,86927,86930
"RTN","SR176UT2",30,0)
 ;;86931,86932,86940,86941,86945,86950,86960,86965,86970,86971,86972,86975,86976,86977,86978,86985,86999,87001,87003,87015
"RTN","SR176UT2",31,0)
 ;;87040,87045,87046,87070,87071,87073,87075,87076,87077,87081,87084,87086,87088,87101,87102,87103,87106,87107,87109,87110
"RTN","SR176UT2",32,0)
 ;;87116,87118,87140,87143,87147,87149,87150,87152,87153,87158,87164,87166,87168,87169,87172,87176,87177,87181,87184,87185
"RTN","SR176UT2",33,0)
 ;;87186,87187,87188,87190,87197,87205,87206,87207,87209,87210,87220,87230,87250,87252,87253,87254,87255,87260,87265,87267
"RTN","SR176UT2",34,0)
 ;;87269,87270,87271,87272,87273,87274,87275,87276,87277,87278,87279,87280,87281,87283,87285,87290,87299,87300,87301,87305
"RTN","SR176UT2",35,0)
 ;;87320,87324,87327,87328,87329,87332,87335,87336,87337,87338,87339,87340,87341,87350,87380,87385,87389,87390,87391,87400
"RTN","SR176UT2",36,0)
 ;;87420,87425,87427,87430,87449,87450,87451,87470,87471,87472,87475,87476,87477,87480,87481,87482,87485,87486,87487,87490
"RTN","SR176UT2",37,0)
 ;;87491,87492,87493,87495,87496,87497,87498,87500,87501,87502,87503,87510,87511,87512,87515,87516,87517,87520,87521,87522
"RTN","SR176UT2",38,0)
 ;;87525,87526,87527,87528,87529,87530,87531,87532,87533,87534,87535,87536,87537,87538,87539,87540,87541,87542,87550,87551
"RTN","SR176UT2",39,0)
 ;;87552,87555,87556,87557,87560,87561,87562,87580,87581,87582,87590,87591,87592,87620,87621,87622,87640,87641,87650,87651
"RTN","SR176UT2",40,0)
 ;;87652,87653,87660,87797,87798,87799,87800,87801,87802,87803,87804,87807,87808,87809,87810,87850,87880,87899,87900,87901
"RTN","SR176UT2",41,0)
 ;;87902,87903,87904,87905,87906,87999,88000,88005,88007,88012,88014,88016,88020,88025,88027,88028,88029,88036,88037,88040
"RTN","SR176UT2",42,0)
 ;;88045,88099,88104,88106,88107,88108,88112,88120,88121,88125,88130,88140,88141,88142,88143,88147,88148,88150,88152,88153
"RTN","SR176UT2",43,0)
 ;;88154,88155,88160,88161,88162,88164,88165,88166,88167,88172,88173,88174,88175,88177,88182,88184,88185,88187,88188,88189
"RTN","SR176UT2",44,0)
 ;;88199,88230,88233,88235,88237,88239,88240,88241,88245,88248,88249,88261,88262,88263,88264,88267,88269,88271,88272,88273
"RTN","SR176UT2",45,0)
 ;;88274,88275,88280,88283,88285,88289,88291,88299,88300,88302,88304,88305,88307,88309,88311,88312,88313,88314,88318,88319
"RTN","SR176UT2",46,0)
 ;;88321,88323,88325,88329,88331,88332,88333,88334,88342,88346,88347,88348,88349,88355,88356,88358,88360,88361,88362,88363
"RTN","SR176UT2",47,0)
 ;;88365,88367,88368,88371,88372,88380,88381,88384,88385,88386,88387,88388,88399,88720,88738,88740,88741,88749,89049,89050
"RTN","SR176UT2",48,0)
 ;;89051,89055,89060,89125,89160,89190,89220,89230,89240,89250,89251,89253,89254,89255,89257,89258,89259,89260,89261,89264
"RTN","SR176UT2",49,0)
 ;;89268,89272,89280,89281,89290,89291,89300,89310,89320,89321,89322,89325,89329,89330,89331,89335,89342,89343,89344,89346
"RTN","SR176UT2",50,0)
 ;;89352,89353,89354,89356,89398,90281,90283,90284,90287,90288,90291,90296,90371,90375,90376,90378,90384,90385,90386,90389
"RTN","SR176UT2",51,0)
 ;;90393,90396,90399,90460,90461,90470,90471,90472,90473,90474,90476,90477,90581,90585,90586,90632,90633,90634,90636,90644
"RTN","SR176UT2",52,0)
 ;;90645,90646,90647,90648,90649,90650,90654,90655,90656,90657,90658,90660,90661,90662,90663,90664,90665,90666,90667,90668
"RTN","SR176UT2",53,0)
 ;;90669,90670,90675,90676,90680,90681,90690,90691,90692,90693,90696,90698,90700,90701,90702,90703,90704,90705,90706,90707
"RTN","SR176UT2",54,0)
 ;;90708,90710,90712,90713,90714,90715,90716,90717,90718,90719,90720,90721,90723,90725,90727,90732,90733,90734,90735,90736
"RTN","SR176UT2",55,0)
 ;;90738,90740,90743,90744,90746,90747,90748,90749,90801,90802,90804,90805,90806,90807,90808,90809,90810,90811,90812,90813
"RTN","SR176UT2",56,0)
 ;;90814,90815,90816,90817,90818,90819,90821,90822,90823,90824,90826,90827,90828,90829,90845,90846,90847,90849,90853,90857
"RTN","SR176UT2",57,0)
 ;;90862,90865,90867,90868,90869,90870,90875,90876,90880,90882,90885,90887,90889,90899,90901,90911,90935,90937,90940,90945
"RTN","SR176UT2",58,0)
 ;;90947,90951,90952,90953,90954,90955,90956,90957,90958,90959,90960,90961,90962,90963,90964,90965,90966,90967,90968,90969
"RTN","SR176UT2",59,0)
 ;;90970,90989,90993,90997,90999,91010,91013,91020,91022,91030,91034,91035,91037,91038,91040,91065,91110,91111,91117,91120
"RTN","SR176UT2",60,0)
 ;;91122,91132,91133,91299,92002,92004,92012,92014,92015,92018,92019,92020,92025,92060,92065,92070,92071,92072,92081,92082
"RTN","SR176UT2",61,0)
 ;;92083,92100,92120,92130,92132,92133,92134,92136,92140,92225,92226,92227,92228,92230,92235,92240,92250,92260,92265,92270
"RTN","SR176UT2",62,0)
 ;;92275,92283,92284,92285,92286,92287,92310,92311,92312,92313,92314,92315,92316,92317,92325,92326,92340,92341,92342,92352
"RTN","SR176UT2",63,0)
 ;;92353,92354,92355,92358,92370,92371,92499,92502,92504,92506,92507,92508,92511,92512,92516,92520,92526,92531,92532,92533
"RTN","SR176UT2",64,0)
 ;;92534,92540,92541,92542,92543,92544,92545,92546,92547,92548,92550,92551,92552,92553,92555,92556,92557,92558,92559,92560
"RTN","SR176UT2",65,0)
 ;;92561,92562,92563,92564,92565,92567,92568,92570,92571,92572,92575,92576,92577,92579,92582,92583,92584,92585,92586,92587
"RTN","SR176UT2",66,0)
 ;;92588,92590,92591,92592,92593,92594,92595,92596,92597,92601,92602,92603,92604,92605,92606,92607,92608,92609,92610,92611
"RTN","SR176UT2",67,0)
 ;;92612,92613,92614,92615,92616,92617,92618,92620,92621,92625,92626,92627,92630,92633,92640,92700,92950,92953,92960,92961
"RTN","SR176UT2",68,0)
 ;;92970,92971,92973,92974,92975,92977,92978,92979,92980,92981,92982,92984,92986,92987,92990,92992,92993,92995,92996,92997
"RTN","SR176UT2",69,0)
 ;;92998,93000,93005,93010,93015,93016,93017,93018,93024,93025,93040,93041,93042,93224,93225,93226,93227,93228,93229,93268
"RTN","SR176UT2",70,0)
 ;;93270,93271,93272,93278,93279,93280,93281,93282,93283,93284,93285,93286,93287,93288,93289,93290,93291,93292,93293,93294
"RTN","SR176UT2",71,0)
 ;;93295,93296,93297,93298,93299,93303,93304,93306,93307,93308,93312,93313,93314,93315,93316,93317,93318,93320,93321,93325
"RTN","SR176UT2",72,0)
 ;;93350,93351,93352,93451,93452,93453,93454,93455,93456,93457,93458,93459,93460,93461,93462,93463,93464,93503,93505,93530
"RTN","SR176UT2",73,0)
 ;;93531,93532,93533,93561,93562,93563,93564,93565,93566,93567,93568,93571,93572,93580,93581,93600,93602,93603,93609,93610
"RTN","SR176UT2",74,0)
 ;;93612,93613,93615,93616,93618,93619,93620,93621,93622,93623,93624,93631,93640,93641,93642,93650,93651,93652,93660,93662
"RTN","SR176UT2",75,0)
 ;;93668,93701,93720,93721,93722,93724,93740,93745,93750,93770,93784,93786,93788,93790,93797,93798,93799,93875,93880,93882
"RTN","SR176UT2",76,0)
 ;;93886,93888,93890,93892,93893,93922,93923,93924,93925,93926,93930,93931,93965,93970,93971,93975,93976,93978,93979,93980
"RTN","SR176UT2",77,0)
 ;;93981,93982,93990,93998,94002,94003,94004,94005,94010,94011,94012,94013,94014,94015,94016,94060,94070,94150,94200,94240
"RTN","SR176UT2",78,0)
 ;;94250,94260,94350,94360,94370,94375,94400,94450,94452,94453,94610,94620,94621,94640,94642,94644,94645,94660,94662,94664
"RTN","SR176UT2",79,0)
 ;;94667,94668,94680,94681,94690,94720,94725,94726,94727,94728,94729,94750,94760,94761,94762,94770,94772,94774,94775,94776
"RTN","SR176UT2",80,0)
 ;;94777,94780,94781,94799,95004,95010,95012,95015,95024,95027,95028,95044,95052,95056,95060,95065,95070,95071,95075,95115
"RTN","SR176UT2",81,0)
 ;;95117,95120,95125,95130,95131,95132,95133,95134,95144,95145,95146,95147,95148,95149,95165,95170,95180,95199,95250,95251
"RTN","SR176UT2",82,0)
 ;;95800,95801,95803,95805,95806,95807,95808,95810,95811,95812,95813,95816,95819,95822,95824,95827,95829,95830,95831,95832
"RTN","SR176UT2",83,0)
 ;;95833,95834,95851,95852,95857,95860,95861,95863,95864,95865,95866,95867,95868,95869,95870,95872,95873,95874,95875,95885
"RTN","SR176UT2",84,0)
 ;;95886,95887,95900,95903,95904,95905,95920,95921,95922,95923,95925,95926,95927,95928,95929,95930,95933,95934,95936,95937
"RTN","SR176UT2",85,0)
 ;;95938,95939,95950,95951,95953,95954,95955,95956,95957,95958,95961,95962,95965,95966,95967,95970,95971,95972,95973,95974
"RTN","SR176UT2",86,0)
 ;;95975,95978,95979,95980,95981,95982,95990,95991,95992,95999,96000,96001,96002,96003,96004,96020,96040,96101,96102,96103
"RTN","SR176UT2",87,0)
 ;;96105,96110,96111,96116,96118,96119,96120,96125,96150,96151,96152,96153,96154,96155,96360,96361,96365,96366,96367,96368
"RTN","SR176UT2",88,0)
 ;;96369,96370,96371,96372,96373,96374,96375,96376,96379,96401,96402,96405,96406,96409,96411,96413,96415,96416,96417,96420
"RTN","SR176UT2",89,0)
 ;;96422,96423,96425,96440,96446,96450,96521,96522,96523,96542,96549,96567,96570,96571,96900,96902,96904,96910,96912,96913
"RTN","SR176UT2",90,0)
 ;;96920,96921,96922,96999,97001,97002,97003,97004,97005,97006,97010,97012,97014,97016,97018,97022,97024,97026,97028,97032
"RTN","SR176UT2",91,0)
 ;;97033,97034,97035,97036,97039,97110,97112,97113,97116,97124,97139,97140,97150,97530,97532,97533,97535,97537,97542,97545
"RTN","SR176UT2",92,0)
 ;;97546,97597,97598,97602,97605,97606,97750,97755,97760,97761,97762,97799,97802,97803,97804,97810,97811,97813,97814,98925
"RTN","SR176UT2",93,0)
 ;;98926,98927,98928,98929,98940,98941,98942,98943,98960,98961,98962,98966,98967,98968,98969,99000,99001,99002,99024,99026
"RTN","SR176UT2",94,0)
 ;;99027,99050,99051,99053,99056,99058,99060,99070,99071,99075,99078,99080,99082,99090,99091,99100,99116,99135,99140,99143
"RTN","SR176UT2",95,0)
 ;;99144,99145,99148,99149,99150,99170,99172,99173,99174,99175,99183,99190,99191,99192,99195,99199,99201,99202,99203,99204
"RTN","SR176UT2",96,0)
 ;;99205,99211,99212,99213,99214,99215,99217,99218,99219,99220,99221,99222,99223,99224,99225,99226,99231,99232,99233,99234
"RTN","SR176UT2",97,0)
 ;;99235,99236,99238,99239,99241,99242,99243,99244,99245,99251,99252,99253,99254,99255,99281,99282,99283,99284,99285,99288
"RTN","SR176UT2",98,0)
 ;;99291,99292,99304,99305,99306,99307,99308,99309,99310,99315,99316,99318,99324,99325,99326,99327,99328,99334,99335,99336
"RTN","SR176UT2",99,0)
 ;;99337,99339,99340,99341,99342,99343,99344,99345,99347,99348,99349,99350,99354,99355,99356,99357,99358,99359,99360,99363
"RTN","SR176UT2",100,0)
 ;;99364,99366,99367,99368,99374,99375,99377,99378,99379,99380,99381,99382,99383,99384,99385,99386,99387,99391,99392,99393
"RTN","SR176UT2",101,0)
 ;;99394,99395,99396,99397,99401,99402,99403,99404,99406,99407,99408,99409,99411,99412,99420,99429,99441,99442,99443,99444
"RTN","SR176UT2",102,0)
 ;;99450,99455,99456,99460,99461,99462,99463,99464,99465,99466,99467,99468,99469,99471,99472,99475,99476,99477,99478,99479
"RTN","SR176UT2",103,0)
 ;;99480,99499,99500,99501,99502,99503,99504,99505,99506,99507,99509,99510,99511,99512,99600,99601,99602,99605,99606,99607
"RTN","SR176UTL")
0^^B35560007^n/a
"RTN","SR176UTL",1,0)
SR176UTL ;BIR/SJA - SR*3*176 UTILITY ROUTINE ;01/17/2012
"RTN","SR176UTL",2,0)
 ;;3.0;Surgery;**176**;24 Jun 93;Build 8
"RTN","SR176UTL",3,0)
 Q
"RTN","SR176UTL",4,0)
PRE ; pre-install process for SR*3*176
"RTN","SR176UTL",5,0)
 ; delete data from file 136.5 and re-initialize file
"RTN","SR176UTL",6,0)
 K ^SRO(136.5) S ^SRO(136.5,0)="PERIOPERATIVE OCCURRENCE CATEGORY^136.5I^^"
"RTN","SR176UTL",7,0)
 ; set LATEST 30-READMISSION REPORT field (#8) in file #133 to null
"RTN","SR176UTL",8,0)
 N SRI S SRI=0 F  S SRI=$O(^SRO(133,SRI)) Q:'SRI  S $P(^SRO(133,SRI,0),"^",9)=""
"RTN","SR176UTL",9,0)
 ; delete DD for modified field #240
"RTN","SR176UTL",10,0)
 S DA=240,DIK="^DD(130,",DA(1)=130 D ^DIK K DA,DIK
"RTN","SR176UTL",11,0)
 Q
"RTN","SR176UTL",12,0)
POST ; post-install process for SR*3*176
"RTN","SR176UTL",13,0)
 ; populate file 137
"RTN","SR176UTL",14,0)
 N SRI,SRJ,SRL,SRLIST,SRX,SRY,X
"RTN","SR176UTL",15,0)
 D MES^XPDUTL("  Populating CPT EXCLUSIONS file...")
"RTN","SR176UTL",16,0)
 K ^SRO(137) S ^SRO(137,0)="CPT EXCLUSIONS^137P^^"
"RTN","SR176UTL",17,0)
 F SRJ=0:1 S SRLIST=$P($T(LIST+SRJ)," ;;",2) Q:SRLIST=""  F SRI=1:1 S SRX=$P(SRLIST,",",SRI) Q:SRX=""  I $D(^ICPT("B",SRX)) D INT
"RTN","SR176UTL",18,0)
 D PEX^SR176UT0,PEX^SR176UT1,PEX^SR176UT2
"RTN","SR176UTL",19,0)
 S SRX="A" F  S SRX=$O(^ICPT("B",SRX)) Q:SRX=""  D INT
"RTN","SR176UTL",20,0)
DEL ; delete routines SR176UT0, SR176UT1 and SR176UT2
"RTN","SR176UTL",21,0)
 F X="SR176UT0","SR176UT1","SR176UT2" X ^%ZOSF("TEST") I $T D
"RTN","SR176UTL",22,0)
 .D MES^XPDUTL(" Deleting routine "_X_"...")
"RTN","SR176UTL",23,0)
 .X ^%ZOSF("DEL")
"RTN","SR176UTL",24,0)
 K DA,DIC,DD,DO,DINUM,X
"RTN","SR176UTL",25,0)
 Q
"RTN","SR176UTL",26,0)
INT S SRY=0,SRY=$O(^ICPT("B",SRX,SRY)) Q:SRY=""
"RTN","SR176UTL",27,0)
 K DA,DIC,DD,DO,DINUM S (DINUM,X)=SRY,DIC="^SRO(137,",DIC(0)="L" D FILE^DICN
"RTN","SR176UTL",28,0)
 Q
"RTN","SR176UTL",29,0)
LIST ;;0001F,0005F,00100,00102,00103,00104,00120,00124,00126,0012F,00140,00142
"RTN","SR176UTL",30,0)
 ;;00144,00145,00147,00148,0014F,0015F,00160,00162,00164,00170,00172,00174,00176,00190,00192,0019T,00210,00211,00212,00214
"RTN","SR176UTL",31,0)
 ;;00215,00216,00218,00220,00222,00300,0030T,00320,00322,00326,00350,00352,00400,00402,00404,00406,00410,0042T,00450,00452
"RTN","SR176UTL",32,0)
 ;;00454,00470,00472,00474,0048T,00500,0050T,0051T,00520,00522,00524,00528,00529,0052T,00530,00532,00534,00537,00539,0053T
"RTN","SR176UTL",33,0)
 ;;00540,00541,00542,00546,00548,0054T,00550,0055T,00560,00561,00562,00563,00566,00567,00580,0058T,0059T,00600,00604,00620
"RTN","SR176UTL",34,0)
 ;;00622,00625,00626,00630,00632,00634,00635,00640,00670,00700,00702,0071T,0072T,00730,0073T,00740,00750,00752,00754,00756
"RTN","SR176UTL",35,0)
 ;;0075T,0076T,00770,0078T,00790,00792,00794,00796,00797,0079T,00800,00802,0080T,00810,0081T,00820,00830,00832,00834,00836
"RTN","SR176UTL",36,0)
 ;;00840,00842,00844,00846,00848,00851,0085T,00860,00862,00864,00865,00866,00868,00870,00872,00873,00880,00882,00902,00904
"RTN","SR176UTL",37,0)
 ;;00906,00908,00910,00912,00914,00916,00918,00920,00921,00922,00924,00926,00928,0092T,00930,00932,00934,00936,00938,00940
"RTN","SR176UTL",38,0)
 ;;00942,00944,00948,00950,00952,0095T,0098T,0099T,0100T,0101T,0102T,0103T,0106T,0107T,0108T,0109T,0110T,01112,0111T,01120
"RTN","SR176UTL",39,0)
 ;;01130,01140,01150,01160,01170,01173,01180,01190,01200,01202,01210,01212,01214,01215,01220,01230,01232,01234,0123T,0124T
"RTN","SR176UTL",40,0)
 ;;01250,01260,0126T,01270,01272,01274,01320,01340,01360,01380,01382,01390,01392,01400,01402,01404,0141T,01420,0142T,01430
"RTN","SR176UTL",41,0)
 ;;01432,0143T,01440,01442,01444,01462,01464,01470,01472,01474,01480,01482,01484,01486,01490,01500,01502,01520,01522,0155T
"RTN","SR176UTL",42,0)
 ;;0156T,0157T,0158T,0159T,01610,01620,01622,01630,01634,01636,01638,0163T,0164T,01650,01652,01654,01656,0165T,0166T,01670
"RTN","SR176UTL",43,0)
 ;;0167T,01680,01682,0168T,0169T,01710,01712,01714,01716,0171T,0172T,01730,01732,0173T,01740,01742,01744,0174T,01756,01758
"RTN","SR176UTL",44,0)
 ;;0175T,01760,01770,01772,01780,01782,0178T,0179T,0180T,01810,0181T,01820,01829,0182T,01830,01832,0183T,01840,01842,01844
"RTN","SR176UTL",45,0)
 ;;01850,01852,0185T,01860,0186T,0188T,0189T,0190T,01916,0191T,01920,01922,01924,01925,01926,0192T,01930,01931,01932,01933
"RTN","SR176UTL",46,0)
 ;;01935,01936,01951,01952,01953,01958,0195T,01960,01961,01962,01963,01965,01966,01967,01968,01969,0196T,0197T,0198T,01990
"RTN","SR176UTL",47,0)
 ;;01991,01992,01996,01999,0199T,0200T,0201T,0202T,0206T,0207T,0208T,0209T,0210T,0211T,0212T,0213T,0214T,0215T,0216T,0217T
"RTN","SR176UTL",48,0)
 ;;0218T,0223T,0224T,0225T,0226T,0227T,0228T,0229T,0230T,0231T,0232T,0233T,0234T,0235T,0236T,0237T,0238T,0239T,0240T,0241T
"RTN","SR176UTL",49,0)
 ;;0242T,0243T,0244T,0249T,0251T,0252T,0253T,0260T,0261T,0263T,0264T,0265T,0266T,0267T,0268T,0269T,0270T,0271T,0272T,0273T
"RTN","SR176UTL",50,0)
 ;;0274T,0275T,0276T,0277T,0278T,0279T,0280T,0281T,0283T,0284T,0285T,0286T,0287T,0288T,0289T,0290T,0500F,0501F,0502F,0503F
"RTN","SR176UTL",51,0)
 ;;0505F,0507F,0509F,0513F,0514F,0516F,0517F,0518F,0519F,0520F,0521F,0525F,0526F,0528F,0529F,0535F,0540F,0545F,0550F,0551F
"RTN","SR176UTL",52,0)
 ;;0555F,0556F,0557F,0575F,1000F,10021,10022,1002F,1003F,10040,1004F,1005F,10060,10061,1006F,1007F,10080,10081,1008F,1010F
"RTN","SR176UTL",53,0)
 ;;1011F,10120,1012F,1015F,1018F,1019F,1022F,1026F,1030F,1031F,1032F,1033F,1034F,1035F,1036F,1038F,1039F,1040F,1050F,1055F
"RTN","SR176UTL",54,0)
 ;;1060F,1061F,1065F,1066F,1070F,1071F,1090F,1091F,11000,1100F,11010,11011,11012,1101F,11042,11043,11044,11055,11056,11057
"RTN","SR176UTL",55,0)
 ;;11100,11101,1110F,1111F,1116F,1118F,1119F,11200,11201,1121F,1123F,1124F,1125F,1126F,1127F,1128F,11300,11301,11302,11303
"RTN","SR176UTL",56,0)
 ;;11305,11306,11307,11308,1130F,11310,11311,11312,11313,1134F,1135F,1136F,1137F,11400,11401,11402,11403,11404,11406,11420
"RTN","SR176UTL",57,0)
 ;;11421,11422,11423,11424,11426,11440,11441,11442,11443,11444,11446,11450,11451,11462,11463,11470,11471,1150F,1151F,1152F
"RTN","SR176UTL",58,0)
 ;;1153F,1157F,1158F,1159F,11600,11601,11602,11603,11604,11606,1160F,11620,11621,11622,11623,11624,11626,11640,11641,11642
"RTN","SR176UTL",59,0)
 ;;11643,11644,11646,1170F,11719,11720,11721,11730,11732,11740,11750,11752,11755,1175F,11760,11762,11765,11770,11771,11772
"RTN","SR176UTL",60,0)
 ;;1180F,1181F,1182F,1183F,11900,11901,11920,11921,11922,11950,11951,11952,11954,11970,11971,11975,11976,11977,11980,11981
"RTN","SR176UTL",61,0)
 ;;11982,11983,12001,12002,12004,12005,12006,12007,1200F,12011,12013,12014,12015,12016,12017,12018,12020,12021,12031,12032
"RTN","SR176UTL",62,0)
 ;;12034,12035,12036,12037,12041,12042,12044,12045,12046,12047,12051,12052,12053,12054,12055,12056,12057,1205F,1220F,13100
"RTN","SR176UTL",63,0)
 ;;13101,13102,13120,13121,13122,13131,13132,13133,13150,13151,13152,13153,13160,14000,14001,1400F,14020,14021,14040,14041
"RTN","SR176UTL",64,0)
 ;;14060,14061,14301,14302,14350,1450F,1451F,1460F,1461F,1490F,1491F,1493F,1494F,15002,15003,15004,15050,15100,15101,15110
"RTN","SR176UTL",65,0)
 ;;15111,15115,15116,15120,15121,15130,15131,15135,15136,15150,15151,15152,15155,15156,15157,15170,15171,15175,15176,15200
"RTN","SR176UTL",66,0)
 ;;15201,15220,15221,15240,15241,15260,15261,15271,15272,15273,15274,15275,15276,15277,15278,15300,15301,15320,15321,15330
"RTN","SR176UTL",67,0)
 ;;15331,15335,15336,15340,15341,15360,15361,15365,15366,15400,15401,15420,15421,15430,15431,15775,15776,15777,15780,15781
"RTN","SR176UTL",68,0)
 ;;15782,15783,15786,15787,15788,15789,15792,15793,15819,15820,15821,15822,15823,15824,15825,15826,15828,15829,15832,15833
"RTN","SR176UTL",69,0)
 ;;15834,15835,15836,15837,15838,15839,15850,15851,15852,15860,16000,16020,16025,16030,16035,16036,17000,17003,17004,17106
"RTN","SR176UTL",70,0)
 ;;17110,17250,17260,17261,17262,17263,17264,17266,17270,17271,17272,17273,17274,17276,17280,17281,17282,17283,17284,17286
"RTN","SR176UTL",71,0)
 ;;17340,17360,17380,17999,19000,19001,19030,19100,19101,19102,19103,19112,19290,19291,19295,2000F,2001F,2002F,2004F,2010F
"RTN","SR176UTL",72,0)
 ;;2014F,2015F,2016F,2018F,2019F,20200,20205,20206,2020F,2021F,20220,20225,2022F,20240,20245,2024F,20250,20251,2026F,2027F
"RTN","SR176UTL",73,0)
 ;;2028F,2029F,2030F,2031F,2035F,2040F,2044F,20500,20501,2050F,20520,20525,20526,20527,20550,20551,20552,20553,20555,20600
"RTN","SR176UTL",74,0)
 ;;20605,2060F,20610,20612,20615,20650,20660,20661,20662,20663,20664,20665,20670,20680,20690,20692,20693,20694,20696,20697
"RTN","SR176UTL",75,0)
 ;;20912,20924,20950,20974,20979,20982,20985,21011,21012,21013,21014,21016,21030,21031,21032,21073,21076,21077,21079,21080
"RTN","SROAC")
1^68^^B10088315
"RTN","SROAC1")
1^69^^B1183863
"RTN","SROAC2")
1^70^^B12537501
"RTN","SROACCR")
1^78^^B12939133
"RTN","SROACL1")
0^1^B32293061^B27741852
"RTN","SROACL1",1,0)
SROACL1 ;BIR/MAM - CARDIAC PREOP CLINICAL DATA ;08/11/2011
"RTN","SROACL1",2,0)
 ;;3.0;Surgery;**38,71,95,125,153,160,174,176**;24 Jun 93;Build 8
"RTN","SROACL1",3,0)
 ;
"RTN","SROACL1",4,0)
 ; Reference to EN1^GMRVUT0 supported by DBIA #1446
"RTN","SROACL1",5,0)
 ;
"RTN","SROACL1",6,0)
 D TUT^SROAUTL3 F I=0,200,202,205,206,206.1,208,209,200.1 S SRA(I)=$G(^SRF(SRTN,I))
"RTN","SROACL1",7,0)
HT N SRSD,SRED S SRED=$P(SRA(0),"^",9)
"RTN","SROACL1",8,0)
 I $P(SRA(206),"^")="" S SRSD=$$FMADD^XLFDT(SRED,-365),NYUK=$$HW(SRSD,SRED,"HT") D
"RTN","SROACL1",9,0)
 .I NYUK'="" S NYUK=NYUK+.5\1,$P(^SRF(SRTN,206),"^")=NYUK,SRA(206)=$G(^SRF(SRTN,206))
"RTN","SROACL1",10,0)
 S NYUK=$P(SRA(206),"^") S:NYUK'="" NYUK=$S(NYUK["C"!(NYUK["c"):+NYUK_" cm",+NYUK=NYUK:+NYUK_" in",NYUK="NS":" NS",1:NYUK) S SRAO(1)=NYUK_"^236"
"RTN","SROACL1",11,0)
WT I $P(SRA(206),"^",2)="" S SRSD=$$FMADD^XLFDT(SRED,-30),NYUK=$$HW(SRSD,SRED,"WT") D
"RTN","SROACL1",12,0)
 .I NYUK'="" S NYUK=NYUK+.5\1,$P(^SRF(SRTN,206),"^",2)=NYUK,SRA(206)=$G(^SRF(SRTN,206))
"RTN","SROACL1",13,0)
 S NYUK=$P(SRA(206),"^",2) S:NYUK'="" NYUK=$S(NYUK["K"!(NYUK["k"):+NYUK_" kg",+NYUK=NYUK:+NYUK_" lb",NYUK="NS":" NS",1:NYUK) S SRAO(2)=NYUK_"^237"
"RTN","SROACL1",14,0)
 S Y=$P(SRA(200.1),"^",11),C=$P(^DD(130,519,0),"^",2) D:Y'="" Y^DIQ S SRAO(3)=Y_"^519"
"RTN","SROACL1",15,0)
 S Y=$P(SRA(200.1),"^",12),C=$P(^DD(130,520,0),"^",2) D:Y'="" Y^DIQ S SRAO(4)=Y_"^520"
"RTN","SROACL1",16,0)
 K SRA(0) S NYUK=$P(SRA(200),"^",11) D YN S SRAO(5)=SHEMP_"^203"
"RTN","SROACL1",17,0)
 S SRAO(6)=$P(SRA(206),"^",5)_"^347",NYUK=$P(SRA(206),"^",6) D YN S SRAO(7)=SHEMP_"^209",NYUK=$P(SRA(206),"^",7) D YN S SRAO(8)=SHEMP_"^348"
"RTN","SROACL1",18,0)
 S Y=$P(SRA(200.1),"^",9),C=$P(^DD(130,517,0),"^",2) D:Y'="" Y^DIQ S SRAO(9)=Y_"^517"
"RTN","SROACL1",19,0)
 S Y=$P(SRA(200.1),"^",10),C=$P(^DD(130,518,0),"^",2) D:Y'="" Y^DIQ S SRAO(10)=Y_"^518"
"RTN","SROACL1",20,0)
 S NYUK=$P(SRA(200),"^",55) D YN S SRAO(11)=SHEMP_"^618",NYUK=$P(SRA(206),"^",10) D YN S SRAO(12)=SHEMP_"^349"
"RTN","SROACL1",21,0)
 S NYUK=$P(SRA(206),"^",11) D YN S SRAO(13)=SHEMP_"^350",NYUK=$P(SRA(200),"^",8),SRAO(14)=$S(NYUK=1:"INDEPENDENT",NYUK=2:"PARTIAL DEPENDENT",NYUK=3:"TOTALLY DEPENDENT",NYUK="NS":"NO STUDY",1:"")_"^240"
"RTN","SROACL1",22,0)
 S NYUK=$P(SRA(206),"^",13),SRAO(15)=$S(NYUK=0:"NONE",NYUK=1:"NONE RECENT",NYUK=2:"12-72 HRS",NYUK=3:"<12 hrs",NYUK=12:"12 - 72 hrs",NYUK=72:">72 hrs - 7 days",NYUK=7:">7 days",NYUK="NS":"NO STUDY",1:"")_"^351"
"RTN","SROACL1",23,0)
 S NYUK=$P(SRA(206),"^",14),SRAO(16)=$S(NYUK=0:"NONE",NYUK=1:"< OR = 7 DAYS",NYUK=2:"> 7 DAYS",1:"")_"^205"
"RTN","SROACL1",24,0)
 S NYUK=$P(SRA(206),"^",15) S SRAO(17)=$S(NYUK=0:"NONE",NYUK=">":">3",NYUK="Y":"YES",NYUK="N":"NO",1:NYUK)_"^352"
"RTN","SROACL1",25,0)
 S SRAO(18)=$P(SRA(206),"^",42)_"^485"
"RTN","SROACL1",26,0)
 S NYUK=$P(SRA(206),"^",16) D YN S SRAO(19)=SHEMP_"^265"
"RTN","SROACL1",27,0)
 S NYUK=$P(SRA(200.1),"^",13),SRAO(20)=$S(NYUK=1:"YES/NO SURG",NYUK=2:"YES/PRIOR SURG",NYUK=0:"NO CVD",1:"")_"^521"
"RTN","SROACL1",28,0)
 S NYUK=$P(SRA(200.1),"^",14),SRAO(21)=$S(NYUK=1:"HIST OF TIA'S",NYUK=2:"CVA W/O NEURO DEF",NYUK=3:"CVA W/ NEURO DEF",NYUK=0:"NO CVD",1:"")_"^522"
"RTN","SROACL1",29,0)
 S SRAO(22)=$P(SRA(206),"^",18)_"^267",SRAO(23)=$P(SRA(206),"^",19)_"^207",NYUK=$P(SRA(206),"^",20) D YN S SRAO(24)=SHEMP_"^353",NYUK=$P(SRA(206),"^",21) D YN S SRAO(25)=SHEMP_"^354"
"RTN","SROACL1",30,0)
 S NYUK=$P(SRA(206),"^",22) D YN S SRAO(26)=SHEMP_"^355"
"RTN","SROACL1",31,0)
 S NYUK=$P(SRA(209),"^",2),SRAO(27)=$S(NYUK="N":"NONE",NYUK="I":"IABP",NYUK="V":"VAD",NYUK="A":"ARTI",NYUK="O":"OTHER",1:"")_"^474"
"RTN","SROACL1",32,0)
 S NYUK=$P(SRA(206),"^",38) D YN S SRAO(28)=SHEMP_"^463"
"RTN","SROACL1",33,0)
 S NYUK=$P(SRA(208),"^",19) D YN S SRAO(29)=SHEMP_"^509"
"RTN","SROACL1",34,0)
DISP ; display fields
"RTN","SROACL1",35,0)
 S SRPAGE="PAGE: 1" D HDR^SROAUTL
"RTN","SROACL1",36,0)
 W !," 1. Height:",?29,$P(SRAO(1),"^"),?42,"16. Prior MI: ",$J($P(SRAO(16),"^"),23)
"RTN","SROACL1",37,0)
 W !," 2. Weight:",?29,$P(SRAO(2),"^"),?42,"17. Num Prior Heart Surgeries: ",?75,$P(SRAO(17),"^")
"RTN","SROACL1",38,0)
 W !," 3. Diabetes - Long Term:",?30,$P(SRAO(3),"^"),?42,"18. Prior Heart Surgeries:" D H485
"RTN","SROACL1",39,0)
 W !," 4. Diabetes - 2 Wks Preop:",?30,$P(SRAO(4),"^"),?42,"19. Peripheral Vascular Disease:",?75,$P(SRAO(19),"^")
"RTN","SROACL1",40,0)
 W !," 5. COPD:",?30,$P(SRAO(5),"^"),?42,"20. CVD Repair/Obstruct: ",?(79-$L($P(SRAO(20),"^"))),$E($P(SRAO(20),"^"),1,12)
"RTN","SROACL1",41,0)
 W !," 6. FEV1:",?($S($P(SRAO(6),"^")="NS":30,1:27)),$P(SRAO(6),"^")_$S($P(SRAO(6),"^")="":"",$P(SRAO(6),"^")="NS":"",1:" liters"),?42,"21. History of CVD:",?(79-$L($P(SRAO(21),"^"))),$P(SRAO(21),"^")
"RTN","SROACL1",42,0)
 W !," 7. Cardiomegaly (X-ray):",?30,$P(SRAO(7),"^"),?42,"22. Angina (use CCS Class):",?75,$P(SRAO(22),"^")
"RTN","SROACL1",43,0)
 W !," 8. Pulmonary Rales:",?30,$P(SRAO(8),"^"),?42,"23. CHF (use NYHA Class):",?75,$P(SRAO(23),"^")
"RTN","SROACL1",44,0)
 W !," 9. Tobacco Use:",$J($P(SRAO(9),"^"),24),?42,"24. Current Diuretic Use:",?75,$P(SRAO(24),"^")
"RTN","SROACL1",45,0)
 W !,"10. Tobacco Use Timeframe: ",$P(SRAO(10),"^"),?42,"25. Current Digoxin Use:",?75,$P(SRAO(25),"^")
"RTN","SROACL1",46,0)
 W !,"11. Positive Drug Screening: ",?30,$P(SRAO(11),"^"),?42,"26. IV NTG within 48 Hours:",?75,$P(SRAO(26),"^")
"RTN","SROACL1",47,0)
 W !,"12. Active Endocarditis:",?30,$P(SRAO(12),"^"),?42,"27. Preop Circulatory Device:",?75,$P(SRAO(27),"^")
"RTN","SROACL1",48,0)
 W !,"13. Resting ST Depression:",?30,$P(SRAO(13),"^"),?42,"28. Hypertension (Y/N):",?75,$P(SRAO(28),"^")
"RTN","SROACL1",49,0)
 W !,"14. Functional Status: ",$J($P(SRAO(14),"^"),17),?42,"29. Preop Atrial Fibrillation:",?75,$P(SRAO(29),"^")
"RTN","SROACL1",50,0)
 W !,"15. PCI: ",?((18-$L($P(SRAO(15),"^"))\2)+22),$P(SRAO(15),"^")
"RTN","SROACL1",51,0)
 W ! F MOE=1:1:80 W "-"
"RTN","SROACL1",52,0)
 Q
"RTN","SROACL1",53,0)
YN ; store answer
"RTN","SROACL1",54,0)
 S SHEMP=$S(NYUK="NS":"NS",NYUK="N":"NO",NYUK="Y":"YES",NYUK="NA":"N/A",1:"")
"RTN","SROACL1",55,0)
 Q
"RTN","SROACL1",56,0)
H485 S SHEMP="",X=$P(SRAO(18),"^") F I=1:1:$L(X,",") D
"RTN","SROACL1",57,0)
 .S C=$P(X,",",I) S:I>1 SHEMP=SHEMP_", " S SHEMP=SHEMP_$S(C=0:"NONE",C=1:"CABG-ONLY",C=2:"VALVE-ONLY",C=3:"CABG/VALVE",C=4:"OTHER",C=5:"CABG/OTHER",1:"")
"RTN","SROACL1",58,0)
 ;
"RTN","SROACL1",59,0)
 S X=SHEMP I $L(X)<12 W ?68,$J(X,11) Q
"RTN","SROACL1",60,0)
 W ?68,$J($P(X,",")_",",11) I $L($P(X,", ",2,9))<36 W !,?44,$P(X,", ",2,9) Q
"RTN","SROACL1",61,0)
 W !,?44,$P(X,", ",2,4)_",",!,?44,$P(X,", ",5,9)
"RTN","SROACL1",62,0)
 Q
"RTN","SROACL1",63,0)
HW(SRSD,SRED,SVTYPE) ; get weight & height from Vitals
"RTN","SROACL1",64,0)
 N GMRVSTR,SRTYPE,SRBCNT,SRBRDT,SRBIEN,SRBDATA,RESULTS
"RTN","SROACL1",65,0)
 K ^UTILITY($J,"GMRVD"),RESULTS S GMRVSTR=SVTYPE,GMRVSTR(0)=SRSD_"^"_SRED_"^^"
"RTN","SROACL1",66,0)
 D EN1^GMRVUT0 Q:'$D(^UTILITY($J,"GMRVD")) ""
"RTN","SROACL1",67,0)
 S SRTYPE="",SRBCNT=1 F  S SRTYPE=$O(^UTILITY($J,"GMRVD",SRTYPE)) Q:SRTYPE=""  D
"RTN","SROACL1",68,0)
 .S SRBRDT=0 F  S SRBRDT=$O(^UTILITY($J,"GMRVD",SRTYPE,SRBRDT)) Q:'SRBRDT  D
"RTN","SROACL1",69,0)
 ..S SRBIEN=0 F  S SRBIEN=$O(^UTILITY($J,"GMRVD",SRTYPE,SRBRDT,SRBIEN)) Q:'SRBIEN  D
"RTN","SROACL1",70,0)
 ...S SRBDATA=$G(^UTILITY($J,"GMRVD",SRTYPE,SRBRDT,SRBIEN))
"RTN","SROACL1",71,0)
 ...S RESULTS(SRTYPE,SRBRDT)=$P(SRBDATA,"^",1,2)_"^"_$P(SRBDATA,"^",8),SRBCNT=SRBCNT+1
"RTN","SROACL1",72,0)
 I $D(RESULTS(SVTYPE)) S SRI=$O(RESULTS(SVTYPE,0)) Q $P(RESULTS(SVTYPE,SRI),"^",3)
"RTN","SROACL1",73,0)
 Q ""
"RTN","SROACL2")
0^21^B3905416^B3904594
"RTN","SROACL2",1,0)
SROACL2 ;BIR/SJA - CLINICAL DATA ;07/12/2011
"RTN","SROACL2",2,0)
 ;;3.0;Surgery;**125,160,176**;24 Jun 93;Build 8
"RTN","SROACL2",3,0)
 D HDR^SROAUTL N SRQ
"RTN","SROACL2",4,0)
PRIOR W !,"Prior heart surgeries:"
"RTN","SROACL2",5,0)
 W !!,"0. None                      3. CABG/Valve",!,"1. CABG-only                 4. Other",!,"2. Valve-only                5. CABG/Other",!
"RTN","SROACL2",6,0)
 K DIR S DIR(0)="LOA^0:5",DIR("A")="Enter your choice(s) separated by commas  (0-5): ",DIR("B")=$S($D(SRAO(18)):$P(SRAO(18),"^"),1:"")
"RTN","SROACL2",7,0)
 S DIR("?")="Enter applicable types of heart surgery performed."
"RTN","SROACL2",8,0)
 S DIR("??")="^D H485^SROACL2" D ^DIR K DIR
"RTN","SROACL2",9,0)
 I X="@" S DIR("A")="     SURE YOU WANT TO DELETE ",DIR(0)="Y" D ^DIR K DIR S:Y X="@" Q
"RTN","SROACL2",10,0)
 I X=""!(Y["^")!($D(DIRUT)) Q
"RTN","SROACL2",11,0)
 D CHECK G:SRQ PRIOR
"RTN","SROACL2",12,0)
 Q
"RTN","SROACL2",13,0)
H485 N SRH D HELP^DIE(130,"",485,"A","SRH")
"RTN","SROACL2",14,0)
 I $G(SRH("DIHELP")) F I=1:1:SRH("DIHELP") W !,?2,SRH("DIHELP",I)
"RTN","SROACL2",15,0)
 Q
"RTN","SROACL2",16,0)
CHECK N I,C S SRQ=0
"RTN","SROACL2",17,0)
 I Y["0",(Y["1"!(Y["2")!(Y["3")!(Y["4")!(Y["5")) S SRQ=1 W !,"Do not enter NONE if prior heart surgeries were performed.",! Q
"RTN","SROACL2",18,0)
 F I=1:1:$L(Y,",") S C=$P(Y,",",I) Q:C=""  W !?43,C," - " D
"RTN","SROACL2",19,0)
 .I "012345"[C W $S(C=1:"CABG-only",C=2:"Valve-only",C=3:"CABG/Valve",C=4:"Other",C=0:"None",C=5:"CABG/Other",1:"") Q
"RTN","SROACL2",20,0)
 S (SRAO(18),Y)=$P(Y,",",1,$L(Y,",")-1)_"^485"
"RTN","SROACL2",21,0)
 Q
"RTN","SROACLN")
0^2^B12597200^B12470987
"RTN","SROACLN",1,0)
SROACLN ;BIR/MAM - CLINICAL DATA ;09/01/2011
"RTN","SROACLN",2,0)
 ;;3.0;Surgery;**38,47,71,95,100,125,142,174,175,176**;24 Jun 93;Build 8
"RTN","SROACLN",3,0)
 I '$D(SRTN) W !!,"A Surgery Risk Assessment must be selected prior to using this option.",!!,"Press <RET> to continue  " R X:DTIME G END
"RTN","SROACLN",4,0)
 S SRACLR=0,SRSOUT=0,SRSUPCPT=1 D ^SROAUTL
"RTN","SROACLN",5,0)
START D:SRACLR RET G:SRSOUT END S SRACLR=0 K SRA,SRAO D ^SROACL1
"RTN","SROACLN",6,0)
ASK W !!,"Select Clinical Information to Edit: " R X:DTIME I '$T!("^"[X) G END
"RTN","SROACLN",7,0)
 S X=$S(X="a":"A",X="n":"N",1:X) I '$D(SRAO(X)),(X'?.N1":".N),(X'="A"),(X'="N") D HELP G:SRSOUT END G START
"RTN","SROACLN",8,0)
 I X="A" S X="1:29"
"RTN","SROACLN",9,0)
 I X?.N1":".N S Y=$E(X),Z=$P(X,":",2) I Y<1!(Z>29)!(Y>Z) D HELP G:SRSOUT END G START
"RTN","SROACLN",10,0)
 I X="N" D  G:SRSOUT END G START
"RTN","SROACLN",11,0)
 .W ! K DIR S DIR(0)="Y",DIR("B")="NO",DIR("A")="Are you sure you want to set all fields on this page to NO"
"RTN","SROACLN",12,0)
 .D ^DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1 Q
"RTN","SROACLN",13,0)
 .I Y D NO2ALL
"RTN","SROACLN",14,0)
 D HDR^SROAUTL
"RTN","SROACLN",15,0)
 I X?.N1":".N D RANGE G START
"RTN","SROACLN",16,0)
 I $D(SRAO(X)) S EMILY=X D  G START
"RTN","SROACLN",17,0)
 .I $$LOCK^SROUTL(SRTN) W !! D ONE,UNLOCK^SROUTL(SRTN)
"RTN","SROACLN",18,0)
END I '$D(SREQST) W @IOF D ^SRSKILL
"RTN","SROACLN",19,0)
 Q
"RTN","SROACLN",20,0)
HELP W @IOF,!!!!,"Enter the number or range of numbers you want to edit.  Examples of proper",!,"responses are listed below."
"RTN","SROACLN",21,0)
 W !!,"1. Enter 'A' to update all information.",!!,"2. Enter 'N' to set all fields on this page to NO."
"RTN","SROACLN",22,0)
 W !!,"3. Enter a specific number to update the information in that field.  (For",!,"   example, enter '8' to update Pulmonary Rales)"
"RTN","SROACLN",23,0)
 W !!,"4. Enter a range of numbers separated by a ':' to enter a range of",!,"   information.  (For example, enter '7:9' to enter Cardiomegaly (X-ray),",!,"   Pulmonary Rales, and Tobacco Use.)"
"RTN","SROACLN",24,0)
 W !!,"Press <RET> to continue, or '^' to quit  " R X:DTIME I '$T!(X["^") S SRSOUT=1
"RTN","SROACLN",25,0)
 Q
"RTN","SROACLN",26,0)
RANGE ; range of numbers
"RTN","SROACLN",27,0)
 I $$LOCK^SROUTL(SRTN) D  D UNLOCK^SROUTL(SRTN)
"RTN","SROACLN",28,0)
 .W !! S SHEMP=$P(X,":"),CURLEY=$P(X,":",2) F EMILY=SHEMP:1:CURLEY Q:SRSOUT  D ONE
"RTN","SROACLN",29,0)
 Q
"RTN","SROACLN",30,0)
ONE ; edit one item
"RTN","SROACLN",31,0)
 I EMILY=14 D FUNCT Q
"RTN","SROACLN",32,0)
 I EMILY=18 D ^SROACL2 K DR,DIE S DA=SRTN,DR="485///"_$P(SRAO(18),"^"),DIE=130 D ^DIE K DR S:$D(Y) SRSOUT=1 Q
"RTN","SROACLN",33,0)
 K DR,DIE S DA=SRTN,DR=$P(SRAO(EMILY),"^",2)_"T",DIE=130 D ^DIE K DR I $D(Y) S SRSOUT=1
"RTN","SROACLN",34,0)
 I EMILY=17,$P($G(^SRF(SRTN,206)),"^",15)=0 S $P(^SRF(SRTN,206),"^",42)=0
"RTN","SROACLN",35,0)
 Q
"RTN","SROACLN",36,0)
RET Q:SRSOUT  W !!,"Press <RET> to continue, or '^' to quit  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SROACLN",37,0)
 Q
"RTN","SROACLN",38,0)
FUNCT K DA,DIR S DA=SRTN,DIR(0)="130,240",DIR("A")="Functional Status" D ^DIR K DIR D  Q
"RTN","SROACLN",39,0)
 .I $D(DTOUT)!$D(DUOUT) Q
"RTN","SROACLN",40,0)
 .I X="@" K DIE,DR S DIE=130,DR="240///@" D ^DIE K DA,DIE,DR Q
"RTN","SROACLN",41,0)
 .K DIE,DR S DIE=130,DR="240////"_Y D ^DIE K DA,DIE,DR
"RTN","SROACLN",42,0)
 Q
"RTN","SROACLN",43,0)
NO2ALL ; set all fields to NO
"RTN","SROACLN",44,0)
 N II K DR,DIE S DA=SRTN,DIE=130
"RTN","SROACLN",45,0)
 F II=203,209,348,349,350,351,265,353,354,355,474,463,509 S DR=$S($D(DR):DR_";",1:"")_II_"////N"
"RTN","SROACLN",46,0)
 F II=351,205,352,485 S DR=DR_";"_II_"////0"
"RTN","SROACLN",47,0)
 S DR=DR_";517////1;518////NA;519////1;520////1;521////0;522////0;618////NA"
"RTN","SROACLN",48,0)
 D ^DIE K DR
"RTN","SROACLN",49,0)
 Q
"RTN","SROACRC")
1^67^^B9447857
"RTN","SROACS")
1^90^^B21480394
"RTN","SROALMN")
0^56^B24842259^B24672211
"RTN","SROALMN",1,0)
SROALMN ;BIR/ADM - LIST OF 1-LINER CASES WITH MISSING INFO ;08/25/2011
"RTN","SROALMN",2,0)
 ;;3.0;Surgery;**153,160,176**;24 Jun 93;Build 8
"RTN","SROALMN",3,0)
 S (GRAND,SRNEW,SRSOUT,TOT)=0,(SRHDR,SRPAGE)=1,SRTITLE="1-LINER CASES MISSING INFORMATION" K ^TMP("SRA",$J)
"RTN","SROALMN",4,0)
 I SRFLG,SRASP S SRSPEC=$P(^SRO(137.45,SRASP,0),"^")
"RTN","SROALMN",5,0)
 F  S SRSD=$O(^SRF("AC",SRSD)) Q:'SRSD!(SRSD>SRED)!SRSOUT  S SRTN=0 F  S SRTN=$O(^SRF("AC",SRSD,SRTN)) Q:'SRTN!SRSOUT  I $D(^SRF(SRTN,0)),$$MANDIV^SROUTL0(SRINSTP,SRTN) D UTL
"RTN","SROALMN",6,0)
 I SRSP S SRSS="" F  S SRSS=$O(^TMP("SRA",$J,SRSS)) Q:SRSS=""  D SRSD Q:SRSOUT  D:TOT TOT
"RTN","SROALMN",7,0)
 I 'SRSP S SRNEW=1,(SRSD,TOT)=0 F  S SRSD=$O(^TMP("SRA",$J,SRSD)) Q:'SRSD!SRSOUT  S SRTN=0 F  S SRTN=$O(^TMP("SRA",$J,SRSD,SRTN)) Q:'SRTN  S SRA=^(SRTN) D CASE Q:SRSOUT
"RTN","SROALMN",8,0)
 Q:SRSOUT  I SRSP,'SRFLG,GRAND D GRAND
"RTN","SROALMN",9,0)
 I SRFLG,'GRAND S SRSS=SRSPEC D HDR,GRAND
"RTN","SROALMN",10,0)
 I SRSP,'SRFLG,'GRAND S SRSS="" D HDR,GRAND
"RTN","SROALMN",11,0)
 I 'SRSP,'GRAND S SRSS="" D HDR,GRAND
"RTN","SROALMN",12,0)
 I 'SRSP,GRAND S SRSS="" D GRAND
"RTN","SROALMN",13,0)
 Q
"RTN","SROALMN",14,0)
UTL ; set up TMP global
"RTN","SROALMN",15,0)
 I '$P($G(^SRF(SRTN,.2)),"^",3)&'$P($G(^SRF(SRTN,.2)),"^",12) Q
"RTN","SROALMN",16,0)
 I $P($G(^SRF(SRTN,30)),"^") Q
"RTN","SROALMN",17,0)
 S SRA=$G(^SRF(SRTN,"RA")) I $P(SRA,"^",2)="N",$P(SRA,"^",6)="Y" Q
"RTN","SROALMN",18,0)
 I SRFLG,$P(^SRF(SRTN,0),"^",4)'=SRASP Q
"RTN","SROALMN",19,0)
 I SRSP S SRSS=$P(^SRF(SRTN,0),"^",4),SRSS=$S(SRSS:$P(^SRO(137.45,SRSS,0),"^"),1:"SPECIALTY NOT ENTERED"),^TMP("SRA",$J,SRSS,SRSD,SRTN)=SRA Q
"RTN","SROALMN",20,0)
 S ^TMP("SRA",$J,SRSD,SRTN)=SRA
"RTN","SROALMN",21,0)
 Q
"RTN","SROALMN",22,0)
SRSD S SRNEW=1,(SRSD,TOT)=0 F  S SRSD=$O(^TMP("SRA",$J,SRSS,SRSD)) Q:'SRSD!SRSOUT  S SRTN=0 F  S SRTN=$O(^TMP("SRA",$J,SRSS,SRSD,SRTN)) Q:'SRTN  S SRA=^(SRTN) D CASE Q:SRSOUT
"RTN","SROALMN",23,0)
 Q
"RTN","SROALMN",24,0)
CASE I $P(SRA,"^",2)="N",$P(SRA,"^",6)="N" S SRATYPE="EXCLUDED"
"RTN","SROALMN",25,0)
 S:$P(SRA,"^",2)="C" SRATYPE="CARDIAC" S:$P(SRA,"^",2)="" SRATYPE="NON-ASSESSED" D LNR
"RTN","SROALMN",26,0)
 S SRFLD="" I $O(SRX(SRFLD))'="" S TOT=TOT+1,GRAND=GRAND+1 D PRINT Q
"RTN","SROALMN",27,0)
 I '$P($G(^SRO(136,SRTN,10)),"^")!('$P($G(^SRO(136,SRTN,0)),"^",2))!('$P($G(^SRO(136,SRTN,0)),"^",3)) D PRINT
"RTN","SROALMN",28,0)
 Q
"RTN","SROALMN",29,0)
LNR ; check for missing 1-liner information
"RTN","SROALMN",30,0)
 K SRX,DA,DIC,DIQ,DR,SRY S DIC="^SRF(",DA=SRTN,DIQ="SRY",DIQ(0)="I"
"RTN","SROALMN",31,0)
 I SRATYPE'="EXCLUDED" S DR=".011;.03;.04;.035;.166;.205;.22;.23;.232;1.09;1.13"
"RTN","SROALMN",32,0)
 I SRATYPE="EXCLUDED" S DR=".035;.205;.22;.23;.232;.03;102"
"RTN","SROALMN",33,0)
 D EN^DIQ1 D ^SROAUTL2 K DA,DIC,DIQ,DR,SRY,SRZ
"RTN","SROALMN",34,0)
 D TECH^SROPRIN I SRTECH="NOT ENTERED" S SRX("ANESTHESIA TECHNIQUE")="Anesthesia Technique"
"RTN","SROALMN",35,0)
 Q
"RTN","SROALMN",36,0)
PRINT ; print assessments
"RTN","SROALMN",37,0)
 K SRCPTT S SRCPTT="NOT ENTERED"
"RTN","SROALMN",38,0)
 I $Y+5>IOSL!SRNEW D PAGE I SRSOUT Q
"RTN","SROALMN",39,0)
 S SRA(0)=^SRF(SRTN,0),DFN=$P(SRA(0),"^") N I D DEM^VADPT S SRANM=VADM(1),SRASSN=VA("PID") K VADM
"RTN","SROALMN",40,0)
 I $L(SRANM)>19 S SRANM=$P(SRANM,",")_","_$E($P(SRANM,",",2))_"."
"RTN","SROALMN",41,0)
 S SROPER=$P(^SRF(SRTN,"OP"),"^") I $O(^SRF(SRTN,13,0)) S SROTHER=0 F I=0:0 S SROTHER=$O(^SRF(SRTN,13,SROTHER)) Q:'SROTHER  D OTHER
"RTN","SROALMN",42,0)
 K SROPS,MM,MMM S:$L(SROPER)<63 SROPS(1)=SROPER I $L(SROPER)>62 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROALMN",43,0)
 S X=$P(SRA,"^"),SRSTATUS=$S(X="T":"TRANSMITTED",X="C":"COMPLETE",X="I":"INCOMPLETE",1:"NO ASSESSMENT"),Y=SRSD D D^DIQ S SRDT=$P(Y,"@")
"RTN","SROALMN",44,0)
 I $Y+5>IOSL D PAGE I SRSOUT Q
"RTN","SROALMN",45,0)
 W !,SRTN,?18,SRANM_" "_VA("PID"),?53,SRATYPE,?67,SRSTATUS,!,SRDT F I=1:1 Q:'$D(SROPS(I))  W ?18,SROPS(I),!
"RTN","SROALMN",46,0)
 N I,SRPROC,SRL S SRL=100 D CPTS^SROAUTL0 W ?18,"CPT Codes: "
"RTN","SROALMN",47,0)
 F I=1:1 Q:'$D(SRPROC(I))  W:I=1 ?29,SRPROC(I) W:I'=1 !,?29,SRPROC(I)
"RTN","SROALMN",48,0)
 S CNT=1 W !,?5,"Missing information:"
"RTN","SROALMN",49,0)
 I '$P($G(^SRO(136,SRTN,10)),"^")!('$P($G(^SRO(136,SRTN,0)),"^",2))!('$P($G(^SRO(136,SRTN,0)),"^",3)) W !,$J(CNT_". ",8),"The final coding for Procedure and Diagnosis is not complete." S CNT=CNT+1
"RTN","SROALMN",50,0)
 F  S SRFLD=$O(SRX(SRFLD)) Q:SRFLD=""  D:$Y+5>IOSL PAGE Q:SRSOUT  W !,$J(CNT_". ",8),SRX(SRFLD) S CNT=CNT+1
"RTN","SROALMN",51,0)
 I 'SRSOUT W ! F LINE=1:1:80 W "-"
"RTN","SROALMN",52,0)
 Q
"RTN","SROALMN",53,0)
OTHER ; other operations
"RTN","SROALMN",54,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SRTN,13,SROTHER,0),"^"))>125 S SRLONG=0,SROTHER=999,SROPERS=" ..."
"RTN","SROALMN",55,0)
 I SRLONG S SROPERS=$P(^SRF(SRTN,13,SROTHER,0),"^")
"RTN","SROALMN",56,0)
 S SROPER=SROPER_$S(SROPERS'=" ...":", "_SROPERS,1:SROPERS)
"RTN","SROALMN",57,0)
 Q
"RTN","SROALMN",58,0)
LOOP ; break procedures
"RTN","SROALMN",59,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<63  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SROALMN",60,0)
 Q
"RTN","SROALMN",61,0)
PAGE I $E(IOST)="P"!SRHDR G HDR
"RTN","SROALMN",62,0)
 W !!,"Press <RET> to continue, or '^' to quit  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SROALMN",63,0)
 I X["?" W !!,"If you want to continue the listing, press the 'Enter' key.",!,"Type '^' to return to the menu." G PAGE
"RTN","SROALMN",64,0)
HDR ; print heading
"RTN","SROALMN",65,0)
 W @IOF,!,?(80-$L(SRTITLE)\2),SRTITLE,?70,$J("PAGE "_SRPAGE,9) W:$E(IOST)="P" !,?(80-$L(SRINST)\2),SRINST W !,?(80-$L(SRFRTO)\2),SRFRTO
"RTN","SROALMN",66,0)
 W:$E(IOST)="P" !,?(80-$L(SRPRINT)\2),SRPRINT I SRSP,SRSS'="" W !!,"** "_SRSS
"RTN","SROALMN",67,0)
 W !!,"CASE #",?18,"PATIENT",?53,"TYPE",?67,"STATUS",!,"OP DATE",?18,"OPERATION(S)",! F LINE=1:1:80 W "="
"RTN","SROALMN",68,0)
 S SRHDR=0,SRNEW=0,SRPAGE=SRPAGE+1
"RTN","SROALMN",69,0)
 Q
"RTN","SROALMN",70,0)
TOT W !!,"TOTAL FOR "_SRSS_": ",TOT
"RTN","SROALMN",71,0)
 Q
"RTN","SROALMN",72,0)
GRAND I 'SRSP W !!,"TOTAL: ",GRAND Q
"RTN","SROALMN",73,0)
 I SRSP,'SRFLG W !!,"TOTAL FOR ALL SPECIALTIES: ",GRAND Q
"RTN","SROALMN",74,0)
 I SRSP,SRFLG S SRSS=SRSPEC D TOT
"RTN","SROALMN",75,0)
 Q
"RTN","SROAOUT")
0^27^B16161579^B12427585
"RTN","SROAOUT",1,0)
SROAOUT ;BIR/SJA - OUTCOMES DATA ;09/30/2011
"RTN","SROAOUT",2,0)
 ;;3.0;Surgery;**125,135,142,160,174,175,176**;24 Jun 93;Build 8
"RTN","SROAOUT",3,0)
 I '$D(SRTN) W !!,"A Surgery Risk Assessment must be selected prior to using this option.",!!,"Press <RET> to continue  " R X:DTIME G END
"RTN","SROAOUT",4,0)
 D SRA^SROES S SRACLR=0,SRSOUT=0,SRSUPCPT=1 D ^SROAUTL
"RTN","SROAOUT",5,0)
START D:SRACLR RET G:SRSOUT END S SRACLR=0 K SRA,SRAO D ^SROUTC
"RTN","SROAOUT",6,0)
ASK W !!,"Select Outcomes Information to Edit: " R X:DTIME I '$T!("^"[X) G END
"RTN","SROAOUT",7,0)
 S:X="a" X="A" I '$D(SRAO(X)),(X'?.N1":".N),(X'="A") D HELP G:SRSOUT END G START
"RTN","SROAOUT",8,0)
 I X="A" S X="0:16"
"RTN","SROAOUT",9,0)
 I X?.N1":".N S Y=$E(X),Z=$P(X,":",2) I Y<0!(Z>16)!(Y>Z) D HELP G:SRSOUT END G START
"RTN","SROAOUT",10,0)
 D HDR^SROAUTL
"RTN","SROAOUT",11,0)
 I X?.N1":".N D RANGE G START
"RTN","SROAOUT",12,0)
 I $D(SRAO(X)) S EMILY=X D  G START
"RTN","SROAOUT",13,0)
 .I $$LOCK^SROUTL(SRTN) W !! D ONE,UNLOCK^SROUTL(SRTN)
"RTN","SROAOUT",14,0)
END D:$D(SRTN) EXIT^SROES W @IOF D ^SRSKILL
"RTN","SROAOUT",15,0)
 Q
"RTN","SROAOUT",16,0)
HELP W @IOF,!!!!,"Enter the number or range of numbers you want to edit.  Examples of proper",!,"responses are listed below."
"RTN","SROAOUT",17,0)
 W !!,"1. Enter 'A' to update all information.",!!,"2. Enter a number (0-16) to update the information in that field.  (For",!,"   example, enter '4' to update Mediastinitis)"
"RTN","SROAOUT",18,0)
 W !!,"3. Enter a range of numbers separated by a ':' to enter a range of",!,"   information.  (For example, enter '11:13' to enter Stroke,",!,"   Coma >= 24 hr, and New Mech Circ Support)"
"RTN","SROAOUT",19,0)
 W !!,"Press <RET> to continue, or '^' to quit  " R X:DTIME I '$T!(X["^") S SRSOUT=1
"RTN","SROAOUT",20,0)
 Q
"RTN","SROAOUT",21,0)
RANGE ; range of numbers
"RTN","SROAOUT",22,0)
 I $$LOCK^SROUTL(SRTN) D  D UNLOCK^SROUTL(SRTN)
"RTN","SROAOUT",23,0)
 .W !! S SHEMP=$P(X,":"),CURLEY=$P(X,":",2) F EMILY=SHEMP:1:CURLEY Q:SRSOUT  D ONE
"RTN","SROAOUT",24,0)
 Q
"RTN","SROAOUT",25,0)
ONE ; edit one item
"RTN","SROAOUT",26,0)
 N SRBEF
"RTN","SROAOUT",27,0)
 S DIC="^SRF(",DA=SRTN,DIQ="SRY",DIQ(0)="I",DR=$P(SRAO(EMILY),"^",2) D EN^DIQ1 K DA,DIC,DIQ,DR S SRBEF=SRY(130,SRTN,$P(SRAO(EMILY),"^",2),"I")
"RTN","SROAOUT",28,0)
 K DR,DIE S DA=SRTN,DR=$P(SRAO(EMILY),"^",2)_$S(EMILY=1:"Perioperative Myocardial Infarction (Y/N)",1:"T"),DIE=130 D ^DIE K DA,DIE,DR I $D(Y)!$D(DTOUT) S SRSOUT=1
"RTN","SROAOUT",29,0)
 Q:'EMILY
"RTN","SROAOUT",30,0)
 I 'SRSOUT,SRBEF'="Y",X="Y" D UPDATE^SROUTC Q
"RTN","SROAOUT",31,0)
 I 'SRSOUT,SRBEF="Y",X="Y",EMILY=8 D  K DA,DR,DIE Q
"RTN","SROAOUT",32,0)
 .N SROCC,SRSTAT S SROCC=0 F  S SROCC=$O(^SRF(SRTN,16,SROCC)) Q:'SROCC  I $P(^SRF(SRTN,16,SROCC,0),"^",2)=27 S SRSTAT=$P(^SRF(SRTN,16,SROCC,0),"^",5) Q
"RTN","SROAOUT",33,0)
 .K DIR S DIR(0)="130.22,8",DIR("A")="Cardiopulmonary Bypass Status",DA(1)=SRTN,DA=SROCC D ^DIR K DA,DR,DIE,DIR
"RTN","SROAOUT",34,0)
 .I ($G(SRSTAT)=""&((X="")!(X="@")!(X["^")))!(Y=0) D DEL^SROUTC S DA=SRTN,DIE=130,DR="391////N" D ^DIE Q
"RTN","SROAOUT",35,0)
 .I $G(SRSTAT)'="",X["^" Q
"RTN","SROAOUT",36,0)
 .I $G(SRSTAT)'=Y,Y'="" S DA=SROCC,DA(1)=SRTN,DIE="^SRF(SRTN,16,",DR="8////"_Y D ^DIE Q
"RTN","SROAOUT",37,0)
 I 'SRSOUT,SRBEF="Y",X="Y",EMILY=11 D  K DA,DR,DIE Q
"RTN","SROAOUT",38,0)
 .N SROCC,SRDUR S SROCC=0 F  S SROCC=$O(^SRF(SRTN,16,SROCC)) Q:'SROCC  I $P(^SRF(SRTN,16,SROCC,0),"^",2)=12 S SRDUR=$P(^SRF(SRTN,16,SROCC,0),"^",8) Q
"RTN","SROAOUT",39,0)
 .K DIR S DIR(0)="130.22,9",DIR("A")="Stroke/CVA Duration",DA(1)=SRTN,DA=SROCC D ^DIR K DA,DR,DIE,DIR
"RTN","SROAOUT",40,0)
 .I ($G(SRDUR)=""&((X="")!(X="@")!(X["^")))!(Y=1)!(Y="") D DEL^SROUTC S DA=SRTN,DIE=130,DR="256////N" D ^DIE Q
"RTN","SROAOUT",41,0)
 .I $G(SRDUR)'="",X["^" Q
"RTN","SROAOUT",42,0)
 .I $G(SRDUR)'=Y,Y'="" S DA=SROCC,DA(1)=SRTN,DIE="^SRF(SRTN,16,",DR="9////"_Y D ^DIE Q
"RTN","SROAOUT",43,0)
 I 'SRSOUT,SRBEF="Y",(X=""!(X="N")) D DEL^SROUTC
"RTN","SROAOUT",44,0)
 Q
"RTN","SROAOUT",45,0)
RET Q:SRSOUT  W !!,"Press <RET> to continue, or '^' to quit  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SROAOUT",46,0)
 Q
"RTN","SROAPCA")
0^3^B30319092^B26280900
"RTN","SROAPCA",1,0)
SROAPCA ;BIR/MAM - PRINT CLINICAL DATA ;07/19/2011
"RTN","SROAPCA",2,0)
 ;;3.0;Surgery;**38,47,71,95,125,134,153,160,174,175,176**;24 Jun 93;Build 8
"RTN","SROAPCA",3,0)
 F I=0,200,206,207,208,209,200.1 S SRA(I)=$G(^SRF(SRTN,I)),$P(LN,"-",79)=""
"RTN","SROAPCA",4,0)
 S X=$P(SRA(0),"^",9),SRADATE=$E(X,4,5)_"/"_$E(X,6,7)_"/"_$E(X,2,3)
"RTN","SROAPCA",5,0)
 W:$Y @IOF W !,?7,"VA SURGICAL QUALITY IMPROVEMENT PROGRAM - CARDIAC SPECIALTY",!
"RTN","SROAPCA",6,0)
 W ! F MOE=1:1:80 W "="
"RTN","SROAPCA",7,0)
 W !,"I. IDENTIFYING DATA",?60,"Case #: "_SRTN
"RTN","SROAPCA",8,0)
 N SRSPH1,SRZIP S (SRSPH1,SRZIP)=""
"RTN","SROAPCA",9,0)
 S STATNUM=+$P($$SITE^SROVAR,"^",3) D ADD^VADPT
"RTN","SROAPCA",10,0)
 W !,"Patient: "_SRANM,?60,"Fac./Div. #: "_STATNUM
"RTN","SROAPCA",11,0)
 W !,"Surgery Date: "_SRADATE,?25,"Address: "_VAPA(1)
"RTN","SROAPCA",12,0)
 S SRSPH1=VAPA(8) S:SRSPH1="" SRSPH1="NS/Unknown" S SRZIP=$S(VAPA(11)'="":$P(VAPA(11),"^",2),1:VAPA(6)) S:SRZIP="" SRZIP="NS/Unknown"
"RTN","SROAPCA",13,0)
 W !,"Phone: "_SRSPH1,?25,"Zip Code: "_SRZIP
"RTN","SROAPCA",14,0)
 S X=VADM(3) W ?53,"Date of Birth: ",$E(X,4,5)_"/"_$E(X,6,7)_"/"_$E(X,2,3)
"RTN","SROAPCA",15,0)
 S SRAO(1)=SRADATE,NYUK=$P(SRA(0),"^",4),SRAO(2)=$P(VADM(5),"^",2)
"RTN","SROAPCA",16,0)
 S SRAO(3)=AGE,NYUK=$P(SRA(206),"^") S:NYUK'="" NYUK=$S(NYUK["C"!(NYUK["c"):+NYUK_" cm",1:+NYUK_" in") S SRAO(4)=NYUK_"^236"
"RTN","SROAPCA",17,0)
 S NYUK=$P(SRA(206),"^",2) S:NYUK'="" NYUK=$S(NYUK["K"!(NYUK["k"):+NYUK_" kg",1:+NYUK_" lb") S SRAO(5)=NYUK_"^237"
"RTN","SROAPCA",18,0)
 S Y=$P(SRA(200.1),"^",11),C=$P(^DD(130,519,0),"^",2) D:Y'="" Y^DIQ S SRAO(6)=Y_"^519"
"RTN","SROAPCA",19,0)
 S Y=$P(SRA(200.1),"^",12),C=$P(^DD(130,520,0),"^",2) D:Y'="" Y^DIQ S SRAO(31)=Y_"^520"
"RTN","SROAPCA",20,0)
 S NYUK=$P(SRA(200),"^",11) D YN S SRAO(7)=SHEMP_"^203"
"RTN","SROAPCA",21,0)
 S SRAO(8)=$P(SRA(206),"^",5)_"^347",NYUK=$P(SRA(206),"^",6) D YN S SRAO(9)=SHEMP_"^209",NYUK=$P(SRA(206),"^",7) D YN S SRAO(10)=SHEMP_"^348"
"RTN","SROAPCA",22,0)
 S Y=$P(SRA(200.1),"^",9),C=$P(^DD(130,517,0),"^",2) D:Y'="" Y^DIQ S SRAO(11)=Y_"^517"
"RTN","SROAPCA",23,0)
 S Y=$P(SRA(200.1),"^",10),C=$P(^DD(130,518,0),"^",2) D:Y'="" Y^DIQ S SRAO(12)=Y_"^518"
"RTN","SROAPCA",24,0)
 S NYUK=$P(SRA(206),"^",11) D YN S SRAO(14)=SHEMP_"^350",NYUK=$P(SRA(200),"^",8),SRAO(15)=$S(NYUK=1:"INDEPENDENT",NYUK=2:"PARTIAL DEPENDENT",NYUK=3:"TOTALLY DEPENDENT",NYUK="NS":"NS",1:"")_"^240"
"RTN","SROAPCA",25,0)
 S NYUK=$P(SRA(206),"^",13),SRAO(16)=$S(NYUK=0:"NONE",NYUK=1:"NONE RECENT",NYUK=2:"12-72 HRS",NYUK=3:"<12 hrs",NYUK=12:"12 - 72 hrs",NYUK=72:">72 hrs - 7 days",NYUK=7:">7 days",NYUK="NS":"NO STUDY",1:"")_"^351"
"RTN","SROAPCA",26,0)
 S NYUK=$P(SRA(206),"^",14),SRAO(17)=$S(NYUK=0:"NONE",NYUK=1:"< OR = 7 DAYS OF SURG",NYUK=2:"> 7 DAYS OF SURG",NYUK="NS":"NS",1:"")_"^205"
"RTN","SROAPCA",27,0)
 S NYUK=$P(SRA(206),"^",15) S SHEMP=$S(NYUK=0:"NONE",NYUK=">":">3",NYUK="NS":"NS",NYUK="N":"NO",NYUK="Y":"YES",1:NYUK) S SRAO(18)=SHEMP_"^352"
"RTN","SROAPCA",28,0)
 S NYUK=$P(SRA(200.1),"^",13),SRAO(20)=$S(NYUK=0:"NO CVD",NYUK=1:"YES/NO SURG",NYUK=2:"YES/PRIOR SURG",1:"")_"^521"
"RTN","SROAPCA",29,0)
 S NYUK=$P(SRA(200.1),"^",14),SRAO(21)=$S(NYUK=0:"NO CVD",NYUK=1:"HIST OF TIA'S",NYUK=2:"CVA W/O NEURO DEF",NYUK=3:"CVA W/ NEURO DEF",1:"")_"^522"
"RTN","SROAPCA",30,0)
 S NYUK=$P(SRA(206),"^",16) D YN S SRAO(19)=SHEMP_"^265"
"RTN","SROAPCA",31,0)
 S SRAO(22)=$P(SRA(206),"^",18)_"^267",SRAO(23)=$P(SRA(206),"^",19)_"^207",NYUK=$P(SRA(206),"^",20) D YN S SRAO(24)=SHEMP_"^353",NYUK=$P(SRA(206),"^",21) D YN S SRAO(25)=SHEMP_"^354"
"RTN","SROAPCA",32,0)
 S NYUK=$P(SRA(206),"^",22) D YN S SRAO(26)=SHEMP_"^355"
"RTN","SROAPCA",33,0)
 S NYUK=$P(SRA(209),"^",2),SRAO(27)=$S(NYUK="N":"NONE",NYUK="I":"IABP",NYUK="V":"VAD",NYUK="A":"ARTI",NYUK="O":"OTHER",1:NYUK)_"^474"
"RTN","SROAPCA",34,0)
 S NYUK=$P(SRA(206),"^",38) D YN S SRAO(28)=SHEMP_"^463"
"RTN","SROAPCA",35,0)
 S NYUK=$P(SRA(206),"^",10) D YN S SRAO(29)=SHEMP_"^349"
"RTN","SROAPCA",36,0)
 S NYUK=$P(SRA(208),"^",19) D YN S SRAO(30)=SHEMP_"^509",NYUK=$P(SRA(200),"^",55) D YN S SRAO(13)=SHEMP_"^618"
"RTN","SROAPCA",37,0)
DISP ; display fields
"RTN","SROAPCA",38,0)
 W ! F MOE=1:1:80 W "="
"RTN","SROAPCA",39,0)
 W !,"II. CLINICAL DATA"
"RTN","SROAPCA",40,0)
 W !,"Gender:",?26,$P(SRAO(2),"^"),?40,"Age:",?75,SRAO(3)
"RTN","SROAPCA",41,0)
 W !,"Height:",?26,$P(SRAO(4),"^"),?40,"Prior MI:",$J($P(SRAO(17),"^"),30)
"RTN","SROAPCA",42,0)
 W !,"Weight:",?26,$P(SRAO(5),"^"),?40,"Number of prior heart surgeries:",?75,$P(SRAO(18),"^")
"RTN","SROAPCA",43,0)
 W !,"Diabetes - Long Term:",?26,$P(SRAO(6),"^"),?40,"Prior heart surgeries: " D H485
"RTN","SROAPCA",44,0)
 W !,"Diabetes - 2 Wks Preop:",?26,$P(SRAO(31),"^"),?40,"Peripheral Vascular Disease:",?75,$P(SRAO(19),"^")
"RTN","SROAPCA",45,0)
 W !,"COPD:",?26,$P(SRAO(7),"^"),?40,"CVD Repair/Obstruct:",?(79-$L($P(SRAO(20),"^"))),$P(SRAO(20),"^")
"RTN","SROAPCA",46,0)
 W !,"FEV1:",?26,$P(SRAO(8),"^")_$S($P(SRAO(8),"^")="":"",$P(SRAO(8),"^")="NS":"",1:" liters"),?40,"History of CVD:",?(79-$L($P(SRAO(21),"^"))),$P(SRAO(21),"^")
"RTN","SROAPCA",47,0)
 W !,"Cardiomegaly (X-ray): ",?26,$P(SRAO(9),"^"),?40,"Angina (use CCS Class):",?75,$P(SRAO(22),"^")
"RTN","SROAPCA",48,0)
 W !,"Pulmonary Rales:",?26,$P(SRAO(10),"^"),?40,"CHF (use NYHA Class):",?75,$P(SRAO(23),"^")
"RTN","SROAPCA",49,0)
 W !,"Tobacco Use: ",$J($P(SRAO(11),"^"),24),?40,"Current Diuretic Use:",?75,$P(SRAO(24),"^")
"RTN","SROAPCA",50,0)
 w !,"Tobacco Use Timeframe: ",$J($P(SRAO(12),"^"),14),?40,"Current Digoxin Use:",?75,$P(SRAO(25),"^")
"RTN","SROAPCA",51,0)
 W !,"Positive Drug Screening: ",?26,$P(SRAO(13),"^"),?40,"IV NTG 48 Hours Preceding Surgery:",?75,$P(SRAO(26),"^")
"RTN","SROAPCA",52,0)
 W !,"Active Endocarditis:",?26,$P(SRAO(29),"^"),?40,"Preop Circulatory Device:",?74,$P(SRAO(27),"^")
"RTN","SROAPCA",53,0)
 W !,"Resting ST Depression:",?26,$P(SRAO(14),"^"),?40,"Hypertension:",?75,$P(SRAO(28),"^")
"RTN","SROAPCA",54,0)
 W !,"Functional Status: ",$J($P(SRAO(15),"^"),18),?40,"Preoperative Atrial Fibrillation:",?75,$P(SRAO(30),"^")
"RTN","SROAPCA",55,0)
 W !,"PCI:",?((18-$L($P(SRAO(16),"^"))\2)+19),$P(SRAO(16),"^")
"RTN","SROAPCA",56,0)
 K SRA,SRAO D ^SROAPCA1
"RTN","SROAPCA",57,0)
 Q
"RTN","SROAPCA",58,0)
YN ; store answer
"RTN","SROAPCA",59,0)
 S SHEMP=$S(NYUK="NS":"NS",NYUK="NA":"N/A",NYUK="N":"NO",NYUK="Y":"YES",1:"")
"RTN","SROAPCA",60,0)
 Q
"RTN","SROAPCA",61,0)
PAGE I $E(IOST)'="P" W !!,"Press <RET> to continue, or '^' to quit  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SROAPCA",62,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SROAPCA",63,0)
 W @IOF,!,SRANM,! F MOE=1:1:80 W "="
"RTN","SROAPCA",64,0)
 Q
"RTN","SROAPCA",65,0)
H485 S SHEMP="",X=$P(SRA(206),"^",42) F I=1:1:$L(X,",") D
"RTN","SROAPCA",66,0)
 .S C=$P(X,",",I) S:I>1 SHEMP=SHEMP_", " S SHEMP=SHEMP_$S(C=0:"None",C=1:"CABG-only",C=2:"Valve-only",C=3:"CABG/valve",C=4:"Other",C=5:"CABG/Other",1:"")
"RTN","SROAPCA",67,0)
 S X=SHEMP I $L(X)<17 W $J(X,16) Q
"RTN","SROAPCA",68,0)
 W $J($P(X,",")_",",16) I $L($P(X,", ",2,9))<40 W !,?41,$P(X,", ",2,9) Q
"RTN","SROAPCA",69,0)
 W !,?41,$P(X,", ",2,4)_",",!,?41,$P(X,", ",5,9)
"RTN","SROAPCA",70,0)
 Q
"RTN","SROAPCA3")
0^28^B26346165^B23469986
"RTN","SROAPCA3",1,0)
SROAPCA3 ;BIR/MAM - CARDIAC OCCURRENCE DATA ;09/28/2011
"RTN","SROAPCA3",2,0)
 ;;3.0;Surgery;**38,71,95,101,125,160,164,166,174,175,176**;24 Jun 93;Build 8
"RTN","SROAPCA3",3,0)
 D EN^SROCCAT K SRA S SRA(205)=$G(^SRF(SRTN,205)),SRA(208)=$G(^SRF(SRTN,208)),SRA(206)=$G(^SRF(SRTN,206)),SRA(209)=$G(^SRF(SRTN,209))
"RTN","SROAPCA3",4,0)
 S NYUK=$P(SRA(208),"^") D YN S SRAO(1)=SHEMP_"^384"
"RTN","SROAPCA3",5,0)
 S Y=$P($G(^DPT(DFN,.35)),"^") D DT^SROAPCA1 S SRAO(2)=X
"RTN","SROAPCA3",6,0)
 S NYUK=$P(SRA(205),"^",27) D YN S SRAO(3)=SHEMP_"^258",NYUK=$P(SRA(208),"^",3) D YN S SRAO(4)=SHEMP_"^386",NYUK=$P(SRA(205),"^",17) D YN S SRAO(5)=SHEMP_"^254",NYUK=$P(SRA(209),"^",12) D YN S SRAO(6)=SHEMP_"^490"
"RTN","SROAPCA3",7,0)
 S NYUK=$P(SRA(208),"^",5) D YN S SRAO(7)=SHEMP_"^388",NYUK=$P(SRA(208),"^",6) D YN S SRAO(8)=SHEMP_"^389",NYUK=$P(SRA(205),"^",13) D YN S SRAO(9)=SHEMP_"^285"
"RTN","SROAPCA3",8,0)
 S NYUK=$P(SRA(208),"^",7) D YN S SRAO(10)=SHEMP_"^391",NYUK=$P(SRA(205),"^",22) D YN S SRAO(11)=SHEMP_"^410"
"RTN","SROAPCA3",9,0)
 S NYUK=$P(SRA(205),"^",21) D YN S SRAO(12)=SHEMP_"^256" D DUR
"RTN","SROAPCA3",10,0)
 S NYUK=$P(SRA(205),"^",26) D YN S SRAO(13)=SHEMP_"^411"
"RTN","SROAPCA3",11,0)
 S NYUK=$P(SRA(206),"^",39) D YN S SRAO(14)=SHEMP_"^466"
"RTN","SROAPCA3",12,0)
 S NYUK=$P(SRA(206),"^",40) D YN S SRAO(15)=SHEMP_"^467",NYUK=$P(SRA(205),"^",6) D YN S SRAO(18)=SHEMP_"^248"
"RTN","SROAPCA3",13,0)
 S NYUK=$P(SRA(205),"^",40) D YN S SRAO(16)=SHEMP_"^448",NYUK=$P(SRA(205),"^",8) D YN S SRAO(17)=SHEMP_"^404"
"RTN","SROAPCA3",14,0)
  I $Y+5>IOSL D PAGE^SROAPCA I SRSOUT Q
"RTN","SROAPCA3",15,0)
 W !!,"VII. OUTCOMES"
"RTN","SROAPCA3",16,0)
 W !,"Operative Death:",?18,$P(SRAO(1),"^"),?43,"Date of Death:",?58,$P(SRAO(2),"^")
"RTN","SROAPCA3",17,0)
 W !!,"Perioperative (30 day) Occurrences:"
"RTN","SROAPCA3",18,0)
 W !,?2,"Perioperative MI:",?35,$P(SRAO(3),"^"),?41,"Tracheostomy:",?75,$P(SRAO(14),"^")
"RTN","SROAPCA3",19,0)
 W !,?2,"Endocarditis:",?35,$P(SRAO(4),"^"),?41,"Ventilator supp within 30 days:",?75,$P(SRAO(6),"^")
"RTN","SROAPCA3",20,0)
 W !,?2,"Superficial Incisional SSI:",?35,$P(SRAO(18),"^"),?41,"Stroke/CVA:",?68,$J($P(SRAO(12),"^"),11)
"RTN","SROAPCA3",21,0)
 W !,?2,"Mediastinitis:",?35,$P(SRAO(7),"^"),?41,"Coma > or = 24 Hours:",?75,$P(SRAO(11),"^")
"RTN","SROAPCA3",22,0)
 W !,?2,"Cardiac Arrest Requiring CPR:",?35,$P(SRAO(13),"^"),?41,"New Mech Circulatory Support:",?75,$P(SRAO(15),"^")
"RTN","SROAPCA3",23,0)
 W !,?2,"Reoperation for Bleeding:",?35,$P(SRAO(8),"^"),?41,"Postop Atrial Fibrillation:",?75,$P(SRAO(16),"^")
"RTN","SROAPCA3",24,0)
 W !,?2,"On ventilator > or = 48 hr:",?35,$P(SRAO(9),"^"),?41,"Wound Disruption:",?75,$P(SRAO(17),"^")
"RTN","SROAPCA3",25,0)
 W !,?2,"Repeat cardiac Surg procedure:",?35,$P(SRAO(10),"^"),?41,"Renal Failure Requiring Dialysis:",?75,$P(SRAO(5),"^")
"RTN","SROAPCA3",26,0)
 D RES
"RTN","SROAPCA3",27,0)
 Q
"RTN","SROAPCA3",28,0)
DUR ; get stroke/cva duration
"RTN","SROAPCA3",29,0)
 N SROCC,SRDUR I $P(SRAO(12),"^")="NO" S X=1
"RTN","SROAPCA3",30,0)
 I X'=1 S SROCC=0 F  S SROCC=$O(^SRF(SRTN,16,SROCC)) Q:'SROCC  I $P(^SRF(SRTN,16,SROCC,0),"^",2)=12 S X=$P(^SRF(SRTN,16,SROCC,0),"^",8)
"RTN","SROAPCA3",31,0)
 S SRDUR=$S(X=2:"<24 HOURS",X=3:"24-72 HOURS",X=4:">72 HOURS",1:"NO SYMPTOMS")
"RTN","SROAPCA3",32,0)
 S SRAO(12)=SRDUR_"^256"
"RTN","SROAPCA3",33,0)
 Q
"RTN","SROAPCA3",34,0)
YN ; store answer
"RTN","SROAPCA3",35,0)
 S SHEMP=$S(NYUK="NS":"NS",NYUK="N":"NO",NYUK="Y":"YES",1:"")
"RTN","SROAPCA3",36,0)
 Q
"RTN","SROAPCA3",37,0)
 ;
"RTN","SROAPCA3",38,0)
RES I $Y+12>IOSL D PAGE^SROAPCA I SRSOUT Q
"RTN","SROAPCA3",39,0)
 S SRA(208)=$G(^SRF(SRTN,208))
"RTN","SROAPCA3",40,0)
 S SRA(.2)=$G(^SRF(SRTN,.2))
"RTN","SROAPCA3",41,0)
 W !!,"VIII. RESOURCE DATA"
"RTN","SROAPCA3",42,0)
 S Y=$P(SRA(208),"^",14) D DT^SROAPCA1 W !,"Hospital Admission Date:",?25,X
"RTN","SROAPCA3",43,0)
 S Y=$P(SRA(208),"^",15) D DT^SROAPCA1 W !,"Hospital Discharge Date:",?25,X
"RTN","SROAPCA3",44,0)
 S Y=$P(SRA(.2),"^",10) D DT^SROAPCA1 W !,"Time Patient In  OR: ",?25,X
"RTN","SROAPCA3",45,0)
 S Y=$P(SRA(.2),"^",2) D DT^SROAPCA1 W ?45,"Operation Began: "_X
"RTN","SROAPCA3",46,0)
 S Y=$P(SRA(.2),"^",3) D DT^SROAPCA1 W !,"Operation Ended: ",?25,X
"RTN","SROAPCA3",47,0)
 S Y=$P(SRA(.2),"^",12) D DT^SROAPCA1 W ?45,"Time Patient Out OR: ",X
"RTN","SROAPCA3",48,0)
 S Y=$P(SRA(208),"^",22) I Y>1 D DT^SROAPCA1 S Y=X
"RTN","SROAPCA3",49,0)
 S Y=$S(Y="NS":"Unable to determine",Y="RI":"Remains intubated at 30 days",1:Y) W !,"Date and Time Patient Extubated: ",?47,Y
"RTN","SROAPCA3",50,0)
 I $P(SRA(208),"^",22)>1,$P(SRA(.2),"^",12) D
"RTN","SROAPCA3",51,0)
 .S X=$$FMDIFF^XLFDT($P(SRA(208),"^",22),$P(SRA(.2),"^",12),2) W !,?5,"Postop Intubation Hrs: "_$FN((X/3600),"+",1)
"RTN","SROAPCA3",52,0)
 S Y=$P(SRA(208),"^",23) I Y>1 D DT^SROAPCA1 S Y=X
"RTN","SROAPCA3",53,0)
 S Y=$S(Y="NS":"Unable to determine",Y="RI":"Remains in ICU at 30 days",1:Y) W !,"Date and Time Patient Discharged from ICU: ",?47,Y
"RTN","SROAPCA3",54,0)
 S Y=$P(SRA(209),"^") W !,"Patient is Homeless: ",?47,$S(Y="Y":"YES",Y="N":"NO",Y="NS":"NS",1:"")
"RTN","SROAPCA3",55,0)
 S Y=$P(SRA(206),"^",41) W !,"Cardiac Surg Performed at Non-VA Facility: ",?47,$S(Y="Y":"YES",Y="N":"NO",Y="NS":"UNKNOWN",1:"")
"RTN","SROAPCA3",56,0)
 W !,"Resource Data Comments: "
"RTN","SROAPCA3",57,0)
 I $G(^SRF(SRTN,206.2))'="" S SRQ=0 S X=$G(^SRF(SRTN,206.2)) W:$L(X)<49 X,! I $L(X)>48 S Z=$L(X) D
"RTN","SROAPCA3",58,0)
 .I X'[" " W ?25,X Q
"RTN","SROAPCA3",59,0)
 .S I=0,LINE=1 F  S SRL=$S(LINE=1:48,1:74) D  Q:SRQ
"RTN","SROAPCA3",60,0)
 ..I $E(X,1,SRL)'[" " W X,! S SRQ=1 Q
"RTN","SROAPCA3",61,0)
 ..S J=SRL-I,Y=$E(X,J),I=I+1 I Y=" " W $E(X,1,J-1),!,?5 S X=$E(X,J+1,Z),Z=$L(X),I=0,LINE=LINE+1 I Z<SRL W X S SRQ=1 Q
"RTN","SROAPCA3",62,0)
 I $Y+7>IOSL D PAGE^SROAPCA I SRSOUT Q
"RTN","SROAPCA3",63,0)
 W ! F MOE=1:1:80 W "="
"RTN","SROAPCA3",64,0)
 W !,"IX. SOCIOECONOMIC, ETHNICITY, AND RACE"
"RTN","SROAPCA3",65,0)
 N SREMP S SREMP=$P(SRA(208),"^",18) S SREMP=$S(SREMP=1:"EMPLOYED FULL TIME",SREMP=2:"EMPLOYED PART TIME",SREMP=3:"NOT EMPLOYED",SREMP=4:"SELF EMPLOYED",SREMP=5:"RETIRED",SREMP=6:"ACTIVE MILITARY DUTY",SREMP=9:"UNKNOWN",1:" ")
"RTN","SROAPCA3",66,0)
 W !,?1,"Employment Status Preoperatively: ",?40,SREMP
"RTN","SROAPCA3",67,0)
 K SRA,SRAO
"RTN","SROAPCA3",68,0)
 ; Race/Ethnic
"RTN","SROAPCA3",69,0)
 D ENTH^SRORACE
"RTN","SROAPCA3",70,0)
 I $Y+7>IOSL D PAGE^SROAPCA I SRSOUT Q
"RTN","SROAPCA3",71,0)
 D ^SROAPCA4
"RTN","SROAPCA3",72,0)
 W !!," *** End of report for "_SRANM_" assessment #"_SRTN_" ***"
"RTN","SROAPCA3",73,0)
 I $E(IOST)'="P" W ! K DIR S DIR(0)="E" D ^DIR K DIR
"RTN","SROAPCA3",74,0)
 Q
"RTN","SROAPCA4")
0^58^B15333948^B15348981
"RTN","SROAPCA4",1,0)
SROAPCA4 ;BIR/SJA - CARDIAC COMPLIANCE DATA ;09/01/2011
"RTN","SROAPCA4",2,0)
 ;;3.0;Surgery;**95,125,153,174,176**;24 Jun 93;Build 8
"RTN","SROAPCA4",3,0)
 ;
"RTN","SROAPCA4",4,0)
 ; Reference to ^DGPM("APTT1" supported by DBIA #565
"RTN","SROAPCA4",5,0)
 ; Reference to File #405 supported by DBIA #3029
"RTN","SROAPCA4",6,0)
 ; Reference to Field #27.02 in File #2 supported by DBIA #1850
"RTN","SROAPCA4",7,0)
 ;
"RTN","SROAPCA4",8,0)
 S SRA(201)=$G(^SRF(SRTN,201)),SRA(202)=$G(^SRF(SRTN,202)),SRA(208)=$G(^SRF(SRTN,208)),SRA(0)=$G(^SRF(SRTN,0)),SRA(202.1)=$G(^SRF(SRTN,202.1))
"RTN","SROAPCA4",9,0)
 N SRPREF,SRREF,SRREFP,SRFOL,SRFOLP,SRSOUT,SRY S (SRPREF,SRREF,SRREFP,SRFOL,SRFOLP)="",SRSOUT=0,(VAIP("D"),SRSDATE)=$P(SRA(0),"^",9) D IN5^VADPT
"RTN","SROAPCA4",10,0)
 I 'VAIP(13) S X1=$P($G(^SRF(SRTN,.2)),"^",12),X2=1 D C^%DTC S SR24=X,SRDT=$O(^DGPM("APTT1",DFN,SRSDATE)) G:'SRDT!(SRDT>SR24) TS S VAIP("D")=SRDT D IN5^VADPT
"RTN","SROAPCA4",11,0)
TS I VAIP(13) K DA,DIC,DIQ,DR S DIC=405,DR=.05,DA=VAIP(13),DIQ="SRY",DIQ(0)="IE" D EN^DIQ1 S SRREF=SRY(405,VAIP(13),.05,"E"),SRREFP=SRY(405,VAIP(13),.05,"I") I SRREFP S SRREFP=$$GET1^DIQ(4,SRREFP,99)
"RTN","SROAPCA4",12,0)
 I VAIP(17) K DA,DIC,DIQ,DR,SRY S DIC=405,DR=.05,DA=VAIP(17),DIQ="SRY",DIQ(0)="IE" D EN^DIQ1 S SRFOL=SRY(405,VAIP(17),.05,"E"),SRFOLP=SRY(405,VAIP(17),.05,"I") I SRFOLP S SRFOLP=$$GET1^DIQ(4,SRFOLP,99)
"RTN","SROAPCA4",13,0)
 K DA,DIC,DIQ,DR,SRY S DIC="^DPT(",DIQ="SRY",DIQ(0)="I",DA=DFN,DR=27.02 D EN^DIQ1 S X=$G(SRY(2,DFN,27.02,"I")) I X S SRPREF=$$GET1^DIQ(4,X,99)
"RTN","SROAPCA4",14,0)
 I $Y+7>IOSL D PAGE^SROAPCA I SRSOUT Q
"RTN","SROAPCA4",15,0)
 D DD
"RTN","SROAPCA4",16,0)
 Q
"RTN","SROAPCA4",17,0)
LAB ;D PAGE^SROAPCA I SRSOUT Q
"RTN","SROAPCA4",18,0)
 W !!,"III. DETAILED LABORATORY INFO - PREOPERATIVE VALUES"
"RTN","SROAPCA4",19,0)
 N SROUN S SROUN=" mg/dl"
"RTN","SROAPCA4",20,0)
 W !,"Creatinine:",?14,$J($P(SRA(201),U,4),4),SROUN S Y=$P(SRA(202),"^",4) D DT W ?25,"("_$E(X,1,8)_")"
"RTN","SROAPCA4",21,0)
 W ?41,"T. Cholesterol:",?57,$J($P(SRA(201),U,26),4),SROUN S Y=$P(SRA(202),"^",26) D DT W ?68,"("_$E(X,1,8)_")"
"RTN","SROAPCA4",22,0)
 W !,"Hemoglobin:",?14,$J($P(SRA(201),U,20),4),SROUN S Y=$P(SRA(202),"^",20) D DT W ?25,"("_$E(X,1,8)_")"
"RTN","SROAPCA4",23,0)
 W ?41,"HDL:",?57,$J($P(SRA(201),U,21),4),SROUN S Y=$P(SRA(202),"^",22) D DT W ?68,"("_$E(X,1,8)_")"
"RTN","SROAPCA4",24,0)
 W !,"Albumin:",?14,$J($P(SRA(201),U,8),4)," g/dl" S Y=$P(SRA(202),"^",8) D DT W ?25,"("_$E(X,1,8)_")"
"RTN","SROAPCA4",25,0)
 W ?41,"LDL:",?57,$J($P(SRA(201),U,25),4),SROUN S Y=$P(SRA(202),"^",25) D DT W ?68,"("_$E(X,1,8)_")"
"RTN","SROAPCA4",26,0)
 W !,"Triglyceride:",?14,$J($P(SRA(201),U,22),4),SROUN S Y=$P(SRA(202),"^",22) D DT W ?25,"("_$E(X,1,8)_")"
"RTN","SROAPCA4",27,0)
 W ?41,"Hemoglobin A1c:",?57,$J($P(SRA(201),U,28),4)," %" S Y=$P(SRA(202.1),"^") D DT W ?68,"("_$E(X,1,8)_")"
"RTN","SROAPCA4",28,0)
 W !,"Potassium:",?14,$J($P(SRA(201),U,23),4)," mg/L" S Y=$P(SRA(202),"^",23) D DT W ?25,"("_$E(X,1,8)_")"
"RTN","SROAPCA4",29,0)
 W ?41,"BNP:",?57,$J($P(SRA(201),U,29),4),SROUN S Y=$P(SRA(202.1),"^",2) D DT W ?68,"("_$E(X,1,8)_")"
"RTN","SROAPCA4",30,0)
 W !,"T. Bilirubin:",?14,$J($P(SRA(201),U,24),4),SROUN S Y=$P(SRA(202),"^",24) D DT W ?25,"("_$E(X,1,8)_")"
"RTN","SROAPCA4",31,0)
 Q
"RTN","SROAPCA4",32,0)
DD ;Detailed Discharge Information
"RTN","SROAPCA4",33,0)
 N VAINDT,SRPTF,SRRES
"RTN","SROAPCA4",34,0)
 S X=$P(SRA(208),"^",15) I X S X=X-.0001
"RTN","SROAPCA4",35,0)
 S VAINDT=X D INP^VADPT S SRPTF=VAIN(10)
"RTN","SROAPCA4",36,0)
 S SRRES="" D RPC^DGPTFAPI(.SRRES,SRPTF)
"RTN","SROAPCA4",37,0)
 I $Y+9>IOSL D PAGE^SROAPCA I SRSOUT Q
"RTN","SROAPCA4",38,0)
 W !!,"X. DETAILED DISCHARGE INFORMATION",!,"   Discharge ICD Codes: " I $G(SRRES(0))>0 S SRRES="" D
"RTN","SROAPCA4",39,0)
 .S SRRES=$P(SRRES(1),U,3)_"  " I $D(SRRES(2)) F I=1:1:9 S:$P(SRRES(2),"^",I)'="" SRRES=SRRES_$P(SRRES(2),"^",I)_"  " I $L(SRRES)>45 W SRRES S SRRES=""
"RTN","SROAPCA4",40,0)
 .W:$D(SRRES) !,?26,SRRES
"RTN","SROAPCA4",41,0)
 W !!,"Type of Disposition: ",$P($G(SRRES(1)),U,1)
"RTN","SROAPCA4",42,0)
 W !,"Place of Disposition: ",$P($G(SRRES(1)),U,2)
"RTN","SROAPCA4",43,0)
 W !,"Preferred VAMC identification code: ",SRPREF
"RTN","SROAPCA4",44,0)
 W !,"Primary care or referral VAMC identification code: ",SRREFP
"RTN","SROAPCA4",45,0)
 W !,"Follow-up VAMC identification code: ",SRFOLP
"RTN","SROAPCA4",46,0)
 Q
"RTN","SROAPCA4",47,0)
YN ; store answer
"RTN","SROAPCA4",48,0)
 S SHEMP=$S(NYUK="NS":"NS",NYUK="N":"NO",NYUK="Y":"YES",1:"")
"RTN","SROAPCA4",49,0)
 Q
"RTN","SROAPCA4",50,0)
DT S X="NS" I Y>1 D DT^SROAPCA1
"RTN","SROAPCA4",51,0)
 Q
"RTN","SROAPRE1")
0^4^B13792714^B10006731
"RTN","SROAPRE1",1,0)
SROAPRE1 ;BIR/MAM - EDIT PAGE 1 PREOP ;08/11/2011
"RTN","SROAPRE1",2,0)
 ;;3.0;Surgery;**38,47,125,135,141,166,174,176**;24 Jun 93;Build 8
"RTN","SROAPRE1",3,0)
 K DA D @EMILY Q
"RTN","SROAPRE1",4,0)
1 ; edit general information
"RTN","SROAPRE1",5,0)
 W ! K DIR S X=$P(SRAO(1),"^") I X'="" S DIR("B")=X
"RTN","SROAPRE1",6,0)
 S DIR(0)="130,402",DIR("A")="GENERAL" D ^DIR K DIR I $D(DUOUT) S SRSOUT=1 Q
"RTN","SROAPRE1",7,0)
 I X="@" S SRCAT="General" D SURE Q:SRSOUT  G:'SRYN 1 S (SRAX,X)="",$P(^SRF(SRTN,200),"^")="" D NOGEN Q
"RTN","SROAPRE1",8,0)
 S SRAX=Y,$P(^SRF(SRTN,200),"^")=SRAX I Y["N" D NOGEN Q
"RTN","SROAPRE1",9,0)
 I Y["Y" D GEN
"RTN","SROAPRE1",10,0)
 Q
"RTN","SROAPRE1",11,0)
2 ; edit pulmonary information
"RTN","SROAPRE1",12,0)
 W ! K DIR S X=$P(SRAO(2),"^") I X'="" S DIR("B")=X
"RTN","SROAPRE1",13,0)
 S DIR(0)="130,241",DIR("A")="PULMONARY" D ^DIR K DIR I $D(DUOUT) S SRSOUT=1 Q
"RTN","SROAPRE1",14,0)
 I X="@" S SRCAT="Pulmonary" D SURE Q:SRSOUT  G:'SRYN 2 S (SRAX,X)="",$P(^SRF(SRTN,200),"^",9)="" D NOPULM Q
"RTN","SROAPRE1",15,0)
 S SRAX=Y,$P(^SRF(SRTN,200),"^",9)=SRAX I Y["N" D NOPULM Q
"RTN","SROAPRE1",16,0)
 I Y["Y" D PULM
"RTN","SROAPRE1",17,0)
 Q
"RTN","SROAPRE1",18,0)
3 ; edit hepatobiliary information
"RTN","SROAPRE1",19,0)
 W ! K DIR S X=$P(SRAO(3),"^") I X'="" S DIR("B")=X
"RTN","SROAPRE1",20,0)
 S DIR(0)="130,244",DIR("A")="HEPATOBILIARY" D ^DIR K DIR I $D(DUOUT) S SRSOUT=1 Q
"RTN","SROAPRE1",21,0)
 I X="@" S SRCAT="Hepatobiliary" D SURE Q:SRSOUT  G:'SRYN 3 S (SRAX,X)="",$P(^SRF(SRTN,200),"^",13)="" D NOHEP Q
"RTN","SROAPRE1",22,0)
 S SRAX=Y,$P(^SRF(SRTN,200),"^",13)=SRAX I Y["N" D NOHEP Q
"RTN","SROAPRE1",23,0)
 I Y["Y" D HEP
"RTN","SROAPRE1",24,0)
 Q
"RTN","SROAPRE1",25,0)
GEN ; general
"RTN","SROAPRE1",26,0)
 N SRUP S SRUP=""
"RTN","SROAPRE1",27,0)
 W ! K DR,DIE S DA=SRTN,DIE=130,DR="236T;237T;519T;520T;517T;518T;246T;618T;325T;237.1T;238T" D ^DIE K DIE,DR I $D(Y) Q
"RTN","SROAPRE1",28,0)
 K DIR S DA=SRTN,DIR(0)="130,492",DIR("A")="Functional Health Status at Evaluation for Surgery" D ^DIR K DIR D
"RTN","SROAPRE1",29,0)
 .I $D(DTOUT)!$D(DUOUT) Q
"RTN","SROAPRE1",30,0)
 .I X="@" K DIE,DR S DIE=130,DR="492///@" D ^DIE K DA,DIE,DR Q
"RTN","SROAPRE1",31,0)
 .K DIE,DR S DIE=130,DR="492////"_Y D ^DIE K DA,DIE,DR
"RTN","SROAPRE1",32,0)
 S SRACLR=0
"RTN","SROAPRE1",33,0)
 Q
"RTN","SROAPRE1",34,0)
NOGEN ; no general problems
"RTN","SROAPRE1",35,0)
 S $P(^SRF(SRTN,200),"^",6)=$S(X="":"",1:1) F I=2,4,7 S $P(^SRF(SRTN,200),"^",I)=SRAX
"RTN","SROAPRE1",36,0)
 S $P(^SRF(SRTN,200.1),"^",2)=$S(X="":"",X="NS":"NS",1:1)
"RTN","SROAPRE1",37,0)
 S $P(^SRF(SRTN,200.1),"^",8)=$S(X="":"",X="NS":"NS",1:1)
"RTN","SROAPRE1",38,0)
 S $P(^SRF(SRTN,200),"^",55)=$S(X="":"",X="NA":"NA",X="N":"NA",1:"NA")
"RTN","SROAPRE1",39,0)
 F I=9,11,12 S $P(^SRF(SRTN,200.1),"^",I)=$S(SRAX="N":1,1:"")
"RTN","SROAPRE1",40,0)
 S $P(^SRF(SRTN,200.1),"^",10)=$S(SRAX="N":"NA",1:"")
"RTN","SROAPRE1",41,0)
 Q
"RTN","SROAPRE1",42,0)
PULM ; pulmonary
"RTN","SROAPRE1",43,0)
 W ! K DR,DIE S DA=SRTN,DIE=130,DR="204T;203T;326T" D ^DIE K DR
"RTN","SROAPRE1",44,0)
 S SRACLR=0
"RTN","SROAPRE1",45,0)
 Q
"RTN","SROAPRE1",46,0)
NOPULM ; no pulmonary problems
"RTN","SROAPRE1",47,0)
 F I=10:1:12 S $P(^SRF(SRTN,200),"^",I)=SRAX
"RTN","SROAPRE1",48,0)
 Q
"RTN","SROAPRE1",49,0)
HEP ; hepatobiliary
"RTN","SROAPRE1",50,0)
 K DR,DIE S DIE=130,DA=SRTN,DR="212////Y" D ^DIE K DR
"RTN","SROAPRE1",51,0)
 S SRACLR=0
"RTN","SROAPRE1",52,0)
 Q
"RTN","SROAPRE1",53,0)
NOHEP ; no hepatobiliary problems
"RTN","SROAPRE1",54,0)
 S $P(^SRF(SRTN,200),"^",15)=SRAX
"RTN","SROAPRE1",55,0)
 Q
"RTN","SROAPRE1",56,0)
RET W !! K DIR S DIR(0)="E" D ^DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SROAPRE1",57,0)
 Q
"RTN","SROAPRE1",58,0)
SURE W ! K DIR S DIR("A")="   Sure you want to delete all "_SRCAT_" information ? ",DIR("B")="NO",DIR(0)="YA" D ^DIR K DIR S SRYN=Y I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SROAPRE1",59,0)
 Q
"RTN","SROAPRE1",60,0)
NO2ALL ; set all fields to NO
"RTN","SROAPRE1",61,0)
 S SRAX="N",$P(^SRF(SRTN,200),"^")=SRAX D NOGEN
"RTN","SROAPRE1",62,0)
 S $P(^SRF(SRTN,200),"^",9)=SRAX D NOPULM
"RTN","SROAPRE1",63,0)
 S $P(^SRF(SRTN,200),"^",13)=SRAX D NOHEP
"RTN","SROAPRE1",64,0)
 S $P(^SRF(SRTN,200.1),"^")=SRAX D NOGAST^SROAPR1A
"RTN","SROAPRE1",65,0)
 S $P(^SRF(SRTN,200),"^",30)=SRAX D NOCARD^SROAPR1A
"RTN","SROAPRE1",66,0)
 S $P(^SRF(SRTN,200),"^",40)=SRAX D NOVAS^SROAPR1A
"RTN","SROAPRE1",67,0)
 Q
"RTN","SROAPRE1",68,0)
CHK518 ; check entries of the Tobacco Use Timeframe field (#518) based on the value of the Tobacco Use field.
"RTN","SROAPRE1",69,0)
 S DA=$S($G(SRTN):SRTN,1:DA)
"RTN","SROAPRE1",70,0)
 I "123"[X,($P($G(^SRF(DA,200.1)),"^",9)<3) D EN^DDIOL("Invalid entry as the TOBACCO USE value is less than three.","","!?2,$C(7)") K X Q
"RTN","SROAPRE1",71,0)
 I X="NA",($P($G(^SRF(DA,200.1)),"^",9)>2) D EN^DDIOL("Invalid entry as the TOBACCO USE value is greater than two.","","!?2,$C(7)") K X Q
"RTN","SROAPRE1",72,0)
 Q
"RTN","SROAPRE2")
0^35^B9148135^B8926868
"RTN","SROAPRE2",1,0)
SROAPRE2 ;BIR/MAM - EDIT PAGE 2 PREOP ;07/18/2011
"RTN","SROAPRE2",2,0)
 ;;3.0;Surgery;**38,47,125,153,166,176**;24 Jun 93;Build 8
"RTN","SROAPRE2",3,0)
 D @EMILY Q
"RTN","SROAPRE2",4,0)
1 ; edit renal information
"RTN","SROAPRE2",5,0)
 W ! K DIR S X=$P(SRAO(1),"^") I X'="" S DIR("B")=X
"RTN","SROAPRE2",6,0)
 S DIR(0)="130,243",DIR("A")="RENAL" D ^DIR K DIR I $D(DUOUT) S SRSOUT=1 Q
"RTN","SROAPRE2",7,0)
 I X="@" S SRCAT="Renal" D SURE Q:SRSOUT  G:'SRYN 1 S $P(^SRF(SRTN,200),"^",37)="" S (SRAX,X)="" D NOREN Q
"RTN","SROAPRE2",8,0)
 S SRAX=Y,$P(^SRF(SRTN,200),"^",37)=SRAX I Y["N" D NOREN Q
"RTN","SROAPRE2",9,0)
 I Y["Y" D REN
"RTN","SROAPRE2",10,0)
 Q
"RTN","SROAPRE2",11,0)
2 ; edit CNS information
"RTN","SROAPRE2",12,0)
 W ! K DIR S X=$P(SRAO(2),"^") I X'="" S DIR("B")=X
"RTN","SROAPRE2",13,0)
 S DIR(0)="130,210",DIR("A")="CENTRAL NERVOUS SYSTEM" D ^DIR K DIR I $D(DUOUT) S SRSOUT=1 Q
"RTN","SROAPRE2",14,0)
 I X="@" S SRCAT="Central Nervous System" D SURE Q:SRSOUT  G:'SRYN 2 S $P(^SRF(SRTN,200),"^",18)="",(SRAX,X)="" D NOCNS Q
"RTN","SROAPRE2",15,0)
 S SRAX=Y,$P(^SRF(SRTN,200),"^",18)=SRAX I Y["N" D NOCNS Q
"RTN","SROAPRE2",16,0)
 I Y["Y" D CNS
"RTN","SROAPRE2",17,0)
 Q
"RTN","SROAPRE2",18,0)
3 ; edit nutritional/immune/other info
"RTN","SROAPRE2",19,0)
 W ! K DIR S X=$P(SRAO(3),"^") I X'="" S DIR("B")=X
"RTN","SROAPRE2",20,0)
 S DIR(0)="130,245",DIR("A")="NUTRITIONAL/IMMUNE/OTHER" D ^DIR K DIR I $D(DUOUT) S SRSOUT=1 Q
"RTN","SROAPRE2",21,0)
 I X="@" S SRCAT="Nutritional/Immune/Other" D SURE Q:SRSOUT  G:'SRYN 3 S $P(^SRF(SRTN,200),"^",44)="" S (SRAX,X)="" D NONUT Q
"RTN","SROAPRE2",22,0)
 S SRAX=Y,$P(^SRF(SRTN,200),"^",44)=SRAX I Y["N" D NONUT Q
"RTN","SROAPRE2",23,0)
 I Y["Y" D NUT
"RTN","SROAPRE2",24,0)
 Q
"RTN","SROAPRE2",25,0)
REN ; renal
"RTN","SROAPRE2",26,0)
 W ! K DR,DIE S DA=SRTN,DIE=130,DR="328T;211T" D ^DIE K DR
"RTN","SROAPRE2",27,0)
 S SRACLR=0
"RTN","SROAPRE2",28,0)
 Q
"RTN","SROAPRE2",29,0)
NOREN ; no renal problems
"RTN","SROAPRE2",30,0)
 F I=38,39 S $P(^SRF(SRTN,200),"^",I)=SRAX
"RTN","SROAPRE2",31,0)
 Q
"RTN","SROAPRE2",32,0)
CNS ; cns
"RTN","SROAPRE2",33,0)
 W ! K DR,DIE S DIE=130,DA=SRTN,DR="332T;333T;400T;521T;522T;401T;" D ^DIE K DR,DIE
"RTN","SROAPRE2",34,0)
 S SRACLR=0
"RTN","SROAPRE2",35,0)
 Q
"RTN","SROAPRE2",36,0)
NOCNS ; no CNS problems
"RTN","SROAPRE2",37,0)
 F I=19,21,24,29 S $P(^SRF(SRTN,200),"^",I)=SRAX
"RTN","SROAPRE2",38,0)
 F I=13,14 S $P(^SRF(SRTN,200.1),"^",I)=$S(SRAX="N":0,1:SRAX)
"RTN","SROAPRE2",39,0)
 Q
"RTN","SROAPRE2",40,0)
NUT ; nutritional/immune/other
"RTN","SROAPRE2",41,0)
 W ! K DR,DIE S DIE=130,DA=SRTN,DR="338T;218T;339T;215T;216T;217T;338.1T;338.2T;218.1T;269T" D ^DIE K DA,DIE,DR
"RTN","SROAPRE2",42,0)
 S SRACLR=0
"RTN","SROAPRE2",43,0)
 Q
"RTN","SROAPRE2",44,0)
NONUT ; no nutritional/immune/other
"RTN","SROAPRE2",45,0)
 F I=45:1:50 S $P(^SRF(SRTN,200),"^",I)=SRAX
"RTN","SROAPRE2",46,0)
 F I=3,4,8 S $P(^SRF(SRTN,206),"^",I)=SRAX
"RTN","SROAPRE2",47,0)
 S:SRAX="N" $P(^SRF(SRTN,200.1),"^",3)=$S($P($G(VADM(5)),"^")="M":"NA",1:"NO")
"RTN","SROAPRE2",48,0)
 S:SRAX="" $P(^SRF(SRTN,200.1),"^",3)=""
"RTN","SROAPRE2",49,0)
 Q
"RTN","SROAPRE2",50,0)
RET W !! K DIR S DIR(0)="E" D ^DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SROAPRE2",51,0)
 Q
"RTN","SROAPRE2",52,0)
SURE W ! K DIR S DIR("A")="   Sure you want to delete all "_SRCAT_" information ? ",DIR("B")="NO",DIR(0)="YA" D ^DIR K DIR S SRYN=Y I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SROAPRE2",53,0)
 Q
"RTN","SROAPRE2",54,0)
DEL W !!,?10,"Deleting all "_SRCAT_" information...  "
"RTN","SROAPRE2",55,0)
 Q
"RTN","SROAPRE2",56,0)
NO2ALL ; set all fields to NO
"RTN","SROAPRE2",57,0)
 S SRAX="N",$P(^SRF(SRTN,200),"^",37)=SRAX D NOREN
"RTN","SROAPRE2",58,0)
 S $P(^SRF(SRTN,200),"^",18)=SRAX D NOCNS
"RTN","SROAPRE2",59,0)
 S $P(^SRF(SRTN,200),"^",44)=SRAX D NONUT
"RTN","SROAPRE2",60,0)
 Q
"RTN","SROAPRT1")
0^6^B17263679^B14081364
"RTN","SROAPRT1",1,0)
SROAPRT1 ;BIR/MAM - PREOP INFO (PAGE 1) ;04/05/2012
"RTN","SROAPRT1",2,0)
 ;;3.0;Surgery;**38,47,125,153,166,174,176**;24 Jun 93;Build 8
"RTN","SROAPRT1",3,0)
 N SRX,Y F I=200,200.1,206 S SRA(I)=$G(^SRF(SRTN,I))
"RTN","SROAPRT1",4,0)
 S Y=$P(SRA(200),"^"),SRX=402,SRAO(1)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",5,0)
 S Y=$P(SRA(206),"^"),SRX=236,SRAO("1A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",6,0)
 S Y=$P(SRA(206),"^",2),SRX=237,SRAO("1B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",7,0)
 S Y=$P(SRA(200.1),"^",11),SRX=519,SRAO("1C")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",8,0)
 S Y=$P(SRA(200.1),"^",12),SRX=520,SRAO("1CC")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",9,0)
 S Y=$P(SRA(200.1),"^",9),SRX=517,SRAO("1D")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",10,0)
 S Y=$P($G(^SRF(SRTN,200.1)),"^",9) D  S SRA(200.1)=$G(^SRF(SRTN,200.1))
"RTN","SROAPRT1",11,0)
 .I Y'="",Y<3 S $P(^SRF(SRTN,200.1),"^",10)="NA" Q
"RTN","SROAPRT1",12,0)
 S Y=$P(SRA(200.1),"^",10),SRX=518,SRAO("1DD")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",13,0)
 S Y=$P(SRA(200),"^",4),SRX=246,SRAO("1E")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",14,0)
 S Y=$P(SRA(200),"^",6),SRX=325,SRAO("1F")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",15,0)
 S Y=$P(SRA(200.1),"^",8),SRX=237.1,SRAO("1G")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",16,0)
 S Y=$P(SRA(200),"^",7),SRX=238,SRAO("1H")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",17,0)
 S Y=$P(SRA(200.1),"^",2),SRX=492,SRAO("1I")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",18,0)
 S Y=$P(SRA(200),"^",9),SRX=241,SRAO(2)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",19,0)
 S Y=$P(SRA(200),"^",10),SRX=204,SRAO("2A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",20,0)
 S Y=$P(SRA(200),"^",11),SRX=203,SRAO("2B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",21,0)
 S Y=$P(SRA(200),"^",12),SRX=326,SRAO("2C")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",22,0)
 S Y=$P(SRA(200),"^",13),SRX=244,SRAO(3)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",23,0)
 S Y=$P(SRA(200),"^",15),SRX=212,SRAO("3A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",24,0)
 S Y=$P(SRA(200.1),"^"),SRX=486,SRAO(4)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",25,0)
 S Y=$P(SRA(200),"^",16),SRX=213,SRAO("4A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",26,0)
 S Y=$P(SRA(200),"^",30),SRX=242,SRAO(5)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",27,0)
 S Y=$P(SRA(200),"^",35),SRX=396,SRAO("5A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",28,0)
 S Y=$P(SRA(200),"^",31),SRX=394,SRAO("5B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",29,0)
 S Y=$P(SRA(200),"^",32),SRX=220,SRAO("5C")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",30,0)
 S Y=$P(SRA(200),"^",33),SRX=266,SRAO("5D")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",31,0)
 S Y=$P(SRA(200),"^",34),SRX=395,SRAO("5E")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",32,0)
 S Y=$P(SRA(200),"^",36),SRX=208,SRAO("5F")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",33,0)
 S Y=$P(SRA(200),"^",40),SRX=206,SRAO(6)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",34,0)
 S Y=$P(SRA(200),"^",41),SRX=329,SRAO("6A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",35,0)
 S Y=$P(SRA(200),"^",42),SRX=330,SRAO("6B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",36,0)
 S Y=$P(SRA(200),"^",55),SRX=618,SRAO("1FF")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",37,0)
 W:$E(IOST)="P" ! W !,?28,"PREOPERATIVE INFORMATION",!!
"RTN","SROAPRT1",38,0)
 W "GENERAL:",?31,$P(SRAO(1),"^"),?40,"HEPATOBILIARY:",?72,$P(SRAO(3),"^")
"RTN","SROAPRT1",39,0)
 W !,"Height: ",?22,$J($P(SRAO("1A"),"^"),15),?40,"Ascites:",?72,$P(SRAO("3A"),"^")
"RTN","SROAPRT1",40,0)
 W !,"Weight:",?22,$J($P(SRAO("1B"),"^"),15)
"RTN","SROAPRT1",41,0)
 W !,"Diabetes - Long Term:",?31,$P(SRAO("1C"),"^"),?40,"GASTROINTESTINAL:",?72,$P(SRAO(4),"^")
"RTN","SROAPRT1",42,0)
 W !,"Diabetes - 2 Wks Preop:",?31,$P(SRAO("1CC"),"^"),?40,"Esophageal Varices:",?72,$P(SRAO("4A"),"^")
"RTN","SROAPRT1",43,0)
 W !,"Tobacco Use:",?16,$J($P(SRAO("1D"),"^"),21)
"RTN","SROAPRT1",44,0)
 W !,"Tobacco Use Timeframe: ",$P(SRAO("1DD"),"^")
"RTN","SROAPRT1",45,0)
 W !,"ETOH > 2 Drinks/Day:",?31,$P(SRAO("1E"),"^"),?40,"CARDIAC:",?72,$P(SRAO(5),"^")
"RTN","SROAPRT1",46,0)
 W !,"Positive Drug Screening: ",?31,$P(SRAO("1FF"),"^"),?40,"CHF Within 1 Month:",?72,$P(SRAO("5A"),"^")
"RTN","SROAPRT1",47,0)
 W !,"Dyspnea: ",?13,$J($P(SRAO("1F"),"^"),25),?40,"MI Within 6 Months:",?72,$P(SRAO("5B"),"^")
"RTN","SROAPRT1",48,0)
 W !,"Preop Sleep Apnea:",?30,$P(SRAO("1G"),"^"),?40,"Previous PCI:",?72,$P(SRAO("5C"),"^")
"RTN","SROAPRT1",49,0)
 W !,"DNR Status: ",?31,$P(SRAO("1H"),"^"),?40,"Previous Cardiac Surgery:",?72,$P(SRAO("5D"),"^")
"RTN","SROAPRT1",50,0)
 W !,"Preop Funct Status: ",$J($P(SRAO("1I"),"^"),17),?40,"Angina Within 1 Month:",?72,$P(SRAO("5E"),"^")
"RTN","SROAPRT1",51,0)
 W !,?40,"Hypertension Requiring Meds:",?72,$P(SRAO("5F"),"^")
"RTN","SROAPRT1",52,0)
 W !,"PULMONARY:",?31,$P(SRAO(2),"^")
"RTN","SROAPRT1",53,0)
 W !,"Ventilator Dependent:",?31,$P(SRAO("2A"),"^"),?40,"VASCULAR:",?72,$P(SRAO(6),"^")
"RTN","SROAPRT1",54,0)
 W !,"History of Severe COPD:",?31,$P(SRAO("2B"),"^"),?40,"Revascularization/Amputation:",?72,$P(SRAO("6A"),"^")
"RTN","SROAPRT1",55,0)
 W !,"Current Pneumonia:",?31,$P(SRAO("2C"),"^"),?40,"Rest Pain/Gangrene:",?72,$P(SRAO("6B"),"^")
"RTN","SROAPRT1",56,0)
 Q
"RTN","SROAPRT1",57,0)
OUT(SRFLD,SRY) ; get data in output form
"RTN","SROAPRT1",58,0)
 N C,Y
"RTN","SROAPRT1",59,0)
 S Y=SRY,C=$P(^DD(130,SRFLD,0),"^",2) D:Y'="" Y^DIQ
"RTN","SROAPRT1",60,0)
 S Y=$S(Y="NO STUDY":"NS",Y="N/A":"NA",1:Y)
"RTN","SROAPRT1",61,0)
 I SRFLD=237.1 S Y=$E(Y,1,7)
"RTN","SROAPRT1",62,0)
 I SRFLD=236!(SRFLD=237)!(SRFLD=346) S Y=$E(Y,1,15)
"RTN","SROAPRT1",63,0)
 I SRFLD=240!(SRFLD=492) D
"RTN","SROAPRT1",64,0)
 .I SRY=2 S Y="PARTIAL DEPENDENT" Q
"RTN","SROAPRT1",65,0)
 .I SRY=4 S Y=Y_"  "
"RTN","SROAPRT1",66,0)
 I SRFLD=325,$L(Y)=2 S Y=Y_"     "
"RTN","SROAPRT1",67,0)
 Q Y
"RTN","SROAPRT2")
0^36^B11792393^B10962875
"RTN","SROAPRT2",1,0)
SROAPRT2 ;BIR/MAM - PRINT PREOP INFO (PAGE 2) ;07/19/2011
"RTN","SROAPRT2",2,0)
 ;;3.0;Surgery;**38,125,137,153,160,166,176**;24 Jun 93;Build 8
"RTN","SROAPRT2",3,0)
 I $E(IOST)'="P" W !,?28,"PREOPERATIVE INFORMATION"
"RTN","SROAPRT2",4,0)
 N SRX,Y F I=200,200.1,206 S SRA(I)=$G(^SRF(SRTN,I))
"RTN","SROAPRT2",5,0)
 S Y=$P(SRA(200),"^",37),SRX=243,SRAO(1)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",6,0)
 S Y=$P(SRA(200),"^",38),SRX=328,SRAO("1A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",7,0)
 S Y=$P(SRA(200),"^",39),SRX=211,SRAO("1B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",8,0)
 S Y=$P(SRA(200),"^",18),SRX=210,SRAO(2)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",9,0)
 S Y=$P(SRA(200),"^",44),SRX=245,SRAO(3)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",10,0)
 S Y=$P(SRA(200),"^",19),SRX=332,SRAO("2A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",11,0)
 S Y=$P(SRA(200),"^",21),SRX=333,SRAO("2B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",12,0)
 S Y=$P(SRA(200),"^",24),SRX=400,SRAO("2C")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",13,0)
 S Y=$P(SRA(200.1),"^",13),SRX=521,SRAO("2D")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",14,0)
 S Y=$P(SRA(200.1),"^",14),SRX=522,SRAO("2E")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",15,0)
 S Y=$P(SRA(200),"^",29),SRX=401,SRAO("2F")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",16,0)
 S Y=$P(SRA(200),"^",45),SRX=338,SRAO("3A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",17,0)
 S Y=$P(SRA(200),"^",46),SRX=218,SRAO("3B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",18,0)
 S Y=$P(SRA(200),"^",47),SRX=339,SRAO("3C")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",19,0)
 S Y=$P(SRA(200),"^",48),SRX=215,SRAO("3D")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",20,0)
 S Y=$P(SRA(200),"^",49),SRX=216,SRAO("3E")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",21,0)
 S Y=$P(SRA(200),"^",50),SRX=217,SRAO("3F")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",22,0)
 S Y=$P(SRA(206),"^",3),SRX=338.1,SRAO("3G")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",23,0)
 S Y=$P(SRA(206),"^",4),SRX=338.2,SRAO("3H")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",24,0)
 S Y=$P(SRA(206),"^",8),SRX=218.1,SRAO("3I")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",25,0)
 S Y=$P(SRA(200.1),"^",3),SRX=269,SRAO("3J")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",26,0)
 W !!,"RENAL:",?31,$P(SRAO(1),"^"),?40,"NUTRITIONAL/IMMUNE/OTHER:",?72,$P(SRAO(3),"^")
"RTN","SROAPRT2",27,0)
 W !,"Acute Renal Failure:",?31,$P(SRAO("1A"),"^"),?40,"Disseminated Cancer:",?72,$P(SRAO("3A"),"^")
"RTN","SROAPRT2",28,0)
 W !,"Currently on Dialysis:",?31,$P(SRAO("1B"),"^"),?40,"Open Wound:",?72,$P(SRAO("3B"),"^")
"RTN","SROAPRT2",29,0)
 W !,?40,"Steroid Use for Chronic Cond.:",?72,$P(SRAO("3C"),"^")
"RTN","SROAPRT2",30,0)
 W !,"CENTRAL NERVOUS SYSTEM:",?31,$P(SRAO(2),"^"),?40,"Weight Loss > 10%:",?72,$P(SRAO("3D"),"^")
"RTN","SROAPRT2",31,0)
 W !,"Impaired Sensorium: ",?31,$P(SRAO("2A"),"^"),?40,"Bleeding Disorders:",?72,$P(SRAO("3E"),"^")
"RTN","SROAPRT2",32,0)
 W !,"Coma:",?31,$P(SRAO("2B"),"^"),?40,"Transfusion > 4 RBC Units:",?72,$P(SRAO("3F"),"^")
"RTN","SROAPRT2",33,0)
 W !,"Hemiplegia:",?31,$P(SRAO("2C"),"^"),?40,"Chemotherapy W/I 30 Days:",?72,$P(SRAO("3G"),"^")
"RTN","SROAPRT2",34,0)
 W !,"CVD Repair/Obstruct:",?(35-$L($P(SRAO("2D"),"^"))),$P(SRAO("2D"),"^"),?40,"Radiotherapy W/I 90 Days:",?72,$P(SRAO("3H"),"^")
"RTN","SROAPRT2",35,0)
 W !,"History of CVD:",?(35-$L($P(SRAO("2E"),"^"))),$P(SRAO("2E"),"^"),?40,"Preoperative Sepsis:",?(74-$L($P(SRAO("3I"),"^"))),$P(SRAO("3I"),"^")
"RTN","SROAPRT2",36,0)
 W !,"Tumor Involving CNS:",?31,$P(SRAO("2F"),"^"),?40,"Pregnancy:",?(74-$L($P(SRAO("3J"),"^"))),$P(SRAO("3J"),"^")
"RTN","SROAPRT2",37,0)
 I $E(IOST)="P" W !
"RTN","SROAPRT2",38,0)
 Q
"RTN","SROAPRT2",39,0)
OUT(SRFLD,SRY) ; get data in output form
"RTN","SROAPRT2",40,0)
 N C,Y
"RTN","SROAPRT2",41,0)
 I SRFLD=521 S Y=$S(SRY=1:"YES/NO SURG",SRY=2:"YES/PRIOR SURG",SRY=0:"NO CVD",1:"") Q Y
"RTN","SROAPRT2",42,0)
 I SRFLD=522 S Y=$S(SRY=1:"HIST OF TIA'S",SRY=2:"CVA W/O NEURO DEF",SRY=3:"CVA W/ NEURO DEF",SRY=0:"NO CVD",1:"") Q Y
"RTN","SROAPRT2",43,0)
 S Y=SRY,C=$P(^DD(130,SRFLD,0),"^",2) D:Y'="" Y^DIQ
"RTN","SROAPRT2",44,0)
 I Y="NO STUDY" S Y="NS"
"RTN","SROAPRT2",45,0)
 Q Y
"RTN","SROAPRT7")
0^48^B30682535^B29848560
"RTN","SROAPRT7",1,0)
SROAPRT7 ;BIR/MAM - PRINT OCCURRENCES ;08/16/2011
"RTN","SROAPRT7",2,0)
 ;;3.0;Surgery;**38,47,57,60,125,160,176**;24 Jun 93;Build 8
"RTN","SROAPRT7",3,0)
 K SRA,SRAO D EN^SROCCAT S SRA(205)=$G(^SRF(SRTN,205))
"RTN","SROAPRT7",4,0)
 S NYUK=$P(SRA(205),"^",5) D YN S SRAO(1)=SHEMP_"^403",NYUK=$P(SRA(205),"^",6) D YN S SRAO("1A")=SHEMP_"^248",NYUK=$P(SRA(205),"^",7) D YN S SRAO("1B")=SHEMP_"^249"
"RTN","SROAPRT7",5,0)
 S NYUK=$P(SRA(205),"^",37) D YN S SRAO("6E")=SHEMP_"^488",NYUK=$P(SRA(205),"^",8) D YN S SRAO("1C")=SHEMP_"^404",NYUK=$P(SRA(205),"^",39) D YN S SRAO("6F")=SHEMP_"^447"
"RTN","SROAPRT7",6,0)
 S NYUK=$P(SRA(205),"^",9) D YN S SRAO(2)=SHEMP_"^318",NYUK=$P(SRA(205),"^",10) D YN S SRAO("2A")=SHEMP_"^251",NYUK=$P(SRA(205),"^",11) D YN S SRAO("2B")=SHEMP_"^412",NYUK=$P(SRA(205),"^",12) D YN S SRAO("2C")=SHEMP_"^252"
"RTN","SROAPRT7",7,0)
 S NYUK=$P(SRA(205),"^",13) D YN S SRAO("2D")=SHEMP_"^285"
"RTN","SROAPRT7",8,0)
 S NYUK=$P(SRA(205),"^",15) D YN S SRAO(3)=SHEMP_"^319",NYUK=$P(SRA(205),"^",16) D YN S SRAO("3A")=SHEMP_"^409",NYUK=$P(SRA(205),"^",17) D YN S SRAO("3B")=SHEMP_"^254",NYUK=$P(SRA(205),"^",18) D YN S SRAO("3C")=SHEMP_"^255"
"RTN","SROAPRT7",9,0)
 S NYUK=$P(SRA(205),"^",20) D YN S SRAO(4)=SHEMP_"^320",NYUK=$P(SRA(205),"^",21) D YN S SRAO("4A")=SHEMP_"^256",NYUK=$P(SRA(205),"^",22) D YN S SRAO("4B")=SHEMP_"^410",NYUK=$P(SRA(205),"^",23) D YN S SRAO("4C")=SHEMP_"^287"
"RTN","SROAPRT7",10,0)
 S NYUK=$P(SRA(205),"^",25) D YN S SRAO(5)=SHEMP_"^321",NYUK=$P(SRA(205),"^",26) D YN S SRAO("5A")=SHEMP_"^411",NYUK=$P(SRA(205),"^",27) D YN S SRAO("5B")=SHEMP_"^258",NYUK=$P(SRA(205),"^",28) D YN S SRAO("5C")=SHEMP_"^259"
"RTN","SROAPRT7",11,0)
 S NYUK=$P(SRA(205),"^",30) D YN S SRAO(6)=SHEMP_"^322",NYUK=$P(SRA(205),"^",32) D YN S SRAO("6A")=SHEMP_"^257"
"RTN","SROAPRT7",12,0)
 S NYUK=$P(SRA(205),"^",33) D YN S SRAO("6B")=SHEMP_"^261",NYUK=$P(SRA(205),"^",34) D YN S SRAO("6C")=SHEMP_"^263",NYUK=$P(SRA(205),"^",35) D YN S SRAO("6D")=SHEMP_"^250"
"RTN","SROAPRT7",13,0)
 K SROOC N SRDUR,SRSEP,SRSTAR
"RTN","SROAPRT7",14,0)
 D OCC^SROAUTL0
"RTN","SROAPRT7",15,0)
 S X=$G(SROOC(21)) I X'="" S X=$P($G(SROOC(21)),U)_" "_$E($P($G(SROOC(21)),U,2),1,17)
"RTN","SROAPRT7",16,0)
 S SRAO("6G")=X_"^392"
"RTN","SROAPRT7",17,0)
 S X=$G(SROOC(29)) I X'="" S X=$P($G(SROOC(29)),U)_" "_$E($P($G(SROOC(29)),U,2),1,17)
"RTN","SROAPRT7",18,0)
 S SRAO("2E")=X_"^253"
"RTN","SROAPRT7",19,0)
 S X=$G(SROOC(30)) I X'="" S X=$P($G(SROOC(30)),U)_" "_$E($P($G(SROOC(30)),U,2),1,17)
"RTN","SROAPRT7",20,0)
 S SRAO("4D")=X_"^343"
"RTN","SROAPRT7",21,0)
 S X=$G(SROOC(31)) I X'="" S X=$P($G(SROOC(31)),U)_" "_$E($P($G(SROOC(31)),U,2),1,17)
"RTN","SROAPRT7",22,0)
 S SRAO("3D")=X_"^286"
"RTN","SROAPRT7",23,0)
 S X=$G(SROOC(32)) I X'="" S X=$P($G(SROOC(32)),U)_" "_$E($P($G(SROOC(32)),U,2),1,17)
"RTN","SROAPRT7",24,0)
 S SRAO("5D")=X_"^344"
"RTN","SROAPRT7",25,0)
 S X=$G(SROOC(36)) I X'="" S X=$P($G(SROOC(36)),U)_" "_$E($P($G(SROOC(36)),U,2),1,17)
"RTN","SROAPRT7",26,0)
 S SRAO("1D")=X_"^489"
"RTN","SROAPRT7",27,0)
 S Y=6 F  S Y=$O(SRAO(Y)) Q:Y=""  D
"RTN","SROAPRT7",28,0)
 .I $E(Y)="1" S SRI=$S(Y="1A":1,Y="1B":2,Y="1C":22,1:"") Q:SRI=""
"RTN","SROAPRT7",29,0)
 .I $E(Y)="2" S SRI=$S(Y="2A":4,Y="2B":7,Y="2C":5,Y="2D":6,1:"")  Q:SRI=""
"RTN","SROAPRT7",30,0)
 .I $E(Y)="3" S SRI=$S(Y="3A":8,Y="3B":9,Y="3C":10,1:"")  Q:SRI=""
"RTN","SROAPRT7",31,0)
 .I $E(Y)="4" S SRI=$S(Y="4A":12,Y="4B":13,Y="4C":14,1:"")  Q:SRI=""
"RTN","SROAPRT7",32,0)
 .I $E(Y)="5" S SRI=$S(Y="5A":16,Y="5B":17,Y="5C":11,1:"")  Q:SRI=""
"RTN","SROAPRT7",33,0)
 .I $E(Y)="6" S SRI=$S(Y="6A":15,Y="6B":19,Y="6C":20,Y="6D":3,Y="6E":35,Y="6F":38,1:"")  Q:SRI=""
"RTN","SROAPRT7",34,0)
 .S SRIN=Y I SROC(SRI)="       "&($P(SRAO(SRIN),"^")="YES") S $P(SRAO(SRIN),"^")="ND"
"RTN","SROAPRT7",35,0)
 .S $P(SRAO(SRIN),"^")=$S($P(SRAO(SRIN),"^")="YES":$E(SROC(SRI),4,5)_"/"_$E(SROC(SRI),6,7)_"/"_$E(SROC(SRI),2,3),$P(SRAO(SRIN),"^")="NO":"   "_$P(SRAO(SRIN),"^"),$P(SRAO(SRIN),"^")="ND":" NO DATE",1:$P(SRAO(SRIN),"^"))
"RTN","SROAPRT7",36,0)
 I $G(SRSEP)'="" S X=$P(SRAO("6D"),"^"),$P(SRAO("6D"),"^")=SRSEP_" "_X
"RTN","SROAPRT7",37,0)
 I $G(SRDUR)'="" S X=$P(SRAO("4A"),"^"),$P(SRAO("4A"),"^")=SRDUR_"  "_X
"RTN","SROAPRT7",38,0)
 F SRK="1D","4D","3D","5D","2E","6G" S SRKO=$S(SRK="4D":30,SRK="3D":31,SRK="5D":32,SRK="2E":29,SRK="6G":21,SRK="1D":36,1:"") I $P(SRAO(SRK),"^")'="" D
"RTN","SROAPRT7",39,0)
 .S SRSTAR=1 I SROC(SRKO)="       " S SRD="NO DATE"
"RTN","SROAPRT7",40,0)
 .I SROC(SRKO)'="       " S SRD=$E(SROC(SRKO),4,5)_"/"_$E(SROC(SRKO),6,7)_"/"_$E(SROC(SRKO),2,3)
"RTN","SROAPRT7",41,0)
 .S $P(SRAO(SRK),"^")="* "_$P(SRAO(SRK),"^")_$J(SRD,(26-$L($P(SRAO(SRK),"^")))+10)
"RTN","SROAPRT7",42,0)
DISP W:$E(IOST)'="C" ! W !,?21,"PERIOPERATIVE OCCURRENCE INFORMATION",!!,"WOUND OCCURRENCES:",?33,$P(SRAO(1),"^"),?41,"CNS OCCURRENCES:",?74,$P(SRAO(4),"^")
"RTN","SROAPRT7",43,0)
 W !,"Superficial Incisional SSI:",?30,$P(SRAO("1A"),"^"),?41,"Stroke/CVA:" D
"RTN","SROAPRT7",44,0)
 .I $P(SRAO("4A"),"^")="   NO" W ?68,"NO SYMPTOMS" Q
"RTN","SROAPRT7",45,0)
 .W ?58,$J($P(SRAO("4A"),"^"),21)
"RTN","SROAPRT7",46,0)
 W !,"Deep Incisional SSI:",?30,$P(SRAO("1B"),"^"),?41,"Coma > 24 Hours:",?71,$P(SRAO("4B"),"^")
"RTN","SROAPRT7",47,0)
 W !,"Wound Disruption:",?30,$P(SRAO("1C"),"^"),?41,"Peripheral Nerve Injury:",?71,$P(SRAO("4C"),"^")
"RTN","SROAPRT7",48,0)
 I $P(SRAO("1D"),"^")'=""!($P(SRAO("4D"),"^")'="") W !,$P(SRAO("1D"),"^"),?41,$P(SRAO("4D"),"^")
"RTN","SROAPRT7",49,0)
 W !!,"URINARY TRACT OCCURRENCES: ",?33,$P(SRAO(3),"^"),?41,"CARDIAC OCCURRENCES:",?74,$P(SRAO(5),"^")
"RTN","SROAPRT7",50,0)
 W !,"Renal Insufficiency: ",?30,$P(SRAO("3A"),"^"),?41,"Arrest Requiring CPR:",?71,$P(SRAO("5A"),"^")
"RTN","SROAPRT7",51,0)
 W !,"Acute Renal Failure:",?30,$P(SRAO("3B"),"^"),?41,"Myocardial Infarction:",?71,$P(SRAO("5B"),"^")
"RTN","SROAPRT7",52,0)
 W !,"Urinary Tract Infection:",?30,$P(SRAO("3C"),"^"),?41,$P(SRAO("5D"),"^")
"RTN","SROAPRT7",53,0)
 I $P(SRAO("3D"),"^")'="" W !,$P(SRAO("3D"),"^")
"RTN","SROAPRT7",54,0)
 W !,?41,"OTHER OCCURRENCES:",?74,$P(SRAO(6),"^")
"RTN","SROAPRT7",55,0)
 W !,"RESPIRATORY OCCURRENCES:",?33,$P(SRAO(2),"^"),?41,"Bleeding/Transfusions:",?71,$P(SRAO("6A"),"^")
"RTN","SROAPRT7",56,0)
 W !,"Pneumonia:",?30,$P(SRAO("2A"),"^"),?41,"Graft/Prosthesis/Flap Failure:",?71,$P(SRAO("6B"),"^")
"RTN","SROAPRT7",57,0)
 W !,"Unplanned Intubation:",?30,$P(SRAO("2B"),"^"),?41,"DVT/Thrombophlebitis:",?71,$P(SRAO("6C"),"^")
"RTN","SROAPRT7",58,0)
 W !,"Pulmonary Embolism:",?30,$P(SRAO("2C"),"^"),?41,"Systemic Sepsis: " D
"RTN","SROAPRT7",59,0)
 .I $P(SRAO("6D"),"^")="   NO" W ?71,$P(SRAO("6D"),"^") Q
"RTN","SROAPRT7",60,0)
 .W $J($P(SRAO("6D"),"^"),21)
"RTN","SROAPRT7",61,0)
 W !,"On Ventilator > 48 Hours:",?30,$P(SRAO("2D"),"^"),?41,"Organ/Space SSI:",?71,$P(SRAO("6E"),"^")
"RTN","SROAPRT7",62,0)
 W !,$P(SRAO("2E"),"^"),?41,"C. difficile Colitis:",?71,$P(SRAO("6F"),"^")
"RTN","SROAPRT7",63,0)
 W !,?41,$P(SRAO("6G"),"^")
"RTN","SROAPRT7",64,0)
 I $G(SRSTAR) W !,"* indicates Other (ICD)"
"RTN","SROAPRT7",65,0)
 I $E(IOST)="C" W !! K DIR S DIR(0)="FOA",DIR("A")="Press RETURN to continue" D ^DIR K DIR
"RTN","SROAPRT7",66,0)
 Q
"RTN","SROAPRT7",67,0)
YN S SHEMP=$S(NYUK="NS":"NS",NYUK="N":"NO",NYUK="Y":"YES",1:"")
"RTN","SROAPRT7",68,0)
 Q
"RTN","SROAPS1")
0^5^B27027149^B23960917
"RTN","SROAPS1",1,0)
SROAPS1 ;BIR/MAM - PREOP INFO (PAGE 1) ;08/11/2011
"RTN","SROAPS1",2,0)
 ;;3.0;Surgery;**38,47,125,153,166,174,176**;24 Jun 93;Build 8
"RTN","SROAPS1",3,0)
 ;
"RTN","SROAPS1",4,0)
 ; Reference to EN1^GMRVUT0 supported by DBIA #1446
"RTN","SROAPS1",5,0)
 ;
"RTN","SROAPS1",6,0)
 N I S SRPAGE="PAGE: 1 OF 2" D HDR^SROAUTL,PRE1
"RTN","SROAPS1",7,0)
 W ! F I=1:1:80 W "-"
"RTN","SROAPS1",8,0)
 Q
"RTN","SROAPS1",9,0)
PRE1 N SRX,Y D HW,TUT^SROAUTL3 F I=200,200.1,206 S SRA(I)=$G(^SRF(SRTN,I))
"RTN","SROAPS1",10,0)
 S Y=$P(SRA(200),"^"),SRX=402,SRAO(1)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",11,0)
 S Y=$P(SRA(206),"^"),SRX=236,SRAO("1A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",12,0)
 S Y=$P(SRA(206),"^",2),SRX=237,SRAO("1B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",13,0)
 S Y=$P(SRA(200.1),"^",11),SRX=519,SRAO("1C")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",14,0)
 S Y=$P(SRA(200.1),"^",12),SRX=520,SRAO("1D")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",15,0)
 S Y=$P(SRA(200.1),"^",9),SRX=517,SRAO("1E")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",16,0)
 S Y=$P(SRA(200.1),"^",10),SRX=518,SRAO("1F")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",17,0)
 S Y=$P(SRA(200),"^",4),SRX=246,SRAO("1G")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",18,0)
 S Y=$P(SRA(200),"^",55),SRX=618,SRAO("1H")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",19,0)
 S Y=$P(SRA(200),"^",6),SRX=325,SRAO("1I")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",20,0)
 S Y=$P(SRA(200.1),"^",8),SRX=237.1,SRAO("1J")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",21,0)
 S Y=$P(SRA(200),"^",7),SRX=238,SRAO("1K")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",22,0)
 S Y=$P(SRA(200.1),"^",2),SRX=492,SRAO("1L")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",23,0)
 S Y=$P(SRA(200),"^",9),SRX=241,SRAO(2)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",24,0)
 S Y=$P(SRA(200),"^",10),SRX=204,SRAO("2A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",25,0)
 S Y=$P(SRA(200),"^",11),SRX=203,SRAO("2B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",26,0)
 S Y=$P(SRA(200),"^",12),SRX=326,SRAO("2C")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",27,0)
 S Y=$P(SRA(200),"^",13),SRX=244,SRAO(3)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",28,0)
 S Y=$P(SRA(200),"^",15),SRX=212,SRAO("3A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",29,0)
 S Y=$P(SRA(200.1),"^"),SRX=486,SRAO(4)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",30,0)
 S Y=$P(SRA(200),"^",16),SRX=213,SRAO("4A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",31,0)
 S Y=$P(SRA(200),"^",30),SRX=242,SRAO(5)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",32,0)
 S Y=$P(SRA(200),"^",35),SRX=396,SRAO("5A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",33,0)
 S Y=$P(SRA(200),"^",31),SRX=394,SRAO("5B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",34,0)
 S Y=$P(SRA(200),"^",32),SRX=220,SRAO("5C")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",35,0)
 S Y=$P(SRA(200),"^",33),SRX=266,SRAO("5D")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",36,0)
 S Y=$P(SRA(200),"^",34),SRX=395,SRAO("5E")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",37,0)
 S Y=$P(SRA(200),"^",36),SRX=208,SRAO("5F")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",38,0)
 S Y=$P(SRA(200),"^",40),SRX=206,SRAO(6)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",39,0)
 S Y=$P(SRA(200),"^",41),SRX=329,SRAO("6A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",40,0)
 S Y=$P(SRA(200),"^",42),SRX=330,SRAO("6B")=$$OUT(SRX,Y)_"^"_SRX K SRA
"RTN","SROAPS1",41,0)
 W "1. GENERAL:",?32,$P(SRAO(1),"^"),?41,"3. HEPATOBILIARY:",?76,$P(SRAO(3),"^")
"RTN","SROAPS1",42,0)
 W !,"  A. Height:" S Y=$P(SRAO("1A"),"^") W:Y'="NS" ?14,$J($P(Y,"^"),25) W:Y="NS" ?32,Y
"RTN","SROAPS1",43,0)
 W ?43,"A. Ascites:",?76,$P(SRAO("3A"),"^")
"RTN","SROAPS1",44,0)
 W !,"  B. Weight:" S Y=$P(SRAO("1B"),"^") W ?($S(Y="NS":19,1:24)),$J(Y,15)
"RTN","SROAPS1",45,0)
 W !,"  C. Diabetes - Long Term:",?32,$P(SRAO("1C"),"^"),?41,"4. GASTROINTESTINAL:",?76,$P(SRAO(4),"^")
"RTN","SROAPS1",46,0)
 W !,"  D. Diabetes - 2 Wks Preop:",?32,$P(SRAO("1D"),"^"),?43,"A. Esophageal Varices:",?76,$P(SRAO("4A"),"^")
"RTN","SROAPS1",47,0)
 W !,"  E. Tobacco Use:",?19,$J($P(SRAO("1E"),"^"),21)
"RTN","SROAPS1",48,0)
 W !,"  F. Tobacco Use Timeframe:",?28,$P(SRAO("1F"),"^")
"RTN","SROAPS1",49,0)
 W !,"  G. ETOH > 2 Drinks/Day:",?32,$P(SRAO("1G"),"^"),?41,"5. CARDIAC:",?76,$P(SRAO(5),"^")
"RTN","SROAPS1",50,0)
 W !,"  H. Positive Drug Screening:",?32,$P(SRAO("1H"),"^"),?43,"A. CHF Within 1 Month:",?76,$P(SRAO("5A"),"^")
"RTN","SROAPS1",51,0)
 W !,"  I. Dyspnea: ",?14,$J($P(SRAO("1I"),"^"),25),?43,"B. MI Within 6 Months:",?76,$P(SRAO("5B"),"^")
"RTN","SROAPS1",52,0)
 W !,"  J. Preop Sleep Apnea:",?31,$P(SRAO("1J"),"^"),?43,"C. Previous PCI:",?76,$P(SRAO("5C"),"^")
"RTN","SROAPS1",53,0)
 W !,"  K. DNR Status: ",?32,$P(SRAO("1K"),"^"),?43,"D. Previous Cardiac Surgery:",?76,$P(SRAO("5D"),"^")
"RTN","SROAPS1",54,0)
 W !,"  L. Preop Funct Status: ",$J($P(SRAO("1L"),"^"),17),?43,"E. Angina Within 1 Month:",?76,$P(SRAO("5E"),"^")
"RTN","SROAPS1",55,0)
 W !,?43,"F. Hypertension Requiring Meds:",?76,$P(SRAO("5F"),"^")
"RTN","SROAPS1",56,0)
 W !,"2. PULMONARY:",?32,$P(SRAO(2),"^")
"RTN","SROAPS1",57,0)
 W !,"  A. Ventilator Dependent:",?32,$P(SRAO("2A"),"^"),?41,"6. VASCULAR:",?76,$P(SRAO(6),"^")
"RTN","SROAPS1",58,0)
 W !,"  B. History of Severe COPD:",?32,$P(SRAO("2B"),"^"),?43,"A. Revascularization/Amputation:",?76,$P(SRAO("6A"),"^")
"RTN","SROAPS1",59,0)
 W !,"  C. Current Pneumonia:",?32,$P(SRAO("2C"),"^"),?43,"B. Rest Pain/Gangrene:",?76,$P(SRAO("6B"),"^")
"RTN","SROAPS1",60,0)
 Q
"RTN","SROAPS1",61,0)
OUT(SRFLD,SRY) ; get data in output form
"RTN","SROAPS1",62,0)
 N C,Y,Z
"RTN","SROAPS1",63,0)
 S Y=SRY,C=$P(^DD(130,SRFLD,0),"^",2) D:Y'="" Y^DIQ
"RTN","SROAPS1",64,0)
 S Y=$S(Y="NO STUDY":"NS",Y="N/A":"NA",1:Y)
"RTN","SROAPS1",65,0)
 I SRFLD=237.1 S Y=$E(Y,1,7)
"RTN","SROAPS1",66,0)
 I SRFLD=237!(SRFLD=346) S Y=$E(Y,1,15)
"RTN","SROAPS1",67,0)
 I SRFLD=236 S Z=$P($G(^SRF(SRTN,200.1)),"^",7) I Z'="" S Y="("_$E(Z,4,5)_"/"_$E(Z,6,7)_"/"_$E(Z,2,3)_")  "_Y
"RTN","SROAPS1",68,0)
 I SRFLD=492 D
"RTN","SROAPS1",69,0)
 .I SRY=2 S Y="PARTIAL DEPENDENT" Q
"RTN","SROAPS1",70,0)
 .I SRY=1 S Y=Y_"    " Q
"RTN","SROAPS1",71,0)
 .I SRY=4 S Y=Y_"      "
"RTN","SROAPS1",72,0)
 I SRFLD=325,$L(Y)=2 S Y=Y_"     "
"RTN","SROAPS1",73,0)
 Q Y
"RTN","SROAPS1",74,0)
HW ; get weight & height from Vitals
"RTN","SROAPS1",75,0)
 N SREND,SREQ,SREX,SREY,SRSTRT
"RTN","SROAPS1",76,0)
WT I $P($G(^SRF(SRTN,206)),"^",2)="" D
"RTN","SROAPS1",77,0)
 .S SREND=$P($G(^SRF(SRTN,0)),"^",9),SRSTRT=$$FMADD^XLFDT(SREND,-30),SREX=$$HW^SROACL1(SRSTRT,SREND,"WT")
"RTN","SROAPS1",78,0)
 .I SREX'="" S SREX=SREX+.5\1 D CHK^DIE(130,237,"E",SREX,.SREY) I SREY'="^" S $P(^SRF(SRTN,206),"^",2)=SREY
"RTN","SROAPS1",79,0)
HT I $P($G(^SRF(SRTN,206)),"^")'="" Q
"RTN","SROAPS1",80,0)
 N GMRVSTR,SRBRDT,SRBIEN,SRBDATA,SRHTDT
"RTN","SROAPS1",81,0)
 K ^UTILITY($J,"GMRVD"),RESULTS S SREND=$P($G(^SRF(SRTN,0)),"^",9),GMRVSTR="HT",GMRVSTR(0)="^"_SREND_"^^0"
"RTN","SROAPS1",82,0)
 D EN1^GMRVUT0 Q:'$D(^UTILITY($J,"GMRVD"))
"RTN","SROAPS1",83,0)
 S SRBRDT="",SRBRDT=$O(^UTILITY($J,"GMRVD","HT",SRBRDT)) Q:'SRBRDT  D
"RTN","SROAPS1",84,0)
 .S SRBIEN=0 F  S SRBIEN=$O(^UTILITY($J,"GMRVD","HT",SRBRDT,SRBIEN)) Q:'SRBIEN  D
"RTN","SROAPS1",85,0)
 ..S SRBDATA=$G(^UTILITY($J,"GMRVD","HT",SRBRDT,SRBIEN)),SREX=$P(SRBDATA,"^",8)
"RTN","SROAPS1",86,0)
 ..I SREX'="" S SREX=SREX+.5\1 D CHK^DIE(130,236,"E",SREX,.SREY) I SREY'="^" D
"RTN","SROAPS1",87,0)
 ...S $P(^SRF(SRTN,206),"^")=SREY
"RTN","SROAPS1",88,0)
 ...S SRHTDT=$P(SRBDATA,"^") I SRHTDT'="" S $P(^SRF(SRTN,200.1),"^",7)=SRHTDT
"RTN","SROAPS1",89,0)
 Q
"RTN","SROAPS2")
0^34^B17240705^B16963957
"RTN","SROAPS2",1,0)
SROAPS2 ;BIR/MAM - PREOP INFO (PAGE 2) ;07/18/2011
"RTN","SROAPS2",2,0)
 ;;3.0;Surgery;**38,47,125,153,160,166,176**;24 Jun 93;Build 8
"RTN","SROAPS2",3,0)
 S SRPAGE="PAGE: 2 OF 2" D HDR^SROAUTL,PRE2
"RTN","SROAPS2",4,0)
 W !! F I=1:1:80 W "-"
"RTN","SROAPS2",5,0)
 Q
"RTN","SROAPS2",6,0)
PRE2 N SRX,Y S Y=$P($G(^SRF(SRTN,200.1)),"^",3) I Y="",$P(VADM(5),"^")="M" S $P(^SRF(SRTN,200.1),"^",3)="NA"
"RTN","SROAPS2",7,0)
 S SRA(200)=$G(^SRF(SRTN,200)),SRA(206)=$G(^SRF(SRTN,206)),SRA(200.1)=$G(^SRF(SRTN,200.1))
"RTN","SROAPS2",8,0)
 S Y=$P(SRA(200),"^",37),SRX=243,SRAO(1)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",9,0)
 S Y=$P(SRA(200),"^",38),SRX=328,SRAO("1A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",10,0)
 S Y=$P(SRA(200),"^",39),SRX=211,SRAO("1B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",11,0)
 S Y=$P(SRA(200),"^",18),SRX=210,SRAO(2)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",12,0)
 S Y=$P(SRA(200),"^",44),SRX=245,SRAO(3)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",13,0)
 S Y=$P(SRA(200),"^",19),SRX=332,SRAO("2A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",14,0)
 S Y=$P(SRA(200),"^",21),SRX=333,SRAO("2B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",15,0)
 S Y=$P(SRA(200),"^",24),SRX=400,SRAO("2C")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",16,0)
 S Y=$P(SRA(200.1),"^",13),SRX=521,SRAO("2D")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",17,0)
 S Y=$P(SRA(200.1),"^",14),SRX=522,SRAO("2E")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",18,0)
 S Y=$P(SRA(200),"^",29),SRX=401,SRAO("2F")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",19,0)
 S Y=$P(SRA(200),"^",45),SRX=338,SRAO("3A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",20,0)
 S Y=$P(SRA(200),"^",46),SRX=218,SRAO("3B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",21,0)
 S Y=$P(SRA(200),"^",47),SRX=339,SRAO("3C")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",22,0)
 S Y=$P(SRA(200),"^",48),SRX=215,SRAO("3D")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",23,0)
 S Y=$P(SRA(200),"^",49),SRX=216,SRAO("3E")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",24,0)
 S Y=$P(SRA(200),"^",50),SRX=217,SRAO("3F")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",25,0)
 S Y=$P(SRA(206),"^",3),SRX=338.1,SRAO("3G")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",26,0)
 S Y=$P(SRA(206),"^",4),SRX=338.2,SRAO("3H")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",27,0)
 S Y=$P(SRA(206),"^",8),SRX=218.1,SRAO("3I")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",28,0)
 S Y=$P(SRA(200.1),"^",3),SRX=269,SRAO("3J")=$$OUT(SRX,Y)_"^"_SRX K SRA
"RTN","SROAPS2",29,0)
 W !,"1. RENAL:",?(38-$L($P(SRAO(1),"^"))),$P(SRAO(1),"^"),?40,"3. NUTRITIONAL/IMMUNE/OTHER:",?(79-$L($P(SRAO(3),"^"))),$P(SRAO(3),"^")
"RTN","SROAPS2",30,0)
 W !,"  A. Acute Renal Failure:",?(38-$L($P(SRAO("1A"),"^"))),$P(SRAO("1A"),"^"),?40,"  A. Disseminated Cancer:",?(79-$L($P(SRAO("3A"),"^"))),$P(SRAO("3A"),"^")
"RTN","SROAPS2",31,0)
 W !,"  B. Currently on Dialysis:",?(38-$L($P(SRAO("1B"),"^"))),$P(SRAO("1B"),"^"),?40,"  B. Open Wound:",?(79-$L($P(SRAO("3B"),"^"))),$P(SRAO("3B"),"^")
"RTN","SROAPS2",32,0)
 W !,?40,"  C. Steroid Use for Chronic Cond.:",?(79-$L($P(SRAO("3C"),"^"))),$P(SRAO("3C"),"^")
"RTN","SROAPS2",33,0)
 W !,"2. CENTRAL NERVOUS SYSTEM:",?(38-$L($P(SRAO(2),"^"))),$P(SRAO(2),"^"),?40,"  D. Weight Loss > 10%:",?(79-$L($P(SRAO("3D"),"^"))),$P(SRAO("3D"),"^")
"RTN","SROAPS2",34,0)
 W !,"  A. Impaired Sensorium: ",?(38-$L($P(SRAO("2A"),"^"))),$P(SRAO("2A"),"^"),?40,"  E. Bleeding Disorders:",?(79-$L($P(SRAO("3E"),"^"))),$P(SRAO("3E"),"^")
"RTN","SROAPS2",35,0)
 W !,"  B. Coma:",?(38-$L($P(SRAO("2B"),"^"))),$P(SRAO("2B"),"^"),?40,"  F. Transfusion > 4 RBC Units:",?(79-$L($P(SRAO("3F"),"^"))),$P(SRAO("3F"),"^")
"RTN","SROAPS2",36,0)
 W !,"  C. Hemiplegia:",?(38-$L($P(SRAO("2C"),"^"))),$P(SRAO("2C"),"^"),?40,"  G. Chemotherapy W/I 30 Days:",?(79-$L($P(SRAO("3G"),"^"))),$P(SRAO("3G"),"^")
"RTN","SROAPS2",37,0)
 W !,"  D. CVD Repair/Obstruct: ",?(39-$L($P(SRAO("2D"),"^"))),$P(SRAO("2D"),"^"),?40,"  H. Radiotherapy W/I 90 Days:",?(79-$L($P(SRAO("3H"),"^"))),$P(SRAO("3H"),"^")
"RTN","SROAPS2",38,0)
 W !,"  E. History of CVD: ",?(39-$L($P(SRAO("2E"),"^"))),$P(SRAO("2E"),"^"),?40,"  I. Preoperative Sepsis:",?(79-$L($P(SRAO("3I"),"^"))),$P(SRAO("3I"),"^")
"RTN","SROAPS2",39,0)
 W !,"  F. Tumor Involving CNS:",?(38-$L($P(SRAO("2F"),"^"))),$P(SRAO("2F"),"^"),?40,"  J. Pregnancy:",?(79-$L($P(SRAO("3J"),"^"))),$P(SRAO("3J"),"^")
"RTN","SROAPS2",40,0)
 Q
"RTN","SROAPS2",41,0)
OUT(SRFLD,SRY) ; get data in output form
"RTN","SROAPS2",42,0)
 N C,Y
"RTN","SROAPS2",43,0)
 I SRFLD=521 S Y=$S(SRY=1:"YES/NO SURG",SRY=2:"YES/PRIOR SURG",SRY=0:"NO CVD",1:"") Q Y
"RTN","SROAPS2",44,0)
 I SRFLD=522 S Y=$S(SRY=1:"HIST OF TIA'S",SRY=2:"CVA W/O NEURO DEF",SRY=3:"CVA W/ NEURO DEF",SRY=0:"NO CVD",1:"") Q Y
"RTN","SROAPS2",45,0)
 S Y=SRY,C=$P(^DD(130,SRFLD,0),"^",2) D:Y'="" Y^DIQ
"RTN","SROAPS2",46,0)
 I Y="NO STUDY" S Y="NS"
"RTN","SROAPS2",47,0)
 Q Y
"RTN","SROASWAP")
1^71^^B10592308
"RTN","SROASWP")
1^72^^B20563070
"RTN","SROASWP0")
1^73^^B9278456
"RTN","SROASWP1")
1^74^^B6149954
"RTN","SROASWP2")
1^75^^B17199213
"RTN","SROASWP3")
1^76^^B25581534
"RTN","SROASWPD")
1^77^^B3278402
"RTN","SROATCM1")
0^16^B57561203^B52769829
"RTN","SROATCM1",1,0)
SROATCM1 ;BIR/MAM - STUFF TRANMISSION IN ^TMP ;09/28/2011
"RTN","SROATCM1",2,0)
 ;;3.0;Surgery;**38,71,79,90,88,93,95,111,125,135,134,142,153,160,174,175,176**;24 Jun 93;Build 8
"RTN","SROATCM1",3,0)
 K SRA F I=0,.2,52,200,201,202,205:1:208,207.1,209,202.1,200.1,"1.0" S SRA(I)=$G(^SRF(SRTN,I))
"RTN","SROATCM1",4,0)
 S DFN=$P(SRA(0),"^") N I D DEM^VADPT S SRANAME=VADM(1),SEX=$P(VADM(5),"^"),Z=$P(VADM(3),"^"),SRSDATE=$P(SRA(0),"^",9),Y=$E(SRSDATE,1,7),AGE=$E(Y,1,3)-$E(Z,1,3)-($E(Y,4,7)<$E(Z,4,7))
"RTN","SROATCM1",5,0)
 N SRPID S SRPID=VA("PID"),SRPID=$TR(SRPID,"-","") ; remove hyphens from PID
"RTN","SROATCM1",6,0)
 S SHEMP="~"_$J(SRASITE,3)_$J(SRTN,7)_" 1 "_DT_$J(AGE,3)_$J(SEX,1)_$J(SRSDATE,12,4)_SRPID
"RTN","SROATCM1",7,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 2 ",SRACNT=SRACNT+1
"RTN","SROATCM1",8,0)
 S SRHD=$P(SRA(206),"^")
"RTN","SROATCM1",9,0)
 I SRHD["C" S SRH="C",SRHD=$E(SRHD,1,$L(SRHD)-1)
"RTN","SROATCM1",10,0)
 E  S SRH=" "
"RTN","SROATCM1",11,0)
 S SRWD=$P(SRA(206),"^",2)
"RTN","SROATCM1",12,0)
 I SRWD["K" S SRW="K",SRWD=$E(SRWD,1,$L(SRWD)-1)
"RTN","SROATCM1",13,0)
 E  S SRW=" "
"RTN","SROATCM1",14,0)
 S SHEMP=SHEMP_$J(SRHD,3)_SRH_$J(SRWD,3)_SRW_$J($P(SRA(200),"^",2),2)_$J($P(SRA(200),"^",11),2)_$J($P(SRA(206),"^",5),3)_$J($P(SRA(206),"^",6),2)_$J($P(SRA(206),"^",7),2)
"RTN","SROATCM1",15,0)
 S SRCT=$P($G(^SRF(SRTN,201)),"^",4) S:SRCT["NS" SRCT=""
"RTN","SROATCM1",16,0)
 S SHEMP=SHEMP_$J($P(SRA(200.1),"^",5),2)_$J(SRCT,4)_$J($P(SRA(206),"^",10),2)_$J($P(SRA(206),"^",11),2)_$J($P(SRA(200),"^",8),2)_$J(" ",2)_$J($P(SRA(206),"^",14),2)_$J(" ",2)
"RTN","SROATCM1",17,0)
 S SHEMP=SHEMP_$J($P(SRA(206),"^",16),2)_$J($P(SRA(206),"^",17),2)_$J($P(SRA(206),"^",18),3)_$J($P(SRA(206),"^",19),3)_$J($P(SRA(206),"^",20),2)_$J($P(SRA(206),"^",21),2)_$J($P(SRA(206),"^",22),2)_$J($P(SRA(206),"^",23),2)
"RTN","SROATCM1",18,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP_$J($P(SRA(208),"^",19),2)_$J($P(SRA(205),"^",8),2)_$J($P(SRA(205),"^",6),2)
"RTN","SROATCM1",19,0)
 S SHEMP=$E(SHEMP,1,11)_" 3 ",SRACNT=SRACNT+1
"RTN","SROATCM1",20,0)
 S SHEMP=SHEMP_$J($P(SRA(206),"^",24),2)_$J($P(SRA(206),"^",25),3)_$J($P(SRA(206),"^",26),3)_$J($P(SRA(206),"^",27),3)
"RTN","SROATCM1",21,0)
 ; Left Main (node 3 pos 26-28), LAD (node 3 pos 29-31), Right Coronary (node 3 pos 32-34) & Circumflex Stenosis (node 3 pos 35-37)
"RTN","SROATCM1",22,0)
 S SHEMP=SHEMP_$J($P(SRA(206),"^",28),3)_$J($P($G(SRA(206)),"^",33),3)_$J($P($G(SRA(206)),"^",34),3)_$J($P($G(SRA(206)),"^",35),3)
"RTN","SROATCM1",23,0)
 ; LV Cont Grade (node 3 pos 39-40) & Mitral Regurgitation(node 3 pos 41-42)
"RTN","SROATCM1",24,0)
 N SROLV S SROLV=$P(SRA(206),"^",30)
"RTN","SROATCM1",25,0)
 S SHEMP=SHEMP_$J($S(SROLV="IIIa":"3A",SROLV="IIIb":"3B",1:SROLV),3)_$J($P($G(SRA(206)),"^",9),2)
"RTN","SROATCM1",26,0)
 ; Estimate of Mortality and ASA Class are changed to not transmit "NS"
"RTN","SROATCM1",27,0)
 S SREMDATE=$P($G(SRA(206)),"^",32)
"RTN","SROATCM1",28,0)
 S SREMO=$P($G(^SRF(SRTN,206)),"^",31) S:SREMO["NS" SREMDATE=""
"RTN","SROATCM1",29,0)
 ; Estimate of Mortality (node 3 pos 43-45) & date (node 3 pos 46-57)
"RTN","SROATCM1",30,0)
 S SHEMP=SHEMP_$J(SREMO,3)
"RTN","SROATCM1",31,0)
 S SHEMP=SHEMP_$S(SREMDATE="":$J(SREMDATE,12),1:$J(SREMDATE,12,4))
"RTN","SROATCM1",32,0)
 S X="",Y=$P($G(^SRF(SRTN,1.1)),"^",3) S:Y X=$P($P($G(^SRO(132.8,Y,0)),"^"),"-") S X=$E(X) S:X["N" X=""
"RTN","SROATCM1",33,0)
 S SHEMP=SHEMP_$J(X,1)
"RTN","SROATCM1",34,0)
 ; Cardiac Est. of Surg. Priority(node 3 pos 59) & date(node 3 pos 60-71)
"RTN","SROATCM1",35,0)
 S SHEMP=SHEMP_$J($P($G(SRA(208)),"^",12),1)
"RTN","SROATCM1",36,0)
 N SREMSPDT S SREMSPDT=$P($G(SRA(208)),"^",13)
"RTN","SROATCM1",37,0)
 S SHEMP=SHEMP_$S(SREMSPDT="":$J(SREMSPDT,12),1:$J(SREMSPDT,12,4))_$J($P(SRA("1.0"),"^",8),2)
"RTN","SROATCM1",38,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 4 ",SRACNT=SRACNT+1
"RTN","SROATCM1",39,0)
 S SHEMP=SHEMP_$J($P(SRA(207),"^"),2)_$J($P(SRA(207),"^",2),2)_$J($P(SRA(207),"^",3),2)_$J($P(SRA(207),"^",4),2)_$J($P(SRA(207),"^",5),2)_$J(" ",2)_$J($P(SRA(207),"^",7),2)
"RTN","SROATCM1",40,0)
 S SHEMP=SHEMP_$J($P(SRA(207),"^",8),2)_$J($P(SRA(207),"^",9),2)_$J($P(SRA(207),"^",10),2)_$J($P(SRA(207),"^",12),2)_$J($P(SRA(207),"^",13),2)_$J($P(SRA(207),"^",14),2)_$J($P(SRA(207),"^",15),2)
"RTN","SROATCM1",41,0)
 S SHEMP=SHEMP_$J($P(SRA(207),"^",16),2)_$J($P(SRA(207),"^",17),2)_$J($P(SRA(207),"^",18),2)_"  "
"RTN","SROATCM1",42,0)
 S SRDEATH=$P($G(SRA(208)),"^"),SRDDATE=$E($P($G(^DPT(DFN,.35)),"^"),1,12) I SRDDATE'="" S SRDDATE=$$LJ^XLFSTR(SRDDATE,12,0)
"RTN","SROATCM1",43,0)
 S SHEMP=SHEMP_$J(SRDEATH,2)_$J(SRDDATE,12)
"RTN","SROATCM1",44,0)
 S SHEMP=SHEMP_$P(SRA(207),"^",20)_$J($P(SRA(207),"^",28),2)
"RTN","SROATCM1",45,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 5 ",SRACNT=SRACNT+1
"RTN","SROATCM1",46,0)
 N SROR S SROR="",Y=$P(^SRF(SRTN,0),"^",2),C=$P(^DD(130,.02,0),"^",2) I Y'="" D Y^DIQ S SROR=Y
"RTN","SROATCM1",47,0)
 S SHEMP=SHEMP_$J($E(SROR,1,30),30) F I=1:1:6 S SHEMP=SHEMP_$J($P(SRA(52),"^",I),2)
"RTN","SROATCM1",48,0)
 S SHEMP=SHEMP_$J($P(SRA(200),"^",55),2) F I=9:1:14 S SHEMP=SHEMP_$J($P(SRA(200.1),"^",I),2)
"RTN","SROATCM1",49,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 6 ",SRACNT=SRACNT+1
"RTN","SROATCM1",50,0)
 S SHEMP=SHEMP_$J($P(SRA(205),"^",27),2)_$J($P(SRA(208),"^",3),2)_$J($P(SRA(205),"^",17),2)_$J($P(SRA(208),"^",4),2)_$J($P(SRA(208),"^",5),2)_$J($P(SRA(205),"^",28),2)_$J($P(SRA(208),"^",6),2)
"RTN","SROATCM1",51,0)
 N SRRCS D RCSP S SHEMP=SHEMP_$J($P(SRA(205),"^",13),2)_$J(SRRCS,2)_$J($P(SRA(205),"^",22),2)
"RTN","SROATCM1",52,0)
 N SRCVA D CVA S SHEMP=SHEMP_$J(SRCVA,2)
"RTN","SROATCM1",53,0)
 N SRIP D CPR S SHEMP=SHEMP_$J(SRIP,2)
"RTN","SROATCM1",54,0)
 ;
"RTN","SROATCM1",55,0)
 ;Ethnicity contained in VADM(11)
"RTN","SROATCM1",56,0)
 N SROETCD,SROPTF S SROETCD="",SROPTF=""
"RTN","SROATCM1",57,0)
 S SROETCD=$P($G(VADM(11,1)),U,1)            ;Ethnicity code
"RTN","SROATCM1",58,0)
 S SROPTF=$$PTR2CODE^DGUTL4(SROETCD,2,4)     ;PTF Ethnicity code
"RTN","SROATCM1",59,0)
 S SHEMP=SHEMP_$J($G(SROPTF),1)   ;Ethnicity
"RTN","SROATCM1",60,0)
 ;
"RTN","SROATCM1",61,0)
 ;Multiple races contained in VADM(12)
"RTN","SROATCM1",62,0)
 N SRORAC,SRORCD,SRORCE S SRORCE=0,SRORAC="",SRORACE="",SRORCD=""
"RTN","SROATCM1",63,0)
 F  S SRORCE=$O(VADM(12,SRORCE)) Q:SRORCE=""  D
"RTN","SROATCM1",64,0)
 .S SRORAC=$P($G(VADM(12,SRORCE)),U,1)        ;Race code
"RTN","SROATCM1",65,0)
 .S SRORCD=$$PTR2CODE^DGUTL4(SRORAC,1,4)     ;PTF race code
"RTN","SROATCM1",66,0)
 .S SRORACE=SRORACE_$J(SRORCD,1)
"RTN","SROATCM1",67,0)
 ;
"RTN","SROATCM1",68,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP_SRORACE  ;Eth, race added
"RTN","SROATCM1",69,0)
 ;
"RTN","SROATCM1",70,0)
 S SHEMP=$E(SHEMP,1,11)_" 7 ",SRACNT=SRACNT+1
"RTN","SROATCM1",71,0)
 S SHEMP=SHEMP_$TR(SRANAME,","," ")
"RTN","SROATCM1",72,0)
 I $P($G(^SRF(SRTN,"RA")),"^",3)=1 S SHEMP=SHEMP_$J("***RE-TRANSMISSION",38)
"RTN","SROATCM1",73,0)
 ; zip code, employ status, hemoglobin, hemo date, serum albumin, albumin date, creatitine date, total ischemic time, min invasive, total cpb time, total pre,post ICU & step down unit LOS,
"RTN","SROATCM1",74,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 8 ",SRACNT=SRACNT+1
"RTN","SROATCM1",75,0)
 K VADM D ADD^VADPT S X=$S($P(VAPA(11),"^",2)'="":$P(VAPA(11),"^",2),1:VAPA(6))
"RTN","SROATCM1",76,0)
 S SHEMP=SHEMP_$J(X,10)_$J($P(SRA(208),"^",18),1)_$J($P(SRA(201),"^",20),7)_$J($P(SRA(202),"^",20),7)_$J($P(SRA(201),"^",8),4)_$J($P(SRA(202),"^",8),7)_$J($P(SRA(202),"^",4),7)_$J($P(SRA(206),"^",36),4)
"RTN","SROATCM1",77,0)
 S SHEMP=SHEMP_$J($P(SRA(207),"^",22),1)_$J($P(SRA(206),"^",37),4)_$J($P(SRA(207),"^",23),2)
"RTN","SROATCM1",78,0)
 ; cpt codes
"RTN","SROATCM1",79,0)
NODE9 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 9 ",SRACNT=SRACNT+1
"RTN","SROATCM1",80,0)
 S SRPMOD="",SR10SP="          ",CPT=$P($G(^SRO(136,SRTN,0)),"^",2) D
"RTN","SROATCM1",81,0)
 .I CPT S CPT=$P($$CPT^ICPTCOD(CPT),"^",2),SRCASE=SRTN D MOD^SROATM3 S SRPMOD=SRM
"RTN","SROATCM1",82,0)
 .S SHEMP=SHEMP_$J(CPT,5),SRPMOD=SRPMOD_SR10SP
"RTN","SROATCM1",83,0)
 K CPT F I=1:1:10 S (CPT(I),SRMOD(I))=""
"RTN","SROATCM1",84,0)
 S (OPS,CNT)=0 F  S OPS=$O(^SRO(136,SRTN,3,OPS)) Q:'OPS!(CNT=10)  S CNT=CNT+1,X=$P($G(^SRO(136,SRTN,3,OPS,0)),"^") I X S CPT(CNT)=$P($$CPT^ICPTCOD(X),"^",2) D OTH^SROATM3
"RTN","SROATCM1",85,0)
 S SHEMP=SHEMP_$J(CPT(1),5)_$J(CPT(2),5)_$J(CPT(3),5)_$J(CPT(4),5)_$J(CPT(5),5)_$J(CPT(6),5)_$J(CPT(7),5)_$J(CPT(8),5)_$J(CPT(9),5)_$J(CPT(10),5)
"RTN","SROATCM1",86,0)
 ; card cath date, admission date/time, hospital discharge date/time, anesthesia start & end date/times
"RTN","SROATCM1",87,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 10",SRACNT=SRACNT+1
"RTN","SROATCM1",88,0)
 I $P(SRA(207),"^",21)'="" D
"RTN","SROATCM1",89,0)
 .I $E($P(SRA(207),"^",21),8)="." Q
"RTN","SROATCM1",90,0)
 .E  S $P(SRA(207),"^",21)=$P(SRA(207),"^",21)_"."
"RTN","SROATCM1",91,0)
 S $P(SRA(207),"^",21)=$$LJ^XLFSTR($P(SRA(207),"^",21),12,0)
"RTN","SROATCM1",92,0)
 S SHEMP=SHEMP_$J($E($P(SRA(207),"^",21),1,12),12)
"RTN","SROATCM1",93,0)
 S (SRDATE,SRI)="" F SRI=14,15 S SRDATE=$E($P($G(SRA(208)),"^",SRI),1,12) S SRDATE=$$LJ^XLFSTR(SRDATE,12,0) S SHEMP=SHEMP_SRDATE
"RTN","SROATCM1",94,0)
 S (SRDATE,SRI)="" F SRI=1,4 S SRDATE=$P(SRA(.2),"^",SRI) S SRDATE=$$LJ^XLFSTR(SRDATE,12,0) S SHEMP=SHEMP_SRDATE
"RTN","SROATCM1",95,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 11",SRACNT=SRACNT+1
"RTN","SROATCM1",96,0)
 S (SRDATE,SRI)="" F SRI=10,12,2,3 S SRDATE=$P(SRA(.2),"^",SRI),SRDATE=$$LJ^XLFSTR(SRDATE,12,0) S SHEMP=SHEMP_SRDATE
"RTN","SROATCM1",97,0)
 ; preop risk factors comments
"RTN","SROATCM1",98,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 12",SRACNT=SRACNT+1 S SHEMP=SHEMP_$TR($E($G(^SRF(SRTN,206.1)),1,65),",","^")
"RTN","SROATCM1",99,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 13",SRACNT=SRACNT+1 S SHEMP=SHEMP_$TR($E($G(^SRF(SRTN,206.1)),66,130),",","^")
"RTN","SROATCM1",100,0)
 ; resource data comments
"RTN","SROATCM1",101,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 14",SRACNT=SRACNT+1 S SHEMP=SHEMP_$TR($E($G(^SRF(SRTN,206.2)),1,65),",","^")
"RTN","SROATCM1",102,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 15",SRACNT=SRACNT+1 S SHEMP=SHEMP_$TR($E($G(^SRF(SRTN,206.2)),66,130),",","^")
"RTN","SROATCM1",103,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SRACNT=SRACNT+1,SHEMP=$E(SHEMP,1,11)_" 16"_$E(SRPMOD,1,10) F I=1:1:5 S SHEMP=SHEMP_$E(SRMOD(I)_SR10SP,1,10)
"RTN","SROATCM1",104,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SRACNT=SRACNT+1,SHEMP=$E(SHEMP,1,11)_" 17" F I=6:1:10 S SHEMP=SHEMP_$E(SRMOD(I)_SR10SP,1,10)
"RTN","SROATCM1",105,0)
 S X=$$SITE^SROUTL0(SRTN),SRDIV=$S(X:$P(^SRO(133,X,0),"^"),1:""),SRDIV=$S(SRDIV:$$GET1^DIQ(4,SRDIV,99),1:SRASITE),SHEMP=SHEMP_$J(SRDIV,6)
"RTN","SROATCM1",106,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SRACNT=SRACNT+1
"RTN","SROATCM1",107,0)
 Q
"RTN","SROATCM1",108,0)
RCSP S SRRCS=0,X=$P(SRA(208),"^",7) I X="N" Q
"RTN","SROATCM1",109,0)
 N SROCC S SROCC=0 F  S SROCC=$O(^SRF(SRTN,16,SROCC)) Q:'SROCC  I $P(^SRF(SRTN,16,SROCC,0),"^",2)=27 S X=$P(^SRF(SRTN,16,SROCC,0),"^",5) S:X'="" SRRCS=X Q
"RTN","SROATCM1",110,0)
 Q
"RTN","SROATCM1",111,0)
CVA S X=$P(SRA(205),"^",21),SRCVA=$S(X="Y":"Y",1:1) I SRCVA=1 Q
"RTN","SROATCM1",112,0)
 N SROCC S SROCC=0 F  S SROCC=$O(^SRF(SRTN,16,SROCC)) Q:'SROCC  I $P(^SRF(SRTN,16,SROCC,0),"^",2)=12 S X=$P(^SRF(SRTN,16,SROCC,0),"^",8) S:X'="" SRCVA=X Q
"RTN","SROATCM1",113,0)
 Q
"RTN","SROATCM1",114,0)
CPR S SRIP=$P(SRA(205),"^",26) I SRIP'="Y" Q
"RTN","SROATCM1",115,0)
 N SROCC S SROCC=0 F  S SROCC=$O(^SRF(SRTN,10,SROCC)) Q:'SROCC  I $P(^SRF(SRTN,10,SROCC,0),"^",2)=16 S SRIP="I" Q
"RTN","SROATCM1",116,0)
 I SRIP="Y" S SROCC=0 F  S SROCC=$O(^SRF(SRTN,16,SROCC)) Q:'SROCC  I $P(^SRF(SRTN,16,SROCC,0),"^",2)=16 S SRIP="P" Q
"RTN","SROATCM1",117,0)
 Q
"RTN","SROATM1")
0^15^B25818950^B25037601
"RTN","SROATM1",1,0)
SROATM1 ;BIR/MAM - NON CARDIAC TRANSMISSION ;09/15/2011
"RTN","SROATM1",2,0)
 ;;3.0;Surgery;**27,38,47,60,62,81,88,93,95,125,153,160,166,174,176**;24 Jun 93;Build 8
"RTN","SROATM1",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SROATM1",4,0)
 ;**         controlled procedure. Local modifications to this routine
"RTN","SROATM1",5,0)
 ;**         are prohibited.
"RTN","SROATM1",6,0)
 ;
"RTN","SROATM1",7,0)
 ; Reference to ^DIC(45.3 supported by DBIA #218
"RTN","SROATM1",8,0)
 ;
"RTN","SROATM1",9,0)
 N SRINTUB,SRDTH,SRPID,SROR F I=0,200,200.1,206,52 S SRA(I)=$G(^SRF(SRTN,I))
"RTN","SROATM1",10,0)
 S DFN=$P(SRA(0),"^") N I D DEM^VADPT S SRANAME=VADM(1),SEX=$P(VADM(5),"^"),Z=$P(VADM(3),"^"),SRSDATE=$E($P(SRA(0),"^",9),1,12),Y=$E(SRSDATE,1,7),AGE=$E(Y,1,3)-$E(Z,1,3)-($E(Y,4,7)<$E(Z,4,7))
"RTN","SROATM1",11,0)
 S SRPID=VA("PID"),SRPID=$TR(SRPID,"-","") ; remove hyphens from PID
"RTN","SROATM1",12,0)
 S X=$$SITE^SROUTL0(SRTN),SRDIV=$S(X:$P(^SRO(133,X,0),"^"),1:""),SRDIV=$S(SRDIV:$$GET1^DIQ(4,SRDIV,99),1:SRASITE)
"RTN","SROATM1",13,0)
 S X=$P($G(^SRF(SRTN,205)),"^",3),SRDTH=$S(X:X,1:$P(VADM(6),"^"))
"RTN","SROATM1",14,0)
 S SROR="",Y=$P(SRA(0),"^",2),C=$P(^DD(130,.02,0),"^",2) I Y'="" D Y^DIQ S SROR=Y
"RTN","SROATM1",15,0)
 S SHEMP=">"_$J(SRASITE,3)_$J(SRTN,7)_"  1"_DT_$J(AGE,3)_$J(SEX,1)_$J(SRSDATE,12)_$J(SRPID,20)_$J(SRDIV,6)_$J(SRDTH,12)_$J($E(SROR,1,30),30)
"RTN","SROATM1",16,0)
 F I=1:1:6 S SHEMP=SHEMP_$J($P(SRA(52),"^",I),2)
"RTN","SROATM1",17,0)
 S SHEMP=SHEMP_$J($P(SRA(200),"^",55),2) F I=9:1:14 S SHEMP=SHEMP_$J($P(SRA(200.1),"^",I),2)
"RTN","SROATM1",18,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_"  2",SRACNT=SRACNT+1
"RTN","SROATM1",19,0)
 S NYUK=$P(SRA(200),"^",2) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",3) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",4) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200.1),"^",2) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",20,0)
 S NYUK=$P(SRA(200),"^",6) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",7) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",8) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",10) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",21,0)
 S NYUK=$P(SRA(200),"^",11) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",12) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200.1),"^",6) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",15) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",22,0)
 S NYUK=$P(SRA(200),"^",16) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",17) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",31) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",32) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",23,0)
 S NYUK=$P(SRA(200),"^",33) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",34) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",35) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",36) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",24,0)
 S NYUK=$P(SRA(200),"^",38) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",39) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",41) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",42) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",25,0)
 S NYUK=$P(SRA(200),"^",43) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",19) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",20) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",21) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",26,0)
 S NYUK=$P(SRA(200),"^",22) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",23) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",24) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",25) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",27,0)
 S NYUK=$P(SRA(200),"^",26) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",27) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",28) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",29) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",28,0)
 S NYUK=$P(SRA(200),"^",45) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",46) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",47) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",48) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",29,0)
 S NYUK=$P(SRA(200),"^",49) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",50) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200.1),"^",3),SHEMP=SHEMP_$J(NYUK,2)
"RTN","SROATM1",30,0)
 S NYUK=$P(SRA(0),"^",4) S:NYUK NYUK=$E($P(^DIC(45.3,$P(^SRO(137.45,NYUK,0),"^",2),0),"^"),1,3) S SHEMP=SHEMP_$J(NYUK,3)
"RTN","SROATM1",31,0)
 S NYUK=$P(SRA(200),"^",52),SHEMP=SHEMP_$J(NYUK,2),X=$P(SRA(0),"^",10),NYUK=$S(X="EM":"Y",1:"N") D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",32,0)
 S NYUK=$P($G(^SRF(SRTN,"1.0")),"^",8),SHEMP=SHEMP_$J(NYUK,2),NYUK=$P(SRA(200),"^",53) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",33,0)
 S SRASA="",Y=$P($G(^SRF(SRTN,1.1)),"^",3) S:Y X=$P($G(^SRO(132.8,Y,0)),"^"),SRASA=X S NYUK=$E(SRASA,1,1) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",34,0)
 K SRTECH,SRZ,SRTRAUMA S SRT=0 F  S SRT=$O(^SRF(SRTN,6,SRT)) Q:'SRT  D ^SROPRIN Q:$D(SRZ)
"RTN","SROATM1",35,0)
 I $D(SRTECH) S SRTRAUMA=$P(^SRF(SRTN,6,SRT,0),"^",14),SRINTUB=$P($G(^SRF(SRTN,6,SRT,8)),"^",2)
"RTN","SROATM1",36,0)
 I '$D(SRTECH) S (SRTECH,SRTRAUMA,SRINTUB)=""
"RTN","SROATM1",37,0)
 S SHEMP=SHEMP_$J(SRTECH,1)_$J($E(SRASA,2),1)_$J(SRINTUB,1)_$J($P(SRA(200.1),"^",8),1)
"RTN","SROATM1",38,0)
 S NYUK=$P(SRA(206),"^"),SHEMP=SHEMP_$J(NYUK,4),NYUK=$P(SRA(206),"^",2),SHEMP=SHEMP_$J(NYUK,4)
"RTN","SROATM1",39,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_"  3",SRACNT=SRACNT+1
"RTN","SROATM1",40,0)
 D ^SROATM2
"RTN","SROATM1",41,0)
 Q
"RTN","SROATM1",42,0)
ONE S MOE=$S(NYUK="NS":"S",NYUK="":" ",1:NYUK)
"RTN","SROATM1",43,0)
 Q
"RTN","SROATM2")
0^53^B35035640^B33810934
"RTN","SROATM2",1,0)
SROATM2 ;BIR/MAM - NON CARDIAC TRANSMISSION (CONT) ;09/15/2011
"RTN","SROATM2",2,0)
 ;;3.0;Surgery;**38,39,45,47,57,60,62,68,81,88,97,129,125,142,153,160,174,175,176**;24 Jun 93;Build 8
"RTN","SROATM2",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SROATM2",4,0)
 ;**         controlled procedure. Local modifications to this routine
"RTN","SROATM2",5,0)
 ;**         are prohibited.
"RTN","SROATM2",6,0)
 ;
"RTN","SROATM2",7,0)
 K SRA F I=.2,.3,1.1,200.1,201:1:208,208.1,202.1 S SRA(I)=$G(^SRF(SRTN,I))
"RTN","SROATM2",8,0)
 S SRA("CON")=$P($G(^SRF(SRTN,"CON")),"^") I SRA("CON"),$P($G(^SRF(SRA("CON"),30)),"^")!($P($G(^SRF(SRA("CON"),31)),"^",8)) S SRA("CON")=""
"RTN","SROATM2",9,0)
 D RS
"RTN","SROATM2",10,0)
 S SHEMP=SHEMP_$J($E($P(SRA(.2),"^",2),1,12),12)_$J($E($P(SRA(.2),"^",3),1,12),12)_$J(SRATT,2)_$J($P(SRA(200.1),"^",4),2)_$J($P($G(^SRF(SRTN,200)),"^",54),2)
"RTN","SROATM2",11,0)
 S SRICD=$P($G(^SRO(136,SRTN,0)),"^",3) S:SRICD SRICD=$P(^ICD9(SRICD,0),"^") S SHEMP=SHEMP_$J(SRICD,6)_$J($P(SRA(205),"^"),4)_"        "
"RTN","SROATM2",12,0)
 S NYUK="N",SRET=0 F  S SRET=$O(^SRF(SRTN,29,SRET)) Q:'SRET  S CASE=$P(^SRF(SRTN,29,SRET,0),"^") I $P($G(^SRF(CASE,.2)),"^",10) S NYUK="Y" Q
"RTN","SROATM2",13,0)
 S SHEMP=SHEMP_NYUK_$J($P($G(^SRF(SRTN,.4)),"^",7),1)_$J($E($P($G(^SRF(SRTN,0)),"^",12)),1)_$J($P($G(^SRF(SRTN,0)),"^",3),1)
"RTN","SROATM2",14,0)
 S (SRADMIT,SRADMT)=0 I '$P(SRA(208),"^",14) D ADM^SROQ0A S SRADMIT=$S(SRADMT=0:"0",1:"1")
"RTN","SROATM2",15,0)
 S SHEMP=SHEMP_" "_SRADMIT D OCC^SROATMNO S SHEMP=SHEMP_SRTMP_$J(SROCTYPE,1)_$J(SROC(35),2)_$J(SROC(36),2)
"RTN","SROATM2",16,0)
 S NYUK=$E($P(VADM(3),"^"),1,7),SHEMP=SHEMP_$J(NYUK,7) ; date of birth
"RTN","SROATM2",17,0)
 S SHEMP=SHEMP_$J(SROC(38),2)_$J(SROC(39),2) K SROC,SROCTYPE,SRTMP
"RTN","SROATM2",18,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_"  4",SRACNT=SRACNT+1
"RTN","SROATM2",19,0)
 F MOE=1:1:6 S CPT(MOE)=""
"RTN","SROATM2",20,0)
 S (X,CNT)=0 F  S X=$O(^SRF(SRTN,29,X)) Q:'X!(CNT=6)  I $P(^SRF(SRTN,29,X,0),"^",3)="R" S NYUK=$P(^SRF(SRTN,29,X,0),"^") D RETURN
"RTN","SROATM2",21,0)
 S SHEMP=SHEMP_$J(CNT,2)
"RTN","SROATM2",22,0)
 S SHEMP=SHEMP_$J(CPT(1),5)_$J(CPT(2),5)_$J(CPT(3),5)_$J(CPT(4),5)_$J(CPT(5),5)_$J(CPT(6),5)
"RTN","SROATM2",23,0)
 F MOE=1:1:6 S CPT(MOE)=""
"RTN","SROATM2",24,0)
 S (X,CNT)=0 F  S X=$O(^SRF(SRTN,29,X)) Q:'X!(CNT=6)  I $P(^SRF(SRTN,29,X,0),"^",3)'="R" S NYUK=$P(^SRF(SRTN,29,X,0),"^") D RETURN
"RTN","SROATM2",25,0)
 S SHEMP=SHEMP_$J(CNT,2)
"RTN","SROATM2",26,0)
 S SHEMP=SHEMP_$J(CPT(1),5)_$J(CPT(2),5)_$J(CPT(3),5)_$J(CPT(4),5)_$J(CPT(5),5)_$J(CPT(6),5)
"RTN","SROATM2",27,0)
 S SRSDATE=$P(^SRF(SRTN,0),"^",9) K SRSEP D OCC^SROAUTL0 S:'$D(SRO) SRO="",$P(SRO," ",198)="" S SHEMP=SHEMP_$E(SRO,1,112)
"RTN","SROATM2",28,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_"  5",SRACNT=SRACNT+1
"RTN","SROATM2",29,0)
 S NYUK=$P(SRA(205),"^",6) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",7) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",8) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",10) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM2",30,0)
 S NYUK="N" I $P(SRA(205),"^",11)="Y"!($P(SRA(205),"^",28)="Y") S NYUK="Y"
"RTN","SROATM2",31,0)
 D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",12) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",13) D ONE S SHEMP=SHEMP_MOE,NYUK=$P($G(SROOC(29)),U)
"RTN","SROATM2",32,0)
 D IFELSE
"RTN","SROATM2",33,0)
 S NYUK=$P(SRA(205),"^",16) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",17) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",18) D ONE S SHEMP=SHEMP_MOE,NYUK=$P($G(SROOC(31)),U)
"RTN","SROATM2",34,0)
 D IFELSE
"RTN","SROATM2",35,0)
 N SRCVA D CVA S SHEMP=SHEMP_SRCVA
"RTN","SROATM2",36,0)
 S NYUK=$P(SRA(205),"^",22) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",23) D ONE S SHEMP=SHEMP_MOE,NYUK=$P($G(SROOC(30)),U)
"RTN","SROATM2",37,0)
 D IFELSE
"RTN","SROATM2",38,0)
 S NYUK=$P(SRA(205),"^",26) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",27) D ONE S SHEMP=SHEMP_MOE_" " S NYUK=$P($G(SROOC(32)),U)
"RTN","SROATM2",39,0)
 D IFELSE
"RTN","SROATM2",40,0)
 S NYUK=$P(SRA(205),"^",31) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",32) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",33) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",34) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM2",41,0)
 S NYUK=$P(SRA(205),"^",35) D ONE S SHEMP=SHEMP_MOE,NYUK=$P($G(SROOC(21)),U) D IFELSE
"RTN","SROATM2",42,0)
 S SHEMP=SHEMP_$E(SRO,113,196),NYUK=$P(SRA(205),"^",37) D ONE S SHEMP=SHEMP_MOE,NYUK=$P($G(SROOC(36)),U) D IFELSE
"RTN","SROATM2",43,0)
 S SHEMP=SHEMP_$J($E(SRO,204),1)
"RTN","SROATM2",44,0)
 S NYUK=$P(SRA(205),"^",39) D ONE S SHEMP=SHEMP_MOE_$E(SRO,197,203)
"RTN","SROATM2",45,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_"  6",SRACNT=SRACNT+1
"RTN","SROATM2",46,0)
 S SHEMP=SHEMP_$J($P(SRA(201),"^"),5)_$J($P(SRA(202),"^"),7)_$J($P(SRA(201),"^",8),4)_$J($P(SRA(202),"^",8),7)_$J($P(SRA(201),"^",9),5)_$J($P(SRA(202),"^",9),7)_$J($P(SRA(201),"^",5),5)_$J($P(SRA(202),"^",5),7)
"RTN","SROATM2",47,0)
 S SHEMP=SHEMP_$J($P(SRA(201),"^",4),4)_$J($P(SRA(202),"^",4),7)
"RTN","SROATM2",48,0)
 S SHEMP=SHEMP_$J($P(SRA(201),"^",27),5)_$J($P(SRA(202),"^",27),7)
"RTN","SROATM2",49,0)
 S SHEMP=SHEMP_$J($P(SRA(203),"^",15),5)_$J($P(SRA(204),"^",15),7)
"RTN","SROATM2",50,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_"  7",SRACNT=SRACNT+1
"RTN","SROATM2",51,0)
 S SHEMP=SHEMP_$J($E($P(SRA(208),"^",14),1,12),12)_"  "_$J($P($G(SRA(208)),"^",11),2)_$J($P($G(SRA(208)),"^",10),2)_$J($E($P($G(SRA(208)),"^",9),1,4),4)
"RTN","SROATM2",52,0)
 S SHEMP=SHEMP_$J($E($P(SRA(208),"^",15),1,12),12)_"    "_$J($P($G(SRA(206)),"^",3),2)_$J($P($G(SRA(206)),"^",4),2)_$J($P($G(SRA(206)),"^",8),2)_"  "
"RTN","SROATM2",53,0)
 S SHEMP=SHEMP_$J($E($P(SRA(208),"^",16),1,12),12)_$J($E($P(SRA(208),"^",17),1,12),12)_$J($E($P(SRA(.2),"^",12),1,12),12)_$J($E($P(SRA(.2),"^"),1,12),12)
"RTN","SROATM2",54,0)
 S SHEMP=SHEMP_$J($E($P(SRA(1.1),"^",8),1,12),12)_$J($E($P(SRA(208.1),"^"),1,12),12)_$J($E($P(SRA(208.1),"^",2),1,12),12)_$J($E($P(SRA(208.1),"^",3),1,3),3)_$J(SRA("CON"),10)_$J($E($P(SRA(.2),"^",4),1,12),12)
"RTN","SROATM2",55,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_"  8",SRACNT=SRACNT+1
"RTN","SROATM2",56,0)
 S SHEMP=SHEMP_$J($P(SRA(201),"^",11),5)_$J($P(SRA(202),"^",11),7)_$J($P(SRA(201),"^",12),5)_$J($P(SRA(202),"^",12),7)_$J($P(SRA(201),"^",13),4)_$J($P(SRA(202),"^",13),7)_$J($P(SRA(201),"^",14),4)_$J($P(SRA(202),"^",14),7)
"RTN","SROATM2",57,0)
 S SHEMP=SHEMP_$J($P(SRA(201),"^",15),5)_$J($P(SRA(202),"^",15),7)
"RTN","SROATM2",58,0)
 S SHEMP=SHEMP_$J($P(SRA(201),"^",28),6)_$J($P(SRA(202.1),"^"),7)
"RTN","SROATM2",59,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_"  9",SRACNT=SRACNT+1
"RTN","SROATM2",60,0)
 D ^SROATM3
"RTN","SROATM2",61,0)
 Q
"RTN","SROATM2",62,0)
ONE S MOE=$S(NYUK="NS":"S",NYUK="":" ",1:NYUK)
"RTN","SROATM2",63,0)
 Q
"RTN","SROATM2",64,0)
IFELSE I NYUK["NO ICD9" S SHEMP=SHEMP_$J(" ",6)
"RTN","SROATM2",65,0)
 E  S SHEMP=SHEMP_$J(NYUK,6)
"RTN","SROATM2",66,0)
 Q
"RTN","SROATM2",67,0)
CVA S X=$P(SRA(205),"^",21),SRCVA=$S(X="Y":"Y",1:1) I SRCVA=1 Q
"RTN","SROATM2",68,0)
 N SROCC S SROCC=0 F  S SROCC=$O(^SRF(SRTN,16,SROCC)) Q:'SROCC  I $P(^SRF(SRTN,16,SROCC,0),"^",2)=12 S X=$P(^SRF(SRTN,16,SROCC,0),"^",8) S:X'="" SRCVA=X Q
"RTN","SROATM2",69,0)
 Q
"RTN","SROATM2",70,0)
RS ; resident supervision (attending code)
"RTN","SROATM2",71,0)
 N SRSR,SRX S (SRATT,SRSR)="",SRX=$G(^SRF(SRTN,.1)) D SRES
"RTN","SROATM2",72,0)
 S SRATT=$P(SRX,"^",10) I SRATT="" D
"RTN","SROATM2",73,0)
 .I SRSR=0 S SRATT=$S($P(^SRF(SRTN,0),"^",9)<3040401:1,1:9) Q
"RTN","SROATM2",74,0)
 .S SRATT=99
"RTN","SROATM2",75,0)
 Q
"RTN","SROATM2",76,0)
SRES ; does site have residents?
"RTN","SROATM2",77,0)
 N SRDIV,SRSITE,Y S SRDIV=$P($G(^SRF(SRTN,8)),"^") I SRDIV S SRSITE=$O(^SRO(133,"B",SRDIV,0)),SRSR=$P(^SRO(133,SRSITE,0),"^",19)
"RTN","SROATM2",78,0)
 Q
"RTN","SROATM2",79,0)
RETURN ; CPT of Returns
"RTN","SROATM2",80,0)
 S Y=$P($G(^SRO(136,NYUK,0)),"^",2) I Y S CNT=CNT+1,CPT(CNT)=$P($$CPT^ICPTCOD(Y),"^",2)
"RTN","SROATM2",81,0)
 Q
"RTN","SROATMNO")
0^14^B36435737^B31693935
"RTN","SROATMNO",1,0)
SROATMNO ;BIR/MAM - TRANSMIT NO ASSESSMENT ;09/12/2011
"RTN","SROATMNO",2,0)
 ;;3.0;Surgery;**27,38,47,62,68,79,83,81,88,93,95,97,129,125,142,153,160,166,174,175,176**;24 Jun 93;Build 8
"RTN","SROATMNO",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SROATMNO",4,0)
 ;**         controlled procedure. Local modifications to this routine
"RTN","SROATMNO",5,0)
 ;**         are prohibited.
"RTN","SROATMNO",6,0)
 ;
"RTN","SROATMNO",7,0)
 ; Reference to ^DIC(45.3 supported by DBIA #218
"RTN","SROATMNO",8,0)
 ;
"RTN","SROATMNO",9,0)
 N SR1L,SR10SP,SRINTUB,SR95PO,SRLO,SRPID,TDATE K ^TMP("SRA",$J) S SRATOT=0,SRASITE=+$P($$SITE^SROVAR,"^",3),(SRAMNUM,SRACNT)=1
"RTN","SROATMNO",10,0)
 S Z=$E(DT,1,3)-2,SRLO=Z_"1215"
"RTN","SROATMNO",11,0)
 S TDATE=0 F  S TDATE=$O(^SRF("AQ",TDATE)) Q:TDATE=""  I DT'<TDATE S SRTN=0 F  S SRTN=$O(^SRF("AQ",TDATE,SRTN)) Q:'SRTN  D SET
"RTN","SROATMNO",12,0)
 S SRATOTM=SRAMNUM,SR1L=1 D ^SROATM4
"RTN","SROATMNO",13,0)
 Q
"RTN","SROATMNO",14,0)
SET I $P($G(^SRF(SRTN,.4)),"^",2)="T"!(TDATE<SRLO) K ^SRF("AQ",TDATE,SRTN) Q
"RTN","SROATMNO",15,0)
 I $P($G(^SRF(SRTN,"NON")),"^")="Y" K ^SRF("AQ",TDATE,SRTN) S $P(^SRF(SRTN,.4),"^",2)="" Q
"RTN","SROATMNO",16,0)
 I $P($G(^SRF(SRTN,"RA")),"^",6)="Y",$P($G(^SRF(SRTN,"RA")),"^",2)="N" K ^SRF("AQ",TDATE,SRTN) Q
"RTN","SROATMNO",17,0)
 I $P($G(^SRF(SRTN,0)),"^",9)="" K ^SRF("AQ",TDATE,SRTN) Q
"RTN","SROATMNO",18,0)
 S SR10SP="          " K DA,DIE,DR S DA=SRTN,DIE=130,DR="905///R" D ^DIE K DR,DA,DIE
"RTN","SROATMNO",19,0)
 S SRA(0)=^SRF(SRTN,0),DATE=$E($P(SRA(0),"^",9),1,7),SPEC=$P(SRA(0),"^",4) S:SPEC SPEC=$P(^DIC(45.3,$P(^SRO(137.45,SPEC,0),"^",2),0),"^")
"RTN","SROATMNO",20,0)
 S EMERG=$P(SRA(0),"^",10),EMERG=$S(EMERG="EM":"Y",1:"N")
"RTN","SROATMNO",21,0)
 K SRTECH,SRZ S SRT=0 F  S SRT=$O(^SRF(SRTN,6,SRT)) Q:'SRT  D ^SROPRIN Q:$D(SRZ)
"RTN","SROATMNO",22,0)
 I $D(SRTECH) S SRINTUB=$P($G(^SRF(SRTN,6,SRT,8)),"^",2)
"RTN","SROATMNO",23,0)
 I '$D(SRTECH) S (SRTECH,SRINTUB)=""
"RTN","SROATMNO",24,0)
 S CPT=$P($G(^SRO(136,SRTN,0)),"^",2),SRPMOD="" I CPT S CPT=$P($$CPT^ICPTCOD(CPT),"^",2) D
"RTN","SROATMNO",25,0)
 .S SRM=0,SRCNT=1 F  S SRM=$O(^SRO(136,SRTN,1,SRM)) Q:'SRM  D  Q:SRCNT>5
"RTN","SROATMNO",26,0)
 ..S X=$P(^SRO(136,SRTN,1,SRM,0),"^") I X S Y=$P($$MOD^ICPTMOD(X,"I"),"^",2),SRPMOD=SRPMOD_Y,SRCNT=SRCNT+1
"RTN","SROATMNO",27,0)
 S DFN=$P(SRA(0),"^") N I D DEM^VADPT S SRDOB=$E($P(VADM(3),"^"),1,7),SRDEATH=$P(VADM(6),U),SRSEX=$P(VADM(5),"^")
"RTN","SROATMNO",28,0)
 S SRPID=VA("PID"),SRPID=$TR(SRPID,"-","") ; remove hyphens from PID
"RTN","SROATMNO",29,0)
 S X=$$SITE^SROUTL0(SRTN),SRDIV=$S(X:$P(^SRO(133,X,0),"^"),1:""),SRDIV=$S(SRDIV:$$GET1^DIQ(4,SRDIV,99),1:SRASITE)
"RTN","SROATMNO",30,0)
 D RS^SROATM2
"RTN","SROATMNO",31,0)
 S SRMAJMIN=$E($P($G(^SRF(SRTN,0)),U,3),1)
"RTN","SROATMNO",32,0)
 S SRDTHUR=$E($P($G(^SRF(SRTN,.4)),U,7),1)
"RTN","SROATMNO",33,0)
 S SRSTATUS=$S($P($G(^SRF(SRTN,208)),"^",14):"I",1:$E($P($G(^SRF(SRTN,0)),U,12),1))
"RTN","SROATMNO",34,0)
 I SRSTATUS'="I"&(SRSTATUS'="O") S VAIP("D")=$P(SRA(0),"^",9) D IN5^VADPT S SRSTATUS=$S(VAIP(13):"I",1:"O") K VAIP
"RTN","SROATMNO",35,0)
 S SRAGE="" I $P(VADM(3),"^") S SRAGE=$E(DATE,1,3)-$E($P(VADM(3),"^"),1,3)-($E(DATE,4,7)<$E($P(VADM(3),"^"),4,7))
"RTN","SROATMNO",36,0)
 S SRASA="",Y=$P($G(^SRF(SRTN,1.1)),"^",3) S:Y X=$P($G(^SRO(132.8,Y,0)),"^"),SRASA=$E(X,1,2)
"RTN","SROATMNO",37,0)
 ; Admission wi 14 days following outpatient surgery due to an Occurrence
"RTN","SROATMNO",38,0)
 S (SRADMIT,SRADMT)=0 I SRSTATUS="O" D ADM^SROQ0A S SRADMIT=$S(SRADMT=0:"0",1:"1")
"RTN","SROATMNO",39,0)
 S EXC=$P($G(^SRF(SRTN,"RA")),"^",7),SRWOUND=$P($G(^SRF(SRTN,"1.0")),"^",8)
"RTN","SROATMNO",40,0)
 D OCC
"RTN","SROATMNO",41,0)
 S SRNODE="  X" S:$P($G(^SRF(SRTN,"RA")),U,6)="N" SRNODE="  *" S:$P($G(^SRF(SRTN,"RA")),U,2)="C" SRNODE="  C"
"RTN","SROATMNO",42,0)
 S SRTEMP="/"_$J(SRASITE,3)_$J(SRTN,7)_SRNODE_$J(DATE,7)_$J(SRTECH,3)_$J(EMERG,1)_$J(SPEC,3)_$J(CPT,5)_$J(EXC,1)_$J(SRPID,20)_$J(SRDIV,6)_$J(SRSEX,1)
"RTN","SROATMNO",43,0)
 S SRTEMP=SRTEMP_$J(SRMAJMIN,1)_$J($E(SRDEATH,1,7),7)_$J(SRDTHUR,1)_$J(SRSTATUS,1)_$J(SRAGE,3)_$J(SRASA,2)_$J(SRADMIT,1)_SRTMP
"RTN","SROATMNO",44,0)
 K CPT,SRMOD F SRZ=1:1:10 S (CPT(SRZ),SRMOD(SRZ))=""
"RTN","SROATMNO",45,0)
 S (OPS,CNT)=0 F  S OPS=$O(^SRO(136,SRTN,3,OPS)) Q:'OPS!(CNT=10)  S CNT=CNT+1,X=$P($G(^SRO(136,SRTN,3,OPS,0)),"^") I X S CPT(CNT)=$P($$CPT^ICPTCOD(X),"^",2) D MOD
"RTN","SROATMNO",46,0)
 S SRCC=$P($G(^SRF(SRTN,"CON")),"^"),SRBLANK="          "
"RTN","SROATMNO",47,0)
 I SRCC,$P($G(^SRF(SRCC,30)),"^")!($P($G(^SRF(SRCC,31)),"^",8)) S SRCC=""
"RTN","SROATMNO",48,0)
 S SRTEMP=SRTEMP_$J(CPT(1),5)_$J(CPT(2),5)_$J(CPT(3),5)_$J(CPT(4),5)_$J(CPT(5),5)_$J(CPT(6),5)_$J(CPT(7),5)_$J(CPT(8),5)_$J(CPT(9),5)_$J(CPT(10),5)_$J(SRWOUND,2)_$J(SROCTYPE,1)_SRBLANK_$J(SRCC,10)_$J(SRDEATH,12)
"RTN","SROATMNO",49,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SRTEMP,SRACNT=SRACNT+1
"RTN","SROATMNO",50,0)
 S SRICD=$P($G(^SRO(136,SRTN,0)),"^",3) S:SRICD SRICD=$P(^ICD9(SRICD,0),"^")
"RTN","SROATMNO",51,0)
 N SRCVA D CVA S SRA(.2)=$G(^SRF(SRTN,.2))
"RTN","SROATMNO",52,0)
 S SRTEMP="/"_$J(SRASITE,3)_$J(SRTN,7)_"  B"_$J($E($P(SRA(.2),"^"),1,12),12)_$J($E($P(SRA(.2),"^",4),1,12),12)_$E(SRPMOD_SR10SP,1,10)
"RTN","SROATMNO",53,0)
 F I=1:1:10 S SRTEMP=SRTEMP_$E(SRMOD(I)_SR10SP,1,10)
"RTN","SROATMNO",54,0)
 S SRTEMP=SRTEMP_$J(SRINTUB,1)_SR95PO_$J(SRATT,2)_$J(SRDOB,7)_$J(SRICD,6)_$J(SROC(38),2)_$J(SROC(39),2)
"RTN","SROATMNO",55,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SRTEMP_$J($P(SRA(.2),"^",10),12)_$J($P(SRA(.2),"^",12),12)_$J($P(SRA(.2),"^",2),12)_$J($P(SRA(.2),"^",3),12)_$J(SRCVA,1),SRACNT=SRACNT+1
"RTN","SROATMNO",56,0)
 S SRA(.9)=$G(^SRF(SRTN,.9)),SRA("VER")=$G(^SRF(SRTN,"VER")),SRA(52)=$G(^SRF(SRTN,52))
"RTN","SROATMNO",57,0)
 S SRTEMP="/"_$J(SRASITE,3)_$J(SRTN,7)_"  D"_$J($P(SRA(.9),"^"),12)_$J($P(SRA(.9),"^",2),12)_$J($P(SRA(.9),"^",3),12)_$J($P(SRA(.9),"^",4),12)_$J($P(SRA(.9),"^",5),12)_$J($P(SRA(.9),"^",6),12)
"RTN","SROATMNO",58,0)
 S SRTEMP=SRTEMP_$J($P($G(^SRF(SRTN,30)),"^"),12)_$J($P($G(^SRF(SRTN,31)),"^",8),4)_$J($P($G(^SRF(SRTN,30)),"^",4),50)
"RTN","SROATMNO",59,0)
 F I=7:1:18 S SRTEMP=SRTEMP_$J($P(SRA("VER"),"^",I),2)
"RTN","SROATMNO",60,0)
 S SROR="",Y=$P(^SRF(SRTN,0),"^",2),C=$P(^DD(130,.02,0),"^",2) I Y'="" D Y^DIQ S SROR=Y
"RTN","SROATMNO",61,0)
 S SRTEMP=SRTEMP_$J($E(SROR,1,30),30) F I=1:1:6 S SRTEMP=SRTEMP_$J($P(SRA(52),"^",I),2)
"RTN","SROATMNO",62,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SRTEMP,SRACNT=SRACNT+1
"RTN","SROATMNO",63,0)
 I SRACNT>100 S SRACNT=1,SRAMNUM=SRAMNUM+1
"RTN","SROATMNO",64,0)
 S SRATOT=SRATOT+1
"RTN","SROATMNO",65,0)
 S X=$E($P(^SRF(SRTN,0),"^",9),1,5)_"00",^TMP("SRWL",$J,X)=""
"RTN","SROATMNO",66,0)
 K DATE,ANES,EMERG,EXC,SPEC,SRADMIT,SRADMT,SRATT,SRBLANK,SRCC,SRDIV,SRDOB,SRDTHUR,SRICD,SRIO,SRMAJMIN,SROCTYPE,SROR,SRSEX,SRTEMP,SRTMP,SRWOUND,SRZ,SR14,CPT
"RTN","SROATMNO",67,0)
 Q
"RTN","SROATMNO",68,0)
OCC ; total of each occurrence by category
"RTN","SROATMNO",69,0)
 N SRIOFLAG,SRPOFLAG
"RTN","SROATMNO",70,0)
 F SRK=1:1:39 S SROC(SRK)=""
"RTN","SROATMNO",71,0)
 S (SRPO,SRIOFLAG)=0 F  S SRPO=$O(^SRF(SRTN,10,SRPO)) Q:'SRPO  S SRSUB=$P(^SRF(SRTN,10,SRPO,0),U,2) I SRSUB'="" D
"RTN","SROATMNO",72,0)
 .S SROC(SRSUB)=SROC(SRSUB)+1,SRIOFLAG=1
"RTN","SROATMNO",73,0)
 S (SRPO,SRPOFLAG)=0 F  S SRPO=$O(^SRF(SRTN,16,SRPO)) Q:'SRPO  S SRSUB=$P(^SRF(SRTN,16,SRPO,0),U,2) I SRSUB'="" D
"RTN","SROATMNO",74,0)
 .S SROC(SRSUB)=SROC(SRSUB)+1,SRPOFLAG=1
"RTN","SROATMNO",75,0)
 S (SROCTYPE,SRTMP)="" F SRK=1:1:10 S SRTMP=SRTMP_$J(SROC(SRK),2)
"RTN","SROATMNO",76,0)
 S SRTMP=SRTMP_$J(SROC(37),2) F SRK=12:1:32 S SRTMP=SRTMP_$J(SROC(SRK),2)
"RTN","SROATMNO",77,0)
 S SR95PO=$J(SROC(33),2)_$J(SROC(34),2)_$J(SROC(35),2)_$J(SROC(36),2)
"RTN","SROATMNO",78,0)
 I SRIOFLAG=1,(SRPOFLAG=0) S SROCTYPE="I"
"RTN","SROATMNO",79,0)
 I SRIOFLAG=0,(SRPOFLAG=1) S SROCTYPE="P"
"RTN","SROATMNO",80,0)
 I SRIOFLAG=1,(SRPOFLAG=1) S SROCTYPE="B"
"RTN","SROATMNO",81,0)
 I SRIOFLAG=0,(SRPOFLAG=0) S SROCTYPE=""
"RTN","SROATMNO",82,0)
 Q
"RTN","SROATMNO",83,0)
MOD N SRM S SRM=0,SRCNT=1 F  S SRM=$O(^SRO(136,SRTN,3,OPS,1,SRM)) Q:'SRM  D  Q:SRCNT>5
"RTN","SROATMNO",84,0)
 .S X=$P(^SRO(136,SRTN,3,OPS,1,SRM,0),"^"),Y=$P($$MOD^ICPTMOD(X,"I"),"^",2)
"RTN","SROATMNO",85,0)
 .I Y'="" S SRMOD(CNT)=SRMOD(CNT)_Y,SRCNT=SRCNT+1
"RTN","SROATMNO",86,0)
 Q
"RTN","SROATMNO",87,0)
CVA S X=$P($G(^SRF(SRTN,205)),"^",21),SRCVA=$S(X="Y":"Y",1:1) I SRCVA=1 Q
"RTN","SROATMNO",88,0)
 N SROCC S SROCC=0 F  S SROCC=$O(^SRF(SRTN,16,SROCC)) Q:'SROCC  I $P(^SRF(SRTN,16,SROCC,0),"^",2)=12 S X=$P(^SRF(SRTN,16,SROCC,0),"^",8) S:X'="" SRCVA=X Q
"RTN","SROATMNO",89,0)
 Q
"RTN","SROAUTL")
0^9^B41315079^B41192631
"RTN","SROAUTL",1,0)
SROAUTL ;BIR/ADM - RISK ASSESSMENT UTILITY ;08/18/2011
"RTN","SROAUTL",2,0)
 ;;3.0;Surgery;**38,46,47,63,81,88,95,112,100,125,134,142,153,160,166,174,176**;24 Jun 93;Build 8
"RTN","SROAUTL",3,0)
 I $G(SRSUPCPT)=2 G NCODE
"RTN","SROAUTL",4,0)
 N SRCMOD,SRCOMMA,X K SRHDR S DFN=$P(^SRF(SRTN,0),"^") D DEM^VADPT S SRHDR=VADM(1)_" ("_VA("PID")_")      Case #"_SRTN
"RTN","SROAUTL",5,0)
 S Y=$E($P(^SRF(SRTN,0),"^",9),1,7) X ^DD("DD") S SRSDATE=Y
"RTN","SROAUTL",6,0)
 S X=^SRF(SRTN,"OP"),SROPER=$P(X,"^"),Y=$P(X,"^",2),SRCPT=$S(Y:$P($$CPT^ICPTCOD(Y),"^",2),1:"CPT MISSING") I SRCPT,$O(^SRF(SRTN,"OPMOD",0)) D
"RTN","SROAUTL",7,0)
 .S (SRCOMMA,SRI)=0,SRCMOD="",SRCPT=SRCPT_"-" F  S SRI=$O(^SRF(SRTN,"OPMOD",SRI)) Q:'SRI  D
"RTN","SROAUTL",8,0)
 ..S SRM=$P(^SRF(SRTN,"OPMOD",SRI,0),"^"),SRCMOD=$P($$MOD^ICPTMOD(SRM,"I"),"^",2)
"RTN","SROAUTL",9,0)
 ..S SRCPT=SRCPT_$S(SRCOMMA:",",1:"")_SRCMOD,SRCOMMA=1
"RTN","SROAUTL",10,0)
 S SRCPT=$S($G(SRSUPCPT)=1:"",1:"("_SRCPT_")")
"RTN","SROAUTL",11,0)
 S SROPER=SROPER_" "_SRCPT D LOOP S SRHDR(1)=SRSDATE_"   "_SRHDR(1)
"RTN","SROAUTL",12,0)
 Q
"RTN","SROAUTL",13,0)
NCODE N SRCMOD,SRCOMMA,X K SRHDR S DFN=$P(^SRF(SRTN,0),"^") D DEM^VADPT S SRHDR=VADM(1)_" ("_VA("PID")_")        Case #"_SRTN
"RTN","SROAUTL",14,0)
 S Y=$E($P(^SRF(SRTN,0),"^",9),1,7) X ^DD("DD") S SRSDATE=Y
"RTN","SROAUTL",15,0)
 S X=^SRF(SRTN,"OP"),SROPER=$P(X,"^"),Y=$P($G(^SRO(136,SRTN,0)),"^",2),SRCPT=$S(Y:$P($$CPT^ICPTCOD(Y),"^",2),1:"CPT MISSING") I SRCPT,$O(^SRO(136,SRTN,1,0)) D
"RTN","SROAUTL",16,0)
 .S (SRCOMMA,SRI)=0,SRCMOD="",SRCPT=SRCPT_"-" F  S SRI=$O(^SRO(136,SRTN,1,SRI)) Q:'SRI  D
"RTN","SROAUTL",17,0)
 ..S SRM=$P(^SRO(136,SRTN,1,SRI,0),"^"),SRCMOD=$P($$MOD^ICPTMOD(SRM,"I"),"^",2)
"RTN","SROAUTL",18,0)
 ..S SRCPT=SRCPT_$S(SRCOMMA:",",1:"")_SRCMOD,SRCOMMA=1
"RTN","SROAUTL",19,0)
 S SRCPT="(CPT Code: "_SRCPT_")"
"RTN","SROAUTL",20,0)
 S SROPER=SROPER_" "_SRCPT D LOOP S SRHDR(1)=SRSDATE_"   "_SRHDR(1)
"RTN","SROAUTL",21,0)
 Q
"RTN","SROAUTL",22,0)
LOOP I $L(SROPER)<68 S SRHDR(1)=SROPER Q
"RTN","SROAUTL",23,0)
 I $L(SROPER)>67 S X=SROPER,K=1 F  D  I $L(X)<68 S SRHDR(K)=X Q
"RTN","SROAUTL",24,0)
 .F I=0:1:66 S J=67-I,Y=$E(X,J) I Y=" " S SRHDR(K)=$E(X,1,J-1),X=$E(X,J+1,$L(X)) S K=K+1 Q
"RTN","SROAUTL",25,0)
 Q
"RTN","SROAUTL",26,0)
HDR ; print screen header
"RTN","SROAUTL",27,0)
 W @IOF,!,SRHDR W:$G(SRPAGE)'="" ?(79-$L(SRPAGE)),SRPAGE
"RTN","SROAUTL",28,0)
 S I=0 F  S I=$O(SRHDR(I)) Q:'I  W !,SRHDR(I) I I=.5,$L($G(SRCSTAT)) W ?(79-$L(SRCSTAT)),SRCSTAT
"RTN","SROAUTL",29,0)
 W:$D(SRCSTAT)&'$D(SRHDR(.5)) !,SRCSTAT
"RTN","SROAUTL",30,0)
 K SRHDR(.5),SRCSTAT,SRPAGE W ! F I=1:1:80 W "-"
"RTN","SROAUTL",31,0)
 W !
"RTN","SROAUTL",32,0)
 Q
"RTN","SROAUTL",33,0)
FUNCT() ; called by screen on functional health status field (#240)
"RTN","SROAUTL",34,0)
 N SRSCR S SRSCR="I 1"
"RTN","SROAUTL",35,0)
 I $$CARD S SRSCR="I Y'=4"
"RTN","SROAUTL",36,0)
 Q SRSCR
"RTN","SROAUTL",37,0)
CARD() ; is this a cardiac assessed case?
"RTN","SROAUTL",38,0)
 N SRX S SRX=$S($D(SRTN):SRTN,$D(DA):DA,1:"") I 'SRX Q 0
"RTN","SROAUTL",39,0)
 I $P($G(^SRF(SRX,"RA")),"^",2)="C" Q 1
"RTN","SROAUTL",40,0)
 Q 0
"RTN","SROAUTL",41,0)
NC ; called from input transform to kill X if case is cardiac assessed
"RTN","SROAUTL",42,0)
 I $$CARD,X="NA"!(X="NS") K X
"RTN","SROAUTL",43,0)
 Q
"RTN","SROAUTL",44,0)
DATE ; called by output transform on several date fields
"RTN","SROAUTL",45,0)
 I $D(Y),Y="NA"!(Y="NS") Q
"RTN","SROAUTL",46,0)
 N SRY S SRY=Y D DD^%DT
"RTN","SROAUTL",47,0)
 Q
"RTN","SROAUTL",48,0)
INDX ; set airway index
"RTN","SROAUTL",49,0)
 S SRY=$S(SRI>4:5,SRI>3:4,SRI>2:3,SRI>0:2,1:1),$P(^SRF(DA,.3),"^",9)=SRY
"RTN","SROAUTL",50,0)
 K SRI,SRMS,SROP,SRY
"RTN","SROAUTL",51,0)
 Q
"RTN","SROAUTL",52,0)
OP ; set logic for AOP cross reference on Oral-Pharyngeal field (901.1)
"RTN","SROAUTL",53,0)
 N SRI,SRMS,SRY S SRMS=$P(^SRF(DA,.3),"^",12) I SRMS'="" S SRMS=SRMS*.1,SRI=2.5*X-SRMS D INDX
"RTN","SROAUTL",54,0)
 Q
"RTN","SROAUTL",55,0)
MS ; set logic for AMS cross reference on Mandibular Space field (901.2)
"RTN","SROAUTL",56,0)
 N SRI,SRY,SRMS,SROP S SROP=$P(^SRF(DA,.3),"^",11) I SROP'="" S SRMS=X*.1,SRI=2.5*SROP-SRMS D INDX
"RTN","SROAUTL",57,0)
 Q
"RTN","SROAUTL",58,0)
K901 ; kill logic for AOP and AMS cross references
"RTN","SROAUTL",59,0)
 S $P(^SRF(DA,.3),"^",9)=""
"RTN","SROAUTL",60,0)
 Q
"RTN","SROAUTL",61,0)
DUP ; duplicate preop information from prior operation within 60 days
"RTN","SROAUTL",62,0)
 S SR200=$G(^SRF(SRTN,200)) S NOGO="" F I=1,9,13,18,30,37,44 S X=$P(SR200,"^",I) I X'="" S NOGO=1 K SR200 Q
"RTN","SROAUTL",63,0)
 S X=$P($G(^SRF(SRTN,200.1)),"^") I X'="" S NOGO=1
"RTN","SROAUTL",64,0)
 I NOGO K NOGO Q
"RTN","SROAUTL",65,0)
 K SRCASE S SR=^SRF(SRTN,0),DFN=$P(SR,"^"),(SRSDATE,X1)=$P(SR,"^",9),X2=-60 D C^%DTC S SRENDT=X,SRCASE=0 F  S SRCASE=$O(^SRF("B",DFN,SRCASE)) Q:'SRCASE  I SRCASE,SRCASE'=SRTN D
"RTN","SROAUTL",66,0)
 .S SRX=$P(^SRF(SRCASE,0),"^",9) I SRX>SRSDATE!(SRX<SRENDT) Q
"RTN","SROAUTL",67,0)
 .Q:$P($G(^SRF(SRCASE,"NON")),"^")="Y"!$P($G(^SRF(SRCASE,30)),"^")!$P($G(^SRF(SRCASE,31)),"^",8)!($P($G(^SRF(SRCASE,"CON")),"^")=SRTN)!'$P($G(^SRF(SRCASE,.2)),"^",12)
"RTN","SROAUTL",68,0)
 .S SRX=9999999-SRX,SRCASE(SRX,SRCASE)=""
"RTN","SROAUTL",69,0)
 K SRDT S (SRX,Y)=0 F  S SRX=$O(SRCASE(SRX)) Q:'SRX!$D(SRDT)  S SRCASE="" F  S SRCASE=$O(SRCASE(SRX,SRCASE)) Q:'SRCASE  S SR=$G(^SRF(SRCASE,"RA")) I $P(SR,"^",2)="N",$P(SR,"^",6)="Y" D  Q
"RTN","SROAUTL",70,0)
 .S Y=$P(^SRF(SRCASE,0),"^",9) X ^DD("DD") S SRDT=Y K DIR
"RTN","SROAUTL",71,0)
 .W !! S DIR("A",1)="This patient had a previous non-cardiac operation on "_SRDT_".",DIR("A",2)="",DIR("A",3)="Case #"_SRCASE_"  "_$P(^SRF(SRCASE,"OP"),"^")
"RTN","SROAUTL",72,0)
 .S DIR("A",4)="",DIR("A",5)="Do you want to duplicate the preoperative information from the earlier",DIR("A")="assessment in this assessment? "
"RTN","SROAUTL",73,0)
 .S DIR("B")="YES",DIR(0)="YA" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1 Q
"RTN","SROAUTL",74,0)
 .D:Y STUFF
"RTN","SROAUTL",75,0)
 Q
"RTN","SROAUTL",76,0)
STUFF ; stuff preop information from previous case
"RTN","SROAUTL",77,0)
 I $$LOCK^SROUTL(SRCASE) D  D UNLOCK^SROUTL(SRCASE)
"RTN","SROAUTL",78,0)
 .K DA,DIC,DIQ,DR,SRY S DIC="^SRF(",DA=SRCASE,DIQ="SRY",DIQ(0)="I" D PREHD D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SROAUTL",79,0)
 .S SRZ=0 F  S SRZ=$O(SRY(130,SRCASE,SRZ)) Q:'SRZ  S DIE=130,DA=SRTN,DR=SRZ_"////"_SRY(130,SRCASE,SRZ,"I") D ^DIE K DA,DIE,DR
"RTN","SROAUTL",80,0)
 Q
"RTN","SROAUTL",81,0)
CHK ; check for missing non-cardiac assessment data items
"RTN","SROAUTL",82,0)
 N SRSEP K SRX
"RTN","SROAUTL",83,0)
 F SRC="PREOP","DEM" K DA,DIC,DIQ,DR,SRY S DIC="^SRF(",DA=SRTN,DIQ="SRY",DIQ(0)="I" D @SRC D EN^DIQ1 D ^SROAUTL1
"RTN","SROAUTL",84,0)
 F SRC="LAB","REM" K DA,DIC,DIQ,DR,SRY S DIC="^SRF(",DA=SRTN,DIQ="SRY",DIQ(0)="I" D @SRC D EN^DIQ1 D ^SROAUTL2
"RTN","SROAUTL",85,0)
OTH K DA,DIC,DIQ,DR,SRY,SRZ D TECH^SROPRIN I SRTECH="NOT ENTERED" S SRX("ANESTHESIA TECHNIQUE")="Anesthesia Technique"
"RTN","SROAUTL",86,0)
 ;D RELATE^SROAUTL2
"RTN","SROAUTL",87,0)
OCC D EN^SROCCAT S SRSDATE=$E($P(^SRF(SRTN,0),"^",9),1,7) K ^TMP("SROCC",$J),SRO
"RTN","SROAUTL",88,0)
 S SRPO=0 F  S SRPO=$O(^SRF(SRTN,10,SRPO)) Q:'SRPO  S ^TMP("SROCC",$J,$P(^SRF(SRTN,10,SRPO,0),"^",2),SRSDATE)=""
"RTN","SROAUTL",89,0)
 S SRPO=0 F  S SRPO=$O(^SRF(SRTN,16,SRPO)) Q:'SRPO  S SRDATE=$E($P(^SRF(SRTN,16,SRPO,0),"^",7),1,7) D
"RTN","SROAUTL",90,0)
 .S SRSEP=$P(^SRF(SRTN,16,SRPO,0),"^",4)
"RTN","SROAUTL",91,0)
 .I '$G(SRDATE) S SRDATE="NO DATE"
"RTN","SROAUTL",92,0)
 .S ^TMP("SROCC",$J,$P(^SRF(SRTN,16,SRPO,0),"^",2),SRDATE)=SRSEP
"RTN","SROAUTL",93,0)
 I '$D(^TMP("SROCC",$J)) D OCCEND Q
"RTN","SROAUTL",94,0)
 S SRPO=0 F  S SRPO=$O(^TMP("SROCC",$J,SRPO)) Q:'SRPO  S SRDATE="" F  S SRDATE=$O(^TMP("SROCC",$J,SRPO,SRDATE)) Q:SRDATE  S SRX("POSTOP OCCURRENCE DATE"_SRPO)="Date Noted on "_$P(^SRO(136.5,SRPO,0),"^")_" (Postop Occurrence)" Q
"RTN","SROAUTL",95,0)
 S SRDATE="",SRDATE=$O(^TMP("SROCC",$J,3,SRDATE)) Q:SRDATE=""  I ^TMP("SROCC",$J,3,SRDATE)="" S SRX("SEPSIS CATEGORY")="SEPSIS CATEGORY on SYSTEMIC SEPSIS (Postop Occurrence)"
"RTN","SROAUTL",96,0)
OCCEND K ^TMP("SROCC",$J)
"RTN","SROAUTL",97,0)
 Q
"RTN","SROAUTL",98,0)
PREOP S DR="236;237;519;520;517;518;246;618;325;237.1;238;492;204;203;326;212;213;396;394;220;266;395;208;329;330;328;211;332;333;400;521;522;401;338;218;339;215;216;217;338.1;338.2;218.1;269"
"RTN","SROAUTL",99,0)
 Q
"RTN","SROAUTL",100,0)
DEM S DR="413;.011;247;418;419;420;421;452;453;454;342"
"RTN","SROAUTL",101,0)
 Q
"RTN","SROAUTL",102,0)
LAB S DR="270;304;224;291;223;290;225;292;228;295;227;294;229;296;230;297;234;301;231;298;233;300;232;299;487;487.1;274;305;405;407;275;306;406;408;277;308;278;309;279;310;280;311;281;312;283;314;455;455.1;456;456.1;444;444.1;445;445.1"
"RTN","SROAUTL",103,0)
 Q
"RTN","SROAUTL",104,0)
REM S DR="214;.035;1.09;1.13;.22;.23;340;443;446;504;504.1"
"RTN","SROAUTL",105,0)
 Q
"RTN","SROAUTL",106,0)
PREHD D PREOP S DR=DR_";402;241;244;242;243;210;245"
"RTN","SROAUTL",107,0)
 Q
"RTN","SROAUTL0")
0^49^B21141152^B19393426
"RTN","SROAUTL0",1,0)
SROAUTL0 ;BIR/ADM,SLM - RISK ASSESSMENT UTILITY ;08/16/2011
"RTN","SROAUTL0",2,0)
 ;;3.0;Surgery;**38,47,57,60,61,63,81,125,153,160,174,176**;24 Jun 93;Build 8
"RTN","SROAUTL0",3,0)
PREOP K DR S SRQ=1,DR="325;238;240;204;203;396;332;333;338;339;215;217"
"RTN","SROAUTL0",4,0)
 Q
"RTN","SROAUTL0",5,0)
PREMD K DR S SRQ=1,DR=".011;247;413;417;418;419;420;421;452;453;454"
"RTN","SROAUTL0",6,0)
 Q
"RTN","SROAUTL0",7,0)
OPER K DR S SRQ=0,DR=".03;.04;26;27;214;.42;.035;1.09;1.13;.37;.22;.23;340;66"
"RTN","SROAUTL0",8,0)
 Q
"RTN","SROAUTL0",9,0)
LR K DR S SRQ=0,DR="225;292;228;295;224;291;234;301;230;297;227;294"
"RTN","SROAUTL0",10,0)
 Q
"RTN","SROAUTL0",11,0)
OUT1 ; man preop edit scr
"RTN","SROAUTL0",12,0)
 Q
"RTN","SROAUTL0",13,0)
LAB ; man lab edit scrn
"RTN","SROAUTL0",14,0)
 Q
"RTN","SROAUTL0",15,0)
CPTS ; put CPT codes in array for display
"RTN","SROAUTL0",16,0)
 N SRDA,K,X,XX,Y K SRPROC S K=1,Y=$P($G(^SRO(136,SRTN,0)),"^",2),Y=$S(Y:$P($$CPT^ICPTCOD(Y),"^",2),1:"")
"RTN","SROAUTL0",17,0)
 I $L(Y) D SSPRIN^SROCPT0
"RTN","SROAUTL0",18,0)
 S SRPROC(K)=$S($L(Y):Y,1:"NO PRIN CODE")
"RTN","SROAUTL0",19,0)
 S SRDA=0 F  S SRDA=$O(^SRO(136,SRTN,3,SRDA)) Q:'SRDA  D
"RTN","SROAUTL0",20,0)
 .S Y=$P($G(^SRO(136,SRTN,3,SRDA,0)),"^"),Y=$S(Y:$P($$CPT^ICPTCOD(Y),"^",2),1:"")
"RTN","SROAUTL0",21,0)
 .I $L(Y) D SSOTH^SROCPT0
"RTN","SROAUTL0",22,0)
 .I $L(Y)+$L(SRPROC(K))'>SRL S SRPROC(K)=SRPROC(K)_", "_Y Q
"RTN","SROAUTL0",23,0)
 .S K=K+1,SRPROC(K)=Y
"RTN","SROAUTL0",24,0)
 I SRPROC(1)=""!(SRPROC(1)="NO PRIN CODE") S SRPROC(1)="NOT ENTERED"
"RTN","SROAUTL0",25,0)
 Q
"RTN","SROAUTL0",26,0)
DISP ; display CPT code info
"RTN","SROAUTL0",27,0)
 N SRFIRST,SRMO,SRMOD,SRCSTAT S SRPAGE="",SRCSTAT=">> Coding "_$S($P($G(^SRO(136,SRTN,10)),"^"):"",1:"Not ")_"Complete <<"
"RTN","SROAUTL0",28,0)
 D HDR^SROAUTL S SRFIRST=0,SRW="NOT ENTERED"
"RTN","SROAUTL0",29,0)
 S Y=$P($G(^SRO(136,SRTN,0)),"^",2) I Y S Y=$P($$CPT^ICPTCOD(Y),"^",2) D DES^SROCPT0
"RTN","SROAUTL0",30,0)
 W "Principal CPT Code: "_SRW I $G(SRDES(1))'="" F I=1:1 Q:$L(SRDES(I))'>1  W !,?5,SRDES(I)
"RTN","SROAUTL0",31,0)
 I $O(^SRO(136,SRTN,1,0)) W !,?3,"Modifier: " D
"RTN","SROAUTL0",32,0)
 .S SRMOD=0 F  S SRMOD=$O(^SRO(136,SRTN,1,SRMOD)) Q:'SRMOD  D
"RTN","SROAUTL0",33,0)
 ..S SRMO=$P(^SRO(136,SRTN,1,SRMOD,0),"^")
"RTN","SROAUTL0",34,0)
 ..W:SRFIRST !,?13 W $P($$MOD^ICPTMOD(SRMO,"I"),"^",2),"-",$P($$MOD^ICPTMOD(SRMO,"I"),"^",3)
"RTN","SROAUTL0",35,0)
 ..S SRFIRST=1
"RTN","SROAUTL0",36,0)
 K SRDES W !
"RTN","SROAUTL0",37,0)
OTH S SROTH=0 F  S SROTH=$O(^SRO(136,SRTN,3,SROTH)) Q:'SROTH  D  K SRDES W !
"RTN","SROAUTL0",38,0)
 .S Y=$P($G(^SRO(136,SRTN,3,SROTH,0)),"^"),Y=$S(Y:$P($$CPT^ICPTCOD(Y),"^",2),1:"") D DES^SROCPT0
"RTN","SROAUTL0",39,0)
 .W !,"Other CPT Code:     "_SRW I $G(SRDES(1))'="" F I=1:1 Q:$L(SRDES(I))'>1  W !,?5,SRDES(I)
"RTN","SROAUTL0",40,0)
 .I $O(^SRO(136,SRTN,3,SROTH,1,0)) S SRFIRST=0 W !,?3,"Modifier: " D
"RTN","SROAUTL0",41,0)
 ..S SRMOD=0 F  S SRMOD=$O(^SRO(136,SRTN,3,SROTH,1,SRMOD)) Q:'SRMOD  D
"RTN","SROAUTL0",42,0)
 ...S SRMO=$P(^SRO(136,SRTN,3,SROTH,1,SRMOD,0),"^")
"RTN","SROAUTL0",43,0)
 ...W:SRFIRST !,?13 W $P($$MOD^ICPTMOD(SRMO,"I"),"^",2),"-",$P($$MOD^ICPTMOD(SRMO,"I"),"^",3)
"RTN","SROAUTL0",44,0)
 ...S SRFIRST=1
"RTN","SROAUTL0",45,0)
PRESS K DIR S DIR(0)="FOA",DIR("A")="Press ENTER to continue."
"RTN","SROAUTL0",46,0)
 S DIR("A",1)="CPT Codes should be verified. If need be, report discrepancies to the"
"RTN","SROAUTL0",47,0)
 S DIR("A",2)="official CPT coder for surgery.",DIR("A",3)="" D ^DIR K DIR
"RTN","SROAUTL0",48,0)
 Q
"RTN","SROAUTL0",49,0)
OCC ; occur data
"RTN","SROAUTL0",50,0)
 D EN^SROCCAT K ^TMP("SROCC",$J),SRO,SROC,SROOC
"RTN","SROAUTL0",51,0)
 F SRK=1:1:39 S SROC(SRK)="       "
"RTN","SROAUTL0",52,0)
 S (SRFLG,SRIO,SRPO)=0 F  S SRIO=$O(^SRF(SRTN,10,SRIO)) Q:'SRIO  D
"RTN","SROAUTL0",53,0)
 .S SROCC=$P(^SRF(SRTN,10,SRIO,0),U,2) Q:'SROCC
"RTN","SROAUTL0",54,0)
 .S ^TMP("SROCC",$J,SROCC,$E($P(^SRF(SRTN,0),U,9),1,7),10)=SRIO
"RTN","SROAUTL0",55,0)
 F  S SRPO=$O(^SRF(SRTN,16,SRPO)) Q:'SRPO  D
"RTN","SROAUTL0",56,0)
 .S SRDATE=$E($P(^SRF(SRTN,16,SRPO,0),U,7),1,7)
"RTN","SROAUTL0",57,0)
 .S X1=$E(SRSDATE,1,7),X2=30 D C^%DTC
"RTN","SROAUTL0",58,0)
 .I SRDATE>X Q
"RTN","SROAUTL0",59,0)
 .I '$G(SRDATE) S SRDATE="       "
"RTN","SROAUTL0",60,0)
 .S SROCC=$P(^SRF(SRTN,16,SRPO,0),U,2) Q:'SROCC
"RTN","SROAUTL0",61,0)
 .S ^TMP("SROCC",$J,SROCC,SRDATE,16)=SRPO
"RTN","SROAUTL0",62,0)
 I '$D(^TMP("SROCC",$J)) D OCCEND Q
"RTN","SROAUTL0",63,0)
 ;remove multiples
"RTN","SROAUTL0",64,0)
 S SROCC=0 F  S SROCC=$O(^TMP("SROCC",$J,SROCC)) Q:'SROCC  S SROCCDT=$O(^TMP("SROCC",$J,SROCC,0)),SRTYPE=$O(^TMP("SROCC",$J,SROCC,SROCCDT,0)) D
"RTN","SROAUTL0",65,0)
 .I SROCC=21!(SROCC>28&(SROCC<33))!(SROCC=36) D
"RTN","SROAUTL0",66,0)
 ..S SRDA=^TMP("SROCC",$J,SROCC,SROCCDT,SRTYPE),SRICD=$P(^SRF(SRTN,SRTYPE,SRDA,0),U,3)
"RTN","SROAUTL0",67,0)
 ..I SRICD S SROOC(SROCC)=$P(^ICD9(SRICD,0),U)_"^"_$P(^SRF(SRTN,SRTYPE,SRDA,0),U)
"RTN","SROAUTL0",68,0)
 ..E  S SROOC(SROCC)="NO ICD CODE ENTERED"
"RTN","SROAUTL0",69,0)
 .S ^TMP("SROCC",$J,"SR",SROCC,SROCCDT)=""
"RTN","SROAUTL0",70,0)
 S SRK=1,SRO="",SROCC=0 F  S SROCC=$O(^TMP("SROCC",$J,"SR",SROCC)) Q:'SROCC  S SROCCDT="" F  S SROCCDT=$O(^TMP("SROCC",$J,"SR",SROCC,SROCCDT)) Q:SROCCDT=""  D
"RTN","SROAUTL0",71,0)
 .I SROCC=3 S SRPO=^TMP("SROCC",$J,SROCC,SROCCDT,16) I SRPO S X=$P(^SRF(SRTN,16,SRPO,0),"^",4) S:X SRSEP=X
"RTN","SROAUTL0",72,0)
 .I SROCC=12 S SRPO=^TMP("SROCC",$J,SROCC,SROCCDT,16) I SRPO S X=$P(^SRF(SRTN,16,SRPO,0),"^",8) S:X SRDUR=X
"RTN","SROAUTL0",73,0)
 .S SROC(SROCC)=SROCCDT
"RTN","SROAUTL0",74,0)
 F I=1:1:22,29:1:32,35,36,38 S SRO=SRO_$J(SROC(I),7)
"RTN","SROAUTL0",75,0)
 S X=$G(SRSEP),SRO=SRO_X I X S SRSEP=$S(X=2:"SEPSIS",X=3:"SEPTIC SHOCK",1:"SIRS")
"RTN","SROAUTL0",76,0)
 S X=$G(SRDUR),SRO=SRO_X I X S SRDUR=$S(X=2:"<24 HOURS",X=3:"24-72 HOURS",X=4:">72 HOURS",1:"NO SYMPTOMS")
"RTN","SROAUTL0",77,0)
OCCEND K ^TMP("SROCC",$J),SRPOCC,SRPOCCD,SRSDATE,SRTYPE,SRDATE,SRDA,SRFLG,SRICD,SRJ,SRK,SROCC,SROCCDT,SRPO,X1,X2
"RTN","SROAUTL0",78,0)
 Q
"RTN","SROAUTL1")
0^10^B19378590^B17300696
"RTN","SROAUTL1",1,0)
SROAUTL1 ;BIR/ADM - RISK ASSESSMENT UTILITY ;07/19/2011
"RTN","SROAUTL1",2,0)
 ;;3.0;Surgery;**38,47,81,125,153,160,166,174,176**;24 Jun 93;Build 8
"RTN","SROAUTL1",3,0)
 S SRZ=0 F  S SRZ=$O(SRY(130,SRTN,SRZ)) Q:'SRZ  I SRY(130,SRTN,SRZ,"I")="" D TR S X=$T(@SRP),SRFLD=$P(X,";;",2),SRX(SRZ)=$P(SRFLD,"^",2)
"RTN","SROAUTL1",4,0)
 Q
"RTN","SROAUTL1",5,0)
TR S SRP=SRZ,SRP=$TR(SRP,"1234567890.","ABCDEFGHIJP")
"RTN","SROAUTL1",6,0)
 Q
"RTN","SROAUTL1",7,0)
GET S X=$T(@J)
"RTN","SROAUTL1",8,0)
 Q
"RTN","SROAUTL1",9,0)
BJH ;;208^History of Hypertension Requiring Medication (Y/N)^Hypertension Requiring Meds^
"RTN","SROAUTL1",10,0)
BAC ;;213^Esophageal Varices (Y/N)^Esophogeal Varices^
"RTN","SROAUTL1",11,0)
BBJ ;;220^Previous PCI (Y/N)^Previous PCI^
"RTN","SROAUTL1",12,0)
BFF ;;266^Previous Cardiac Surgery (Y/N)^Previous Cardiac Surgery^
"RTN","SROAUTL1",13,0)
CBI ;;329^History of Revascularization/Amputation for PVD (Y/N)^Revascularization/Amputation^
"RTN","SROAUTL1",14,0)
CCJ ;;330^Rest Pain/Gangrene (Y/N)^Rest Pain/Gangrene^
"RTN","SROAUTL1",15,0)
CID ;;394^History of MI Within Past 6 Months (Y/N)^MI Within 6 Months^
"RTN","SROAUTL1",16,0)
CIE ;;395^Angina within One Month Preceding Surgery (Y/N)^Angina Within 1 Month^
"RTN","SROAUTL1",17,0)
BCF ;;236^Patient's Height^Height^
"RTN","SROAUTL1",18,0)
BCG ;;237^Patient's Weight^Weight^
"RTN","SROAUTL1",19,0)
EAI ;;519^Diabetes Mellitus: Chronic, Long-term Management^Diabetes Mellitus: Chronic, Long-term Management^
"RTN","SROAUTL1",20,0)
EBJ ;;520^Diabetes Mellitus: Management Prior to Surgery^Diabetes Mellitus: Management Prior to Surgery^
"RTN","SROAUTL1",21,0)
EAG ;;517^Tobacco Use^Tobacco Use^
"RTN","SROAUTL1",22,0)
EAH ;;518^Tobacco Use Timeframe^Tobacco Use Timeframe^
"RTN","SROAUTL1",23,0)
BDF ;;246^ETOH Greater than 2 Drinks/Day (Y/N)^ETOH > 2 Drinks/Day^
"RTN","SROAUTL1",24,0)
FAH ;;618^Positive Drug Screening^Positive Drug Screening^
"RTN","SROAUTL1",25,0)
CBE ;;325^Dyspnea^Dyspnea^
"RTN","SROAUTL1",26,0)
BCH ;;238^DNR Status (Y/N)^DNR Status^
"RTN","SROAUTL1",27,0)
DIB ;;492^Functional Health Status at Evaluation for Surgery^Preop Functional Status
"RTN","SROAUTL1",28,0)
BJD ;;204^Ventilator Dependent Greater than 48 Hrs (Y/N)^Ventilator Dependent^
"RTN","SROAUTL1",29,0)
BJC ;;203^History of COPD (Y/N)^History of Severe COPD^
"RTN","SROAUTL1",30,0)
CBF ;;326^Current Pneumonia (Y/N)^Current Pneumonia^
"RTN","SROAUTL1",31,0)
BAB ;;212^Ascites (Y/N)^Ascites^
"RTN","SROAUTL1",32,0)
CIF ;;396^CHF within One Month Preceding Surgery (Y/N)^CHF Within 1 Month^
"RTN","SROAUTL1",33,0)
CBH ;;328^Acute Renal Failure (Y/N)^Acute Renal Failure^
"RTN","SROAUTL1",34,0)
BAA ;;211^Currently on Dialysis (Y/N)^Currently on Dialysis^
"RTN","SROAUTL1",35,0)
CCB ;;332^Impaired Sensorium (Y/N)^Impaired Sensorium^
"RTN","SROAUTL1",36,0)
CCC ;;333^Coma (Y/N)^Coma^
"RTN","SROAUTL1",37,0)
DJJ ;;400^Hemiplegia (Y/N)^Hemiplegia^
"RTN","SROAUTL1",38,0)
EBA ;;521^Prior Surgical Repair/Carotid Artery Obstruction^Prior Surgical Repair/Carotid Artery Obstruction^
"RTN","SROAUTL1",39,0)
EBB ;;522^History of CVD Events^History of CVD Events^
"RTN","SROAUTL1",40,0)
DJA ;;401^Tumor Involving CNS (Y/N)^Tumor Involving CNS^
"RTN","SROAUTL1",41,0)
CCH ;;338^Disseminated Cancer (Y/N)^Disseminated Cancer^
"RTN","SROAUTL1",42,0)
BAH ;;218^Open Wound or Skin Infection (Y/N)^Open Wound or Infection^
"RTN","SROAUTL1",43,0)
CCI ;;339^Steroid Use for Chronic Condition (Y/N)^Steroid Use for Chronic Cond.^
"RTN","SROAUTL1",44,0)
BAE ;;215^Weight Loss > 10% of Usual Body Weight (Y/N)^Weight Loss > 10%^
"RTN","SROAUTL1",45,0)
BAF ;;216^History of Bleeding Disorders (Y/N)^Bleeding Disorders^
"RTN","SROAUTL1",46,0)
BAG ;;217^Transfusion Greater than 4 RBC Units this Admission (Y/N)^Transfusion > 4 RBC Units^
"RTN","SROAUTL1",47,0)
CCHPA ;;338.1^Chemotherapy Within Last 30 Days (Y/N)^Chemotherapy W/I 30 Days^
"RTN","SROAUTL1",48,0)
CCHPB ;;338.2^Radiotherapy Within Last 90 Days (Y/N)^Radiotherapy W/I 90 Days^
"RTN","SROAUTL1",49,0)
BAHPA ;;218.1^Preoperative Sepsis (Y/N)^Preoperative Sepsis^
"RTN","SROAUTL1",50,0)
BFI ;;269^Pregnancy Status^Pregnancy Status^
"RTN","SROAUTL1",51,0)
DAC ;;413^Transfer Status^Transfer Status^
"RTN","SROAUTL1",52,0)
PJAA ;;.011^In/Out-Patient Status
"RTN","SROAUTL1",53,0)
BDG ;;247^Length of Postoperative Hospital Stay
"RTN","SROAUTL1",54,0)
CDB ;;342^Date/Time of Death^Date/Time of Death
"RTN","SROAUTL1",55,0)
DAG ;;417^Patient's Race
"RTN","SROAUTL1",56,0)
DAH ;;418^Hospital Admission Date
"RTN","SROAUTL1",57,0)
DAI ;;419^Hospital Discharge Date
"RTN","SROAUTL1",58,0)
DBJ ;;420^Admitted/Transferred to Surgical Service
"RTN","SROAUTL1",59,0)
DBA ;;421^Discharged/Transferred to Chronic Care
"RTN","SROAUTL1",60,0)
DEB ;;452^Observation Admission Date/Time
"RTN","SROAUTL1",61,0)
DEC ;;453^Observation Discharge Date/Time
"RTN","SROAUTL1",62,0)
DED ;;454^Observation Treating Specialty
"RTN","SROAUTL1",63,0)
BCGPA ;;237.1^Preoperative Sleep Apnea
"RTN","SROAUTL2")
0^57^B35937353^B34551023
"RTN","SROAUTL2",1,0)
SROAUTL2 ;BIR/ADM - RISK ASSESSMENT UTILITY ;08/25/2011
"RTN","SROAUTL2",2,0)
 ;;3.0;Surgery;**38,47,63,88,125,153,160,176**;24 Jun 93;Build 8
"RTN","SROAUTL2",3,0)
 S SRZ=0 F  S SRZ=$O(SRY(130,SRTN,SRZ)) Q:'SRZ  D
"RTN","SROAUTL2",4,0)
 .I SRY(130,SRTN,SRZ,"I")="" D TR S X=$T(@SRP),SRFLD=$P(X,";;",2),SRX(SRZ)=$P(SRFLD,"^",2)
"RTN","SROAUTL2",5,0)
 .I SRY(130,SRTN,SRZ,"I")="NS" D TR S X=$T(@SRP),SRFLD=$P(X,";;",2),SRDT=$P(SRFLD,"^",4) S:SRDT'="" SRLR(SRDT)=""
"RTN","SROAUTL2",6,0)
 S SRDT=0 F  S SRDT=$O(SRLR(SRDT)) Q:'SRDT  K SRX(SRDT)
"RTN","SROAUTL2",7,0)
 Q
"RTN","SROAUTL2",8,0)
RELATE S DFN=$P(^SRF(SRTN,0),"^"),SRDEATH=$P($G(^DPT(DFN,.35)),"^") I 'SRDEATH Q
"RTN","SROAUTL2",9,0)
 S X2=$P(^SRF(SRTN,0),"^",9),X1=SRDEATH D ^%DTC I X>90 Q
"RTN","SROAUTL2",10,0)
 S X=$P($G(^SRF(SRTN,.4)),"^",7) I X="" S SRX(903)="Death Unrelated/Related"
"RTN","SROAUTL2",11,0)
 Q
"RTN","SROAUTL2",12,0)
TR S SRP=SRZ,SRP=$TR(SRP,"1234567890.","ABCDEFGHIJP")
"RTN","SROAUTL2",13,0)
 Q
"RTN","SROAUTL2",14,0)
GET S X=$T(@J)
"RTN","SROAUTL2",15,0)
 Q
"RTN","SROAUTL2",16,0)
PJC ;;.03^Major or Minor^Major or Minor^
"RTN","SROAUTL2",17,0)
PDB ;;.42^Other Procedures^^
"RTN","SROAUTL2",18,0)
PCG ;;.37^Anesthesia Technique^^
"RTN","SROAUTL2",19,0)
CE ;;35^Concurrent Case^Concurrent Case^
"RTN","SROAUTL2",20,0)
PJD ;;.04^Surgery Specialty^Surgical Specialty^
"RTN","SROAUTL2",21,0)
BF ;;26^Principal Procedure^Principal Operation^
"RTN","SROAUTL2",22,0)
BGJ ;;270^Preoperative Serum Sodium^Serum Sodium^304
"RTN","SROAUTL2",23,0)
CJD ;;304^Date Preoperative Serum Sodium was Performed^^
"RTN","SROAUTL2",24,0)
BBD ;;224^Preoperative BUN (mg/dl)^BUN^291
"RTN","SROAUTL2",25,0)
BIA ;;291^Date Preoperative BUN was Performed^^
"RTN","SROAUTL2",26,0)
BBC ;;223^Preoperative Serum Creatinine (mg/dl)^Serum Creatinine^290
"RTN","SROAUTL2",27,0)
BIJ ;;290^Date Preoperative Serum Creatinine was Performed^^
"RTN","SROAUTL2",28,0)
BBE ;;225^Preoperative Serum Albumin (g/dl)^Serum Albumin^292
"RTN","SROAUTL2",29,0)
BIB ;;292^Date Preoperative Serum Albumin was Performed^^
"RTN","SROAUTL2",30,0)
BBH ;;228^Preoperative Total Bilirubin (mg/dl)^Total Bilirubin^295
"RTN","SROAUTL2",31,0)
BIE ;;295^Date Preoperative Total Bilrubin was Performed^^
"RTN","SROAUTL2",32,0)
BBG ;;227^Preoperative SGOT (mU/ml)^SGOT^294
"RTN","SROAUTL2",33,0)
BID ;;294^Date Preoperative SGOT was Performed^^
"RTN","SROAUTL2",34,0)
BBI ;;229^Preoperative Alkaline Phosphatase (mU/ml)^Alkaline Phosphatase^296
"RTN","SROAUTL2",35,0)
BIF ;;296^Date Preoperative Alkaline Phosphatase was Performed^^
"RTN","SROAUTL2",36,0)
BCJ ;;230^Preoperative WBC (X 1000/mm3)^WBC^297
"RTN","SROAUTL2",37,0)
BIG ;;297^Date Preoperative WBC was Performed
"RTN","SROAUTL2",38,0)
BCD ;;234^Preoperative Hematocrit^Hematocrit^301
"RTN","SROAUTL2",39,0)
CJA ;;301^Date Preoperative Hematocrit was Performed^^
"RTN","SROAUTL2",40,0)
BCA ;;231^Preoperative Platelet Count (X 1000/mm3)^Platelet Count^298
"RTN","SROAUTL2",41,0)
BIH ;;298^Date Preoperative Platelet Count was Performed^^
"RTN","SROAUTL2",42,0)
BCC ;;233^Preoperative PTT (seconds)^PTT^300
"RTN","SROAUTL2",43,0)
CJJ ;;300^Date Preoperative PTT was Performed^^
"RTN","SROAUTL2",44,0)
BCB ;;232^Preoperative PT (seconds)^PT^299
"RTN","SROAUTL2",45,0)
BII ;;299^Date Preoperative PT was Performed^^
"RTN","SROAUTL2",46,0)
BGD ;;274^Highest Postoperative Serum Sodium^Highest Serum Sodium^305
"RTN","SROAUTL2",47,0)
CJE ;;305^Date Highest Serum Sodium was Recorded^^
"RTN","SROAUTL2",48,0)
DJE ;;405^Lowest Serum Sodium^Lowest Serum Sodium^407
"RTN","SROAUTL2",49,0)
DJG ;;407^Date of Lowest Serum Sodium^^
"RTN","SROAUTL2",50,0)
BGE ;;275^Highest Postoperative Potassium^Highest Potassium^306
"RTN","SROAUTL2",51,0)
CJF ;;306^Date Highest Potassium was Recorded^^
"RTN","SROAUTL2",52,0)
DJF ;;406^Lowest Postoperative Potassium^Lowest Potassium^408
"RTN","SROAUTL2",53,0)
DJH ;;408^Date of Lowest Postoperative Potassium^^
"RTN","SROAUTL2",54,0)
BGG ;;277^Highest Postoperative Serum Creatinine^Highest Serum Creatinine^308
"RTN","SROAUTL2",55,0)
CJH ;;308^Date Highest Serum Creatinine was Recorded^^
"RTN","SROAUTL2",56,0)
BGH ;;278^Highest Postoperative CPK^Highest CPK^309
"RTN","SROAUTL2",57,0)
CJI ;;309^Date Highest CPK was Recorded^^
"RTN","SROAUTL2",58,0)
BGI ;;279^Highest Postoperative CPK-MB^Highest CPK-MB^310
"RTN","SROAUTL2",59,0)
CAJ ;;310^Date Highest CPK-MB Band was Recorded^^
"RTN","SROAUTL2",60,0)
BHJ ;;280^Highest Postoperative Total Bilirubin^Highest Total Bilirubin^311
"RTN","SROAUTL2",61,0)
CAA ;;311^Date Highest Total Bilirubin was Recorded^^
"RTN","SROAUTL2",62,0)
BHA ;;281^Highest Postoperative WBC^Highest WBC^312
"RTN","SROAUTL2",63,0)
CAB ;;312^Date Highest WBC was Recorded^^
"RTN","SROAUTL2",64,0)
BHC ;;283^Lowest Postoperative Hematocrit^Lowest Hematocrit^314
"RTN","SROAUTL2",65,0)
CAD ;;314^Date Lowest Hematocrit was Recorded^^
"RTN","SROAUTL2",66,0)
DEE ;;455^Highest Postoperative Serum Troponin I^Highest Troponin I^455.1
"RTN","SROAUTL2",67,0)
DEEPA ;;455.1^Date of Highest Postop Troponin I^^
"RTN","SROAUTL2",68,0)
DEF ;;456^Highest Postoperative Serum Troponin T^Highest Troponin T^456.1
"RTN","SROAUTL2",69,0)
DEFPA ;;456.1^Date of Highest Postop Troponin T^^
"RTN","SROAUTL2",70,0)
DHG ;;487^Preoperative INR^INR^487.1
"RTN","SROAUTL2",71,0)
DHGPA ;;487.1^Date Preoperative INR was Performed^^
"RTN","SROAUTL2",72,0)
DDD ;;444^Preoperative Anion Gap^Anion Gap^444.1
"RTN","SROAUTL2",73,0)
DDDPA ;;444.1^Date Preoperative Anion Gap was Recorded^^
"RTN","SROAUTL2",74,0)
DDE ;;445^Highest Postoperative Anion Gap^Highest Anion Gap^445.1
"RTN","SROAUTL2",75,0)
DDEPA ;;445.1^Date Highest Anion Gap was Recorded^^
"RTN","SROAUTL2",76,0)
EJD ;;504^Preoperative Hemoglobin A1c^Hemoglobin A1c^504.1
"RTN","SROAUTL2",77,0)
EJDPA ;;504.1^Date Preoperative Hemoglobin A1c was Performed^^
"RTN","SROAUTL2",78,0)
BG ;;27^Principal Procedure Code (CPT)^Principal CPT Code^
"RTN","SROAUTL2",79,0)
BAD ;;214^PGY of Primary Surgeon ('0' for Staff Surgeon)^PGY of Primary Surgeon^
"RTN","SROAUTL2",80,0)
PJCE ;;.035^Case Schedule Type^Surgical Priority^
"RTN","SROAUTL2",81,0)
APJI ;;1.09^Wound Classification^Wound Classification^
"RTN","SROAUTL2",82,0)
APAC ;;1.13^ASA Class^ASA Classification^
"RTN","SROAUTL2",83,0)
PBJE ;;.205^Time Patient In the O.R.^Time Patient In the O.R.^
"RTN","SROAUTL2",84,0)
PBB ;;.22^Time the Operation Began^Date/Time Operation Began^
"RTN","SROAUTL2",85,0)
PBC ;;.23^Time the Operation Ends^Date/Time Operation Ended^
"RTN","SROAUTL2",86,0)
PBCB ;;.232^Time Patient Out of the O.R.^Time Patient Out of the O.R.^
"RTN","SROAUTL2",87,0)
CDJ ;;340^Number of RBC Units Transfused^RBC Units Transfused^
"RTN","SROAUTL2",88,0)
DDC ;;443^Intraoperative Disseminated Cancer (Y/N)^Intraoperative Disseminated Cancer^
"RTN","SROAUTL2",89,0)
DDF ;;446^Intraoperative Ascites (Y/N)^Intraoperative Ascites
"RTN","SROAUTL2",90,0)
FF ;;66^Principal Diagnosis Code (ICD9)^Postop Diagnosis Code (ICD9)^
"RTN","SROAUTL2",91,0)
BDG ;;247^Length of Postoperative Stay^Length of Postoperative Hospital Stay^
"RTN","SROAUTL2",92,0)
AJB ;;102^Reason for not Creating an Assessment^Exclusion Criteria^
"RTN","SROAUTL2",93,0)
PJAA ;;.011^In/Out-Patient Status^Hospital Admission Status^
"RTN","SROAUTL2",94,0)
PAFF ;;.166^Attending Code^Attending Code
"RTN","SROAUTL2",95,0)
PBA ;;.21^Anesthesia Care Start Time^Anesthesia Start^
"RTN","SROAUTL2",96,0)
PBD ;;.24^Anesthesia Care End Time^Anesthesia Finish^
"RTN","SROAUTL3")
0^31^B13680381^B13024362
"RTN","SROAUTL3",1,0)
SROAUTL3 ;BIR/ADM - RISK ASSESSMENT UTILITY ;08/11/2011
"RTN","SROAUTL3",2,0)
 ;;3.0;Surgery;**38,47,63,77,142,163,166,176**;24 Jun 93;Build 8
"RTN","SROAUTL3",3,0)
 ;
"RTN","SROAUTL3",4,0)
 ; Reference to ^DIC(45.3 supported by DBIA #218
"RTN","SROAUTL3",5,0)
 ;
"RTN","SROAUTL3",6,0)
 Q
"RTN","SROAUTL3",7,0)
RISK ; allow entry of risk assessment preop information with case request
"RTN","SROAUTL3",8,0)
 S Y=$P(^SRO(133,SRSITE,0),"^",14) I 'Y Q
"RTN","SROAUTL3",9,0)
 W ! K DIR S DIR("A")="Enter risk assessment preop information for this patient (Y/N)",DIR(0)="Y",DIR("B")="YES" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT)!'Y Q
"RTN","SROAUTL3",10,0)
 S SREQST=1,SRCARD=0 I $$CARD^SROAUTLC S SRSP=$P(^DIC(45.3,$P(^SRO(137.45,$P(^SRF(SRTN,0),"^",4),0),"^",2),0),"^") I SRSP=48!(SRSP=58) D  I SRCARD Q
"RTN","SROAUTL3",11,0)
 .S SRCARD=1 W ! K DIR S DIR("A")="Will this procedure require cardiopulmonary bypass (Y/N) ? ",DIR(0)="YA" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) Q
"RTN","SROAUTL3",12,0)
 .I 'Y S SRCARD=0 Q
"RTN","SROAUTL3",13,0)
 .D CARD S SRCARD=1
"RTN","SROAUTL3",14,0)
 I 'SRCARD D ^SROAPRE
"RTN","SROAUTL3",15,0)
 Q
"RTN","SROAUTL3",16,0)
CARD ; allow input of cardiac risk assessment preop information
"RTN","SROAUTL3",17,0)
 N SRSDATE,SRNM,SRSOUT
"RTN","SROAUTL3",18,0)
 W @IOF,!,"Enter Cardiac Preoperative information",!!,"  1. Clinical Information",!,"  2. Cardiac Catheterization & Angiographic Data",!,"  3. Operative Risk Summary Data",!
"RTN","SROAUTL3",19,0)
 K DIR S DIR(0)="NO^1:3:0",DIR("?")="Enter the number of the selection to be edited." D ^DIR K DIR I $D(DTOUT)!$D(DUOUT)!'Y Q
"RTN","SROAUTL3",20,0)
 I Y=1 D ^SROACLN G CARD
"RTN","SROAUTL3",21,0)
 I Y=2 D ^SROACAT G CARD
"RTN","SROAUTL3",22,0)
 D ^SROACOP G CARD
"RTN","SROAUTL3",23,0)
 Q
"RTN","SROAUTL3",24,0)
TUT ; set default value for field 518
"RTN","SROAUTL3",25,0)
 S X=$G(^SRF(SRTN,200.1)) I $P(X,"^",9)="",$P(X,"^",10)="" S $P(^SRF(SRTN,200.1),"^",10)="NA"
"RTN","SROAUTL3",26,0)
 Q
"RTN","SROAUTL3",27,0)
PREOP ; print preop information (managerial)
"RTN","SROAUTL3",28,0)
 W:$E(IOST)="P" !! D PREOP^SROAUTL0 S SRDR=DR W !,?28,"PREOPERATIVE INFORMATION",! S SRQ=1 D OUT
"RTN","SROAUTL3",29,0)
 Q
"RTN","SROAUTL3",30,0)
OUT K DA,DIC,DIQ,SRY S DIC="^SRF(",DA=SRTN,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SROAUTL3",31,0)
 K SRX S SRX=0 F M=1:1 S I=$P(SRDR,";",M) Q:'I  D
"RTN","SROAUTL3",32,0)
 .Q:I=413  D TR D:SRQ GET^SROAUTL1 D:'SRQ GET^SROAUTL2
"RTN","SROAUTL3",33,0)
 .S SRX=SRX+1,Y=$P(X,";;",2),SRFLD=$P(Y,"^"),(Z,SRX(SRX))=$S($P(Y,"^",3)'="":$P(Y,"^",3),1:$P(Y,"^",2))_"^"_SRFLD
"RTN","SROAUTL3",34,0)
 .W !,$J($P(Z,"^")_": ",39) S SREXT=SRY(130,SRTN,SRFLD,"E") D EXT
"RTN","SROAUTL3",35,0)
 Q
"RTN","SROAUTL3",36,0)
EXT I SRFLD=27 S SREXT=$S(SREXT="":"MISSING",1:$E(SREXT,1,5))
"RTN","SROAUTL3",37,0)
 I $L(SREXT)<40 W SREXT Q
"RTN","SROAUTL3",38,0)
 N I,J,X,Y S X=SREXT F  D  W:$L(X) ! I $L(X)<40!(X'[" ") W ?40,X Q
"RTN","SROAUTL3",39,0)
 .F I=0:1:38 S J=39-I,Y=$E(X,J) I Y=" " W ?40,$E(X,1,J-1) S X=$E(X,J+1,$L(X)) Q
"RTN","SROAUTL3",40,0)
 Q
"RTN","SROAUTL3",41,0)
LAB ; print preoperative laboratory test information (managerial)
"RTN","SROAUTL3",42,0)
 W !,?20,"PREOPERATIVE LABORATORY TEST INFORMATION",!
"RTN","SROAUTL3",43,0)
 D LR^SROAUTL0 S SRDR=DR K DA,DIC,DIQ,SRY S DIC="^SRF(",DA=SRTN,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SROAUTL3",44,0)
 K SRX S SRX=0 F M=1:2 S L=$P(SRDR,";",M) Q:'L  S I=L D
"RTN","SROAUTL3",45,0)
 .D TR D GET^SROAUTL2 S SRX=SRX+1,Y=$P(X,";;",2),SRFLD=$P(Y,"^"),SRDT=$P(Y,"^",4),(Z,SRX(SRX))=$S($P(Y,"^",3)'="":$P(Y,"^",3),1:$P(Y,"^",2))_"^"_SRFLD_"^"_SRDT
"RTN","SROAUTL3",46,0)
 .W !,$J($P(Z,"^")_": ",39),SRY(130,SRTN,SRFLD,"E") W:SRY(130,SRTN,SRDT,"E")'="" ?50,"("_$P(SRY(130,SRTN,SRDT,"E"),"@")_")"
"RTN","SROAUTL3",47,0)
 Q
"RTN","SROAUTL3",48,0)
TR S J=I,J=$TR(J,"1234567890.","ABCDEFGHIJP")
"RTN","SROAUTL3",49,0)
 Q
"RTN","SROAUTL3",50,0)
NON S DR=".03;102;.035"
"RTN","SROAUTL3",51,0)
 Q
"RTN","SROAUTL3",52,0)
CHK ; check for missing information for excluded cases
"RTN","SROAUTL3",53,0)
 K SRX,DA,DIC,DIQ,DR,SRY S DIC="^SRF(",DA=SRTN,DIQ="SRY",DIQ(0)="I" D NON D EN^DIQ1 D ^SROAUTL2
"RTN","SROAUTL3",54,0)
 K DA,DIC,DIQ,DR,SRY,SRZ D TECH^SROPRIN I SRTECH="NOT ENTERED" S SRX("ANESTHESIA TECHNIQUE")="Anesthesia Technique"
"RTN","SROAUTL3",55,0)
 Q
"RTN","SROAUTL4")
0^12^B55709470^B50853930
"RTN","SROAUTL4",1,0)
SROAUTL4 ;BIR/ADM - RISK ASSESSMENT UTILITY ;07/19/2011
"RTN","SROAUTL4",2,0)
 ;;3.0;Surgery;**38,71,95,125,153,160,164,166,174,175,176**;24 Jun 93;Build 8
"RTN","SROAUTL4",3,0)
 N SRZZ,SRXX,SRX1
"RTN","SROAUTL4",4,0)
 S SRZ=0 F  S SRZ=$O(SRY(130,SRTN,SRZ)) Q:'SRZ  D
"RTN","SROAUTL4",5,0)
 .I SRY(130,SRTN,SRZ,"I")="" D TR S (SRX1,X)=$T(@SRP),SRFLD=$P(X,";;",2) D
"RTN","SROAUTL4",6,0)
 ..I SRZ=484,$P($G(^SRF(SRTN,209)),"^",13)'="Y" Q
"RTN","SROAUTL4",7,0)
 ..S X=SRX1,SRX(SRZ)=$P(SRFLD,"^",2)_"^"_$P(X,";;",3)
"RTN","SROAUTL4",8,0)
 .I SRY(130,SRTN,SRZ,"I")="NS" D TR S X=$T(@SRP),SRFLD=$P(X,";;",2),SRDT=$P(SRFLD,"^",4) S:SRDT'="" SRLR(SRDT)=""
"RTN","SROAUTL4",9,0)
 S SRDT=0 F  S SRDT=$O(SRLR(SRDT)) Q:'SRDT  K SRX(SRDT)
"RTN","SROAUTL4",10,0)
 Q
"RTN","SROAUTL4",11,0)
RED M SRZZ=SRX S SRZ=0 F  S SRZ=$O(SRX(SRZ)) Q:'SRZ  S SRZZ=$P($G(SRX(SRZ)),"^",2),SRXX(SRZZ)=$P($G(SRX(SRZ)),"^")_":"_SRZ
"RTN","SROAUTL4",12,0)
 K SRX M SRX=SRXX K SRXX
"RTN","SROAUTL4",13,0)
 Q
"RTN","SROAUTL4",14,0)
TR S SRP=SRZ,SRP=$TR(SRP,"1234567890.","ABCDEFGHIJP")
"RTN","SROAUTL4",15,0)
 Q
"RTN","SROAUTL4",16,0)
GET S X=$T(@J)
"RTN","SROAUTL4",17,0)
 Q
"RTN","SROAUTL4",18,0)
BCF ;;236^Patient's Height^Height^;;1-01
"RTN","SROAUTL4",19,0)
BCG ;;237^Patient's Weight^Weight^;;1-02
"RTN","SROAUTL4",20,0)
EAI ;;519^Diabetes Mellitus - Chronic, Long-Term Management^Diabetes - Long Term^;;1-03
"RTN","SROAUTL4",21,0)
EBJ ;;520^Diabetes Mellitus - Management Prior to Surgery^Diabetes - 2 Wks Preop^;;1-04
"RTN","SROAUTL4",22,0)
BJC ;;203^History of COPD (Y/N)^COPD^;;1-05
"RTN","SROAUTL4",23,0)
CDG ;;347^FEV1^FEV1^;;1-06
"RTN","SROAUTL4",24,0)
BJI ;;209^Cardiomegaly on Chest X-Ray (Y/N)^Cardiomegaly (X-ray)^;;1-07
"RTN","SROAUTL4",25,0)
CDH ;;348^Pulmonary Rales (Y/N)^Pulmonary Rales^;;1-08
"RTN","SROAUTL4",26,0)
EAG ;;517^Tobacco Use^Tobacco Use^;;1-09
"RTN","SROAUTL4",27,0)
EAH ;;518^Tobacco Use Timeframe^Tobacco Use Timeframe^;;1-10
"RTN","SROAUTL4",28,0)
FAH ;;618^Positive Drug Screening^Positive Drug Screening^;;1-11
"RTN","SROAUTL4",29,0)
CDI ;;349^Active Endocarditis (Y/N)^Active Endocarditis^;;1-12
"RTN","SROAUTL4",30,0)
CEJ ;;350^Resting ST Depression (Y/N)^Resting ST Depression^;;1-13
"RTN","SROAUTL4",31,0)
BDJ ;;240^Functional Health Status^Functional Status^;;1-14
"RTN","SROAUTL4",32,0)
CEA ;;351^PCI Status^PCI^;;1-15
"RTN","SROAUTL4",33,0)
BJE ;;205^Prior Myocardial Infarction^Prior MI^;;1-16
"RTN","SROAUTL4",34,0)
CEB ;;352^Number of Prior Heart Surgeries^Number of Prior Heart Surgeries^;;1-17
"RTN","SROAUTL4",35,0)
DHE ;;485^Prior Heart Surgeries;;1-18
"RTN","SROAUTL4",36,0)
BFE ;;265^Peripheral Vascular Disease (Y/N)^Peripheral Vascular Disease^;;1-19
"RTN","SROAUTL4",37,0)
EBA ;;521^Prior Surgical Repair/Carotid Artery Obstruction^Prior Surgical Repair/Carotid Artery Obstruction^;;1-20
"RTN","SROAUTL4",38,0)
EBB ;;522^History of CVD Events^History of CVD Events^;;1-21
"RTN","SROAUTL4",39,0)
BFG ;;267^Angina (use CCS Functional Class)^Angina (use CCS Functional Class)^;;1-22
"RTN","SROAUTL4",40,0)
BJG ;;207^Congestive Heart Failure (use NYHA Functional Class)^CHF (use NYHA Class)^;;1-23
"RTN","SROAUTL4",41,0)
CEC ;;353^Current Diuretic Use (Y/N)^Current Diuretic Use^;;1-24
"RTN","SROAUTL4",42,0)
CED ;;354^Current Digoxin Use (Y/N)^Current Digoxin Use^;;1-25
"RTN","SROAUTL4",43,0)
CEE ;;355^IV NTG within 48 Hours Preceding Surgery (Y/N)^IV NTG within 48 Hours^;;1-26
"RTN","SROAUTL4",44,0)
DGD ;;474^Preop use of Circulatory Device^Preop Circulatory Device^;;1-27
"RTN","SROAUTL4",45,0)
DFC ;;463^Hypertension (Y/N)^Hypertension (Y/N)^;;1-28
"RTN","SROAUTL4",46,0)
EJI ;;509^Preoperative Atrial Fibrillation^Preoperative Atrial Fibrillation^;;1-29
"RTN","SROAUTL4",47,0)
DEG ;;457^HDL^^457.1;;2-01
"RTN","SROAUTL4",48,0)
DEGPA ;;457.1^HDL, Date;;2-02
"RTN","SROAUTL4",49,0)
DFA ;;461^LDL^^461.1;;2-03
"RTN","SROAUTL4",50,0)
DFAPA ;;461.1^LDL, Date;;2-04
"RTN","SROAUTL4",51,0)
DFB ;;462^Total Cholesterol^^462.1;;2-05
"RTN","SROAUTL4",52,0)
DFBPA ;;462.1^Total Cholesterol, Date;;2-06
"RTN","SROAUTL4",53,0)
DEH ;;458^Serum Triglyceride^^458.1;;2-07
"RTN","SROAUTL4",54,0)
DEHPA ;;458.1^Serum Triglyceride, Date;;2-08
"RTN","SROAUTL4",55,0)
DEI ;;459^Serum Potassium^^459.1;;2-09
"RTN","SROAUTL4",56,0)
DEIPA ;;459.1^Serum Potassium, Date;;2-10
"RTN","SROAUTL4",57,0)
DFJ ;;460^Serum Total Bilirubin^^460.1;;2-11
"RTN","SROAUTL4",58,0)
DFJPA ;;460.1^Serum Total Bilirubin, Date;;2-12
"RTN","SROAUTL4",59,0)
BBC ;;223^Preoperative Serum Creatinine^Creatinine^290;;2-13
"RTN","SROAUTL4",60,0)
BIJ ;;290^Creatinine Date;;2-14
"RTN","SROAUTL4",61,0)
BBE ;;225^Preoperative Serum Albumin^^292;;2-15
"RTN","SROAUTL4",62,0)
BIB ;;292^Preoperative Serum Albumin Date;;2-16
"RTN","SROAUTL4",63,0)
BAI ;;219^Preoperative Hemoglobin^^239;;2-17
"RTN","SROAUTL4",64,0)
BCI ;;239^Preoperative Hemoglobin Date;;2-18
"RTN","SROAUTL4",65,0)
EJD ;;504^Hemoglobin A1c^^504.1;;2-19
"RTN","SROAUTL4",66,0)
EJDPA ;;504.1^Hemoglobin A1c, Date;;2-20
"RTN","SROAUTL4",67,0)
EJG ;;507^B-type Natriuretic Peptide (BNP)^^507.1;;2-21
"RTN","SROAUTL4",68,0)
EJGPA ;;507.1^B-type Natriuretic Peptide (BNP), Date;;2-22
"RTN","SROAUTL4",69,0)
DGF ;;476^Procedure Type;;3-01
"RTN","SROAUTL4",70,0)
CEG ;;357^Left Ventricular End-Diastolic Pressure^LVEDP^;;3-02
"RTN","SROAUTL4",71,0)
CEH ;;358^Aortic Systolic Pressure^Aortic Systolic Pressure^;;3-03
"RTN","SROAUTL4",72,0)
CEI ;;359^PA Systolic Pressure^*PA Systolic Pressure^;;3-04
"RTN","SROAUTL4",73,0)
CFJ ;;360^PAW Mean Pressure^*PAW Mean Pressure^;;3-05
"RTN","SROAUTL4",74,0)
CFC ;;363^LV Contraction Grade^LV Contraction Grade  (from contrast or radionuclide angiogram or 2D echo^;;3-06
"RTN","SROAUTL4",75,0)
DAE ;;415^Mitral Regurgitation^Mitral Regurgitation^;;3-07
"RTN","SROAUTL4",76,0)
DGG ;;477^Aortic Stenosis;;3-08
"RTN","SROAUTL4",77,0)
CFA ;;361^Left Main Stenosis^Left Main Stenosis^;;3-09
"RTN","SROAUTL4",78,0)
CFBPA ;;362.1^Left Anterior Descending (LAD) Stenosis^LAD Stenosis^;;3-10
"RTN","SROAUTL4",79,0)
CFBPB ;;362.2^Right Coronary Artery Stenosis^Right Coronary Stenosis^;;3-11
"RTN","SROAUTL4",80,0)
CFBPC ;;362.3^Circumflex Coronary Artery Stenosis^Circumflex Stenosis^;;3-12
"RTN","SROAUTL4",81,0)
DGH ;;478^Re-Do Lad Stenosis;;3-13
"RTN","SROAUTL4",82,0)
DGI ;;479^Re-Do Right Coronary Stenosis;;3-14
"RTN","SROAUTL4",83,0)
DHJ ;;480^Re-Do Circumflex Stenosis;;3-15
"RTN","SROAUTL4",84,0)
CFD ;;364^Physician's Preoperative Estimate of Operative Mortality^Physician's Preoperative Estimate of Operative Mortality^;;4-01
"RTN","SROAUTL4",85,0)
CFDPA ;;364.1^Date/Time of Estimate of Operative Mortality^Date/Time of Estimate of Operative Mortality^;;4-02
"RTN","SROAUTL4",86,0)
APAC ;;1.13^ASA Class^ASA Classification^;;4-03
"RTN","SROAUTL4",87,0)
DAD ;;414^Cardiac Surgical Priority^Surgical Priority^;;4-04
"RTN","SROAUTL4",88,0)
DADPA ;;414.1^Date/Time of Cardiac Surgical Priority^Date/Time of Cardiac Surgical Priority^;;4-05
"RTN","SROAUTL4",89,0)
APJI ;;1.09^Wound Classification^Wound Classification^;;4-06
"RTN","SROAUTL4",90,0)
CFE ;;365^CABG Distal Anastomoses with Vein^^;;5-01
"RTN","SROAUTL4",91,0)
CFF ;;366^CABG Distal Anastomoses with IMA^^;;5-02
"RTN","SROAUTL4",92,0)
DFD ;;464^Number with Radial Artery^;;5-03
"RTN","SROAUTL4",93,0)
DFE ;;465^Number with Other Artery^;;5-04
"RTN","SROAUTL4",94,0)
DAF ;;416^CABG Distal Anastomoses with Other Conduit^^;;5-05
"RTN","SROAUTL4",95,0)
CFG ;;367^Aortic Valve Procedure^Aortic Valve Procedure^;;5-09
"RTN","SROAUTL4",96,0)
CFH ;;368^Mitral Valve Procedure^Mitral Valve Procedure^;;5-10
"RTN","SROAUTL4",97,0)
CFI ;;369^Tricuspid Valve Procedure^Tricuspid Valve Procedure^;;5-11
"RTN","SROAUTL4",98,0)
DIC ;;493^Pulmonary Valve Procedure^Pulmonary Valve Procedure^;;5-12
"RTN","SROAUTL4",99,0)
CGA ;;371^LV Aneurysmectomy (Y/N)^LV Aneurysmectomy^;;5-06
"RTN","SROAUTL4",100,0)
DHA ;;481^Bridge to transplant/Device;;5-07
"RTN","SROAUTL4",101,0)
DHC ;;483^Transmyocardial Laser Revascularization;;5-08
"RTN","SROAUTL4",102,0)
EAB ;;512^Maze Procedure;;5-13
"RTN","SROAUTL4",103,0)
CGF ;;376^ASD Repair (Y/N)^ASD Repair^;;5-14
"RTN","SROAUTL4",104,0)
CHJ ;;380^VSD Repair (Y/N)^VSD Repair^;;5-15
"RTN","SROAUTL4",105,0)
CGH ;;378^Myectomy (Y/N)^Myectomy^;;5-16
"RTN","SROAUTL4",106,0)
CGG ;;377^Myxoma Resection (Y/N)^Myxoma Resection^;;5-17
"RTN","SROAUTL4",107,0)
CGI ;;379^Other Tumor Resection (Y/N)^Other Tumor Resection^;;5-18
"RTN","SROAUTL4",108,0)
CGC ;;373^Cardiac Transplant (Y/N)^Cardiac Transplant^;;5-19
"RTN","SROAUTL4",109,0)
CGB ;;372^Great Vessel Repair(Y/N)^Great Vessel Repair^;;5-20
"RTN","SROAUTL4",110,0)
EJE ;;505^Endovascular Repair of Aorta (Y/N)^Endovascular Repair;;5-21
"RTN","SROAUTL4",111,0)
EJB ;;502^Other Cardiac Procedures (Y/N);;5-22
"RTN","SROAUTL4",112,0)
DHD ;;484^Other cardiac procedures (specify);;5-23
"RTN","SROAUTL4",113,0)
CHA ;;381^Foreign Body Removal (Y/N)^Foreign Body Removal^;;5-24
"RTN","SROAUTL4",114,0)
CHB ;;382^Pericardiectomy (Y/N)^Pericardiectomy^;;5-25
"RTN","SROAUTL4",115,0)
DEA ;;451^Total CPB Time;;5-26
"RTN","SROAUTL4",116,0)
DEJ ;;450^Total Ischemic Time;;5-27
"RTN","SROAUTL4",117,0)
DFH ;;468^Incision Type^;;5-28
"RTN","SROAUTL4",118,0)
DFI ;;469^Convert From Off Pump to CPB;;5-29
"RTN","SROAUTL4",119,0)
CHD ;;384^Operative Death (Y/N)^Operative Death^;;6-01
"RTN","SROAUTL4",120,0)
DAH ;;418^Hospital Admission Date And Time;;7-01
"RTN","SROAUTL4",121,0)
DAI ;;419^Hospital Discharge Date And Time;;7-02
"RTN","SROAUTL4",122,0)
DDJ ;;440^Cardiac Catheterization Date;;7-03
"RTN","SROAUTL4",123,0)
PBJE ;;.205^Time Patient In OR;;7-04
"RTN","SROAUTL4",124,0)
PBB ;;.22^Time the Operation Began^Date/Time Operation Began^;;7-05
"RTN","SROAUTL4",125,0)
PBC ;;.23^Time the Operation Ended^Date/Time Operation Ended^;;7-06
"RTN","SROAUTL4",126,0)
PBCB ;;.232^Time Patient Out OR;;7-07
"RTN","SROAUTL4",127,0)
DGJ ;;470^Date and Time Patient Extubated;;7-08
"RTN","SROAUTL4",128,0)
DGA ;;471^Date and Time Patient Discharged from ICU;;7-09
"RTN","SROAUTL4",129,0)
DGC ;;473^Homeless(Y/N);;7-10
"RTN","SROAUTL4",130,0)
DGB ;;472^Cardiac Surgery to NON-VA Facility;;7-11
"RTN","SROAUTL4",131,0)
DDB ;;442^Employment Status;;7-12
"RTN","SROAUTLC")
0^11^B28000682^B27857306
"RTN","SROAUTLC",1,0)
SROAUTLC ;BIR/ADM - CARDIAC RISK ASSESSMENT UTILITY ;08/18/2011
"RTN","SROAUTLC",2,0)
 ;;3.0;Surgery;**38,71,90,88,95,97,102,96,125,153,163,164,166,174,175,176**;24 Jun 93;Build 8
"RTN","SROAUTLC",3,0)
 ;
"RTN","SROAUTLC",4,0)
 ; Reference to ^DIC(45.3 supported by DBIA #218
"RTN","SROAUTLC",5,0)
 ;
"RTN","SROAUTLC",6,0)
SITE ; determine if site is a cardiac facility
"RTN","SROAUTLC",7,0)
 I $$CARD Q
"RTN","SROAUTLC",8,0)
 W @IOF,!,"The SURGERY SITE PARAMETERS file indicates this site/division does not use ",!,"the Cardiac Risk Assessment module. Therefore, this option is not available",!,"for use.",!
"RTN","SROAUTLC",9,0)
 S XQUIT="" W !!,"Press RETURN to continue  " R X:DTIME W @IOF
"RTN","SROAUTLC",10,0)
 Q
"RTN","SROAUTLC",11,0)
CARD() ; extrinsic call to determine if site is cardiac facility
"RTN","SROAUTLC",12,0)
 N CARD S CARD=0 Q:'$G(SRSITE) CARD
"RTN","SROAUTLC",13,0)
 I $P($G(^SRO(133,SRSITE,0)),"^",5)="Y" S CARD=1
"RTN","SROAUTLC",14,0)
 Q CARD
"RTN","SROAUTLC",15,0)
NOW ; update date/time of surgical priority entry
"RTN","SROAUTLC",16,0)
 N X I $$CARD,$P($G(^SRF(DA,208)),"^",12)'="" D NOW^%DTC S $P(^SRF(DA,208),"^",13)=$E(%,1,12)
"RTN","SROAUTLC",17,0)
 Q
"RTN","SROAUTLC",18,0)
KNOW ; delete date/time of surgical priority entry
"RTN","SROAUTLC",19,0)
 I $D(^SRF(DA,208)) S $P(^SRF(DA,208),"^",13)=""
"RTN","SROAUTLC",20,0)
 Q
"RTN","SROAUTLC",21,0)
EM ; input transform logic on Case Schedule Type field (.035)
"RTN","SROAUTLC",22,0)
 Q:'$$CARD  N DIR,SREM,SRNOT,SRQ,SRSP
"RTN","SROAUTLC",23,0)
 I X'="EM" S:X="U" $P(^SRF(DA,208),"^",12)=2 S:X'="U" $P(^SRF(DA,208),"^",12)=1 D NOW Q
"RTN","SROAUTLC",24,0)
 S SRQ=0,SRSP=$P(^DIC(45.3,$P(^SRO(137.45,$P(^SRF(DA,0),"^",4),0),"^",2),0),"^") Q:SRSP'=48&(SRSP'=58)  D:SRSP=58 YN Q:SRQ
"RTN","SROAUTLC",25,0)
 D CAT
"RTN","SROAUTLC",26,0)
 Q
"RTN","SROAUTLC",27,0)
CAT N X K DIR S DIR("A",1)="",DIR("A",2)="     Enter category of emergency.",DIR("A",3)="     1. Emergent (ongoing ischemia)",DIR("A",4)="     2. Emergent (hemodynamic compromise)",DIR("A",5)="     3. Emergent (arrest with CPR)"
"RTN","SROAUTLC",28,0)
 S DIR("A",6)="",DIR("A")="     Enter number (1, 2 or 3): ",DIR(0)="NA^1:3",DIR("?")="^D HELP^SROAUTLC" D ^DIR I $D(DTOUT)!$D(DUOUT) Q
"RTN","SROAUTLC",29,0)
 S SREM=Y,$P(^SRF(DA,208),"^",12)=SREM+2 D NOW
"RTN","SROAUTLC",30,0)
 Q
"RTN","SROAUTLC",31,0)
YN N X K DIR S DIR("A",1)="",DIR("A",2)="     Is this emergency case a cardiac procedure requiring cardiopulmonary",DIR("A")="     bypass (Y/N)? ",DIR(0)="YA" D ^DIR I $D(DTOUT)!$D(DUOUT) S SRQ=1 Q
"RTN","SROAUTLC",32,0)
 I 'Y S SRQ=1
"RTN","SROAUTLC",33,0)
 Q
"RTN","SROAUTLC",34,0)
HELP K SRHLP S SRHLP(1)="This is the category of emergency reflecting the patient's cardiovascular",SRHLP(2)="condition at the time of transport to the operating room:",SRHLP(3)=""
"RTN","SROAUTLC",35,0)
 S SRHLP(4)="1. Emergent (ongoing ischemia) - Clinical condition mandates immediate",SRHLP(5)="surgery usually on day of catheterization because of ischemia despite"
"RTN","SROAUTLC",36,0)
 S SRHLP(6)="medical therapy, such as intravenous nitroglycerine.  Ischemia should",SRHLP(7)="be manifested as chest pain and/or ST-segment depression."
"RTN","SROAUTLC",37,0)
 S SRHLP(8)="",SRHLP(9)="2. Emergent (hemodynamic compromise) - Persistent hypotension (arterial",SRHLP(10)="systolic pressure < 80 mm Hg) and/or low cardiac output (cardiac index"
"RTN","SROAUTLC",38,0)
 S SRHLP(11)="< 2.0 L/min/MxM) despite iontropic and/or mechanical circulatory",SRHLP(12)="support mandates immediates surgery within hours of the cardiac",SRHLP(13)="catheterization."
"RTN","SROAUTLC",39,0)
 S SRHLP(14)="",SRHLP(15)="3. Emergent (arrest with CPR) - Patient is taken to the operating room in",SRHLP(16)="full cardiac arrest with the circulation supported by cardiopulmonary"
"RTN","SROAUTLC",40,0)
 S SRHLP(17)="resuscitation (excludes patients being adequately perfused by a",SRHLP(18)="cardiopulmonary support system).",SRHLP(19)=""
"RTN","SROAUTLC",41,0)
 S SRHLP(20)="Enter the appropriate number to designate the category of emergency.",SRHLP(21)="",SRHLP(22)="" D EN^DDIOL(.SRHLP) K SRHLP
"RTN","SROAUTLC",42,0)
 N DIR S DIR(0)="FOA",DIR("A")="Enter RETURN to continue: " D ^DIR I $D(DTOUT)!$D(DUOUT) S SRQ=1 Q
"RTN","SROAUTLC",43,0)
 Q
"RTN","SROAUTLC",44,0)
CHK ; check for missing cardiac assessment information
"RTN","SROAUTLC",45,0)
 K SRX,SRZZ F SRC="CLIN","LAB","CATH","OP","CAR","OUT","R" K DA,DIC,DIQ,DR,SRY S DIC="^SRF(",DA=SRTN,DIQ="SRY",DIQ(0)="I" D @SRC D EN^DIQ1 D ^SROAUTL4
"RTN","SROAUTLC",46,0)
 D RED^SROAUTL4
"RTN","SROAUTLC",47,0)
 Q
"RTN","SROAUTLC",48,0)
CLIN S DR="236;237;519;520;203;347;209;348;517;518;618;349;350;240;351;205;352;485;265;521;522;267;207;353;354;355;474;463;509"
"RTN","SROAUTLC",49,0)
 Q
"RTN","SROAUTLC",50,0)
CATH S DR="476;357;358;359;360;363;415;477;361;362.1;362.2;362.3;478;479;480"
"RTN","SROAUTLC",51,0)
 Q
"RTN","SROAUTLC",52,0)
R S DR="418;419;440;.205;.22;.23;.232;470;471;473;472;442"
"RTN","SROAUTLC",53,0)
 Q
"RTN","SROAUTLC",54,0)
OP S DR="364;364.1;1.13;414;414.1;1.09"
"RTN","SROAUTLC",55,0)
 Q
"RTN","SROAUTLC",56,0)
OUT S DR="384"
"RTN","SROAUTLC",57,0)
 Q
"RTN","SROAUTLC",58,0)
CAR S DR="365;366;464;465;416;367;368;369;493;371;481;483;512;376;380;378;377;379;373;372;505;502;381;382;451;450;468;469"
"RTN","SROAUTLC",59,0)
 I $P($G(^SRF(SRTN,209)),"^",13)="Y"!($P($G(^SRF(SRTN,209)),"^",13)="") S DR=DR_";484"
"RTN","SROAUTLC",60,0)
 Q
"RTN","SROAUTLC",61,0)
LAB S DR="457;457.1;461;461.1;462;462.1;458;458.1;459;459.1;460;460.1;223;290;225;292;219;239;504;504.1;507;507.1"
"RTN","SROAUTLC",62,0)
 Q
"RTN","SROCAN0")
0^45^B16620958^B15035764
"RTN","SROCAN0",1,0)
SROCAN0 ;BIR/MAM - REPORT OF CANCELLATIONS (CONT.) ;08/08/2011
"RTN","SROCAN0",2,0)
 ;;3.0;Surgery;**14,94,176**;24 Jun 93;Build 8
"RTN","SROCAN0",3,0)
 U IO K ^TMP("SR",$J),SRSPEC S SRD=SRSD-.0001,SRE=SRED+.9999,(SRHDR,SRQ)=0,PAGE=1
"RTN","SROCAN0",4,0)
 S Y=DT D D^DIQ S SRPRINT=$E(Y,1,12)
"RTN","SROCAN0",5,0)
 N SRNME,SROPP
"RTN","SROCAN0",6,0)
 F  S SRD=$O(^SRF("AC",SRD)) Q:SRQ!(SRD>SRE)!('SRD)  S SRTN=0 F  S SRTN=$O(^SRF("AC",SRD,SRTN)) Q:SRQ!('SRTN)  I $D(^SRF(SRTN,0)),$P($G(^SRF(SRTN,30)),"^")'="",$$MANDIV^SROUTL0(SRINSTP,SRTN) D SET
"RTN","SROCAN0",7,0)
 D HDR S SRSS="" F  S SRSS=$O(^TMP("SR",$J,SRSS)) Q:SRSS=""!(SRQ)  D SRSP S SRNME="" F  S SRNME=$O(^TMP("SR",$J,SRSS,SRNME)) Q:SRNME=""!(SRQ)  D
"RTN","SROCAN0",8,0)
 .S SROPP="" F  S SROPP=$O(^TMP("SR",$J,SRSS,SRNME,SROPP)) Q:SROPP=""!(SRQ)  S SRTN=0 F  S SRTN=$O(^TMP("SR",$J,SRSS,SRNME,SROPP,SRTN)) Q:'SRTN!(SRQ)  D CASE
"RTN","SROCAN0",9,0)
 I SRSP S SRSS="" F  S SRSS=$O(SRSP(SRSS)) Q:'SRSS!SRQ  I '$D(^TMP("SR",$J,SRSS)) D SRSP D:$Y+4>IOSL HDR Q:SRQ  W !,"No data for selected date range."
"RTN","SROCAN0",10,0)
 I 'SRSP,'$D(^TMP("SR",$J)) W !!,"No data for selected date range."
"RTN","SROCAN0",11,0)
 D END
"RTN","SROCAN0",12,0)
 Q
"RTN","SROCAN0",13,0)
SRSP S SRSPEC=$S(SRSS:$P(^SRO(137.45,SRSS,0),"^"),1:"NO SPECIALTY ENTERED"),SRSPEC=">> SURGICAL SPECIALTY: "_SRSPEC_" <<" D SUB
"RTN","SROCAN0",14,0)
 Q
"RTN","SROCAN0",15,0)
SET ; set up ^TMP
"RTN","SROCAN0",16,0)
 Q:$P($G(^SRF(SRTN,"NON")),"^")="Y"  S SRSS=$P(^SRF(SRTN,0),"^",4) S:SRSS="" SRSS="ZZ" I SRSP,'$D(SRSP(SRSS)) Q
"RTN","SROCAN0",17,0)
 S DFN=$P(^SRF(SRTN,0),"^") D DEM^VADPT
"RTN","SROCAN0",18,0)
 S ^TMP("SR",$J,SRSS,VADM(1),$P(^SRF(SRTN,"OP"),"^"),SRTN)=""
"RTN","SROCAN0",19,0)
 Q
"RTN","SROCAN0",20,0)
CASE ; print individual case
"RTN","SROCAN0",21,0)
 I $Y+6>IOSL D HDR Q:SRQ
"RTN","SROCAN0",22,0)
 S S(0)=^SRF(SRTN,0),DFN=$P(S(0),"^") D DEM^VADPT S SRNM=VADM(1),SRSSN=VA("PID"),Y=$P(S(0),"^",9) D D^DIQ S SROD=$E(Y,1,12)
"RTN","SROCAN0",23,0)
 S SRCR=$P($G(^SRF(SRTN,31)),"^",8) S:SRCR'="" SRCR=$P(^SRO(135,SRCR,0),"^")
"RTN","SROCAN0",24,0)
 S Y=$P(^SRF(SRTN,30),"^") D:Y D^DIQ S SRCD=$P(Y,"@")_"  "_$E($P(Y,"@",2),1,5)
"RTN","SROCAN0",25,0)
 K ABORT S ABORT=$P($G(^SRF(SRTN,.2)),"^",10)
"RTN","SROCAN0",26,0)
OPS S SROPER=$S(ABORT:"* ",1:"")_$P(^SRF(SRTN,"OP"),"^"),OPER=0 F  S OPER=$O(^SRF(SRTN,13,OPER)) Q:OPER=""  D OTHER
"RTN","SROCAN0",27,0)
 K SROPS,MM,MMM S:$L(SROPER)<50 SROPS(1)=SROPER I $L(SROPER)>49 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROCAN0",28,0)
PRINT ;
"RTN","SROCAN0",29,0)
 W !!,SROD,?15,$E(SRNM,1,28),?44,SROPS(1),?95,SRCD,!,SRTN,?15,VA("PID") W:$D(SROPS(2)) ?44,SROPS(2) W ?95,SRCR
"RTN","SROCAN0",30,0)
 I $D(SROPS(3)) W !,?44,SROPS(3) I $D(SROPS(4)) W !,?44,SROPS(4) I $D(SROPS(5)) W !,?44,SROPS(5) I $D(SROPS(6)) W !,?44,SROPS(6)
"RTN","SROCAN0",31,0)
 Q
"RTN","SROCAN0",32,0)
END W:$E(IOST)="P" @IOF I $D(ZTQUEUED) K ^TMP("SR",$J) Q:$G(ZTSTOP)  S ZTREQ="@" Q
"RTN","SROCAN0",33,0)
 I 'SRQ,$E(IOST)'="P" W !!,"Press RETURN to continue  " R X:DTIME
"RTN","SROCAN0",34,0)
 D ^SRSKILL K SRTN D ^%ZISC W @IOF
"RTN","SROCAN0",35,0)
 Q
"RTN","SROCAN0",36,0)
OTHER ; other operations
"RTN","SROCAN0",37,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SRTN,13,OPER,0),"^"))>250 S SRLONG=0,OPER=999,SROPERS=" ..."
"RTN","SROCAN0",38,0)
 I SRLONG S SROPERS=$P(^SRF(SRTN,13,OPER,0),"^")
"RTN","SROCAN0",39,0)
 S SROPER=SROPER_$S(SROPERS=" ...":SROPERS,1:", "_SROPERS)
"RTN","SROCAN0",40,0)
 Q
"RTN","SROCAN0",41,0)
LOOP ; break procedure if greater than 55 characters
"RTN","SROCAN0",42,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<50  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SROCAN0",43,0)
 Q
"RTN","SROCAN0",44,0)
HDR ; print heading
"RTN","SROCAN0",45,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRQ=1 Q
"RTN","SROCAN0",46,0)
 I SRHDR,$E(IOST)'="P" W !!,"Press RETURN to continue, or '^' to quit:  " R X:DTIME I '$T!(X["^") S SRQ=1 Q
"RTN","SROCAN0",47,0)
 W:$Y @IOF W !,?(132-$L(SRINST)\2),SRINST,?115,"PAGE: "_PAGE,!,?55,"REPORT OF CANCELLATIONS",?100,"REVIEWED BY:"
"RTN","SROCAN0",48,0)
 W !,"PRINTED: ",SRPRINT,?53,"FROM ",$E(SRSD,4,5),"/",$E(SRSD,6,7),"/",$E(SRSD,2,3),"  TO ",$E(SRED,4,5),"/",$E(SRED,6,7),"/",$E(SRED,2,3),?100,"DATE REVIEWED:"
"RTN","SROCAN0",49,0)
 W !!,"DATE",?15,"PATIENT",?44,"OPERATION(S)",?95,"CANCEL DATE",!,"CASE #",?15,"ID#",?95,"REASON",! F I=1:1:IOM W "="
"RTN","SROCAN0",50,0)
 S (SRHDR,SRPAGE)=1,PAGE=PAGE+1 D:$D(SRSPEC) SUB1
"RTN","SROCAN0",51,0)
 Q
"RTN","SROCAN0",52,0)
SUB ; print specialty sub-heading
"RTN","SROCAN0",53,0)
 I $Y+8>IOSL D HDR I SRQ!('SRPAGE) Q
"RTN","SROCAN0",54,0)
 I 'SRPAGE W !! F LINE=1:1:132 W "-"
"RTN","SROCAN0",55,0)
SUB1 W !,?(132-$L(SRSPEC)\2),SRSPEC S SRPAGE=0
"RTN","SROCAN0",56,0)
 Q
"RTN","SROCCAT")
0^66^B16992620^B17047332
"RTN","SROCCAT",1,0)
SROCCAT ;BIR/MAM - PERIOPERATIVE OCCURRENCE UPDATE (Y/N) FIELDS ;09/29/2011
"RTN","SROCCAT",2,0)
 ;;3.0;Surgery;**38,47,95,138,153,160,174,176**;24 Jun 93;Build 8
"RTN","SROCCAT",3,0)
 S ZTDTH=$H,ZTIO="",ZTRTN="EN^SROCCAT",ZTSAVE("SRTN")="",ZTDESC="Update Perioperative Occurrences for Individual Patient" D ^%ZTLOAD
"RTN","SROCCAT",4,0)
 Q
"RTN","SROCCAT",5,0)
EN ; entry when queued
"RTN","SROCCAT",6,0)
 K SRCOMPS S (CNT,CMP)=0 F  S CMP=$O(^SRF(SRTN,10,CMP)) Q:'CMP  S COMP=$P(^SRF(SRTN,10,CMP,0),"^",2) I COMP S CNT=CNT+1,SRCOMPS(CNT)=COMP_"^"_$P(^(0),"^",3)
"RTN","SROCCAT",7,0)
 S CMP=0 F  S CMP=$O(^SRF(SRTN,16,CMP)) Q:'CMP  S COMP=$P(^SRF(SRTN,16,CMP,0),"^",2) I COMP S SRDATE="" D
"RTN","SROCCAT",8,0)
 .S SRDATE=$E($P(^SRF(SRTN,16,CMP,0),"^",7),1,7) I SRDATE S X1=$E($P(^SRF(SRTN,0),"^",9),1,7),X2=30 D C^%DTC I SRDATE>X Q
"RTN","SROCCAT",9,0)
 .S CNT=CNT+1,SRCOMPS(CNT)=COMP_"^"_$P(^SRF(SRTN,16,CMP,0),"^",3)
"RTN","SROCCAT",10,0)
 K DR,DIE,DA S DA=SRTN,DIE=130,DR="[SRO-NOCOMP]" D ^DIE K DR,DA
"RTN","SROCCAT",11,0)
 I '$D(SRCOMPS(1)) S ZTREQ="@" Q
"RTN","SROCCAT",12,0)
 S CNT=0 F  S CNT=$O(SRCOMPS(CNT)) Q:'CNT  S COMPL=$P(SRCOMPS(CNT),"^") D UPDATE
"RTN","SROCCAT",13,0)
 S ZTREQ="@"
"RTN","SROCCAT",14,0)
 Q
"RTN","SROCCAT",15,0)
UPDATE ; update Y/N questions
"RTN","SROCCAT",16,0)
 I COMPL=1 K DA,DR,DIE S DA=SRTN,DIE=130,DR="403////Y;248////Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",17,0)
 I COMPL=2 K DA,DR,DIE S DA=SRTN,DIE=130,DR="403////Y;249////Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",18,0)
 I COMPL=3 K DA,DR,DIE S DA=SRTN,DIE=130,DR="322////Y;250////Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",19,0)
 I COMPL=4 K DA,DR,DIE S DA=SRTN,DIE=130,DR="318////Y;251////Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",20,0)
 I COMPL=5 K DA,DR,DIE S DA=SRTN,DIE=130,DR="318////Y;252///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",21,0)
 I COMPL=6 K DA,DR,DIE S DA=SRTN,DIE=130,DR="318////Y;285///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",22,0)
 I COMPL=7 K DA,DR,DIE S DA=SRTN,DIE=130,DR="318////Y;412///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",23,0)
 I COMPL=8 K DA,DR,DIE S DA=SRTN,DIE=130,DR="319////Y;409///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",24,0)
 I COMPL=9 K DA,DR,DIE S DA=SRTN,DIE=130,DR="319////Y;254///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",25,0)
 I COMPL=10 K DA,DR,DIE S DA=SRTN,DIE=130,DR="319////Y;255///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",26,0)
 I COMPL=11 K DA,DR,DIE S DA=SRTN,DIE=130,DR="321////Y;259///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",27,0)
 I COMPL=12!(COMPL=28) K DA,DR,DIE S DA=SRTN,DIE=130,DR="320////Y;256///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",28,0)
 I COMPL=13 K DA,DR,DIE S DA=SRTN,DIE=130,DR="320////Y;410///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",29,0)
 I COMPL=14 K DA,DR,DIE S DA=SRTN,DIE=130,DR="320////Y;287///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",30,0)
 I COMPL=15 K DA,DR,DIE S DA=SRTN,DIE=130,DR="322////Y;257///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",31,0)
 I COMPL=16 K DA,DR,DIE S DA=SRTN,DIE=130,DR="321////Y;411///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",32,0)
 I COMPL=17 K DA,DR,DIE S DA=SRTN,DIE=130,DR="258///Y;321////Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",33,0)
 I COMPL=18 K DA,DR,DIE S DA=SRTN,DIE=130,DR="322////Y;345///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",34,0)
 I COMPL=19 K DA,DR,DIE S DA=SRTN,DIE=130,DR="322////Y;261///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",35,0)
 I COMPL=20 K DA,DR,DIE S DA=SRTN,DIE=130,DR="322////Y;263///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",36,0)
 I COMPL=21 K DA,DR,DIE S DA=SRTN,DIE=130,DR="322////Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",37,0)
 I COMPL=22 K DA,DR,DIE S DA=SRTN,DIE=130,DR="403////Y;404///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",38,0)
 I COMPL=23 K DA,DR,DIE S DA=SRTN,DIE=130,DR="386////Y" D ^DIE K DR,DIE,DA Q
"RTN","SROCCAT",39,0)
 I COMPL=24 K DA,DR,DIE S DA=SRTN,DIE=130,DR="387////Y" D ^DIE K DR,DIE,DA Q
"RTN","SROCCAT",40,0)
 I COMPL=25 K DA,DR,DIE S DA=SRTN,DIE=130,DR="388////Y" D ^DIE K DR,DIE,DA Q
"RTN","SROCCAT",41,0)
 I COMPL=26 K DA,DR,DIE S DA=SRTN,DIE=130,DR="389////Y" D ^DIE K DR,DIE,DA Q
"RTN","SROCCAT",42,0)
 I COMPL=27 K DA,DR,DIE S DA=SRTN,DIE=130,DR="391////Y" D ^DIE K DR,DIE,DA Q
"RTN","SROCCAT",43,0)
 I COMPL=29 K DA,DR,DIE S DA=SRTN,DIE=130,DR="318////Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",44,0)
 I COMPL=30 K DA,DR,DIE S DA=SRTN,DIE=130,DR="320////Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",45,0)
 I COMPL=31 K DA,DR,DIE S DA=SRTN,DIE=130,DR="319////Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",46,0)
 I COMPL=32 K DA,DR,DIE S DA=SRTN,DIE=130,DR="321////Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",47,0)
 I COMPL=33 K DA,DR,DIE S DA=SRTN,DIE=130,DR="466////Y" D ^DIE K DR,DIE,DA Q
"RTN","SROCCAT",48,0)
 I COMPL=34 K DA,DR,DIE S DA=SRTN,DIE=130,DR="467////Y" D ^DIE K DR,DIE,DA Q
"RTN","SROCCAT",49,0)
 I COMPL=35 K DA,DR,DIE S DA=SRTN,DIE=130,DR="322////Y;488////Y" D ^DIE K DR,DIE,DA Q
"RTN","SROCCAT",50,0)
 I COMPL=36 K DA,DR,DIE S DA=SRTN,DIE=130,DR="403////Y" D ^DIE K DR,DIE,DA Q
"RTN","SROCCAT",51,0)
 I COMPL=37 K DA,DR,DIE S DA=SRTN,DIE=130,DR="318////Y;490///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",52,0)
 I COMPL=38 K DA,DR,DIE S DA=SRTN,DIE=130,DR="322////Y;447////Y" D ^DIE K DR,DIE,DA Q
"RTN","SROCCAT",53,0)
 I COMPL=39 K DA,DR,DIE S DA=SRTN,DIE=130,DR="448////Y" D ^DIE K DR,DIE,DA Q
"RTN","SROCCAT",54,0)
 Q
"RTN","SROCMPED")
0^32^B34021331^B29267321
"RTN","SROCMPED",1,0)
SROCMPED ;BIR/MAM - ENTER/EDIT OCCURRENCES ;08/16/2011
"RTN","SROCMPED",2,0)
 ;;3.0;Surgery;**26,38,47,125,153,170,176**;24 Jun 93;Build 8
"RTN","SROCMPED",3,0)
 I '$P(^SRF(SRTN,SRTYPE,SRENTRY,0),"^",2) D NOCAT I SRSOUT S SRSOUT=0 Q
"RTN","SROCMPED",4,0)
 I '$D(^SRF(SRTN,SRTYPE,SRENTRY,0)) K SRENTRY S SRSOUT=0 Q
"RTN","SROCMPED",5,0)
START I '$D(^SRF(SRTN,SRTYPE,SRENTRY)) K SRENTRY S SRSOUT=0 Q
"RTN","SROCMPED",6,0)
 S SRSOUT=0,SR=^SRF(SRTN,SRTYPE,SRENTRY,0)
"RTN","SROCMPED",7,0)
 I $G(SRNEW),$P(SR,"^",2)=3,SRTYPE=16 D SEPSIS G:SRSOUT END G START
"RTN","SROCMPED",8,0)
 I $G(SRNEW),$P(SR,"^",2)=27,SRTYPE=16,$P($G(^SRF(SRTN,"RA")),"^",2)="C" D RCP G:SRSOUT END G START
"RTN","SROCMPED",9,0)
 I $G(SRNEW),$P(SR,"^",2)=12,SRTYPE=16 D STROKE G:SRSOUT END G START
"RTN","SROCMPED",10,0)
 D HDR^SROAUTL W !
"RTN","SROCMPED",11,0)
 S SRO(1)=$P(SR,"^")_"^.01",X=$P(SR,"^",2),SRO(2)=X_"^"_$S(SRTYPE=10:3,1:5) I X S $P(SRO(2),"^")=$P(^SRO(136.5,X,0),"^")
"RTN","SROCMPED",12,0)
 I $P(SR,"^",2)=3 S Y=$P(SR,"^",4),C=$P(^DD(130.22,7,0),"^",2) D:Y'="" Y^DIQ S SRO(3)=Y_"^7"
"RTN","SROCMPED",13,0)
 I $P(SR,"^",2)=12 S Y=$P(SR,"^",8),C=$P(^DD(130.22,9,0),"^",2) D:Y'="" Y^DIQ S SRO(3)=Y_"^9"
"RTN","SROCMPED",14,0)
 I $P(SR,"^",2)'=3&($P(SR,"^",2)'=12) D
"RTN","SROCMPED",15,0)
 .S SRSDATE=$E($P(SR,"^",7),1,7) I 'SRSDATE S SRSDATE=$E($P(^SRF(SRTN,0),"^",9),1,7)
"RTN","SROCMPED",16,0)
 .I $P(SR,"^",2)=27,$P($G(^SRF(SRTN,"RA")),"^",2)="C" S Y=$P(SR,"^",5),C=$P(^DD(130.22,8,0),"^",2) D:Y'="" Y^DIQ S SRO(3)=Y_"^8" Q
"RTN","SROCMPED",17,0)
 .S X=$P(SR,"^",3) D:X ICDSTR S SRO(3)=X_"^"_$S(SRTYPE=10:4,1:6)
"RTN","SROCMPED",18,0)
 S SR(2)=$G(^SRF(SRTN,SRTYPE,SRENTRY,2)),SRO(4)=$P(SR(2),"^")_"^"_$S(SRTYPE=10:2,1:3)
"RTN","SROCMPED",19,0)
 S X=$P(SR,"^",6),SHEMP=$S(X="U":"UNRESOLVED",X="I":"IMPROVED",X="D":"DEATH",X="W":"WORSE",1:""),SRO(5)=SHEMP_"^.05"
"RTN","SROCMPED",20,0)
 K SRO(6) I SRTYPE=16 S X=$P(SR,"^",7) S:X X=$E(X,4,5)_"/"_$E(X,6,7)_"/"_$E(X,2,3) S SRO(6)=X_"^2"
"RTN","SROCMPED",21,0)
DISP W !,"1. Occurrence: ",?26,$P(SRO(1),"^"),!,"2. Occurrence Category: ",?26,$P(SRO(2),"^")
"RTN","SROCMPED",22,0)
 W !,"3. "_$S($P(SR,"^",2)=3:"Sepsis Type",$P(SR,"^",2)=12:"Stroke/CVA Duration",$P(SR,"^",2)=27&($P($G(^SRF(SRTN,"RA")),"^",2)="C"):"CPB Status",1:"ICD Diagnosis Code")_":",?26,$P(SRO(3),"^")
"RTN","SROCMPED",23,0)
 W !,"4. Treatment Instituted:",?26,$P(SRO(4),"^"),!,"5. Outcome to Date:",?26,$P(SRO(5),"^")
"RTN","SROCMPED",24,0)
 I $D(SRO(6)) W !,"6. Date Noted: ",?26,$P(SRO(6),"^")
"RTN","SROCMPED",25,0)
 S SRX=$S(SRTYPE=10:6,1:7),SRO(SRX)="^" I $O(^SRF(SRTN,SRTYPE,SRENTRY,1,0)) S SRO(SRX)="*** INFORMATION ENTERED ***"_SRO(SRX)
"RTN","SROCMPED",26,0)
 S X=$S(SRTYPE=10:1,1:4),SRO(SRX)=SRO(SRX)_X,SRMAX=SRX
"RTN","SROCMPED",27,0)
 W !,SRX_". Occurrence Comments: ",?26,$P(SRO(SRX),"^")
"RTN","SROCMPED",28,0)
 W !!,SRLINE
"RTN","SROCMPED",29,0)
 W !!,"Select Occurrence Information: " R X:DTIME I '$T!("^"[X) S:X["^" SRSOUT=1 G END
"RTN","SROCMPED",30,0)
 I "Aa"[X S X="1:"_SRMAX
"RTN","SROCMPED",31,0)
 I X'?.N1":".N,'$D(SRO(X)) D HELP G:SRSOUT END W @IOF G START
"RTN","SROCMPED",32,0)
 I X?.N1":".N S Y=$E(X),Z=$P(X,":",2) I Y<1!(Z>SRMAX)!(Y>Z) D HELP G:SRSOUT END W @IOF G START
"RTN","SROCMPED",33,0)
 D HDR^SROAUTL W !
"RTN","SROCMPED",34,0)
 I X?.N1":".N D RANGE G START
"RTN","SROCMPED",35,0)
 I $$LOCK^SROUTL(SRTN) D  D UNLOCK^SROUTL(SRTN) D:SRZ=2 PRESS
"RTN","SROCMPED",36,0)
 .S SRZ=X K DIE,DA,DR S DA(1)=SRTN,DA=SRENTRY,DIE="^SRF("_SRTN_","_SRTYPE_",",DR=$P(SRO(X),"^",2)_"T" D ^DIE K DR,DA
"RTN","SROCMPED",37,0)
 .I SRZ=3,$P(SR,"^",2)=12,$P(^SRF(SRTN,16,SRENTRY,0),"^",8)<2 D YUP
"RTN","SROCMPED",38,0)
 G START
"RTN","SROCMPED",39,0)
 Q
"RTN","SROCMPED",40,0)
ICDSTR ; get diagnosis info
"RTN","SROCMPED",41,0)
 N SRICDSTR
"RTN","SROCMPED",42,0)
 S SRICDSTR=$$ICDDX^ICDCODE(X,SRSDATE),X=$P(SRICDSTR,"^",2)_"  "_$P(SRICDSTR,"^",4)
"RTN","SROCMPED",43,0)
 Q
"RTN","SROCMPED",44,0)
HELP W @IOF,!!!!,"Enter the number, or range of numbers you want to edit.  Examples of proper",!,"responses are listed below."
"RTN","SROCMPED",45,0)
 W !!,"1. Enter 'A' to update all occurrence information."
"RTN","SROCMPED",46,0)
 S RANGE="(1-"_SRMAX_")"
"RTN","SROCMPED",47,0)
 W !!,"2. Enter a number "_RANGE_" to update a specific occurrence element.  (For",!,"   example, enter '2' to update the occurrence category)"
"RTN","SROCMPED",48,0)
 W !!,"3. Enter a range of numbers "_RANGE_" separated by a ':' to enter a range of",!,"   elements.  (For example, enter '1:3' to enter occurrence, occurrence",!,"   category, and ICD diagnosis code)"
"RTN","SROCMPED",49,0)
 W ! D PRESS
"RTN","SROCMPED",50,0)
 Q
"RTN","SROCMPED",51,0)
RANGE ; range of numbers
"RTN","SROCMPED",52,0)
 I $$LOCK^SROUTL(SRTN) D  D UNLOCK^SROUTL(SRTN)
"RTN","SROCMPED",53,0)
 .S SHEMP=$P(X,":"),CURLEY=$P(X,":",2) F EMILY=SHEMP:1:CURLEY Q:SRSOUT  D ONE
"RTN","SROCMPED",54,0)
 I CURLEY=2 D PRESS
"RTN","SROCMPED",55,0)
 Q
"RTN","SROCMPED",56,0)
ONE ; edit one item
"RTN","SROCMPED",57,0)
 K DR,DA,DIE S DR=$P(SRO(EMILY),"^",2)_"T",DA=SRENTRY,DA(1)=SRTN,DIE="^SRF("_SRTN_","_SRTYPE_"," D ^DIE K DR,DA I '$D(^SRF(SRTN,SRTYPE,SRENTRY))!$D(DTOUT)!$D(Y) S SRSOUT=1
"RTN","SROCMPED",58,0)
 Q
"RTN","SROCMPED",59,0)
END K SRO,SR,X,DA,DIE,DR,Y
"RTN","SROCMPED",60,0)
 Q
"RTN","SROCMPED",61,0)
SEPSIS D HDR^SROAUTL K DA,DIE,DR
"RTN","SROCMPED",62,0)
 S DA=SRENTRY,DA(1)=SRTN,DR="7T",DIE="^SRF("_SRTN_","_SRTYPE_"," D ^DIE K DR,DA
"RTN","SROCMPED",63,0)
 K DA,DIE,DR S SRNEW=0 I $D(DTOUT)!$D(Y) S SRSOUT=1 Q
"RTN","SROCMPED",64,0)
 Q
"RTN","SROCMPED",65,0)
STROKE D HDR^SROAUTL K DIR S DIR(0)="130.22,9",DIR("A")="Stroke/CVA Duration",DIR("B")="<24 HOURS" D ^DIR K DIR I $D(DTOUT) S SRSOUT=1 Q 
"RTN","SROCMPED",66,0)
 K DA,DR,DIE I X["^"!(X="@")!(Y=1) D DEL S DA=SRTN,DIE=130,DR="256////N" D ^DIE K DR,DA,DIE Q
"RTN","SROCMPED",67,0)
 S DA=SRENTRY,DR="9///"_Y,DA(1)=SRTN,DIE="^SRF(SRTN,16," D ^DIE S SRNEW=0 K DR,DA,DIE
"RTN","SROCMPED",68,0)
 Q
"RTN","SROCMPED",69,0)
RCP D HDR^SROAUTL K DA,DIE,DR
"RTN","SROCMPED",70,0)
 S DA=SRENTRY,DA(1)=SRTN,DR="8T",DIE="^SRF("_SRTN_","_SRTYPE_"," D ^DIE K DR,DA
"RTN","SROCMPED",71,0)
 K DA,DIE,DR S SRNEW=0 I $D(DTOUT)!$D(Y) S SRSOUT=1 Q
"RTN","SROCMPED",72,0)
 Q
"RTN","SROCMPED",73,0)
NOCAT W @IOF,!,"The occurrence selected does not have a corresponding category.  A category",!,"must be selected at this time, or the occurrence will be deleted.",!
"RTN","SROCMPED",74,0)
 K DIE,DIC,X,Y,SRCAT
"RTN","SROCMPED",75,0)
 S DIC=136.5,DIC(0)="QEAMZ",DIC("A")="Select Occurrence Category: ",DIC("S")="I '$P(^(0),U,2)" S:SRTYPE=10 DIC("S")=DIC("S")_",$P(^(0),U,3)" D ^DIC
"RTN","SROCMPED",76,0)
 I +Y>0 S SRCAT=+Y K DIE,DR,DA S DA(1)=SRTN,DA=SRENTRY,DIE="^SRF("_DA_","_SRTYPE_",",DR=$S(SRTYPE=10:3,1:5)_"////"_SRCAT D ^DIE K DR,DA
"RTN","SROCMPED",77,0)
 I $D(SRCAT) K SRCAT Q
"RTN","SROCMPED",78,0)
DEL W !!,"Are you sure that you want to delete this occurrence ? NO// " R SRYN:DTIME I '$T!(SRYN["^") D YUP S SRSOUT=1 Q
"RTN","SROCMPED",79,0)
 I "YyNn"'[SRYN W !!,"Enter 'YES' to delete this occurrence from the patient's record.  Enter 'NO'",!,"to backup and enter a category for this occurrence." G DEL
"RTN","SROCMPED",80,0)
 I "Nn"[SRYN G NOCAT
"RTN","SROCMPED",81,0)
YUP ; delete occurrence
"RTN","SROCMPED",82,0)
 K DIK,DA S DA=SRENTRY,DA(1)=SRTN,DIK="^SRF("_SRTN_","_SRTYPE_"," D ^DIK K DIK,DA
"RTN","SROCMPED",83,0)
 Q
"RTN","SROCMPED",84,0)
PRESS W ! K DIR S DIR(0)="E" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SROCMPED",85,0)
 Q
"RTN","SROESNR0")
0^20^B39978191^B35434963
"RTN","SROESNR0",1,0)
SROESNR0 ;BIR/ADM - NURSE REPORT E-SIG UTILITY ;11/01/2011
"RTN","SROESNR0",2,0)
 ;;3.0;Surgery;**100,129,147,153,175,176**;24 Jun 93;Build 8
"RTN","SROESNR0",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SROESNR0",4,0)
 ;**         controlled procedure. Local modifications to this routine
"RTN","SROESNR0",5,0)
 ;**         are prohibited.
"RTN","SROESNR0",6,0)
 ;
"RTN","SROESNR0",7,0)
 ; Reference to ^TMP("CSLSUR1" supported by DBIA #3498
"RTN","SROESNR0",8,0)
 ;
"RTN","SROESNR0",9,0)
VIEW N SRJ,SRCAT,SRFIELD,SRFLD,SRFILE,SRLN,SRNP,SRN,SRP,SRSUB,SRW,X,Y
"RTN","SROESNR0",10,0)
 F SRJ=1:1 S SRFLD=$P($T(FIELD+SRJ),";;",2) Q:SRFLD=""  D
"RTN","SROESNR0",11,0)
 .S SRNP=$P(SRFLD,"^",3),SRN=$P(SRNP,";"),SRP=$P(SRNP,";",2)
"RTN","SROESNR0",12,0)
 .S (SRSUB,X)=$P(SRFLD,"^",2),Y=$P(X,"-",2),SRFILE=$P(Y,","),SRFIELD=$P(Y,",",2)
"RTN","SROESNR0",13,0)
 .I SRFIELD=27 Q:'$P($G(^SRF(SRTN,"TIU")),"^",6)
"RTN","SROESNR0",14,0)
 .I SRFIELD=66 Q:'$P($G(^SRF(SRTN,"TIU")),"^",7)
"RTN","SROESNR0",15,0)
 .S SRCAT=$P(SRFLD,"^") S SRCAT=$S(SRCAT="":SRFILE,1:SRCAT)
"RTN","SROESNR0",16,0)
 .S SRW=$S($P(Y,";",2)["W":1,1:0) I SRW D  Q
"RTN","SROESNR0",17,0)
 ..S ^TMP("SRNRAD"_SRS,$J,SRTN,SRCAT,SRSUB,0)=$G(^SRF(SRTN,SRN,0))
"RTN","SROESNR0",18,0)
 ..I SRS=1 S ^TMP("SRNSAVE",$J,SRTN,SRCAT,SRSUB,0)=$G(^SRF(SRTN,SRN,0))
"RTN","SROESNR0",19,0)
 ..S SRLN=0 F  S SRLN=$O(^SRF(SRTN,SRN,SRLN)) Q:'SRLN  S ^TMP("SRNRAD"_SRS,$J,SRTN,SRCAT,SRSUB,SRLN)=$G(^SRF(SRTN,SRN,SRLN,0)) I SRS=1 S ^TMP("SRNSAVE",$J,SRTN,SRCAT,SRSUB,SRLN)=$G(^SRF(SRTN,SRN,SRLN,0))
"RTN","SROESNR0",20,0)
 .S ^TMP("SRNRAD"_SRS,$J,SRTN,SRCAT,SRSUB)=$P($G(^SRF(SRTN,SRN)),"^",SRP)
"RTN","SROESNR0",21,0)
 .I SRS=1 S ^TMP("SRNSAVE",$J,SRTN,SRCAT,SRSUB)=$P($G(^SRF(SRTN,SRN)),"^",SRP)
"RTN","SROESNR0",22,0)
 Q
"RTN","SROESNR0",23,0)
REVRS ; restore before-edit data
"RTN","SROESNR0",24,0)
 N I,SRCAT,SRCNT,SRE,SRE1,SRFF,SRFIELD,SRFILE,SRFLD,SRI,SRIEN,SRJ,SRK,SRL,SRLN,SRN,SRNP,SRP,SRSUB,SRVAL,SRW,X,Y
"RTN","SROESNR0",25,0)
 F SRJ=1:1 S SRFLD=$P($T(FIELD+SRJ),";;",2) Q:SRFLD=""  D
"RTN","SROESNR0",26,0)
 .S SRNP=$P(SRFLD,"^",3),SRN=$P(SRNP,";"),SRP=$P(SRNP,";",2)
"RTN","SROESNR0",27,0)
 .S (SRSUB,X)=$P(SRFLD,"^",2),Y=$P(X,"-",2),SRFILE=$P(Y,","),SRFIELD=$P(Y,",",2)
"RTN","SROESNR0",28,0)
 .S SRCAT=$P(SRFLD,"^") S SRCAT=$S(SRCAT="":SRFILE,1:SRCAT)
"RTN","SROESNR0",29,0)
 .Q:'$D(^TMP("SRNRAD1",$J,SRTN,130,SRSUB))
"RTN","SROESNR0",30,0)
 .S SRW=$S($P(Y,";",2)["W":1,1:0) I SRW D  Q
"RTN","SROESNR0",31,0)
 ..K ^SRF(SRTN,SRN) S ^SRF(SRTN,SRN,0)=$G(^TMP("SRNSAVE",$J,SRTN,130,SRSUB,0))
"RTN","SROESNR0",32,0)
 ..S SRLN=0 F  S SRLN=$O(^TMP("SRNSAVE",$J,SRTN,130,SRSUB,SRLN)) Q:'SRLN  S ^SRF(SRTN,SRN,SRLN,0)=$G(^TMP("SRNSAVE",$J,SRTN,130,SRSUB,SRLN))
"RTN","SROESNR0",33,0)
 .S SRVAL=$G(^TMP("SRNSAVE",$J,SRTN,130,SRSUB)) I SRFIELD=27 D  Q
"RTN","SROESNR0",34,0)
 ..S $P(^SRF(SRTN,"OP"),"^",2)=SRVAL K DA,DIK S DA=SRTN,DIK="^SRF(",DIK(1)="27" D EN^DIK K DA,DIK
"RTN","SROESNR0",35,0)
 ..;Set ^TMP("CSLSUR1",$J) in order to send an update trans. via Surgery/CoreFLS interface
"RTN","SROESNR0",36,0)
 ..S ^TMP("CSLSUR1",$J)=""
"RTN","SROESNR0",37,0)
 .I SRVAL="" S SRVAL="@"
"RTN","SROESNR0",38,0)
 .K DA,DIE,DR S DA=SRTN,DIE=130,DR=SRFIELD_"////^S X=SRVAL" D ^DIE K DA,DIE,DR
"RTN","SROESNR0",39,0)
 D REVRS^SROESNRA
"RTN","SROESNR0",40,0)
 Q
"RTN","SROESNR0",41,0)
TR S SRP=SRI,SRP=$TR(SRP,"1234567890.,","ABCDEFGHIJPK")
"RTN","SROESNR0",42,0)
 Q
"RTN","SROESNR0",43,0)
FIELD ; list of fields (^field name on report-file,field^node;piece)
"RTN","SROESNR0",44,0)
KPJB ;;^Operating Room-130,.02^0;2
"RTN","SROESNR0",45,0)
KPJCE ;;^Surgical Priority-130,.035^0;10
"RTN","SROESNR0",46,0)
KPBJC ;;^Time Patient Arrived in Holding Area-130,.203^.2;15
"RTN","SROESNR0",47,0)
KPBJE ;;^Time Patient In the O.R.-130,.205^.2;10
"RTN","SROESNR0",48,0)
KPBB ;;^Time the Operation Began-130,.22^.2;2
"RTN","SROESNR0",49,0)
KPBC ;;^Time the Operation Ends-130,.23^.2;3
"RTN","SROESNR0",50,0)
KPBJF ;;^Surgeon Present Time-130,.206^.2;9
"RTN","SROESNR0",51,0)
KPBCB ;;^Time Patient Out of the O.R.-130,.232^.2;12
"RTN","SROESNR0",52,0)
KPAD ;;^Surgeon-130,.14^.1;4
"RTN","SROESNR0",53,0)
KPAE ;;^First Assistant-130,.15^.1;5
"RTN","SROESNR0",54,0)
KPAFD ;;^Attending Surgeon-130,.164^.1;13
"RTN","SROESNR0",55,0)
KPAF ;;^Second Assistant-130,.16^.1;6
"RTN","SROESNR0",56,0)
KPCA ;;^Principal Anesthetist-130,.31^.3;1
"RTN","SROESNR0",57,0)
KPCC ;;^Assistant Anesthetist-130,.33^.3;3
"RTN","SROESNR0",58,0)
KPAI ;;^Preoperative Mood-130,.19^.1;9
"RTN","SROESNR0",59,0)
KPAIF ;;^Preoperative Consciousness-130,.196^.1;15
"RTN","SROESNR0",60,0)
KPJG ;;^Preoperative Skin Integrity-130,.07^0;7
"RTN","SROESNR0",61,0)
KPAIE ;;^Preoperative Conversation-130,.195^.1;14
"RTN","SROESNR0",62,0)
KPFI ;;^Checklist Confirmed By-130,.69^.6;9
"RTN","SROESNR0",63,0)
KFJJ ;;^Confirm Correct Patient Identity-130,600^VER;7
"RTN","SROESNR0",64,0)
KFJA ;;^Confirm Procedure To Be Performed-130,601^VER;8
"RTN","SROESNR0",65,0)
KFJB ;;^Confirm Site of Procedure, Including Laterality-130,602^VER;9
"RTN","SROESNR0",66,0)
KFJC ;;^Confirm Valid Consent Form-130,603^VER;10
"RTN","SROESNR0",67,0)
KFJD ;;^Confirm Patient Position-130,604^VER;11
"RTN","SROESNR0",68,0)
KFJE ;;^Confirm Proc. Site has been Marked Appropriately and the Site of the Mark is Visible After Prep-130,605^VER;12
"RTN","SROESNR0",69,0)
KFJF ;;^Pertinent Medical Images Have Been Confirmed-130,606^VER;13
"RTN","SROESNR0",70,0)
KFJG ;;^Correct Medical Implant(s) is Available-130,607^VER;14
"RTN","SROESNR0",71,0)
KFJH ;;^Appropriate Antibiotic Prophylaxis-130,608^VER;15
"RTN","SROESNR0",72,0)
KFJI ;;^Appropriate Deep Vein Thrombosis Prophylaxis-130,609^VER;16
"RTN","SROESNR0",73,0)
KFAJ ;;^Blood Availability-130,610^VER;17
"RTN","SROESNR0",74,0)
KFAA ;;^Availability of Special Equipment-130,611^VER;18
"RTN","SROESNR0",75,0)
KHE ;;^Checklist Comment-130,85;W^51;0
"RTN","SROESNR0",76,0)
PFI ;;^Checklist Confirmed By-130,.69^.6;9
"RTN","SROESNR0",77,0)
KPAH ;;^Skin Prepped By-130,.18^.1;8
"RTN","SROESNR0",78,0)
KPAGE ;;^Skin Preparation Agent-130,.175^.1;7
"RTN","SROESNR0",79,0)
KD ;;^Skin Prepped By (2)-130,4^.1;12
"RTN","SROESNR0",80,0)
KH ;;^Second Skin Preparation Agent-130,8^31;2
"RTN","SROESNR0",81,0)
KPAB ;;^Preop Hair Removal by-130,.12^.1;2
"RTN","SROESNR0",82,0)
KEJF ;;^Hair Removal Method-130,506^VER;6
"RTN","SROESNR0",83,0)
KEJH ;;^Hair Removal Comments-130,508;W^49;0
"RTN","SROESNR0",84,0)
KPGE ;;^Electrocautery Unit-130,.75^.7;5
"RTN","SROESNR0",85,0)
KPEE ;;^Electroground Placement-130,.55^.5;4
"RTN","SROESNR0",86,0)
KF ;;^Electroground Position (2)-130,6^.5;13
"RTN","SROESNR0",87,0)
KEG ;;^ESU Coagulation Range-130,57^.7;1
"RTN","SROESNR0",88,0)
KEGC ;;^ESU Cutting Range-130,58^.7;2
"RTN","SROESNR0",89,0)
KPJC ;;^Major or Minor-130,.03^0;3
"RTN","SROESNR0",90,0)
KBF ;;^Principal Procedure-130,26^OP;1
"RTN","SROESNR0",91,0)
KBG ;;^Principal CPT Code-130,27^OP;2
"RTN","SROESNR0",92,0)
KFF ;;^Principal Diagnosis Code-130,66^34;2
"RTN","SROESNR0",93,0)
KBB ;;^Tubes and Drains-130,22^3;1
"RTN","SROESNR0",94,0)
KDD ;;^Final Sponge Count Correct (Y/N)-130,44^25;1
"RTN","SROESNR0",95,0)
KDE ;;^Final Sharps Count Correct (Y/N)-130,45^25;2
"RTN","SROESNR0",96,0)
KDF ;;^Final Instrument Count Correct (Y/N)-130,46^25;3
"RTN","SROESNR0",97,0)
KDG ;;^Person Responsible for Final Counts-130,47^25;4
"RTN","SROESNR0",98,0)
KDH ;;^Count Verifier-130,48^25;5
"RTN","SROESNR0",99,0)
KDA ;;^Dressing(s)-130,41^35;1
"RTN","SROESNR0",100,0)
KPHGE ;;^Packing Type-130,.875^.8;11
"RTN","SROESNR0",101,0)
KPBE ;;^Intraoperative Blood Loss (ml)-130,.25^.2;5
"RTN","SROESNR0",102,0)
KPBEE ;;^Total Urine Output (ml)-130,.255^.2;16
"RTN","SROESNR0",103,0)
KPHA ;;^Postoperative Mood-130,.81^.8;1
"RTN","SROESNR0",104,0)
KPHBA ;;^Postoperative Consciousness-130,.821^.8;10
"RTN","SROESNR0",105,0)
KPGF ;;^Postoperative Skin Integrity-130,.76^.7;6
"RTN","SROESNR0",106,0)
KPGG ;;^Postoperative Skin Color-130,.77^.7;7
"RTN","SROESNR0",107,0)
KABH ;;^Type of Laser-130,128^.7;8
"RTN","SROESNR0",108,0)
KABG ;;^Sequential Compression Device (Y/N)-130,127^.7;3
"RTN","SROESNR0",109,0)
KAPJI ;;^Wound Classification-130,1.09^1.0;8
"RTN","SROESNR0",110,0)
KPDF ;;^Postoperative Disposition-130,.46^.4;6
"RTN","SROESNR0",111,0)
KBE ;;^Patient Discharged Via-130,25^.7;4
"RTN","SROESNR0",112,0)
KACA ;;^Device(s)-130,131^46;1
"RTN","SROESNR0",113,0)
KDI ;;^Specimens-130,49;W^9;0
"RTN","SROESNR0",114,0)
KFD ;;^Cultures-130,64;W^41;0
"RTN","SROESNR0",115,0)
KPBI ;;^Nursing Care Comments-130,.29;W^7;0
"RTN","SROESNR0",116,0)
KFAI ;;^Flash Steril Contamination-130,619^52;1
"RTN","SROESNR0",117,0)
KFBJ ;;^Flash Steril SPD Processing/OR Management Issues-130,620^52;2
"RTN","SROESNR0",118,0)
KFBA ;;^Flash Steril Emergency Case-130,621^52;3
"RTN","SROESNR0",119,0)
KFBB ;;^Flash Steril No Better Option-130,622^52;4
"RTN","SROESNR0",120,0)
KFBC ;;^Flash Steril Loaner or Short Notice Instrument-130,623^52;5
"RTN","SROESNR0",121,0)
KFBD ;;^Flash Steril Decontamination of Instruments Not for Use In Patient-130,624^52;6
"RTN","SROESNR1")
0^13^B41160518^B41003395
"RTN","SROESNR1",1,0)
SROESNR1 ;BIR/ADM - NURSE REPORT E-SIG UTILITY ;06/07/2011
"RTN","SROESNR1",2,0)
 ;;3.0;Surgery;**100,143,157,176**;24 Jun 93;Build 8
"RTN","SROESNR1",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SROESNR1",4,0)
 ;**         controlled procedure.  Local modifications to this routine
"RTN","SROESNR1",5,0)
 ;**         are prohibited.
"RTN","SROESNR1",6,0)
 ;
"RTN","SROESNR1",7,0)
MULT ; process multiples
"RTN","SROESNR1",8,0)
 N I,SRFF,SRI,SRK1,SRP,SRJ,SRFLD,SRNP,SRN,SRCAT,SRP,SRSUB,SRL,SRE,SRE1,SRW,X,Y
"RTN","SROESNR1",9,0)
 S SRI="."_$P(SRK,".",2) D TR S SRK1=SRP
"RTN","SROESNR1",10,0)
 F SRJ=0:1 S SRFLD=$P($T(@SRK1+SRJ),";;",2) Q:SRFLD=""  D ^SROESNRA
"RTN","SROESNR1",11,0)
 Q
"RTN","SROESNR1",12,0)
REV N SRP D TR S SRK1=SRP D
"RTN","SROESNR1",13,0)
 .I SRCAT="Anesthesia Technique(s)" D REV^SROESNR3 Q
"RTN","SROESNR1",14,0)
 .S SRFLD=$P($T(@SRK1+SRJ),";;",2)
"RTN","SROESNR1",15,0)
 Q
"RTN","SROESNR1",16,0)
TR S SRP=SRI,SRP=$TR(SRP,"1234567890.,","ABCDEFGHIJPK")
"RTN","SROESNR1",17,0)
 Q
"RTN","SROESNR1",18,0)
 ;;
"RTN","SROESNR1",19,0)
PBC ;;Other Scrubbed Assistant(s)^0;30^28,0
"RTN","SROESNR1",20,0)
 ;;Other Scrubbed Assistant(s)^01-Other Scrubbed Assistant-130.23,.01-2^28,0;1
"RTN","SROESNR1",21,0)
 ;;Other Scrubbed Assistant(s)^02-Comments-130.23,1;W-4^28,1,0;1
"RTN","SROESNR1",22,0)
 ;;
"RTN","SROESNR1",23,0)
PBH ;;O.R. Circulating Nurse(s)^0;.111^19,0
"RTN","SROESNR1",24,0)
 ;;O.R. Circulating Nurse(s)^01-O.R. Circulating Nurse-130.28,.01-2^19,0;1
"RTN","SROESNR1",25,0)
 ;;O.R. Circulating Nurse(s)^02-Educational Status-130.28,3-4^19,0;3
"RTN","SROESNR1",26,0)
PBI ;;O.R. Circulating Nurse(s)^03X-Time On-130.29,.01-4^19,1,0;1
"RTN","SROESNR1",27,0)
 ;;O.R. Circulating Nurse(s)^04X-Time Off-130.29,1-6^19,1,0;2
"RTN","SROESNR1",28,0)
 ;;O.R. Circulating Nurse(s)^05X-Reason for Relief-130.29,2-6^19,1,0;3
"RTN","SROESNR1",29,0)
 ;;O.R. Circulating Nurse(s)^06X-Comment-130.29,3;W-6^19,1,1,0;1
"RTN","SROESNR1",30,0)
 ;;
"RTN","SROESNR1",31,0)
PCF ;;O.R. Scrub Nurse(s)^0;.112^23,0
"RTN","SROESNR1",32,0)
 ;;O.R. Scrub Nurse(s)^01-O.R. Scrub Nurse-130.36,.01-2^23,0;1
"RTN","SROESNR1",33,0)
 ;;O.R. Scrub Nurse(s)^02-Educational Status-130.36,3-4^23,0;3
"RTN","SROESNR1",34,0)
 ;;O.R. Scrub Nurse(s)^03X-Time On-130.36,.01-4^19,1,0;1
"RTN","SROESNR1",35,0)
 ;;O.R. Scrub Nurse(s)^04X-Time Off-130.36,1-6^19,1,0;2
"RTN","SROESNR1",36,0)
 ;;O.R. Scrub Nurse(s)^05X-Reason for Relief-130.36,2-6^19,1,0;3
"RTN","SROESNR1",37,0)
 ;;O.R. Scrub Nurse(s)^06X-Comment-130.36,3;W-6^19,1,1,0;1
"RTN","SROESNR1",38,0)
 ;;
"RTN","SROESNR1",39,0)
PBD ;;Other Persons in O.R.^0;31^32,0
"RTN","SROESNR1",40,0)
 ;;Other Persons in O.R.^01-Other Person in O.R.-130.24,.01-2^32,0;1
"RTN","SROESNR1",41,0)
 ;;Other Persons in O.R.^02-Title/Organization-130.24,1-4^32,0;2
"RTN","SROESNR1",42,0)
 ;;
"RTN","SROESNR1",43,0)
PJFE ;;Surgery Position(s)^0;65^42,0
"RTN","SROESNR1",44,0)
 ;;Surgery Position(s)^01-Position-130.065,.01-2^42,0;1
"RTN","SROESNR1",45,0)
 ;;Surgery Position(s)^02-Placed-130.065,1-4^42,0;2
"RTN","SROESNR1",46,0)
 ;;
"RTN","SROESNR1",47,0)
PCA ;;Restraints and Position Aids^0;.13^20,0
"RTN","SROESNR1",48,0)
 ;;Restraints and Position Aids^01-Restraint/Position Aid-130.31,.01-2^20,0;1
"RTN","SROESNR1",49,0)
 ;;Restraints and Position Aids^02-Applied By-130.31,1-4^20,0;2
"RTN","SROESNR1",50,0)
 ;;Restraints and Position Aids^03-Comments-130.31,2-4^20,0;3
"RTN","SROESNR1",51,0)
 ;;
"RTN","SROESNR1",52,0)
PJBH ;;Principal CPT Modifier^0;28^OPMOD,0
"RTN","SROESNR1",53,0)
 ;;Principal CPT Modifier^01-CPT Modifier-130.028,.01-2^OPMOD,0;1
"RTN","SROESNR1",54,0)
 ;;
"RTN","SROESNR1",55,0)
PAF ;;Other Procedures Performed^0;.42^13,0
"RTN","SROESNR1",56,0)
 ;;Other Procedures Performed^01-Other Procedure-130.16,.01-2^13,0;1
"RTN","SROESNR1",57,0)
 ;;Other Procedures Performed^02-CPT Code-130.16,3-4^13,2;1
"RTN","SROESNR1",58,0)
PAFD ;;Other Procedures Performed^03-CPT Modifier-130.164,.01-4^13,MOD,0;1
"RTN","SROESNR1",59,0)
 ;;Other Procedures Performed^04X-Completed-130.16,2-4^13,0;3
"RTN","SROESNR1",60,0)
 ;;Other Procedures Performed^05X-Procedure Code Comments-130.16,1.5;W-4^13,1,0;1
"RTN","SROESNR1",61,0)
 ;;
"RTN","SROESNR1",62,0)
PJB ;;Tourniquet^0;.48^2,0
"RTN","SROESNR1",63,0)
 ;;Tourniquet^01-Time Applied-130.02,.01-2^2,0;1
"RTN","SROESNR1",64,0)
 ;;Tourniquet^02-Time Released-130.02,3-4^2,0;4
"RTN","SROESNR1",65,0)
 ;;Tourniquet^03-Site Applied-130.02,1-4^2,0;2
"RTN","SROESNR1",66,0)
 ;;Tourniquet^04-Pressure Applied (in TORR)-130.02,4-4^2,0;5
"RTN","SROESNR1",67,0)
 ;;Tourniquet^05-Applied By-130.02,2-4^2,0;3
"RTN","SROESNR1",68,0)
 ;;
"RTN","SROESNR1",69,0)
PCB ;;Thermal Unit^0;.757^21,0
"RTN","SROESNR1",70,0)
 ;;Thermal Unit^01-Thermal Unit-130.32,.01-2^21,0;1
"RTN","SROESNR1",71,0)
 ;;Thermal Unit^02-Temperature-130.32,2-4^21,0;3
"RTN","SROESNR1",72,0)
 ;;Thermal Unit^03-Time On-130.32,1-4^21,0;2
"RTN","SROESNR1",73,0)
 ;;Thermal Unit^04-Time Off-130.32,3-4^21,0;4
"RTN","SROESNR1",74,0)
 ;;
"RTN","SROESNR1",75,0)
PJA ;;Prosthesis Installed^0;.47^1,0
"RTN","SROESNR1",76,0)
 ;;Prosthesis Installed^01-Item-130.01,.01-2^1,0;1
"RTN","SROESNR1",77,0)
 ;;Prosthesis Installed^02-Sterility Checked-130.01,8-4^1,2;1
"RTN","SROESNR1",78,0)
 ;;Prosthesis Installed^03-Sterility Expiration Date-130.01,9-4^1,2;2
"RTN","SROESNR1",79,0)
 ;;Prosthesis Installed^04-RN Verifier-130.01,10-4^1,2;3
"RTN","SROESNR1",80,0)
 ;;Prosthesis Installed^05-Vendor-130.01,1-4^1,0;2
"RTN","SROESNR1",81,0)
 ;;Prosthesis Installed^06-Model-130.01,2-4^1,0;3
"RTN","SROESNR1",82,0)
 ;;Prosthesis Installed^08-Sterile Resp-130.01,5-4^1,0;7
"RTN","SROESNR1",83,0)
 ;;Prosthesis Installed^09-Size-130.01,6-4^1,1;1
"RTN","SROESNR1",84,0)
 ;;Prosthesis Installed^10-Quantity-130.01,7-4^1,1;2
"RTN","SROESNR1",85,0)
 ;;Prosthesis Installed^11-Lot Number-130.01,11-4^1,1;3
"RTN","SROESNR1",86,0)
 ;;Prosthesis Installed^12-Serial Number-130.01,12-4^1,1;4
"RTN","SROESNR1",87,0)
 ;;
"RTN","SROESNR1",88,0)
PCC ;;Medications^0;.375^22,0
"RTN","SROESNR1",89,0)
 ;;Medications^01-Medication-130.33,.01-2^22,0;1
"RTN","SROESNR1",90,0)
PCD ;;Medications^02-Time Administered-130.34,.01-4^22,1,0;1
"RTN","SROESNR1",91,0)
 ;;Medications^03-Route-130.34,4-6^22,1,0;5
"RTN","SROESNR1",92,0)
 ;;Medications^04-Dose-130.34,1-6^22,1,0;2
"RTN","SROESNR1",93,0)
 ;;Medications^05-Ordered By-130.34,2-6^22,1,0;3
"RTN","SROESNR1",94,0)
 ;;Medications^06-Administered By-130.34,3-6^22,1,0;4
"RTN","SROESNR1",95,0)
 ;;Medications^07-Comments-130.34,5-6^22,1,0;6
"RTN","SROESNR1",96,0)
 ;;
"RTN","SROESNR1",97,0)
PJH ;;Irrigation Solution(s)^0;.39^26,0
"RTN","SROESNR1",98,0)
 ;;Irrigation Solution(s)^01-Irrigation Solution-130.08,.01-2^26,0;1
"RTN","SROESNR1",99,0)
PCI ;;Irrigation Solution(s)^02-Time Utilized-130.39,.01-4^26,1,0;1
"RTN","SROESNR1",100,0)
 ;;Irrigation Solution(s)^03-Amount-130.39,1-6^26,1,0;2
"RTN","SROESNR1",101,0)
 ;;Irrigation Solution(s)^04-Provider-130.39,2-6^26,1,0;3
"RTN","SROESNR1",102,0)
 ;;
"RTN","SROESNR1",103,0)
PJD ;;Blood Replacement Fluids^0;.27^4,0
"RTN","SROESNR1",104,0)
 ;;Blood Replacement Fluids^01-Replacement Fluid Type-130.04,.01-2^4,0;1
"RTN","SROESNR1",105,0)
 ;;Blood Replacement Fluids^02-Quantity (ml)-130.04,1-4^4,0;2
"RTN","SROESNR1",106,0)
 ;;Blood Replacement Fluids^03-Source Identification-130.04,3-4^4,0;4
"RTN","SROESNR1",107,0)
 ;;Blood Replacement Fluids^04-VA Identification-130.04,4-4^4,0;5
"RTN","SROESNR1",108,0)
 ;;Blood Replacement Fluids^05-Comments-130.04,5;W-4^4,1,0;1
"RTN","SROESNR1",109,0)
 ;;
"RTN","SROESNR1",110,0)
PJABI ;;Laser Unit(s)^0;129^44,0
"RTN","SROESNR1",111,0)
 ;;Laser Unit(s)^01-Laser Unit/ID-130.0129,.01-2^44,0;1
"RTN","SROESNR1",112,0)
 ;;Laser Unit(s)^02-Duration-130.0129,1-4^44,0;2
"RTN","SROESNR1",113,0)
 ;;Laser Unit(s)^03-Wattage-130.0129,2-4^44,0;3
"RTN","SROESNR1",114,0)
 ;;Laser Unit(s)^04-Operator-130.0129,3-4^44,0;4
"RTN","SROESNR1",115,0)
 ;;Laser Unit(s)^05-Plume Evacuator-130.0129,4-4^44,0;5
"RTN","SROESNR1",116,0)
 ;;Laser Unit(s)^06-Comments-130.0129,5;W-4^44,1,0;1
"RTN","SROESNR1",117,0)
 ;;
"RTN","SROESNR1",118,0)
PJAC ;;Cell Saver(s)^0;130^45,0
"RTN","SROESNR1",119,0)
 ;;Cell Saver(s)^01-Cell Saver ID-130.013,.01-2^45,0;1
"RTN","SROESNR1",120,0)
 ;;Cell Saver(s)^02-Operator-130.013,1-4^45,0;2
"RTN","SROESNR1",121,0)
 ;;Cell Saver(s)^03-Amount Salvaged (ml)-130.013,2-4^45,0;3
"RTN","SROESNR1",122,0)
 ;;Cell Saver(s)^04-Amount Reinfused (ml)-130.013,3-4^45,0;4
"RTN","SROESNR1",123,0)
 ;;Cell Saver(s)^05-Comments-130.013,5;W-4^45,2,0;1
"RTN","SROESNR1",124,0)
PJACD ;;Cell Saver(s)^06-Disposables Name-130.0134,.01-4^45,1,0;1
"RTN","SROESNR1",125,0)
 ;;Cell Saver(s)^07-Lot Number-130.0134,1-6^45,1,0;2
"RTN","SROESNR1",126,0)
 ;;Cell Saver(s)^08-Quantity-130.0134,2-6^45,1,0;3
"RTN","SROESNR1",127,0)
 ;;
"RTN","SROESNR1",128,0)
PAH ;;Other Diagnosis^0;.74^15,0
"RTN","SROESNR1",129,0)
 ;;Other Diagnosis^01X-Other Diagnosis-130.18,.01-2^15,0;1
"RTN","SROESNR1",130,0)
 ;;Other Diagnosis^02-ICD Diagnosis Code-130.18,3-2^15,0;3
"RTN","SROESNR1",131,0)
 ;;Other Diagnosis^03X-Diagnosis Comments-130.18,2;W-4^15,1,0;1
"RTN","SROFILE")
0^18^B16246959^B16600785
"RTN","SROFILE",1,0)
SROFILE ;BIR/MAM - EDIT SITE CONFIGURABLE FILES ;06/08/2011
"RTN","SROFILE",2,0)
 ;;3.0;Surgery;**48,41,88,100,175,176**;24 Jun 93;Build 8
"RTN","SROFILE",3,0)
START S SRO(1)="Surgery Transportation Devices^131.01",SRO(2)="Prosthesis^131.9",SRO(3)="Surgery Position^132",SRO(4)="Restraints and Positioning Aids^132.05",SRO(5)="Surgical Delay^132.4"
"RTN","SROFILE",4,0)
 S SRO(6)="Monitors^133.4",SRO(7)="Irrigations^133.6",SRO(8)="Surgery Replacement Fluids^133.7",SRO(9)="Skin Prep Agents^135.1"
"RTN","SROFILE",5,0)
 S SRO(10)="Skin Integrity^135.2",SRO(11)="Patient Mood^135.3",SRO(12)="Patient Consciousness^135.4",SRO(13)="Local Surgical Specialty^137.45",SRO(14)="Electroground Positions^138",SRO(15)="Surgery Disposition^131.6"
"RTN","SROFILE",6,0)
 S SRLINE="" F I=1:1:80 S SRLINE=SRLINE_"="
"RTN","SROFILE",7,0)
DISPLAY W @IOF,!,SRLINE,!,?20,"Update Site Configurable Surgery Files",!,SRLINE
"RTN","SROFILE",8,0)
 W !,"1.  Surgery Transportation Devices",!,"2.  Prosthesis",!,"3.  Surgery Positions",!,"4.  Restraints and Positional Aids"
"RTN","SROFILE",9,0)
 W !,"5.  Surgical Delay",!,"6.  Monitors",!,"7.  Irrigations",!,"8.  Surgery Replacement Fluids",!,"9.  Skin Prep Agents",!,"10. Skin Integrity",!,"11. Patient Mood"
"RTN","SROFILE",10,0)
 W !,"12. Patient Consciousness",!,"13. Local Surgical Specialty",!,"14. Electroground Positions",!,"15. Surgery Dispositions",!,SRLINE
"RTN","SROFILE",11,0)
ASK W ! K DIR S DIR("?",1)="Enter the number corresponding to the file that you want to update. For",DIR("?",2)="example, enter ""8"" to enter, edit, or delete information contained in"
"RTN","SROFILE",12,0)
 S DIR("?",3)="the Surgery Replacement Fluids file.",DIR("?",4)="",DIR("?",5)="NOTE:  File entries you do not want to use should be made inactive and",DIR("?")="should NOT be deleted."
"RTN","SROFILE",13,0)
 S DIR("A")="Update Information for which File ? ",DIR(0)="NOA^1:15" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT)!'Y S SRSOUT=1 G END
"RTN","SROFILE",14,0)
 S SRFILE=Y
"RTN","SROFILE",15,0)
 S SRFNM=$P(SRO(SRFILE),"^"),SRFNUM=$P(SRO(SRFILE),"^",2) K SRO
"RTN","SROFILE",16,0)
 W @IOF,!,"Update Information in the "_SRFNM_" file.",!,SRLINE
"RTN","SROFILE",17,0)
ENTRY W !! K DIC S (DLAYGO,DIC)=SRFNUM,DIC(0)="QEAMZL",SRF=SRFNUM
"RTN","SROFILE",18,0)
 S SRP=3 I SRF=132!(SRF=135) S SRP=4
"RTN","SROFILE",19,0)
 I SRF=132.05!(SRF=132.4)!(SRF=133.4)!(SRF=133.7) S SRP=2
"RTN","SROFILE",20,0)
 I SRF=131.9 S SRP=6
"RTN","SROFILE",21,0)
 S DIC("W")="I $P(^(0),""^"",SRP) W ""         ** INACTIVE **"""
"RTN","SROFILE",22,0)
 D ^DIC N SRHL,SRHLAD,SRHLIEN S:Y>0&((SRFILE=6)!(SRFILE=8)) SRHLIEN=+Y,SRHL=^SRO(SRF,SRHLIEN,0),SRHLAD=$P(Y,U,3) K DLAYGO I Y<0 G START
"RTN","SROFILE",23,0)
 K DR S DIE=SRFNUM,DA=+Y S:SRFILE=2 DR=".01;1;2;5;6;7;8;9;10" S:SRFILE'=2 DR=".01:9999" D ^DIE D:(SRFILE=6)!(SRFILE=8) SRHL K DR,DIE,DA G ENTRY
"RTN","SROFILE",24,0)
 G START
"RTN","SROFILE",25,0)
END W @IOF D ^SRSKILL
"RTN","SROFILE",26,0)
 Q
"RTN","SROFILE",27,0)
SRHL ;HL7 master file update
"RTN","SROFILE",28,0)
 N SRENT,SRHLST,SRTBL,FEC,REC
"RTN","SROFILE",29,0)
 S FEC="UPD",SRTBL=$S(SRFILE=6:"MONITOR",SRFILE=8:"REPLACEMENT FLUID")_U_SRF_U_".01"
"RTN","SROFILE",30,0)
 S SRENT=SRHLIEN_U_^SRO(SRF,SRHLIEN,0),SRHLST=$S(SRHLAD=1:"Addition",SRHL'=SRENT:"Updating",1:"") I $G(SRHLST)'="" D
"RTN","SROFILE",31,0)
 .I $P(SRHL,U,2)="",'$P(SRHL,U,3),$P(SRENT,U,3)=1 S REC="MDC"
"RTN","SROFILE",32,0)
 .I $P(SRHL,U,2)=1,'$P(SRHL,U,3),$P(SRENT,U,3)="" S REC="MAC"
"RTN","SROFILE",33,0)
 .I $G(SRHLAD)=1 S REC="MAD"
"RTN","SROFILE",34,0)
 .D:$D(REC) MSG^SRHLMFN(SRTBL,FEC,REC,SRENT)
"RTN","SROFILE",35,0)
 .I $G(SRHLAD)=1,$P(SRENT,U,2)=1 S REC="MDC" D MSG^SRHLMFN(SRTBL,FEC,REC,SRENT)
"RTN","SROFILE",36,0)
 K SRHLIEN,SRHL,SRHLAD
"RTN","SROFILE",37,0)
 Q
"RTN","SRONEW")
0^86^B35630421^B34988864
"RTN","SRONEW",1,0)
SRONEW ;BIR/MAM - ENTER A NEW CASE ;11/01/2011
"RTN","SRONEW",2,0)
 ;;3.0;Surgery;**3,23,26,30,47,58,48,67,107,100,144,175,176**;24 Jun 93;Build 8
"RTN","SRONEW",3,0)
 ;
"RTN","SRONEW",4,0)
 ; Reference to ^TMP("CSLSUR1" supported by DBIA #3498
"RTN","SRONEW",5,0)
 ;
"RTN","SRONEW",6,0)
DEAD S SRSOUT=0,X=$P($G(VADM(6)),"^") I X D  I SRSOUT D ^SRSKILL G ^SROP
"RTN","SRONEW",7,0)
 .S SRDEATH=$E(X,4,5)_"/"_$E(X,6,7)_"/"_$E(X,2,3) W @IOF,!,?1,VADM(1)_"   "_VA("PID")_"        * Died "_SRDEATH_" *"
"RTN","SRONEW",8,0)
 .W !!,$C(7) K DIR S DIR("A",1)=">>> The patient you have selected died on "_SRDEATH_"."
"RTN","SRONEW",9,0)
 .S DIR("A")="    Are you sure this is the correct patient ? ",DIR("B")="NO",DIR(0)="YA" D ^DIR K DIR
"RTN","SRONEW",10,0)
 .W @IOF I 'Y!$D(DTOUT)!$D(DUOUT) S SRSOUT=1 Q
"RTN","SRONEW",11,0)
 .W !,"Entering a new surgical case for "_VADM(1)_".",!!
"RTN","SRONEW",12,0)
DATE K %DT W ! S %DT("A")="Select the Date of Operation: ",%DT="AEX" D ^%DT I Y<0 W !!,"When entering a new surgery case, a date MUST be entered.  If you do not",!,"know the date of operation, enter this patient on the Waiting List."
"RTN","SRONEW",13,0)
 I Y<0 D CONT G:"Yy"'[SRYN END G DATE
"RTN","SRONEW",14,0)
 G:Y'>0 END S SRSDATE=Y
"RTN","SRONEW",15,0)
ODP N SRSODP
"RTN","SRONEW",16,0)
 K DIR S DIR(0)="130,616",DIR("A")="Desired Procedure Date" D ^DIR K DIR I $D(DTOUT)!(X="^") S SRSOUT=1 G END
"RTN","SRONEW",17,0)
 I Y=""!(X["^")!(Y<SRSDATE) W !!,"The Desired Procedure Date MUST be entered and should be greater than or equal  to date of operation.  Enter '^' to exit.",! G ODP
"RTN","SRONEW",18,0)
 S SRSODP=+Y
"RTN","SRONEW",19,0)
 S SRSC1=1 K SRCTN S SRSDPT=DFN,SRSCC="" D CON G:SRSCC="^" END
"RTN","SRONEW",20,0)
OP D ^SROPROC I SRSOUT G END
"RTN","SRONEW",21,0)
 S SRPRIN=SRSOP
"RTN","SRONEW",22,0)
OPD ; Principal Preoperative Diagnosis
"RTN","SRONEW",23,0)
 K DIR S DIR(0)="130,32",DIR("A")="Principal Preoperative Diagnosis" D ^DIR K DIR I $D(DTOUT)!(X="^") S SRSOUT=1 G END
"RTN","SRONEW",24,0)
 I Y=""!(X["^") W !!,"A Principal Preoperative Diagnosis must be entered",!,"when creating a new case. Enter '^' to exit.",! G OPD
"RTN","SRONEW",25,0)
 I X[";" W !,"The Principal Preoperative Diagnosis cannot contain a semicolon (;).",!,"Please re-enter the Diagnosis, using commas in place of the semicolons." G OPD
"RTN","SRONEW",26,0)
 S SRSOPD=Y
"RTN","SRONEW",27,0)
 W !!,"The information entered into the Principal Preoperative Diagnosis field",!,"has been transferred into the Indications for Operation field.",!,"The Indications for Operation field can be updated later if necessary.",!
"RTN","SRONEW",28,0)
DOC W ! S DIC("A")="Select Surgeon: ",DIC=200,DIC(0)="QEAM",SRSDOC="" D ^DIC K DIC("A") I $D(DTOUT)!(X="^") S SRSOUT=1 G END
"RTN","SRONEW",29,0)
 I Y<0!(X["^") W !!,"A Surgeon must be entered when creating a case.  Enter '^' to exit.",! G DOC
"RTN","SRONEW",30,0)
 S (DA,SRSDOC)=+Y
"RTN","SRONEW",31,0)
 S RESTRICT="130,.14",Y=SRSDOC K SROK D KEY^SROXPR I '$D(SROK) W !!,"The person you selected does not have the appropriate keys necessary to be",!,"entered as a surgeon.  Please make another selection.",! K SRSDOC,DA,DIC G DOC
"RTN","SRONEW",32,0)
CASE ; create case in SURGERY file
"RTN","SRONEW",33,0)
 K DA,DIC,DD,DO,DINUM,SRTN S X=DFN,DIC="^SRF(",DIC(0)="L" D FILE^DICN K DIC S SRTN=+Y G:'$$LOCK^SROUTL(SRTN) DEL
"RTN","SRONEW",34,0)
 S ^SRF(SRTN,8)=SRSITE("DIV"),^SRF(SRTN,"OP")=""
"RTN","SRONEW",35,0)
 S ^SRF(SRTN,52)="0^0^0^0^0^0"  ; default flash sterilization fields to zero
"RTN","SRONEW",36,0)
 K DIE,DR S DA=SRTN,DIE=130,DR=".09////"_SRSDATE_";26////"_SRPRIN_";68////"_SRPRIN_";.14////"_SRSDOC_";616////"_SRSODP_";612////"_SRSODP_";613////"_$$DSMP^SRSDT D ^DIE K DR
"RTN","SRONEW",37,0)
ASURG ; attending surgeon
"RTN","SRONEW",38,0)
 K DIR S DIR(0)="130,.164",DIR("A")="Attending Surgeon" D ^DIR K DIR I $D(DTOUT)!(X="^") S SRSOUT=1 G DEL
"RTN","SRONEW",39,0)
 I Y=""!(X["^") W !!,"An Attending Surgeon must be entered when creating a case. Enter '^' to exit.",! G ASURG
"RTN","SRONEW",40,0)
 S SRATTND=+Y
"RTN","SRONEW",41,0)
SPEC W ! K DIC S DIC=137.45,DIC(0)="QEAMZ",DIC("A")="Select Surgical Specialty: ",DIC("S")="I '$P(^(0),""^"",3)" D ^DIC I $D(DTOUT)!(X="^") S SRSOUT=1 G DEL
"RTN","SRONEW",42,0)
 I Y<0!(X["^") W !!,"To create a surgical case, a Surgical Specialty MUST be selected.  Enter '^'",!,"to exit.",! G SPEC
"RTN","SRONEW",43,0)
 S SRSS=+Y
"RTN","SRONEW",44,0)
UPDATE ; update case in SURGERY file
"RTN","SRONEW",45,0)
 S DA=SRTN,DIE=130,DR=".04////"_SRSS_";.164////"_SRATTND_";32////"_SRSOPD D ^DIE K DR
"RTN","SRONEW",46,0)
 S SRSOPD(1)=SRSOPD D WP^DIE(130,SRTN_",",55,"A","SRSOPD")
"RTN","SRONEW",47,0)
 ; Brief Clinical History
"RTN","SRONEW",48,0)
 K DR S DR="60T",DA=SRTN,DIE=130 W ! D ^DIE
"RTN","SRONEW",49,0)
 K DR,DA S DR="[SRO-NOCOMP]",DA=SRTN,DIE=130 D ^DIE K DR
"RTN","SRONEW",50,0)
 S ^SRF(SRTN,8)=SRSITE("DIV") D ^SROXRET
"RTN","SRONEW",51,0)
DIE D ^SROBLOD K DR,DIE,DA S DR="38////"_BLOOD_";40////"_CROSSM,DA=SRTN,DIE=130 D ^DIE K DR,DA,DIE
"RTN","SRONEW",52,0)
 S DR="[SRSRES1]",DIE=130,DA=SRTN D ^DIE,RT S ST="NEW SURGERY" D EN2^SROVAR
"RTN","SRONEW",53,0)
 S SPD=$$CHKS^SRSCOR(SRTN)
"RTN","SRONEW",54,0)
 K DR S DR="[SRSRES-ENTRY]",DIE=130,DA=SRTN D ^SRCUSS,RISK^SROAUTL3,^SROPCE1
"RTN","SRONEW",55,0)
 I SPD'=$$CHKS^SRSCOR(SRTN) S ^TMP("CSLSUR1",$J)=""
"RTN","SRONEW",56,0)
 I $D(SRCTN) D
"RTN","SRONEW",57,0)
 .S SRCTN(.02)=$P(^SRF(SRCTN,0),"^",2),SRCTN(10)=$P($G(^SRF(SRCTN,31)),"^",4),SRCTN(11)=$P($G(^SRF(SRCTN,31)),"^",5)
"RTN","SRONEW",58,0)
 .S DIE=130,DR=".02////"_SRCTN(.02)_";10////"_SRCTN(10)_";11////"_SRCTN(11)_";35////"_SRCTN_";614////"_$P(SRCTN(10),"."),DA=SRTN D ^DIE
"RTN","SRONEW",59,0)
 .S DR="35////"_SRTN,DA=SRCTN,DIE=130 D ^DIE
"RTN","SRONEW",60,0)
 D UNLOCK^SROUTL(SRTN),^SROERR
"RTN","SRONEW",61,0)
 Q
"RTN","SRONEW",62,0)
DEL S DA=SRTN,DIK="^SRF(" D ^DIK
"RTN","SRONEW",63,0)
END K SRTN D ^SRSKILL
"RTN","SRONEW",64,0)
 Q
"RTN","SRONEW",65,0)
CONT ; continue new entry ?
"RTN","SRONEW",66,0)
 W !!,"Do you want to continue  ?  YES//  " R SRYN:DTIME I '$T S SRYN="N" Q
"RTN","SRONEW",67,0)
 S SRYN=$E(SRYN) S:SRYN="" SRYN="Y" I "YyNn"'[SRYN W !!,"Enter RETURN if you want to re-enter a date and continue creating a new",!,"case, or 'NO' to leave this option." G CONT
"RTN","SRONEW",68,0)
 Q
"RTN","SRONEW",69,0)
RT ;start RT logging
"RTN","SRONEW",70,0)
 I $D(XRTL) S XRTN="SRONEW" D T0^%ZOSV
"RTN","SRONEW",71,0)
 Q
"RTN","SRONEW",72,0)
CON ; check for concurrent case
"RTN","SRONEW",73,0)
 S SRSCON=0,SRDT=SRSDATE-.0001 F  S SRDT=$O(^SRF("AC",SRDT)) Q:'SRDT!($E(SRDT,1,7)'=SRSDATE)!(SRSCON)  S (SRSCC,SRSCON)=0 F  S SRSCC=$O(^SRF("AC",SRDT,SRSCC)) Q:'SRSCC  D  Q:SRSCON
"RTN","SRONEW",74,0)
 .I ^(SRSCC)=SRSDPT,'$P($G(^SRF(SRSCC,"CON")),"^"),$P($G(^SRF(SRSCC,"NON")),"^")'="Y",'$P($G(^SRF(SRSCC,30)),"^"),'$P($G(^SRF(SRSCC,.2)),"^",12),'$P($G(^SRF(SRSCC,"LOCK")),"^") S SRSCON=1
"RTN","SRONEW",75,0)
 .I SRSCON D CC^SRSREQ I '$D(SRCTN) S SRSCON=0
"RTN","SRONEW",76,0)
 Q
"RTN","SRONIN")
0^83^B79594372^B76412764
"RTN","SRONIN",1,0)
SRONIN ;BIR/MAM,ADM - NURSE INTRAOPERATIVE REPORT ;10/24/2011
"RTN","SRONIN",2,0)
 ;;3.0;Surgery;**68,50,100,129,134,153,157,175,176**;24 Jun 93;Build 8
"RTN","SRONIN",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SRONIN",4,0)
 ;**         controlled procedure. Local modifications to this routine
"RTN","SRONIN",5,0)
 ;**         are prohibited.
"RTN","SRONIN",6,0)
 ;
"RTN","SRONIN",7,0)
 ; Reference to UPDATE^TIUSRVP supported by DBIA #3535
"RTN","SRONIN",8,0)
 ; Reference to ES^TIUSROI supported by DBIA #3537
"RTN","SRONIN",9,0)
 ; Reference to EXTRACT^TIULQ supported by DBIA #2693
"RTN","SRONIN",10,0)
 ;
"RTN","SRONIN",11,0)
 I '$D(SRSITE) D ^SROVAR G:'$D(SRSITE) END S SRSITE("KILL")=1
"RTN","SRONIN",12,0)
 I '$D(SRTN) K SRNEWOP D ^SROPS G:'$D(SRTN) END S SRTN("KILL")=1
"RTN","SRONIN",13,0)
 N SRAGE,SRDIV,SRDIVNM,SRDO,SRFUNCT,SRHDR,SRINUSE,SRLEAVE,SRLOC,SRPARAM,SRPRINT,SRSEL,SRSINED,SRDTITL,SRTIU,SRAT,SRXX
"RTN","SRONIN",14,0)
 S SRDTITL="Nurse Intraoperative Report"
"RTN","SRONIN",15,0)
 S (SRFUNCT,SRLEAVE,SRSINED)=0,SRTIU=$P($G(^SRF(SRTN,"TIU")),"^",2)
"RTN","SRONIN",16,0)
 I SRTIU,$$STATUS^SROESUTL(SRTIU)=7 S SRSINED=1
"RTN","SRONIN",17,0)
 D:SRSINED FUNCT D:'SRSINED EN
"RTN","SRONIN",18,0)
ENF I 'SRLEAVE,SRFUNCT S SRSEL="" D FUNCT
"RTN","SRONIN",19,0)
 D END
"RTN","SRONIN",20,0)
 Q
"RTN","SRONIN",21,0)
DISPLY I SRSINED S SRTIU=$P($G(^SRF(SRTN,"TIU")),"^",2) I SRTIU D PRNT^SROESPR(SRTN,SRTIU,SRDTITL) S SRLEAVE=1 Q
"RTN","SRONIN",22,0)
 K %ZIS,IO("Q") S %ZIS="Q" D ^%ZIS I POP S SRLEAVE=1 Q
"RTN","SRONIN",23,0)
 I $D(IO("Q")) K IO("Q") N ZTRTN,ZTDESC,ZTSAVE,ZTQUEUED S ZTRTN="PRNT^SRONIN",ZTDESC=SRDTITL,(ZTSAVE("SRTN"),ZTSAVE("SRSITE*"))="" D ^%ZTLOAD,^%ZISC Q
"RTN","SRONIN",24,0)
EN D RPT^SRONRPT(SRTN) S DFN=$P(^SRF(SRTN,0),"^"),VAINDT=$P(^SRF(SRTN,0),"^",9)
"RTN","SRONIN",25,0)
 S Y=$E(VAINDT,1,7) D D^DIQ S SRSDATE=Y D OERR^VADPT
"RTN","SRONIN",26,0)
 S SRHDR=" "_VADM(1)_" ("_VA("PID")_")   Case #"_SRTN_" - "_SRSDATE
"RTN","SRONIN",27,0)
 S Y=$E($$NOW^XLFDT,1,12) D DD^%DT S SRPRINT="Printed: "_Y
"RTN","SRONIN",28,0)
 S SRLOC=" Pt Loc: "_$P(VAIN(4),"^",2)_"  "_VAIN(5)
"RTN","SRONIN",29,0)
 S SRAGE="",Z=$P(VADM(3),"^") I Z S X=$E($P(^SRF(SRTN,0),"^",9),1,12),Y=$E(X,1,7),SRAGE=$E(Y,1,3)-$E(Z,1,3)-($E(Y,4,7)<$E(Z,4,7))
"RTN","SRONIN",30,0)
 S SRDIV=$$SITE^SROUTL0(SRTN),SRDIVNM="" I SRDIV S X=$P(^SRO(133,SRDIV,0),"^"),SRDIVNM=$$EXTERNAL^DILFD(133,.01,"",X)
"RTN","SRONIN",31,0)
 S SRDIVNM=$S(SRDIVNM'="":SRDIVNM,1:SRSITE("SITE"))
"RTN","SRONIN",32,0)
 U IO S (SRPAGE,SRSOUT)=0,$P(SRLINE,"-",80)="" D HDR
"RTN","SRONIN",33,0)
 S SRI=0 F  S SRI=$O(^TMP("SRNIR",$J,SRTN,SRI)) Q:'SRI  D  Q:SRSOUT
"RTN","SRONIN",34,0)
 .I $E(IOST)="P",$Y+11>IOSL D FOOT Q:SRSOUT  D HDR
"RTN","SRONIN",35,0)
 .I $E(IOST)'="P",$Y+4>IOSL D FOOT Q:SRSOUT  D HDR
"RTN","SRONIN",36,0)
 .W !,^TMP("SRNIR",$J,SRTN,SRI)
"RTN","SRONIN",37,0)
 I SRSOUT D ^%ZISC Q 
"RTN","SRONIN",38,0)
 D FOOT D  D ^%ZISC
"RTN","SRONIN",39,0)
 .I $D(SRALRT) S SRFUNCT=1 Q
"RTN","SRONIN",40,0)
 .I '$G(SRFUNCT) S SRLEAVE=1
"RTN","SRONIN",41,0)
 Q
"RTN","SRONIN",42,0)
SRHDR S DFN=$P(^SRF(SRTN,0),"^") D DEM^VADPT
"RTN","SRONIN",43,0)
 S Y=$E($P(^SRF(SRTN,0),"^",9),1,7) D D^DIQ S SRSDATE=Y
"RTN","SRONIN",44,0)
 S SRHDR=" "_VADM(1)_" ("_VA("PID")_")   Case #"_SRTN_" - "_SRSDATE
"RTN","SRONIN",45,0)
 Q
"RTN","SRONIN",46,0)
PRNT N SRDIV,SRFUNCT,SRLEAVE D EN
"RTN","SRONIN",47,0)
END K ^TMP("SRNIR",$J)
"RTN","SRONIN",48,0)
 W @IOF I $D(ZTQUEUED) Q:$G(ZTSTOP)  S ZTREQ="@" Q
"RTN","SRONIN",49,0)
 D ^SRSKILL K VAIN,VAINDT I $D(SRSITE("KILL")) K SRSITE
"RTN","SRONIN",50,0)
 I $D(SRTN("KILL")) K SRTN
"RTN","SRONIN",51,0)
 Q
"RTN","SRONIN",52,0)
PAGE I $D(SRNOEDIT) D LAST Q
"RTN","SRONIN",53,0)
 S (SRFUNCT,SRSOUT)=0
"RTN","SRONIN",54,0)
 W ! K DIR S DIR(0)="FOA",DIR("A",1)=" Press <return> to continue, 'A' to access Nurse Intraoperative Report",DIR("A")=" functions, or '^' to exit: " D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S (SRLEAVE,SRSOUT)=1 Q
"RTN","SRONIN",55,0)
 I X="A"!(X="a") S (SRFUNCT,SRSOUT)=1
"RTN","SRONIN",56,0)
 Q
"RTN","SRONIN",57,0)
LAST W ! K DIR S DIR(0)="E" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SRONIN",58,0)
 Q
"RTN","SRONIN",59,0)
FOOT ; print footer
"RTN","SRONIN",60,0)
 Q:SRSOUT  I $E(IOST)'="P" D PAGE Q
"RTN","SRONIN",61,0)
 I IOSL-9>$Y F X=$Y:1:(IOSL-10) W !
"RTN","SRONIN",62,0)
 W !,SRLINE,!,VADM(1),?50,SRPRINT,!,VA("PID")_"  Age: "_SRAGE,?50,SRLOC,!,SRDIVNM,?59,"Vice SF 509",!,SRLINE
"RTN","SRONIN",63,0)
 Q
"RTN","SRONIN",64,0)
HDR ; heading
"RTN","SRONIN",65,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SRONIN",66,0)
 S SRPAGE=SRPAGE+1 I $Y'=0 W @IOF
"RTN","SRONIN",67,0)
 I $E(IOST)'="P",SRPAGE=1 S DFN=$P(^SRF(SRTN,0),"^") D DEM^VADPT S SRXX=VADM(1)_" ("_VA("PID")_")" W !,?(80-$L(SRXX)\2),SRXX
"RTN","SRONIN",68,0)
 W:$E(IOST)="P" !!!!,SRLINE W !,?3,"MEDICAL RECORD       NURSE INTRAOPERATIVE REPORT - CASE #"_SRTN,?(79-$L("PAGE "_SRPAGE)),"PAGE "_SRPAGE,!
"RTN","SRONIN",69,0)
 W:$E(IOST)="P" SRLINE,!
"RTN","SRONIN",70,0)
 Q
"RTN","SRONIN",71,0)
FUNCT ; nurse intraop report functions
"RTN","SRONIN",72,0)
 K SRALRT
"RTN","SRONIN",73,0)
 D:'$D(SRHDR) SRHDR S SRSOUT=0,SRTIU=$P($G(^SRF(SRTN,"TIU")),"^",2)
"RTN","SRONIN",74,0)
 I 'SRSINED,SRTIU,$$STATUS^SROESUTL(SRTIU)=7 S SRSINED=1
"RTN","SRONIN",75,0)
 W @IOF,!,SRHDR I SRSINED W !!," * * The Nurse Intraoperative Report has been electronically signed. * *"
"RTN","SRONIN",76,0)
 W !!," Nurse Intraoperative Report Functions:",!
"RTN","SRONIN",77,0)
 S DIR("A",1)="  1. Edit report information",DIR("A",2)="  2. Print/View report from beginning"
"RTN","SRONIN",78,0)
 S DIR("A",3)=$S('SRTIU:"",'SRSINED:"  3. Sign the report electronically",1:"") I SRTIU,'SRSINED S DIR("A",4)=""
"RTN","SRONIN",79,0)
 S DIR("A")="Select number: ",DIR("B")=2,DIR(0)="SAM^1:Edit report information;2:Print/View report from beginning"_$S(('SRSINED&SRTIU):";3:Sign the report electronically",1:"")
"RTN","SRONIN",80,0)
 D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S (SRLEAVE,SRSOUT)=1 D END Q
"RTN","SRONIN",81,0)
 S SRSEL=Y,SRDO=$S(SRSEL=1:"EDIT",SRSEL=3:"SIGN",1:"DISPLY")
"RTN","SRONIN",82,0)
 D @SRDO D UNLOCK^SROUTL(SRTN)
"RTN","SRONIN",83,0)
 S SRSOUT=0,SRFUNCT=1 D ENF
"RTN","SRONIN",84,0)
 Q
"RTN","SRONIN",85,0)
EDIT ; edit report data fields
"RTN","SRONIN",86,0)
 D CHECK^SROES I SRSOUT Q
"RTN","SRONIN",87,0)
 N SROLOCK,SRX,SRZ D ^SROLOCK I SROLOCK S Q3("VIEW")=""
"RTN","SRONIN",88,0)
 N SRLCK S SRLCK=$$LOCK^SROUTL(SRTN) I 'SRLCK Q
"RTN","SRONIN",89,0)
 K DA,DR,DIE S SRDTIME=DTIME,DTIME=3600,DIE=130,DA=SRTN,DR="[SRONRPT]",ST="NURSE INTRAOP"_$S(SROLOCK:" **LOCKED",1:"") D EN2^SROVAR,^SRCUSS S DTIME=SRDTIME K Q3("VIEW")
"RTN","SRONIN",90,0)
 I '$P(^SRF(SRTN,0),"^",20) D ^SROPCE1
"RTN","SRONIN",91,0)
 I $D(SRODR) D ^SROCON1
"RTN","SRONIN",92,0)
 S SROERR=SRTN D ^SROERR0
"RTN","SRONIN",93,0)
 D EXIT^SROES
"RTN","SRONIN",94,0)
 Q
"RTN","SRONIN",95,0)
SIGN ; sign report if appropriate user
"RTN","SRONIN",96,0)
 N SRLCK,SRESIG S SRESIG=1,SRLCK=$$LOCK^SROUTL(SRTN) I 'SRLCK Q
"RTN","SRONIN",97,0)
 N SRMISS,SRNUR,SROK,SRA,SRII,SRJ,Y S SRII=$P($G(^SRF(SRTN,"TIU")),"^",2)
"RTN","SRONIN",98,0)
 S (SROK,SRNUR,SRJ)=0 F  S SRNUR=$O(^SRF(SRTN,19,SRNUR)) Q:'SRNUR  S SRJ=1 I $P(^SRF(SRTN,19,SRNUR,0),"^")=DUZ S SROK=1 Q
"RTN","SRONIN",99,0)
 I $D(^XUSEC("SROCHIEF",DUZ)) S SROK=1
"RTN","SRONIN",100,0)
 I 'SROK,'SRJ,SRII D EXTRACT^TIULQ(SRII,"SRA",.SRERR,"1302") I +$G(SRA(SRII,1302,"I"))=DUZ S SROK=1
"RTN","SRONIN",101,0)
 I 'SROK W !!,"Sorry, you are not authorized to sign this report." H 2 Q
"RTN","SRONIN",102,0)
 S SRMISS=0 D ALLIN Q:SRSOUT!SRMISS
"RTN","SRONIN",103,0)
ES D RPT^SRONRPT(SRTN) N SRAY,SRERR,SRI,SRP,SRSIG,SRTIU,X1
"RTN","SRONIN",104,0)
 S SRTIU=$P($G(^SRF(SRTN,"TIU")),"^",2)
"RTN","SRONIN",105,0)
 D SIG^XUSESIG I X1="" W !!,"Signature failed." H 2 Q
"RTN","SRONIN",106,0)
 F I=1:1 Q:'$D(^TMP("SRNIR",$J,SRTN,I))  S SRAY("TEXT",I,0)=^TMP("SRNIR",$J,SRTN,I)
"RTN","SRONIN",107,0)
 S SRAY(.05)=5 D UPDATE^TIUSRVP(.SRERR,SRTIU,.SRAY,1) K SRAY
"RTN","SRONIN",108,0)
 I +SRERR S SRSINED=1 D
"RTN","SRONIN",109,0)
 .D ES^TIUSROI(SRTIU,DUZ)
"RTN","SRONIN",110,0)
 .S XQAID="SRNIR-"_SRTN,XQAKILL=0 D DELETEA^XQALERT
"RTN","SRONIN",111,0)
 W ! K DIR S DIR(0)="FOA",DIR("A")="Press RETURN to continue... " D ^DIR K DIR
"RTN","SRONIN",112,0)
 Q
"RTN","SRONIN",113,0)
ALLIN N SRFLD,SRI,SRJJ,SRJK,SRM,SRMISS1,SRMISS2,SRMISS3,SRMISS85,SRMIS508,SRO,SROO,SRP,SRPF,SRX,SRY,SRZ
"RTN","SRONIN",114,0)
 K DA,DIC,DIQ,DR S (SREDIT,SRMISS,SRMISS1,SRMISS2,SRMISS3,SRMISS85,SRMIS508,SRSOUT)=0
"RTN","SRONIN",115,0)
 S DIC="^SRF(",DA=SRTN,DIQ="SRY",DIQ(0)="I",DR=".205;.232;44;45;46;47;48;606;605;600;601;602;603;604;607;608;609;610;611;506;.69" D EN^DIQ1
"RTN","SRONIN",116,0)
 F SRJJ=85,49 I '$O(^SRF(SRTN,SRJJ,0)) S SRJK=$S(SRJJ=49:508,1:SRJJ),SRY(130,SRTN,SRJK,"I")=""
"RTN","SRONIN",117,0)
 I $O(^SRF(SRTN,1,0)) S SRO=0 F  S SRO=$O(^SRF(SRTN,1,SRO)) Q:'SRO  S SROO=$G(^SRF(SRTN,1,SRO,2)),SROO1=$G(^SRF(SRTN,1,SRO,1)) D
"RTN","SRONIN",118,0)
 .F SRM=1,2,3 S:$P(SROO,"^",SRM)']"" SRY(130.47,SRTN,SRO_";"_(SRM+7),"I")=""
"RTN","SRONIN",119,0)
 .F SRM=3,4 S:$P(SROO1,"^",SRM)']"" SRY(130.47,SRTN,SRO_";"_(SRM+8),"I")=""
"RTN","SRONIN",120,0)
 K DA,DIC,DIQ,DR D LIST
"RTN","SRONIN",121,0)
 I $G(SRX(.205))'=""!($G(SRX(.232))'="")!($G(SRX(71))'="")!($G(SRX(606))'="")!($G(SRX(605))'="")!($G(SRX(506))'="") S SRMISS1=1
"RTN","SRONIN",122,0)
 F SRJJ=600:1:604,607:1:611,.69 I $G(SRX(SRJJ))'="" S SRMISS1=1
"RTN","SRONIN",123,0)
 F SRJJ=600:1:611 I (SRY(130,SRTN,SRJJ,"I")="N")!(SRY(130,SRTN,SRJJ,"I")=""),('$O(^SRF(SRTN,51,0))) S SRMISS85=1
"RTN","SRONIN",124,0)
 I SRY(130,SRTN,506,"I")="S"!(SRY(130,SRTN,506,"I")="O"),('$O(^SRF(SRTN,49,0))) S SRMIS508=1
"RTN","SRONIN",125,0)
 I $G(SRX(48))="" F SRZ=44,45,46,47 I $G(SRX(SRZ))'="" S SRMISS2=1 Q
"RTN","SRONIN",126,0)
 I $O(^SRF(SRTN,1,0)) I $O(SRX(130.47,0)) S SRMISS3=1
"RTN","SRONIN",127,0)
 I SRMISS1!SRMISS2!$G(SRMISS85)!$G(SRMIS508)!(SRMISS3) S SRMISS=1 D MESS Q:SRSOUT  I SREDIT D EDIT Q
"RTN","SRONIN",128,0)
 Q
"RTN","SRONIN",129,0)
MESS ; display list of missing items
"RTN","SRONIN",130,0)
 W @IOF,!,"The following information is required before this report may be signed:",!
"RTN","SRONIN",131,0)
 I SRMISS1 F SRZ=.205,.232,606,605,600,601,602,603,604,607,608,609,610,611,.69,506 I $G(SRX(SRZ))'="" W !,?5,SRX(SRZ)
"RTN","SRONIN",132,0)
 I SRMISS2 F SRZ=44:1:47 I $G(SRX(SRZ))'="" W !,?5,SRX(SRZ)
"RTN","SRONIN",133,0)
 S SRJJ=85 I $G(@("SRMISS"_SRJJ)),$G(SRX(SRJJ))'="" W !,?5,SRX(SRJJ)
"RTN","SRONIN",134,0)
 I $G(SRMIS508),$G(SRX(508))'="" W !,?5,SRX(508)
"RTN","SRONIN",135,0)
 I SRMISS3 I $O(SRX(130.47,0)) S SRJ=0 F  S SRJ=$O(SRX(130.47,SRJ)) Q:'SRJ  S SRJJ=$P($G(^SRF(SRTN,1,SRJ,0)),"^") D
"RTN","SRONIN",136,0)
 .S SRPF=0 F  S SRPF=$O(SRX(130.47,SRJ,SRPF)) Q:'SRPF  S SRPF(SRPF)=""
"RTN","SRONIN",137,0)
 .I $O(SRPF(0)) W !!,?5,"PROSTHESIS INSTALLED item "_$P(^SRO(131.9,SRJJ,0),"^")_":"
"RTN","SRONIN",138,0)
 .F J=8:1:12 I $D(SRPF(J)) W !,?7,$S(J=8:"IMPLANT STERILITY CHECKED",J=9:"STERILITY EXPIRATION DATE",J=10:"RN VERIFIER",J=11:"LOT NUMBER",1:"SERIAL NUMBER")
"RTN","SRONIN",139,0)
 .K SRPF
"RTN","SRONIN",140,0)
 W ! K DIR S DIR("A")="Do you want to enter this information",DIR("B")="YES",DIR(0)="Y" D ^DIR K DIR,SRX I $D(DTOUT)!$D(DUOUT) S SRSOUT=1 Q
"RTN","SRONIN",141,0)
 I Y S SREDIT=1
"RTN","SRONIN",142,0)
 Q
"RTN","SRONIN",143,0)
CODE ; entry point from coding menu
"RTN","SRONIN",144,0)
 N SRAGE,SRDIV,SRDIVNM,SRDO,SRFUNCT,SRHDR,SRINUSE,SRLEAVE,SRLOC,SRNOEDIT,SRPARAM,SRPRINT,SRSEL,SRSINED,SRDTITL,SRTIU,SRSTAT,SRXX
"RTN","SRONIN",145,0)
 S SRNOEDIT=1,SRDTITL="Nurse Intraoperative Report"
"RTN","SRONIN",146,0)
 S (SRFUNCT,SRLEAVE,SRSINED)=0,SRTIU=$P($G(^SRF(SRTN,"TIU")),"^",2)
"RTN","SRONIN",147,0)
 I SRTIU,$$STATUS^SROESUTL(SRTIU)=7 S SRSINED=1
"RTN","SRONIN",148,0)
 D DISPLY,END
"RTN","SRONIN",149,0)
 Q
"RTN","SRONIN",150,0)
LIST S SRZ=0 F  S SRZ=$O(SRY(130,SRTN,SRZ)) Q:'SRZ  I SRY(130,SRTN,SRZ,"I")="" D TR S X=$T(@SRP),SRFLD=$P(X,";;",2),SRX(SRZ)=$P(SRFLD,"^",2)
"RTN","SRONIN",151,0)
 S SRZ=0,SROO="" F  S SROO=$O(SRY(130.47,SRTN,SROO)) Q:'SROO  I SRY(130.47,SRTN,SROO,"I")="" D
"RTN","SRONIN",152,0)
 .S SRX(130.47,$P(SROO,";"),$P(SROO,";",2))=""
"RTN","SRONIN",153,0)
 Q
"RTN","SRONIN",154,0)
TR S SRP=SRZ,SRP=$TR(SRP,"1234567890.","ABCDEFGHIJP")
"RTN","SRONIN",155,0)
 Q
"RTN","SRONIN",156,0)
PBJE ;;.205^TIME PAT IN OR
"RTN","SRONIN",157,0)
PBCB ;;.232^TIME PAT OUT OR
"RTN","SRONIN",158,0)
DD ;;44^SPONGE COUNT CORRECT (Y/N)
"RTN","SRONIN",159,0)
DE ;;45^SHARPS COUNT CORRECT (Y/N)
"RTN","SRONIN",160,0)
DF ;;46^INSTRUMENT COUNT CORRECT (Y/N)
"RTN","SRONIN",161,0)
DG ;;47^SPONGE, SHARPS, & INST COUNTER
"RTN","SRONIN",162,0)
DH ;;48^COUNT VERIFIER
"RTN","SRONIN",163,0)
FJJ ;;600^CORRECT PATIENT IDENTITY
"RTN","SRONIN",164,0)
FJA ;;601^PROCEDURE TO BE PERFORMED
"RTN","SRONIN",165,0)
FJB ;;602^SITE OF PROCEDURE
"RTN","SRONIN",166,0)
FJC ;;603^VALID CONSENT FORM
"RTN","SRONIN",167,0)
FJD ;;604^CONFIRM PATIENT POSITION
"RTN","SRONIN",168,0)
FJE ;;605^MARKED SITE CONFIRMED
"RTN","SRONIN",169,0)
FJF ;;606^PREOPERATIVE IMAGING CONFIRMED
"RTN","SRONIN",170,0)
FJG ;;607^CORRECT MEDICAL IMPLANTS
"RTN","SRONIN",171,0)
FJH ;;608^ANTIBIOTIC PROPHYLAXIS
"RTN","SRONIN",172,0)
FJI ;;609^APPROPRIATE DVT PROPHYLAXIS
"RTN","SRONIN",173,0)
FAJ ;;610^BLOOD AVAILABILITY
"RTN","SRONIN",174,0)
FAA ;;611^AVAILABILITY OF SPECIAL EQUIP
"RTN","SRONIN",175,0)
HE ;;85^CHECKLIST COMMENT
"RTN","SRONIN",176,0)
PFI ;;.69^CHECKLIST CONFIRMED BY
"RTN","SRONIN",177,0)
EJF ;;506^HAIR REMOVAL METHOD
"RTN","SRONIN",178,0)
EJH ;;508^HAIR REMOVAL COMMENTS
"RTN","SRONITE")
0^25^B3746041^B3524520
"RTN","SRONITE",1,0)
SRONITE ;BIR/MAM - NIGHTLY BACKGROUND TASK ;07/06/2011
"RTN","SRONITE",2,0)
 ;;3.0;Surgery;**47,58,62,41,86,142,167,175,176**;24 Jun 93;Build 8
"RTN","SRONITE",3,0)
 F SRI=1:1 S SRX=$P($T(TASK+SRI),";;",2) Q:SRX=""  S SRRTN=$P(SRX,";"),SRDESC=$P(SRX,";",2) S ZTDESC=SRDESC,ZTRTN="JOB^SRONITE",ZTIO="",ZTDTH=$H,ZTSAVE("SRRTN")="" D ^%ZTLOAD
"RTN","SRONITE",4,0)
 D EN^SROA30
"RTN","SRONITE",5,0)
 Q
"RTN","SRONITE",6,0)
JOB D @SRRTN S ZTREQ="@"
"RTN","SRONITE",7,0)
 Q
"RTN","SRONITE",8,0)
TRANS ; entry to queue risk assessment transmissions manually
"RTN","SRONITE",9,0)
 W !!,"Transmit Surgery Risk Assessments",!
"RTN","SRONITE",10,0)
 S ZTDESC="Transmit Surgery Risk Assessments",SRRTN="^SROATMIT",ZTRTN="JOB^SRONITE",ZTIO="",ZTSAVE("SRRTN")="" D ^%ZTLOAD
"RTN","SRONITE",11,0)
 I $D(ZTSK) W !!,"Queued as task #"_ZTSK
"RTN","SRONITE",12,0)
 D PRESS,^SRSKILL K SRRTN W @IOF
"RTN","SRONITE",13,0)
 Q
"RTN","SRONITE",14,0)
PRESS W ! K DIR S DIR("A")="Press RETURN to continue ",DIR(0)="FOA" D ^DIR K DIR
"RTN","SRONITE",15,0)
 Q
"RTN","SRONITE",16,0)
TASK ;    
"RTN","SRONITE",17,0)
 ;;^SRSCRAP;Surgery Files Cleanup
"RTN","SRONITE",18,0)
 ;;^SROUTUP;Update Surgery Utilization File
"RTN","SRONITE",19,0)
 ;;LOCK^SROLOCK;Lock Surgery Cases
"RTN","SRONITE",20,0)
 ;;TASK^SRSAVG;Store Operation Times
"RTN","SRONITE",21,0)
 ;;^SROATMIT;Transmit Surgery Risk Assessments
"RTN","SRONITE",22,0)
 ;;NIGHT^SRTPTMIT;Transmit Surgery Transplant Assessments
"RTN","SRONITE",23,0)
 ;;TASK^SROAWL;Surgery Workload Report
"RTN","SRONITE",24,0)
 ;;NIGHT^SROQ30D;Surgery 30-Day Readmission Report
"RTN","SRONITE",25,0)
 ;;^SRHLXTMP;Surgery Interface Purge
"RTN","SRONRPT0")
0^79^B63289001^B63328000
"RTN","SRONRPT0",1,0)
SRONRPT0 ;BIR/ADM - NURSE INTRAOP REPORT ;05/31/06
"RTN","SRONRPT0",2,0)
 ;;3.0;Surgery;**100,129,147,153,157,175,176**;24 Jun 93;Build 8
"RTN","SRONRPT0",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SRONRPT0",4,0)
 ;**         controlled procedure. Local modifications to this routine
"RTN","SRONRPT0",5,0)
 ;**         are prohibited.
"RTN","SRONRPT0",6,0)
 ;
"RTN","SRONRPT0",7,0)
 D LINE(2) S @SRG@(SRI)="OR Support Personnel:" D LINE(1) S @SRG@(SRI)="  Scrubbed",@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Circulating" D NURSE
"RTN","SRONRPT0",8,0)
 S SRLF=1,SRLINE="Other Persons in OR: " I '$O(^SRF(SRTN,32,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT0",9,0)
 I $O(^SRF(SRTN,32,0)) D LINE(1) S @SRG@(SRI)=SRLINE D
"RTN","SRONRPT0",10,0)
 .S OTH=0 F  S OTH=$O(^SRF(SRTN,32,OTH)) Q:'OTH  D
"RTN","SRONRPT0",11,0)
 ..S X=^SRF(SRTN,32,OTH,0),SRLINE="  "_$P(X,"^")
"RTN","SRONRPT0",12,0)
 ..S Y=$P(X,"^",2) S:Y'="" SRLINE=SRLINE_" ("_Y_")"
"RTN","SRONRPT0",13,0)
 ..D LINE(1) S @SRG@(SRI)=SRLINE
"RTN","SRONRPT0",14,0)
 S SRLF=1
"RTN","SRONRPT0",15,0)
 S X=$P(SR(.1),"^",9),SRMOOD=$S(X:$E($P(^SRO(135.3,X,0),"^"),1,20),1:"N/A")
"RTN","SRONRPT0",16,0)
 S X=$P(SR(.1),"^",15),SRCONS=$S(X:$E($P(^SRO(135.4,X,0),"^"),1,24),1:"N/A")
"RTN","SRONRPT0",17,0)
 S X=$P(SR(0),"^",7),SRSKIN=$S(X:$E($P(^SRO(135.2,X,0),"^"),1,20),1:"N/A")
"RTN","SRONRPT0",18,0)
 S Y=$P(SR(.1),"^",14),C=$P(^DD(130,.195,0),"^",2) D:Y'="" Y^DIQ S SRCONV=$S(Y'="":Y,1:"N/A")
"RTN","SRONRPT0",19,0)
 I 'SRALL,SRMOOD="N/A",SRCONS="N/A" G SKIN
"RTN","SRONRPT0",20,0)
 D LINE(1) S @SRG@(SRI)="Preop Mood:",@SRG@(SRI)=@SRG@(SRI)_$$SPACE(18)_SRMOOD,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Preop Consc:",@SRG@(SRI)=@SRG@(SRI)_$$SPACE(56)_SRCONS
"RTN","SRONRPT0",21,0)
SKIN I 'SRALL,SRSKIN="N/A",SRCONV="N/A" G VER
"RTN","SRONRPT0",22,0)
 D LINE(1) S @SRG@(SRI)="Preop Skin Integ: "_SRSKIN,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Preop Converse: "_SRCONV
"RTN","SRONRPT0",23,0)
 ;
"RTN","SRONRPT0",24,0)
VER N II,SROIM,SROUT,SROIN,SRHRM
"RTN","SRONRPT0",25,0)
 S Y=$P(SR("VER"),"^",7),SROIN=$S(Y="Y":"YES",Y="N":"NO",1:"* NOT ENTERED *") D LINE(1) S @SRG@(SRI)="Confirm Correct Patient Identity: "_SROIN
"RTN","SRONRPT0",26,0)
 S Y=$P(SR("VER"),"^",8),SROIN=$S(Y="Y":"YES",Y="N":"NO",1:"* NOT ENTERED *") D LINE(1) S @SRG@(SRI)="Confirm Procedure To Be Performed: "_SROIN
"RTN","SRONRPT0",27,0)
 S Y=$P(SR("VER"),"^",9),SROIN=$S(Y="Y":"YES",Y="N":"NO",Y="NA":"NOT APPLICABLE",1:"* NOT ENTERED *") D LINE(1) S @SRG@(SRI)="Confirm Site of the Procedure, Including Laterality: "_SROIN
"RTN","SRONRPT0",28,0)
 S Y=$P(SR("VER"),"^",10),SROIN=$S(Y="Y":"YES",Y="N":"NO",1:"* NOT ENTERED *") D LINE(1) S @SRG@(SRI)="Confirm Valid Consent Form: "_SROIN
"RTN","SRONRPT0",29,0)
 S Y=$P(SR("VER"),"^",11),SROIN=$S(Y="Y":"YES",Y="N":"NO",1:"* NOT ENTERED *") D LINE(1) S @SRG@(SRI)="Confirm Patient Position: "_SROIN
"RTN","SRONRPT0",30,0)
 S Y=$P(SR("VER"),"^",12),SROIN=$S(Y="Y":"YES",Y="N":"NO",1:"* NOT ENTERED *")
"RTN","SRONRPT0",31,0)
 D LINE(1) S @SRG@(SRI)="Confirm Procedure Site has been Marked Appropriately and that the Site of the " D LINE(1) S @SRG@(SRI)=" Mark is Visible After Prep and Draping: "_SROIN
"RTN","SRONRPT0",32,0)
 D LINE(1) S Y=$P(SR("VER"),"^",13),SROIN=$S(Y="Y":"YES",Y="N":"NO",Y="NA":"N/A",1:"* NOT ENTERED *") S @SRG@(SRI)="Pertinent Medical Images Have Been Confirmed: "_SROIN
"RTN","SRONRPT0",33,0)
 S Y=$P(SR("VER"),"^",14),SROIN=$S(Y="Y":"YES",Y="N":"NO",Y="NA":"NOT APPLICABLE",1:"* NOT ENTERED *") D LINE(1) S @SRG@(SRI)="Correct Medical Implant(s) is Available: "_SROIN
"RTN","SRONRPT0",34,0)
 S Y=$P(SR("VER"),"^",18),SROIN=$S(Y="Y":"YES",Y="N":"NO",Y="NA":"NOT APPLICABLE",1:"* NOT ENTERED *") D LINE(1) S @SRG@(SRI)="Availability of Special Equipment: "_SROIN
"RTN","SRONRPT0",35,0)
 S Y=$P(SR("VER"),"^",15),SROIN=$S(Y="Y":"YES",Y="N":"NO",Y="NA":"NOT APPLICABLE",1:"* NOT ENTERED *") D LINE(1) S @SRG@(SRI)="Appropriate Antibiotic Prophylaxis: "_SROIN
"RTN","SRONRPT0",36,0)
 S Y=$P(SR("VER"),"^",16),SROIN=$S(Y="Y":"YES",Y="N":"NO",Y="NA":"NOT APPLICABLE",1:"* NOT ENTERED *") D LINE(1) S @SRG@(SRI)="Appropriate Deep Vein Thrombosis Prophylaxis: "_SROIN
"RTN","SRONRPT0",37,0)
 S Y=$P(SR("VER"),"^",17),SROIN=$S(Y="Y":"YES",Y="N":"NO",Y="NA":"NOT APPLICABLE",1:"* NOT ENTERED *") D LINE(1) S @SRG@(SRI)="Blood Availability: "_SROIN
"RTN","SRONRPT0",38,0)
 S II=51 D ENSC
"RTN","SRONRPT0",39,0)
 S SRLF=1,Y=$P(SR(.6),"^",9),C=$P(^DD(130,.69,0),"^",2) D:Y'="" Y^DIQ S SRUSER=$S(Y="":"N/A",1:Y)
"RTN","SRONRPT0",40,0)
 I 'SRALL,SRUSER="N/A" G PREP
"RTN","SRONRPT0",41,0)
 D LINE(1) S @SRG@(SRI)="Checklist Confirmed By: "_SRUSER
"RTN","SRONRPT0",42,0)
 S SRLF=1
"RTN","SRONRPT0",43,0)
 ;
"RTN","SRONRPT0",44,0)
PREP N SRSKIP S SRSKIP=0
"RTN","SRONRPT0",45,0)
 S Y=$P(SR(.1),"^",8),C=$P(^DD(130,.18,0),"^",2) D:Y'="" Y^DIQ,N(25) S SRUSER=$S(Y="":"N/A",1:Y)
"RTN","SRONRPT0",46,0)
 S Y=$P(SR(.1),"^",7),C=$P(^DD(130,.175,0),"^",2) D:Y'="" Y^DIQ S SRAGNT=$S(Y="":"N/A",1:$E(Y,1,22))
"RTN","SRONRPT0",47,0)
 I 'SRALL,SRUSER="N/A",SRAGNT="N/A" G PREP2
"RTN","SRONRPT0",48,0)
 D LINE(1) S @SRG@(SRI)="Skin Prep By: "_SRUSER,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Skin Prep Agent: "_SRAGNT
"RTN","SRONRPT0",49,0)
 S SRSKIP=1
"RTN","SRONRPT0",50,0)
PREP2 S Y=$P(SR(.1),"^",12),C=$P(^DD(130,4,0),"^",2) D:Y'="" Y^DIQ,N(21) S SRUSER=$S(Y="":"N/A",1:Y)
"RTN","SRONRPT0",51,0)
 S Y=$P(SR(31),"^",2),C=$P(^DD(130,8,0),"^",2) D:Y'="" Y^DIQ S SRAGNT=$S(Y="":"N/A",1:$E(Y,1,18))
"RTN","SRONRPT0",52,0)
 I 'SRALL,SRUSER="N/A",SRAGNT="N/A" G PREOP
"RTN","SRONRPT0",53,0)
 D LINE(1) S @SRG@(SRI)="Skin Prep By (2): "_SRUSER,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"2nd Skin Prep Agent: "_SRAGNT
"RTN","SRONRPT0",54,0)
 S SRSKIP=0 D LINE(1)
"RTN","SRONRPT0",55,0)
PREOP S Y=$P(SR(.1),"^",2),C=$P(^DD(130,.12,0),"^",2) D:Y'="" Y^DIQ S SRUSER=$S(Y="":"N/A",1:Y)
"RTN","SRONRPT0",56,0)
 D:SRSKIP LINE(1) D LINE(1) S @SRG@(SRI)="Preop Surgical Site Hair Removal by: "_SRUSER
"RTN","SRONRPT0",57,0)
 S Y=$P(SR("VER"),"^",6),C=$P(^DD(130,506,0),"^",2) D:Y'="" Y^DIQ S SRHRM=$S(Y="":"* NOT ENTERED *",1:Y)
"RTN","SRONRPT0",58,0)
 D LINE(1) S @SRG@(SRI)="Surgical Site Hair Removal Method: "_$S($L(SRHRM)>43:"",1:SRHRM)
"RTN","SRONRPT0",59,0)
 I $L(SRHRM)>43 D LINE(1) S @SRG@(SRI)=$$SPACE(2)_SRHRM
"RTN","SRONRPT0",60,0)
 S II=49 D ENSC
"RTN","SRONRPT0",61,0)
 ;
"RTN","SRONRPT0",62,0)
POS S SRLF=1,SRLINE="Surgery Position(s): " I '$O(^SRF(SRTN,42,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT0",63,0)
 I $O(^SRF(SRTN,42,0)) D LINE(1) S @SRG@(SRI)=SRLINE D
"RTN","SRONRPT0",64,0)
 .S SRP=0 F  S SRP=$O(^SRF(SRTN,42,SRP)) Q:'SRP  S X=^SRF(SRTN,42,SRP,0),Z=$P(X,"^"),Y=$P(X,"^",2) D
"RTN","SRONRPT0",65,0)
 ..S SRPOS=$P(^SRO(132,Z,0),"^") D:Y D^DIQ S SRTIME=$S(Y'="":$P(Y,"@")_"  "_$P(Y,"@",2),1:"N/A")
"RTN","SRONRPT0",66,0)
 ..D LINE(1) S @SRG@(SRI)="  "_SRPOS,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Placed: "_SRTIME
"RTN","SRONRPT0",67,0)
 S SRLF=1,SRLINE="Restraints and Position Aids: "
"RTN","SRONRPT0",68,0)
 I '$O(^SRF(SRTN,20,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT0",69,0)
 I $O(^SRF(SRTN,20,0)) N SRRP D LINE(1) S @SRG@(SRI)=SRLINE,(SRRP,CNT)=0 F  S SRRP=$O(^SRF(SRTN,20,SRRP)) Q:'SRRP  S CNT=CNT+1,X=^SRF(SRTN,20,SRRP,0),Z=$P(X,"^"),Y=$P(X,"^",2),W=$P(X,"^",3) D
"RTN","SRONRPT0",70,0)
 .S SREST=$P(^SRO(132.05,Z,0),"^"),C=$P(^DD(130.31,1,0),"^",2) D:Y'="" Y^DIQ,N(31) S:Y="" Y="N/A"
"RTN","SRONRPT0",71,0)
 .D LINE(1) S @SRG@(SRI)="  "_SREST,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(36)_"Applied By: "_Y
"RTN","SRONRPT0",72,0)
 .I W'="" D LINE(1) S @SRG@(SRI)="      Comments: "_W
"RTN","SRONRPT0",73,0)
 S SRLF=1,X=$P(SR(.7),"^",5),SREL=$S(X'="":X,1:"N/A")
"RTN","SRONRPT0",74,0)
 S X=$P(SR(.5),"^",4),SRELP=$S(X:$P(^SRO(138,X,0),"^"),1:"N/A")
"RTN","SRONRPT0",75,0)
 S X=$P(SR(.5),"^",13),SRELP2=$S(X:$P(^SRO(138,X,0),"^"),1:"")
"RTN","SRONRPT0",76,0)
 S X=$P(SR(.7),"^"),SRC=$S(X'="":X,1:"N/A"),X=$P(SR(.7),"^",2),SRCT=$S(X'="":X,1:"N/A")
"RTN","SRONRPT0",77,0)
 I 'SRALL,SREL="N/A",SRELP="N/A",SRELP2="" G LAB
"RTN","SRONRPT0",78,0)
 D LINE(1) S @SRG@(SRI)="Electrocautery Unit:       "_SREL
"RTN","SRONRPT0",79,0)
 D LINE(1) S @SRG@(SRI)="ESU Coagulation Range:     "_SRC
"RTN","SRONRPT0",80,0)
 D LINE(1) S @SRG@(SRI)="ESU Cutting Range:         "_SRCT
"RTN","SRONRPT0",81,0)
 D LINE(1) S @SRG@(SRI)="Electroground Position(s): "_SRELP
"RTN","SRONRPT0",82,0)
 I SRELP2'="" D LINE(1) S @SRG@(SRI)=$$SPACE(27)_SRELP2
"RTN","SRONRPT0",83,0)
LAB S SRLF=1 I $O(^SRF(SRTN,9,0))!SRALL D LAB1
"RTN","SRONRPT0",84,0)
 S SRLF=1 I $O(^SRF(SRTN,6,0)) D LINE(1) S @SRG@(SRI)="Anesthesia Technique(s):" S ANE=0 F  S ANE=$O(^SRF(SRTN,6,ANE)) Q:'ANE  D ANE
"RTN","SRONRPT0",85,0)
 I '$O(^SRF(SRTN,6,0)),SRALL D LINE(1) S @SRG@(SRI)="Anesthesia Technique(s): N/A"
"RTN","SRONRPT0",86,0)
 D ^SRONRPT1
"RTN","SRONRPT0",87,0)
 Q
"RTN","SRONRPT0",88,0)
NURSE ; nurse info
"RTN","SRONRPT0",89,0)
 N CNT,CIRC,I,NURSE,SCRU,X,Y,Z
"RTN","SRONRPT0",90,0)
 S (CNT,CIRC)=0 F  S CIRC=$O(^SRF(SRTN,19,CIRC)) Q:'CIRC  S CNT=CNT+1 D
"RTN","SRONRPT0",91,0)
 .S Z=^SRF(SRTN,19,CIRC,0),Y=$P(Z,"^"),C=$P(^DD(130.28,.01,0),"^",2) D Y^DIQ,N(21) S SRX=Y
"RTN","SRONRPT0",92,0)
 .S Y=$P(Z,"^",3),C=$P(^DD(130.28,3,0),"^",2) D:Y'="" Y^DIQ S CIRC(CNT)=SRX_" ("_Y_")"
"RTN","SRONRPT0",93,0)
 S (CNT,SCRU)=0 F  S SCRU=$O(^SRF(SRTN,23,SCRU)) Q:'SCRU  S CNT=CNT+1 D
"RTN","SRONRPT0",94,0)
 .S Z=^SRF(SRTN,23,SCRU,0),Y=$P(Z,"^"),C=$P(^DD(130.36,.01,0),"^",2) D Y^DIQ,N(21) S SRX=Y
"RTN","SRONRPT0",95,0)
 .S Y=$P(Z,"^",3),C=$P(^DD(130.36,3,0),"^",2) D:Y'="" Y^DIQ S SCRU(CNT)=SRX_" ("_Y_")"
"RTN","SRONRPT0",96,0)
 S:'$D(SCRU(1)) SCRU(1)="N/A" S:'$D(CIRC(1)) CIRC(1)="N/A"
"RTN","SRONRPT0",97,0)
 F I=1:1 Q:('$D(SCRU(I))&'$D(CIRC(I)))  S NURSE(I)=$S($D(SCRU(I)):SCRU(I),1:"")_"^"_$S($D(CIRC(I)):CIRC(I),1:"")
"RTN","SRONRPT0",98,0)
 S I=0 F  S I=$O(NURSE(I)) Q:'I  D LINE(1) S @SRG@(SRI)=$$SPACE(2)_$P(NURSE(I),"^") S @SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_$P(NURSE(I),"^",2)
"RTN","SRONRPT0",99,0)
 Q
"RTN","SRONRPT0",100,0)
LAB1 N SRSP S SRLF=1 D LINE(1) S @SRG@(SRI)="Material Sent to Laboratory for Analysis: "
"RTN","SRONRPT0",101,0)
 I 'SRALL,'$O(^SRF(SRTN,9,0)),'$O(^SRF(SRTN,41,0)) S @SRG@(SRI)=@SRG@(SRI)_"N/A" Q
"RTN","SRONRPT0",102,0)
 D LINE(1) S @SRG@(SRI)="Specimens: " D
"RTN","SRONRPT0",103,0)
 .I '$O(^SRF(SRTN,9,0)) S @SRG@(SRI)=@SRG@(SRI)_"N/A" Q
"RTN","SRONRPT0",104,0)
 .S SRSP=0 F  S SRSP=$O(^SRF(SRTN,9,SRSP)) Q:'SRSP  D LINE(1) S @SRG@(SRI)=$$SPACE(2)_^SRF(SRTN,9,SRSP,0)
"RTN","SRONRPT0",105,0)
 D LINE(1) S @SRG@(SRI)="Cultures:  " D
"RTN","SRONRPT0",106,0)
 .I '$O(^SRF(SRTN,41,0)) S @SRG@(SRI)=@SRG@(SRI)_"N/A" Q
"RTN","SRONRPT0",107,0)
 .S SRSP=0 F  S SRSP=$O(^SRF(SRTN,41,SRSP)) Q:'SRSP  D LINE(1) S @SRG@(SRI)=$$SPACE(2)_^SRF(SRTN,41,SRSP,0)
"RTN","SRONRPT0",108,0)
 Q
"RTN","SRONRPT0",109,0)
N(SRL) N SRN I $L(Y)>SRL S SRN=$P(Y,",")_","_$E($P(Y,",",2))_".",Y=SRN
"RTN","SRONRPT0",110,0)
 Q
"RTN","SRONRPT0",111,0)
SPACE(NUM) ; create spaces
"RTN","SRONRPT0",112,0)
 ;pass in position returns number of needed spaces
"RTN","SRONRPT0",113,0)
 I '$D(@SRG@(SRI)) S @SRG@(SRI)=""
"RTN","SRONRPT0",114,0)
 Q $J("",NUM-$L(@SRG@(SRI)))
"RTN","SRONRPT0",115,0)
LINE(NUM) ; create carriage returns
"RTN","SRONRPT0",116,0)
 I $G(SRLF) S NUM=NUM+1,SRLF=0
"RTN","SRONRPT0",117,0)
 F J=1:1:NUM S SRI=SRI+1,@SRG@(SRI)=""
"RTN","SRONRPT0",118,0)
 Q
"RTN","SRONRPT0",119,0)
ANE ; print anesthesia technique
"RTN","SRONRPT0",120,0)
 N A,AGNT,C,CNT,DRUG
"RTN","SRONRPT0",121,0)
 S A=^SRF(SRTN,6,ANE,0),Y=$P(A,"^"),C=$P(^DD(130.06,.01,0),"^",2) D:Y'="" Y^DIQ D LINE(1) S Y=Y_$S($P(A,"^",3)="Y":"  (PRINCIPAL)",1:""),@SRG@(SRI)=$$SPACE(2)_Y
"RTN","SRONRPT0",122,0)
 Q
"RTN","SRONRPT0",123,0)
ENSC N X,SRLINE
"RTN","SRONRPT0",124,0)
 D LINE(1) S @SRG@(SRI)=$S(II=51:"Checklist Comment: ",II=49:"  Hair Removal Comments: ",1:"") D
"RTN","SRONRPT0",125,0)
 .I '$O(^SRF(SRTN,II,0)) S @SRG@(SRI)=@SRG@(SRI)_"NO COMMENTS ENTERED" Q
"RTN","SRONRPT0",126,0)
 .S SRLINE=0 F  S SRLINE=$O(^SRF(SRTN,II,SRLINE)) Q:'SRLINE  S X=^SRF(SRTN,II,SRLINE,0) D COMM^SRONRPT3(X,3)
"RTN","SRONRPT0",127,0)
 Q
"RTN","SRONRPT1")
0^8^B27292461^B25866896
"RTN","SRONRPT1",1,0)
SRONRPT1 ;BIR/ADM - NURSE INTRAOP REPORT ;06/08/2011
"RTN","SRONRPT1",2,0)
 ;;3.0;Surgery;**100,143,157,176**;24 Jun 93;Build 8
"RTN","SRONRPT1",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SRONRPT1",4,0)
 ;**         controlled procedure.  Local modifications to this routine
"RTN","SRONRPT1",5,0)
 ;**         are prohibited.
"RTN","SRONRPT1",6,0)
 ;
"RTN","SRONRPT1",7,0)
 S SRLF=1 N SRTD S SRTD=$P($G(^SRF(SRTN,3)),"^") I SRTD="",SRALL D LINE(1) S @SRG@(SRI)="Tubes and Drains: N/A"
"RTN","SRONRPT1",8,0)
 I SRTD'="" D LINE(1) S @SRG@(SRI)="Tubes and Drains: " D LINE(1) S @SRG@(SRI)="  "_SRTD
"RTN","SRONRPT1",9,0)
 S SRLF=1 I '$O(^SRF(SRTN,2,0)),SRALL D LINE(1) S @SRG@(SRI)="Tourniquet: N/A"
"RTN","SRONRPT1",10,0)
 I $O(^SRF(SRTN,2,0)) D LINE(1) S @SRG@(SRI)="Tourniquet:" D TOUR
"RTN","SRONRPT1",11,0)
 S SRLF=1,SRLINE="Thermal Unit: " I '$O(^SRF(SRTN,21,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT1",12,0)
 I $O(^SRF(SRTN,21,0)) D LINE(1) S @SRG@(SRI)=SRLINE D THERM
"RTN","SRONRPT1",13,0)
 S SRLF=1,SRLINE="Prosthesis Installed: " I '$O(^SRF(SRTN,1,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT1",14,0)
 I $O(^SRF(SRTN,1,0)) D LINE(1) S @SRG@(SRI)=SRLINE D PRO
"RTN","SRONRPT1",15,0)
 S SRLF=1,SRLINE="Medications: " I '$O(^SRF(SRTN,22,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT1",16,0)
 I $O(^SRF(SRTN,22,0)) D LINE(1) S @SRG@(SRI)=SRLINE D MED
"RTN","SRONRPT1",17,0)
 D ^SRONRPT2
"RTN","SRONRPT1",18,0)
 Q
"RTN","SRONRPT1",19,0)
MED ; medications
"RTN","SRONRPT1",20,0)
 N ADBY,ADM,COMMENT,DOSE,DRUG,MED,MM,ORBY,ROUTE,TIME
"RTN","SRONRPT1",21,0)
 S MED=0 F  S MED=$O(^SRF(SRTN,22,MED)) Q:'MED  D
"RTN","SRONRPT1",22,0)
 .S Y=$P(^SRF(SRTN,22,MED,0),"^"),C=$P(^DD(130.33,.01,0),"^",2) D Y^DIQ,LINE(1) S @SRG@(SRI)="  "_Y,ADM=0 F  S ADM=$O(^SRF(SRTN,22,MED,1,ADM)) Q:'ADM  D
"RTN","SRONRPT1",23,0)
 ..S MM=^SRF(SRTN,22,MED,1,ADM,0),Y=$P(MM,"^") D D^DIQ S TIME=$P(Y,"@")_"  "_$P(Y,"@",2)
"RTN","SRONRPT1",24,0)
 ..S DOSE=$P(MM,"^",2),X=$P(MM,"^",3) S:X="" ORBY="N/A" I X S Y=$P(^VA(200,X,0),"^") D N(20) S ORBY=Y
"RTN","SRONRPT1",25,0)
 ..S X=$P(MM,"^",4) S:X="" ADBY="N/A" I X S Y=$P(^VA(200,X,0),"^") D N(29) S ADBY=Y
"RTN","SRONRPT1",26,0)
 ..S Y=$P(MM,"^",5),C=$P(^DD(130.34,4,0),"^",2) D:Y'="" Y^DIQ S ROUTE=Y
"RTN","SRONRPT1",27,0)
 ..S COMMENT=$P(MM,"^",6) S:COMMENT="" COMMENT="N/A"
"RTN","SRONRPT1",28,0)
 ..D LINE(1) S @SRG@(SRI)="    Time Administered: "_TIME D LINE(1) S @SRG@(SRI)="      Route: "_ROUTE,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Dosage: "_DOSE
"RTN","SRONRPT1",29,0)
 ..D LINE(1) S @SRG@(SRI)="      Ordered By: "_ORBY S @SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Admin By: "_ADBY
"RTN","SRONRPT1",30,0)
 ..D LINE(1) S @SRG@(SRI)="      Comments: "_COMMENT
"RTN","SRONRPT1",31,0)
 Q
"RTN","SRONRPT1",32,0)
N(SRL) N SRN I $L(Y)>SRL S SRN=$P(Y,",")_","_$E($P(Y,",",2))_".",Y=SRN
"RTN","SRONRPT1",33,0)
 Q
"RTN","SRONRPT1",34,0)
PRO ; prosthesis
"RTN","SRONRPT1",35,0)
 N C,ITEM,MODEL,PRO,QTY,SERI,SERIAL,SLOT,SIZE,SRISC,SRSED,SRRN,STERILE,VENDOR
"RTN","SRONRPT1",36,0)
 S PRO=0 F  S PRO=$O(^SRF(SRTN,1,PRO)) Q:'PRO  D
"RTN","SRONRPT1",37,0)
 .S X=^SRF(SRTN,1,PRO,0),ITEM=$P(X,"^"),VENDOR=$P(X,"^",2),MODEL=$P(X,"^",3),SERIAL=$P(X,"^",5),Y=$P(X,"^",7),C=$P(^DD(130.01,5,0),"^",2) D:Y'="" Y^DIQ S STERILE=$S(Y'="":Y,1:"N/A")
"RTN","SRONRPT1",38,0)
 .S X=$G(^SRF(SRTN,1,PRO,1)),SIZE=$P(X,"^"),QTY=$P(X,"^",2),SLOT=$P(X,"^",3),SERI=$P(X,"^",4)
"RTN","SRONRPT1",39,0)
 .S X=$G(^SRF(SRTN,1,PRO,2)),SRISC=$S($P(X,"^")="Y":"YES",1:$P(X,"^"))
"RTN","SRONRPT1",40,0)
 .S Y=$P(X,"^",2),C=$P(^DD(130.01,9,0),"^",2) D:Y'="" Y^DIQ S SRSED=$S(Y="":"NOT ENTERED",1:Y)
"RTN","SRONRPT1",41,0)
 .S Y=$P(X,"^",3),C=$P(^DD(130.01,10,0),"^",2) D:Y'="" Y^DIQ S SRRN=$S(Y="":"NOT ENTERED",1:Y)
"RTN","SRONRPT1",42,0)
 .D LINE(1) S @SRG@(SRI)="  Item: "_$P(^SRO(131.9,ITEM,0),"^")
"RTN","SRONRPT1",43,0)
 .D LINE(1) S @SRG@(SRI)="    Implant Sterility Checked (Y/N): "_$S(SRISC'="":SRISC,1:"NOT ENTERED")
"RTN","SRONRPT1",44,0)
 .D LINE(1) S @SRG@(SRI)="    Sterility Expiration Date: "_SRSED
"RTN","SRONRPT1",45,0)
 .D LINE(1) S @SRG@(SRI)="    RN Verifier: "_SRRN
"RTN","SRONRPT1",46,0)
 .D LINE(1) S @SRG@(SRI)="    Vendor: "_$S(VENDOR'="":VENDOR,1:"N/A")
"RTN","SRONRPT1",47,0)
 .D LINE(1) S @SRG@(SRI)="    Model: "_$S(MODEL'="":MODEL,1:"N/A")
"RTN","SRONRPT1",48,0)
 .D LINE(1) S @SRG@(SRI)="    Lot Number: "_$S(SLOT'="":SLOT,1:"N/A")
"RTN","SRONRPT1",49,0)
 .D LINE(1) S @SRG@(SRI)="    Serial Number: "_$S(SERI'="":SERI,1:"N/A")
"RTN","SRONRPT1",50,0)
 .D LINE(1) S:SERIAL'="" @SRG@(SRI)="    Lot/Serial Number: "_$S(SERIAL'="":SERIAL,1:"N/A") S @SRG@(SRI)=@SRG@(SRI)_$S(SERIAL'="":$$SPACE(53),1:"    ")_"Sterile Resp: "_STERILE
"RTN","SRONRPT1",51,0)
 .D LINE(1) S @SRG@(SRI)="    Size: "_$S(SIZE'="":SIZE,1:"N/A"),@SRG@(SRI)=@SRG@(SRI)_$$SPACE(53)_"Quantity: "_$S(QTY'="":QTY,1:"N/A")
"RTN","SRONRPT1",52,0)
 Q
"RTN","SRONRPT1",53,0)
THERM ; thermal unit
"RTN","SRONRPT1",54,0)
 N OFF,ON,TEMP,TH,UNIT S TH=0 F  S TH=$O(^SRF(SRTN,21,TH)) Q:'TH  D
"RTN","SRONRPT1",55,0)
 .S UNIT=^SRF(SRTN,21,TH,0),TEMP=$P(UNIT,"^",3),TEMP=$S(TEMP'="":TEMP,1:"N/A"),ON=$P(UNIT,"^",2),OFF=$P(UNIT,"^",4)
"RTN","SRONRPT1",56,0)
 .D LINE(1) S @SRG@(SRI)="  "_$P(UNIT,"^"),@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Temperature: "_TEMP
"RTN","SRONRPT1",57,0)
 .S Y=ON D:Y D^DIQ S ON=$S(Y="":"N/A",1:$P(Y,"@")_"  "_$P(Y,"@",2)),Y=OFF D:Y D^DIQ S OFF=$S(Y="":"N/A",1:$P(Y,"@")_"  "_$P(Y,"@",2))
"RTN","SRONRPT1",58,0)
 .D LINE(1) S @SRG@(SRI)="    Time On: "_ON,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Time Off: "_OFF
"RTN","SRONRPT1",59,0)
 Q
"RTN","SRONRPT1",60,0)
TOUR ; tourniquet info
"RTN","SRONRPT1",61,0)
 N APBY,C,M,PRESS,SITE,TIME,TIME2,TOUR
"RTN","SRONRPT1",62,0)
 S TOUR=0 F  S TOUR=$O(^SRF(SRTN,2,TOUR)) Q:'TOUR  D
"RTN","SRONRPT1",63,0)
 .S M=^SRF(SRTN,2,TOUR,0),Y=$P(M,"^") D D^DIQ S TIME=$P(Y,"@")_"  "_$P(Y,"@",2),Y=$P(M,"^",4) S TIME2="NOT ENTERED" I Y D D^DIQ S TIME2=$P(Y,"@")_"  "_$P(Y,"@",2)
"RTN","SRONRPT1",64,0)
 .D LINE(1) S @SRG@(SRI)="  Time Applied: "_TIME S @SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Time Released: "_TIME2
"RTN","SRONRPT1",65,0)
 .S Y=$P(M,"^",2),C=$P(^DD(130.02,1,0),"^",2) D:Y'="" Y^DIQ S SITE=$S(Y="":"NOT ENTERED",1:Y),X=$P(M,"^",5),PRESS=$S(X="":"N/A",1:X)
"RTN","SRONRPT1",66,0)
 .D LINE(1) S @SRG@(SRI)="    Site Applied: "_SITE,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Pressure Applied (in TORR): "_PRESS
"RTN","SRONRPT1",67,0)
 .S Y=$P(M,"^",3),C=$P(^DD(130.02,2,0),"^",2) D:Y'="" Y^DIQ S APBY=$S(Y="":"N/A",1:Y) D LINE(1) S @SRG@(SRI)="    Applied By: "_APBY
"RTN","SRONRPT1",68,0)
 Q
"RTN","SRONRPT1",69,0)
SPACE(NUM) ; create spaces
"RTN","SRONRPT1",70,0)
 ;pass in position returns number of needed spaces
"RTN","SRONRPT1",71,0)
 I '$D(@SRG@(SRI)) S @SRG@(SRI)=""
"RTN","SRONRPT1",72,0)
 Q $J("",NUM-$L(@SRG@(SRI)))
"RTN","SRONRPT1",73,0)
LINE(NUM) ; create carriage returns
"RTN","SRONRPT1",74,0)
 I $G(SRLF) S NUM=NUM+1,SRLF=0
"RTN","SRONRPT1",75,0)
 F J=1:1:NUM S SRI=SRI+1,@SRG@(SRI)=""
"RTN","SRONRPT1",76,0)
 Q
"RTN","SRONRPT3")
0^17^B26846038^B22358940
"RTN","SRONRPT3",1,0)
SRONRPT3 ;BIR/ADM - NURSE INTRAOP REPORT ;10/05/2011
"RTN","SRONRPT3",2,0)
 ;;3.0;Surgery;**100,176**;24 Jun 93;Build 8
"RTN","SRONRPT3",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SRONRPT3",4,0)
 ;**         controlled procedure.  Local modifications to this routine
"RTN","SRONRPT3",5,0)
 ;**         are prohibited.
"RTN","SRONRPT3",6,0)
 ;
"RTN","SRONRPT3",7,0)
 S SRLF=1,MOOD=$P(SR(.8),"^"),CONS=$P(SR(.8),"^",10),INTEG=$P(SR(.7),"^",6),COLOR=$P(SR(.7),"^",7)
"RTN","SRONRPT3",8,0)
 S MOOD=$S(MOOD:$P(^SRO(135.3,MOOD,0),"^"),1:"N/A"),CONS=$S(CONS:$P(^SRO(135.4,CONS,0),"^"),1:"N/A"),INTEG=$S(INTEG:$P(^SRO(135.2,INTEG,0),"^"),1:"N/A")
"RTN","SRONRPT3",9,0)
 S Y=COLOR,C=$P(^DD(130,.77,0),"^",2) D:Y'="" Y^DIQ S COLOR=$S(Y="":"N/A",1:Y)
"RTN","SRONRPT3",10,0)
 I 'SRALL,MOOD="N/A" G CONS
"RTN","SRONRPT3",11,0)
 D LINE(1) S @SRG@(SRI)="Postoperative Mood:",@SRG@(SRI)=@SRG@(SRI)_$$SPACE(30)_MOOD
"RTN","SRONRPT3",12,0)
CONS I 'SRALL,CONS="N/A" G INTEG
"RTN","SRONRPT3",13,0)
 D LINE(1) S @SRG@(SRI)="Postoperative Consciousness:  "_CONS
"RTN","SRONRPT3",14,0)
INTEG I 'SRALL,INTEG="N/A" G COLOR
"RTN","SRONRPT3",15,0)
 D LINE(1) S @SRG@(SRI)="Postoperative Skin Integrity: "_INTEG
"RTN","SRONRPT3",16,0)
COLOR I 'SRALL,COLOR="N/A" G NEXT
"RTN","SRONRPT3",17,0)
 D LINE(1) S @SRG@(SRI)="Postoperative Skin Color:     "_COLOR
"RTN","SRONRPT3",18,0)
NEXT S SRLF=1,SRLINE="Laser Unit(s): " I '$O(^SRF(SRTN,44,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT3",19,0)
 I $O(^SRF(SRTN,44,0)) D LINE(1) S @SRG@(SRI)=SRLINE D LASER
"RTN","SRONRPT3",20,0)
 S Y=$P(SR(.7),"^",3) I 'SRALL,Y="" G CS
"RTN","SRONRPT3",21,0)
 S Y=$S(Y="Y":"YES",Y="N":"NO",1:"N/A") D LINE(2) S @SRG@(SRI)="Sequential Compression Device: "_Y
"RTN","SRONRPT3",22,0)
CS S SRLF=1,SRLINE="Cell Saver(s): " I '$O(^SRF(SRTN,45,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT3",23,0)
 I $O(^SRF(SRTN,45,0)) D LINE(1) S @SRG@(SRI)=SRLINE D SAVE
"RTN","SRONRPT3",24,0)
 S X=$P($G(^SRF(SRTN,46)),"^") S:X="" X="N/A" I 'SRALL,X="N/A" S SRLF=0 G FLASH
"RTN","SRONRPT3",25,0)
 D LINE(2) S @SRG@(SRI)="Devices: "_X
"RTN","SRONRPT3",26,0)
FLASH S SRLF=1,SRLINE="Flash Sterilization Episodes: " I '$D(^SRF(SRTN,52)) D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT3",27,0)
 I $D(^SRF(SRTN,52)) D LINE(1) S @SRG@(SRI)=SRLINE S X=$G(^SRF(SRTN,52)) D
"RTN","SRONRPT3",28,0)
 .D LINE(1) S @SRG@(SRI)="   Contamination:                       "_$P(X,"^")
"RTN","SRONRPT3",29,0)
 .D LINE(1) S @SRG@(SRI)="   SPD Processing/OR Management Issues: "_$P(X,"^",2)
"RTN","SRONRPT3",30,0)
 .D LINE(1) S @SRG@(SRI)="   Emergency Case:                      "_$P(X,"^",3)
"RTN","SRONRPT3",31,0)
 .D LINE(1) S @SRG@(SRI)="   No Better Option:                    "_$P(X,"^",4)
"RTN","SRONRPT3",32,0)
 .D LINE(1) S @SRG@(SRI)="   Loaner or Short Notice Instrument:   "_$P(X,"^",5)
"RTN","SRONRPT3",33,0)
 .D LINE(1) S @SRG@(SRI)="   Decontamination of Instruments Not for Use In Patient: "_$P(X,"^",6)
"RTN","SRONRPT3",34,0)
NCC S SRLINE="Nursing Care Comments: " D LINE(2) S @SRG@(SRI)=SRLINE D
"RTN","SRONRPT3",35,0)
 .I '$O(^SRF(SRTN,7,0)) S @SRG@(SRI)=@SRG@(SRI)_"NO COMMENTS ENTERED" Q
"RTN","SRONRPT3",36,0)
 .S SRLINE=0 F  S SRLINE=$O(^SRF(SRTN,7,SRLINE)) Q:'SRLINE  S X=^SRF(SRTN,7,SRLINE,0) D COMM(X,2)
"RTN","SRONRPT3",37,0)
 Q
"RTN","SRONRPT3",38,0)
LASER ; laser units
"RTN","SRONRPT3",39,0)
 N C,DUR,ID,LAS,OP,PE,SRCT,WAT,X,Y
"RTN","SRONRPT3",40,0)
 S LAS=0 F  S LAS=$O(^SRF(SRTN,44,LAS)) Q:'LAS  D
"RTN","SRONRPT3",41,0)
 .S X=^SRF(SRTN,44,LAS,0),ID=$P(X,"^"),DUR=$P(X,"^",2),WAT=$P(X,"^",3),OP=$P(X,"^",4),PE=$P(X,"^",5)
"RTN","SRONRPT3",42,0)
 .D LINE(1) S @SRG@(SRI)="  "_ID,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Duration: "_$S(DUR'="":DUR_" min.",1:"N/A")
"RTN","SRONRPT3",43,0)
 .D LINE(1) S @SRG@(SRI)="    Wattage: "_$S(WAT'="":WAT,1:"N/A"),@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Plume Evacuator: "_$S(PE="Y":"YES",PE="N":"NO",1:"N/A")
"RTN","SRONRPT3",44,0)
 .S Y=OP,C=$P(^DD(130.0129,3,0),"^",2) D:Y Y^DIQ S:Y="" Y="N/A" D LINE(1) S @SRG@(SRI)="    Operator: "_Y
"RTN","SRONRPT3",45,0)
 .S (SRCT,SRLINE)=0 F  S SRLINE=$O(^SRF(SRTN,44,LAS,1,SRLINE)) Q:'SRLINE  S SRCT=SRCT+1
"RTN","SRONRPT3",46,0)
 .Q:'SRCT  D LINE(1) S SRLINE=0,SRL=4,SRLINE=$O(^SRF(SRTN,44,LAS,1,SRLINE)),X=^SRF(SRTN,44,LAS,1,SRLINE,0)
"RTN","SRONRPT3",47,0)
 .I SRCT=1,$L(X)<67 S @SRG@(SRI)="    Comments: "_X Q
"RTN","SRONRPT3",48,0)
 .S @SRG@(SRI)="    Comments:" D COMM(X,SRL)
"RTN","SRONRPT3",49,0)
 .F  S SRLINE=$O(^SRF(SRTN,44,LAS,1,SRLINE)) Q:'SRLINE  S X=^SRF(SRTN,44,LAS,1,SRLINE,0) D COMM(X,SRL)
"RTN","SRONRPT3",50,0)
 Q
"RTN","SRONRPT3",51,0)
SAVE ; cell saver(s)
"RTN","SRONRPT3",52,0)
 N C,DISP,DNM,ID,INF,LOT,OP,SAL,SAV,SRCT,QTY,X,Y
"RTN","SRONRPT3",53,0)
 S SAV=0 F  S SAV=$O(^SRF(SRTN,45,SAV)) Q:'SAV  D
"RTN","SRONRPT3",54,0)
 .S X=^SRF(SRTN,45,SAV,0),ID=$P(X,"^"),SAL=$P(X,"^",3),INF=$P(X,"^",4),Y=$P(X,"^",2),C=$P(^DD(130.013,1,0),"^",2) D:Y Y^DIQ S OP=$S(Y'="":Y,1:"N/A")
"RTN","SRONRPT3",55,0)
 .D LINE(1) S @SRG@(SRI)="  "_ID,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Amount Salvaged:  "_$S(SAL:SAL_" ml",1:"N/A")
"RTN","SRONRPT3",56,0)
 .D LINE(1) S @SRG@(SRI)="    Operator:"_OP,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Amount Reinfused: "_$S(INF:INF_" ml",1:"N/A")
"RTN","SRONRPT3",57,0)
 .I $O(^SRF(SRTN,45,SAV,1,0)) D LINE(1) S @SRG@(SRI)="    Disposables:",DISP=0 F  S DISP=$O(^SRF(SRTN,45,SAV,1,DISP)) Q:'DISP  D
"RTN","SRONRPT3",58,0)
 ..S X=^SRF(SRTN,45,SAV,1,DISP,0),DNM=$P(X,"^"),LOT=$P(X,"^",2),QTY=$P(X,"^",3) D LINE(1) S @SRG@(SRI)="      "_DNM
"RTN","SRONRPT3",59,0)
 ..D LINE(1) S @SRG@(SRI)=$$SPACE(8)_"Lot: "_LOT,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Quantity: "_QTY
"RTN","SRONRPT3",60,0)
 .S (SRCT,SRLINE)=0 F  S SRLINE=$O(^SRF(SRTN,45,SAV,2,SRLINE)) Q:'SRLINE  S SRCT=SRCT+1
"RTN","SRONRPT3",61,0)
 .Q:'SRCT  D LINE(1) S SRLINE=0,SRL=4,SRLINE=$O(^SRF(SRTN,45,SAV,2,SRLINE)),X=^SRF(SRTN,45,SAV,2,SRLINE,0)
"RTN","SRONRPT3",62,0)
 .I SRCT=1,$L(X)<67 S @SRG@(SRI)="    Comments: "_X Q
"RTN","SRONRPT3",63,0)
 .S @SRG@(SRI)="    Comments:" D COMM(X,SRL)
"RTN","SRONRPT3",64,0)
 .F  S SRLINE=$O(^SRF(SRTN,45,SAV,2,SRLINE)) Q:'SRLINE  S X=^SRF(SRTN,45,SAV,2,SRLINE,0) D COMM(X,SRL)
"RTN","SRONRPT3",65,0)
 Q
"RTN","SRONRPT3",66,0)
N(SRL) N SRN I $L(Y)>SRL S SRN=$P(Y,",")_","_$E($P(Y,",",2))_".",Y=SRN
"RTN","SRONRPT3",67,0)
 Q
"RTN","SRONRPT3",68,0)
COMM(X,NUM) ; output text
"RTN","SRONRPT3",69,0)
 ; X = line of text to be processed
"RTN","SRONRPT3",70,0)
 ; NUM = left margin
"RTN","SRONRPT3",71,0)
 N I,J,K,Y,SRL S SRL=80-NUM
"RTN","SRONRPT3",72,0)
 I $L(X)<(SRL+1)!($E(X,1,SRL)'[" ") D LINE(1) S @SRG@(SRI)=$$SPACE(NUM)_X Q
"RTN","SRONRPT3",73,0)
 S K=1 F  D  I $L(X)<SRL+1 S X(K)=X Q
"RTN","SRONRPT3",74,0)
 .F I=0:1:SRL-1 S J=SRL-I,Y=$E(X,J) I Y=" " S X(K)=$E(X,1,J-1),X=$E(X,J+1,$L(X)) S K=K+1 Q
"RTN","SRONRPT3",75,0)
 F I=1:1:K D LINE(1) S @SRG@(SRI)=$$SPACE(NUM)_X(I)
"RTN","SRONRPT3",76,0)
 Q
"RTN","SRONRPT3",77,0)
SPACE(NUM) ; create spaces
"RTN","SRONRPT3",78,0)
 ;pass in position returns number of needed spaces
"RTN","SRONRPT3",79,0)
 I '$D(@SRG@(SRI)) S @SRG@(SRI)=""
"RTN","SRONRPT3",80,0)
 Q $J("",NUM-$L(@SRG@(SRI)))
"RTN","SRONRPT3",81,0)
LINE(NUM) ; create carriage returns
"RTN","SRONRPT3",82,0)
 I $G(SRLF) S NUM=NUM+1,SRLF=0
"RTN","SRONRPT3",83,0)
 F J=1:1:NUM S SRI=SRI+1,@SRG@(SRI)=""
"RTN","SRONRPT3",84,0)
 Q
"RTN","SROP")
0^19^B21464405^B20468894
"RTN","SROP",1,0)
SROP ;BIR/MAM - SELECT CASE ;08/02/11
"RTN","SROP",2,0)
 ;;3.0;Surgery;**7,44,58,64,104,176**;24 Jun 93;Build 8
"RTN","SROP",3,0)
 I '$D(^XUSEC("SROEDIT",DUZ))!$D(DUZ("SAV")) K SRNEWOP G ^SROPS
"RTN","SROP",4,0)
 S SRSOUT=0 K DIC S DIC("A")="Select Patient: ",DIC=2,DIC(0)="QEAM" D ^DIC K DIC I Y<0 S SRSOUT=1 G END
"RTN","SROP",5,0)
 S DFN=+Y D DEM^VADPT D HDR
"RTN","SROP",6,0)
ADT S (SRBACK,SRDT,CNT)=0 F  S SRDT=$O(^SRF("ADT",DFN,SRDT)) Q:'SRDT!SRSOUT!$D(SRTN)!SRBACK  S SROP=0 F  S SROP=$O(^SRF("ADT",DFN,SRDT,SROP)) Q:'SROP!$D(SRTN)!SRSOUT!SRBACK  D LIST
"RTN","SROP",7,0)
 G:SRBACK ADT D:SRSOUT HDR I $D(SRTN) G ENTER
"RTN","SROP",8,0)
 S CNT=CNT+1,SRCASE(CNT)="" W !,CNT,". ENTER NEW SURGICAL CASE" S SRNEWOP=1
"RTN","SROP",9,0)
OPT S SRSOUT=0 W !!!,"Select Operation: " R X:DTIME I '$T!("^"[X) S SRSOUT=1 G END
"RTN","SROP",10,0)
 I '$D(SRCASE(X)) W !!,"Enter the number of the desired operation" W $S('$D(SRNEWOP):".",1:", or '"_CNT_"' to enter a new case.") G OPT
"RTN","SROP",11,0)
 I X=CNT G ^SRONEW
"RTN","SROP",12,0)
 S SRTN=+SRCASE(X) I $P(^SRF(SRTN,0),"^",4)="" D SS^SRSCHUP I SRSOUT G END
"RTN","SROP",13,0)
ENTER ; edit or delete
"RTN","SROP",14,0)
 S SROP=SRTN,SRSDATE=$P(^SRF(SRTN,0),"^",9) D HDR I $E(SRSDATE,1,7)>DT D FUTURE G:SRSOUT END I '$D(SRTN) D HDR G ADT
"RTN","SROP",15,0)
 W !,?1 D CASE W !!,"1. Enter Information",!,"2. Review Information",!,"3. Delete Surgery Case",!!,"Select Number:  1//  " R X:DTIME I '$T!(X["^") S SRSOUT=1 G END
"RTN","SROP",16,0)
 S:X="" X=1 I X<1!(X>3)!(X'?.N) D HELP G ENTER
"RTN","SROP",17,0)
 I X=3 D ^SROPDEL G END
"RTN","SROP",18,0)
 I X=2 D RT K DR S ST="REVIEW" D EN2^SROVAR S Q3("VIEW")="",DR="[SROMEN-OPER]",DA=SRTN,DIE=130 D ^SRCUSS K Q3("VIEW") G END
"RTN","SROP",19,0)
 I '$D(^SRF(SRTN,52)),$P($G(^SRF(SRTN,.2)),"^",12)="" S ^SRF(SRTN,52)="0^0^0^0^0^0"  ; default flash sterilization fields to zero
"RTN","SROP",20,0)
 D ^SROPCE1
"RTN","SROP",21,0)
 Q
"RTN","SROP",22,0)
LIST ; list cases
"RTN","SROP",23,0)
 I $P($G(^SRF(SROP,"NON")),"^")="Y" Q
"RTN","SROP",24,0)
 S SRSCAN=1 I $P($G(^SRF(SROP,.2)),"^",10)!$P($G(^SRF(SROP,.2)),"^",12) K SRSCAN
"RTN","SROP",25,0)
 I $D(SRSCAN),$D(^SRF(SROP,30)),$P(^(30),"^") Q
"RTN","SROP",26,0)
 I $D(SRSCAN),$D(^SRF(SROP,31)),$P(^(31),"^",8) Q
"RTN","SROP",27,0)
 I $D(^SRF(SROP,37)),$P(^(37),"^") Q
"RTN","SROP",28,0)
 I $Y+5>IOSL S SRBACK=0 D SEL^SROPER Q:$D(SRTN)!(SRSOUT)  D HDR Q:SRBACK
"RTN","SROP",29,0)
 S CNT=CNT+1,SRSDATE=$P(^SRF(SROP,0),"^",9)
"RTN","SROP",30,0)
 W !,CNT_". "
"RTN","SROP",31,0)
CASE W $E(SRSDATE,4,5)_"-"_$E(SRSDATE,6,7)_"-"_$E(SRSDATE,2,3)
"RTN","SROP",32,0)
 S SROPER=$P(^SRF(SROP,"OP"),"^") I $O(^SRF(SROP,13,0)) S SROTHER=0 F  S SROTHER=$O(^SRF(SROP,13,SROTHER)) Q:'SROTHER  D OTHER
"RTN","SROP",33,0)
 D ^SROP1,LOCK K SROPS,MM,MMM S:$L(SROPER)<65 SROPS(1)=SROPER I $L(SROPER)>64 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROP",34,0)
 W ?14,SROPS(1) I $D(SROPS(2)) W !,?14,SROPS(2) I $D(SROPS(3)) W !,?14,SROPS(3) W:$D(SROPS(4)) !,?14,SROPS(4)
"RTN","SROP",35,0)
 W ! S SRCASE(CNT)=SROP_"^"_SRDT
"RTN","SROP",36,0)
 Q
"RTN","SROP",37,0)
LOCK ; case locked?
"RTN","SROP",38,0)
 I $D(SRTN),$P($G(^SRF(SRTN,"LOCK")),"^") S SROPER=SROPER_" **LOCKED**"
"RTN","SROP",39,0)
 Q
"RTN","SROP",40,0)
OTHER ; other operations
"RTN","SROP",41,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SROP,13,SROTHER,0),"^"))>235 S SRLONG=0,SROTHER=999,SROPERS=" ..."
"RTN","SROP",42,0)
 I SRLONG S SROPERS=$P(^SRF(SROP,13,SROTHER,0),"^")
"RTN","SROP",43,0)
 S SROPER=SROPER_$S(SROPERS=" ...":SROPERS,1:", "_SROPERS)
"RTN","SROP",44,0)
 Q
"RTN","SROP",45,0)
LOOP ; break procedures
"RTN","SROP",46,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<65  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SROP",47,0)
 Q
"RTN","SROP",48,0)
END K SRTN D ^SRSKILL W @IOF
"RTN","SROP",49,0)
 Q
"RTN","SROP",50,0)
HELP W !!,"Enter RETURN or '1' to enter or edit information contained within one of the",!,"options found under the Operations Menu.  If you want to display a two screen",!,"overview of this case, enter '2'."
"RTN","SROP",51,0)
 W "  To delete this case from your records,",!,"enter '3'.  Please note that deleting a case will remove EVERYTHING pertaining",!,"to this operative procedure.",!
"RTN","SROP",52,0)
 W !!,"Press RETURN to continue  " R X:DTIME
"RTN","SROP",53,0)
 Q
"RTN","SROP",54,0)
RT ; start RT logging
"RTN","SROP",55,0)
 I $D(XRTL) S XRTN="SROP" D T0^%ZOSV
"RTN","SROP",56,0)
 Q
"RTN","SROP",57,0)
HDR ; print heading
"RTN","SROP",58,0)
 W @IOF,!,?1,VADM(1)_"   "_VA("PID") S X=$P($G(VADM(6)),"^") W:X "        * DIED "_$E(X,4,5)_"/"_$E(X,6,7)_"/"_$E(X,2,3)_" *" W !
"RTN","SROP",59,0)
 Q
"RTN","SROP",60,0)
FUTURE W !,?1 D CASE W !,$C(7) K DIR
"RTN","SROP",61,0)
 S DIR("A",1)=">>> The case you have selected has a future date.",DIR("A")="    Are you sure you have selected the correct case ? ",DIR("B")="NO",DIR(0)="YA" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1 Q
"RTN","SROP",62,0)
 I 'Y K SRTN Q
"RTN","SROP",63,0)
 D HDR
"RTN","SROP",64,0)
 Q
"RTN","SROQ")
0^55^B206693^B30921601
"RTN","SROQ",1,0)
SROQ ;BIR/ADM - QUARTERLY REPORT ;08/23/2011
"RTN","SROQ",2,0)
 ;;3.0;Surgery;**62,70,95,176**;24 Jun 93;Build 8
"RTN","SROQ",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SROQ",4,0)
 ;**         controlled procedure.  Local modifications to this routine
"RTN","SROQ",5,0)
 ;**         are prohibited.
"RTN","SROQ",6,0)
 ;
"RTN","SROQ",7,0)
 W @IOF,!,"This report is no longer available."
"RTN","SROQ",8,0)
 W !! K DIR S DIR(0)="E" D ^DIR K DIR
"RTN","SROQ",9,0)
 D ^%ZISC W @IOF
"RTN","SROQ",10,0)
 Q
"RTN","SROQ0")
0^23^B2820292^B16293917
"RTN","SROQ0",1,0)
SROQ0 ;BIR/ADM - QUARTERLY REPORT (CONTINUED) ;08/25/2011
"RTN","SROQ0",2,0)
 ;;3.0;Surgery;**62,70,77,50,95,123,129,153,174,176**;24 Jun 93;Build 8
"RTN","SROQ0",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SROQ0",4,0)
 ;**         controlled procedure. Local modifications to this routine
"RTN","SROQ0",5,0)
 ;**         are prohibited.
"RTN","SROQ0",6,0)
 ;
"RTN","SROQ0",7,0)
QTR D CHECK I '$D(X) D HELP
"RTN","SROQ0",8,0)
 K SRX,SRY
"RTN","SROQ0",9,0)
 Q
"RTN","SROQ0",10,0)
CHECK I $L(X)'=6!(X'["-") K X Q
"RTN","SROQ0",11,0)
 I $P(X,"-",2)?1N,"1243"'[$P(X,"-",2) K X Q
"RTN","SROQ0",12,0)
 I X'?4N1"-"1N K X Q
"RTN","SROQ0",13,0)
 S SRX=$P(X,"-") I SRX<1996!(SRX>2030) K X Q
"RTN","SROQ0",14,0)
 S SRY=$P(X,"-",2) I "1234"'[SRY K X Q
"RTN","SROQ0",15,0)
 S X=SRX_SRY
"RTN","SROQ0",16,0)
 Q
"RTN","SROQ0",17,0)
HELP K SRHELP S SRHELP(1)="",SRHELP(2)="Answer must be in format: FISCAL YEAR-QUARTER",SRHELP(3)="",SRHELP(4)="NOTE: A hyphen (-) must separate FISCAL YEAR and QUARTER. The FISCAL"
"RTN","SROQ0",18,0)
 S SRHELP(5)="      YEAR must be in the range 1996 to 2030. QUARTER must be a",SRHELP(6)="      number (1, 2, 3 or 4).",SRHELP(7)="" D EN^DDIOL(.SRHELP) K SRHELP
"RTN","SROQ0",19,0)
 Q
"RTN","SROQ0A")
0^54^B1380442^B15549352
"RTN","SROQ0A",1,0)
SROQ0A ;BIR/ADM - QUARTERLY REPORT (CONTINUED) ;08/23/2011
"RTN","SROQ0A",2,0)
 ;;3.0;Surgery;**37,38,62,70,88,103,129,142,176**;24 Jun 93;Build 8
"RTN","SROQ0A",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SROQ0A",4,0)
 ;**         controlled procedure. Local modifications to this routine
"RTN","SROQ0A",5,0)
 ;**         are prohibited.
"RTN","SROQ0A",6,0)
 ;
"RTN","SROQ0A",7,0)
 ; Reference to ^DGPM("APTT1" supported by DBIA #565
"RTN","SROQ0A",8,0)
 ;
"RTN","SROQ0A",9,0)
RS ; surgical residents used?
"RTN","SROQ0A",10,0)
 N SRK,SRDIV,SRSITE S SRK=0,SRDIV=$P($G(^SRF(SRTN,8)),"^") I SRDIV S SRSITE=$O(^SRO(133,"B",SRDIV,0)),Y=$P(^SRO(133,SRSITE,0),"^",19) I Y=0 D  Q
"RTN","SROQ0A",11,0)
 .I $P(^SRF(SRTN,0),"^",9)<3040401 S SRATT=1 Q
"RTN","SROQ0A",12,0)
 .S SRATT=9 Q
"RTN","SROQ0A",13,0)
 S SRATT=99
"RTN","SROQ0A",14,0)
 Q
"RTN","SROQ0A",15,0)
ADM ; check for admission within 14 days of surgery
"RTN","SROQ0A",16,0)
 S (SRSDATE,X1)=$P($G(^SRF(SRTN,.2)),"^",12),X2=14 D C^%DTC S SR14=X
"RTN","SROQ0A",17,0)
 S SRSDATE=$O(^DGPM("APTT1",DFN,SRSDATE)) I SRSDATE,SRSDATE'>SR14 S SRADMT=SRADMT+1
"RTN","SROQ0A",18,0)
 Q
"RTN","SROQ1")
1^59^^B34169984
"RTN","SROQ1A")
1^60^^B31612444
"RTN","SROQ2")
1^61^^B33212600
"RTN","SROQ30D")
0^22^B25737238^n/a
"RTN","SROQ30D",1,0)
SROQ30D ;BIR/ADM - 30-DAY READMISSION TRANSMISSION ;10/31/2011
"RTN","SROQ30D",2,0)
 ;;3.0;Surgery;**176**;24 Jun 93;Build 8
"RTN","SROQ30D",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SROQ30D",4,0)
 ;**         controlled procedure. Local modifications to this routine
"RTN","SROQ30D",5,0)
 ;**         are prohibited.
"RTN","SROQ30D",6,0)
 ;
"RTN","SROQ30D",7,0)
 ; Reference to ^DGPM("APTT1" supported by DBIA #565
"RTN","SROQ30D",8,0)
 Q
"RTN","SROQ30D",9,0)
MSG ; create mail message to server
"RTN","SROQ30D",10,0)
 S X=$$ACTIVE^XUSER(DUZ) I '+X S XMDUZ=.5
"RTN","SROQ30D",11,0)
 S XMSUB="VAMC-"_SRASITE_" 30-DAY READMITS ("_SRCNT_") - FY"_$E(SRYR,3,4)_" Q"_SRQTR
"RTN","SROQ30D",12,0)
 S SRD=^XMB("NETNAME"),ISC=0 I SRD["FO-"!(SRD["ISC-")!(SRD["ISC.")!(SRD["FORUM")!(SRD["TST") S ISC=1
"RTN","SROQ30D",13,0)
 K XMY I 'ISC S (XMY("G.SRCOSERV@FO-HINES.MED.VA.GOV"),XMY("G.CARDIAC RISK ASSESSMENTS@DENVER.VA.GOV"))=""
"RTN","SROQ30D",14,0)
 I ISC S XMY("G.SR-QUARTERLY@"_SRD)=""
"RTN","SROQ30D",15,0)
 S XMTEXT="^TMP(""SRQTR"",$J," N I D ^XMD K ^TMP("SRQTR",$J),XMY,XMTEXT
"RTN","SROQ30D",16,0)
 I '$D(XMMG) D SITE
"RTN","SROQ30D",17,0)
 Q
"RTN","SROQ30D",18,0)
EN ; entry point when run manually to generate current report
"RTN","SROQ30D",19,0)
 D CURRENT
"RTN","SROQ30D",20,0)
EN1 D DATES K ^TMP("SRQTR",$J)
"RTN","SROQ30D",21,0)
 S SRASITE=+$P($$SITE^SROVAR,"^",3),SRSD=SRSTART-.0001,SRED=SREND+.9999,SRCNT=0,^TMP("SRQTR",$J,1)=SRASITE_"^^^^^"
"RTN","SROQ30D",22,0)
 F  S SRSD=$O(^SRF("AC",SRSD)) Q:SRSD>SRED!('SRSD)  S SRTN=0 F  S SRTN=$O(^SRF("AC",SRSD,SRTN)) Q:'SRTN  D CASE
"RTN","SROQ30D",23,0)
 D MSG,END
"RTN","SROQ30D",24,0)
 Q
"RTN","SROQ30D",25,0)
CASE ; examine case
"RTN","SROQ30D",26,0)
 Q:$P($G(^SRF(SRTN,30)),"^")!'$P($G(^SRF(SRTN,.2)),"^",12)!($P($G(^SRF(SRTN,"NON")),"^")="Y")
"RTN","SROQ30D",27,0)
 N DFN,SR,SRADM,SRDISCH,SRPTF,SRRES
"RTN","SROQ30D",28,0)
 S X=$$SITE^SROUTL0(SRTN),SRDIV=$S(X:$P(^SRO(133,X,0),"^"),1:""),SRDIV=$S(SRDIV:$$GET1^DIQ(4,SRDIV,99),1:SRASITE)
"RTN","SROQ30D",29,0)
 S SR(0)=^SRF(SRTN,0),DFN=$P(SR(0),"^")
"RTN","SROQ30D",30,0)
 S SRDISCH=$P($G(^SRF(SRTN,208)),"^",15) I 'SRDISCH D PIMS I 'SRDISCH Q
"RTN","SROQ30D",31,0)
 ; determine if patient was readmitted within 30 days after discharge
"RTN","SROQ30D",32,0)
 S SRADM=$O(^DGPM("APTT1",DFN,SRDISCH)) I 'SRADM Q
"RTN","SROQ30D",33,0)
 S X1=SRDISCH,X2=30 D C^%DTC S SR30=X,SRADM=$O(^DGPM("APTT1",DFN,SRDISCH)) Q:'SRADM!(SRADM>SR30)
"RTN","SROQ30D",34,0)
 S VAINDT=SRADM D INP^VADPT S SRX=$P(VAIN(3),"^"),SRSPE="" D SPEC
"RTN","SROQ30D",35,0)
 S SRPTF=VAIN(10),SRRES="" D RPC^DGPTFAPI(.SRRES,SRPTF)
"RTN","SROQ30D",36,0)
 S SRCNT=SRCNT+1,^TMP("SRQTR",$J,SRCNT)=SRASITE_"^"_SRTN_"^"_SRDIV_"^"_SRADM_"^"_SRSPE_"^"_$P($G(SRRES(1)),"^",3)
"RTN","SROQ30D",37,0)
 Q
"RTN","SROQ30D",38,0)
PIMS ; determine if inpatient surgery
"RTN","SROQ30D",39,0)
 N SRSDATE,SRSOUT S SRSOUT=0,(VAIP("D"),SRSDATE)=$P(SR(0),"^",9) D IN5^VADPT
"RTN","SROQ30D",40,0)
 ; if not admitted before surgery, look for admission within 24 hours of leaving OR
"RTN","SROQ30D",41,0)
 I 'VAIP(13) S X1=$P($G(^SRF(SRTN,.2)),"^",12),X2=1 D C^%DTC S SR24=X,SRDT=$O(^DGPM("APTT1",DFN,SRSDATE)) Q:'SRDT!(SRDT>SR24)  S VAIP("D")=SRDT D IN5^VADPT I 'VAIP(13) Q
"RTN","SROQ30D",42,0)
 I VAIP(13) D ADM Q:SRSOUT
"RTN","SROQ30D",43,0)
 Q
"RTN","SROQ30D",44,0)
ADM ; get information related to admission
"RTN","SROQ30D",45,0)
 ; determine if admission was for observation
"RTN","SROQ30D",46,0)
 ; quit if no specialty defined for admission
"RTN","SROQ30D",47,0)
 S SRX=$P($G(VAIP(13,6)),"^") I SRX="" S SRDISCH=$E($P(VAIP(17,1),"^"),1,12),SRSOUT=1 Q
"RTN","SROQ30D",48,0)
 D SPEC S Y="18,23,24,36,41,65,94" I Y[SRSP D  Q:SRSOUT
"RTN","SROQ30D",49,0)
 .; look for admission following discharge from observation
"RTN","SROQ30D",50,0)
 .S X1=$P($G(^SRF(SRTN,.2)),"^",12),X2=2 D C^%DTC S SR48=X,SRDT=$O(^DGPM("APTT1",DFN,$P(VAIP(13,1),"^"))) I 'SRDT!(SRDT>SR48) S SRDISCH="",SRSOUT=1 Q
"RTN","SROQ30D",51,0)
 .S VAIP("D")=SRDT D IN5^VADPT I 'VAIP(13) S SRDISCH="",SRSOUT=1
"RTN","SROQ30D",52,0)
 S SRDISCH=$E($P(VAIP(17,1),"^"),1,12)
"RTN","SROQ30D",53,0)
 Q
"RTN","SROQ30D",54,0)
SPEC ; find specialty associated with movement
"RTN","SROQ30D",55,0)
 K DA,DIC,DIQ,DR,SRY S DIC=45.7,DR=1,DA=SRX,DIQ="SRY",DIQ(0)="EI" D EN^DIQ1 K DA,DIC,DIQ,DR S SRSP=SRY(45.7,SRX,1,"I"),SRSPE=SRY(45.7,SRX,1,"E")
"RTN","SROQ30D",56,0)
 Q
"RTN","SROQ30D",57,0)
END K ^TMP("SRQTR",$J),DA,DIC,DIQ,DR,ISC,SR24,SR30,SR48,SRASITE,SRCNT,SRD,SRDAY,SRDIV,SRDT,SRE,SRED,SREMO
"RTN","SROQ30D",58,0)
 K SREND,SRFQ,SRQTR,SRSD,SRSMO,SRSOUT,SRSP,SRSPE,SRSTART,SRTN,SRX,SRY,SRYR,SRYRF,VAIN,VAINDT,VAIP,X,X1,X2,Y
"RTN","SROQ30D",59,0)
 S ZTREQ="@"
"RTN","SROQ30D",60,0)
 Q
"RTN","SROQ30D",61,0)
SITE ; update site parameters file
"RTN","SROQ30D",62,0)
 S SRE=0 F  S SRE=$O(^SRO(133,SRE)) Q:'SRE  I $P(^SRO(133,SRE,0),"^",9)<SRFQ S $P(^(0),"^",9)=SRFQ
"RTN","SROQ30D",63,0)
 Q
"RTN","SROQ30D",64,0)
NIGHT ; determine if current quarterly 30-day readmission report has been transmitted
"RTN","SROQ30D",65,0)
 D CURRENT S SRE=$O(^SRO(133,0)) I $P(^SRO(133,SRE,0),"^",9)'<SRFQ Q
"RTN","SROQ30D",66,0)
 D EN1
"RTN","SROQ30D",67,0)
 Q
"RTN","SROQ30D",68,0)
DATES S SRSMO=$S(SRQTR=1:"1001",SRQTR=2:"0101",SRQTR=3:"0401",1:"0701"),SREMO=$S(SRQTR=1:"1231",SRQTR=2:"0331",SRQTR=3:"0630",1:"0930"),SRSTART=$S(SRQTR=1:SRYRF-1,1:SRYRF)_SRSMO,SREND=$S(SRQTR=1:SRYRF-1,1:SRYRF)_SREMO
"RTN","SROQ30D",69,0)
 Q
"RTN","SROQ30D",70,0)
CURRENT ; get current reporting quarter
"RTN","SROQ30D",71,0)
 S SRYR=$E(DT,1,3),SRDAY=$E(DT,4,7),SRQTR=$S(SRDAY>930:3,SRDAY>630:2,SRDAY>331:1,1:4)
"RTN","SROQ30D",72,0)
 I SRQTR=4,SRDAY<401 S SRYR=SRYR-1
"RTN","SROQ30D",73,0)
 S SRYRF=SRYR,SRYR=SRYR+1700,SRFQ=SRYR_SRQTR
"RTN","SROQ30D",74,0)
 Q
"RTN","SROQ30D",75,0)
SEL ; run for selected fiscal quarter
"RTN","SROQ30D",76,0)
 K DIR S DIR(0)="FO",DIR("A")="Enter fiscal year and quarter (e.g., 2012-3)" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT)!(X="") Q
"RTN","SROQ30D",77,0)
 D CHECK I '$D(X) D HELP G SEL
"RTN","SROQ30D",78,0)
 S SRYR=SRX,SRQTR=SRY,SRFQ=SRYR_SRQTR,SRYRF=SRX-1700
"RTN","SROQ30D",79,0)
 D EN1
"RTN","SROQ30D",80,0)
 Q
"RTN","SROQ30D",81,0)
QTR D CHECK I '$D(X) D HELP
"RTN","SROQ30D",82,0)
 K SRX,SRY
"RTN","SROQ30D",83,0)
 Q
"RTN","SROQ30D",84,0)
CHECK I $L(X)'=6!(X'["-") K X Q
"RTN","SROQ30D",85,0)
 I $P(X,"-",2)?1N,"1243"'[$P(X,"-",2) K X Q
"RTN","SROQ30D",86,0)
 I X'?4N1"-"1N K X Q
"RTN","SROQ30D",87,0)
 S SRX=$P(X,"-") I SRX<2011!(SRX>2030) K X Q
"RTN","SROQ30D",88,0)
 S SRY=$P(X,"-",2) I "1234"'[SRY K X Q
"RTN","SROQ30D",89,0)
 S X=SRX_SRY
"RTN","SROQ30D",90,0)
 Q
"RTN","SROQ30D",91,0)
HELP K SRHELP S SRHELP(1)="",SRHELP(2)="Answer must be in format:  FISCAL YEAR-QUARTER",SRHELP(3)="",SRHELP(4)="NOTE: A hyphen (-) must separate FISCAL YEAR and QUARTER. The FISCAL"
"RTN","SROQ30D",92,0)
 S SRHELP(5)="      YEAR must be in the range 2011 to 2030. QUARTER must be a",SRHELP(6)="      number (1, 2, 3 or 4).",SRHELP(7)="" D EN^DDIOL(.SRHELP) K SRHELP
"RTN","SROQ30D",93,0)
 Q
"RTN","SROQD")
0^24^B31124608^B33847612
"RTN","SROQD",1,0)
SROQD ;BIR/ADM - CASES WITH DEATHS WITHIN 30 DAYS ;07/07/2011
"RTN","SROQD",2,0)
 ;;3.0;Surgery;**62,77,50,142,176**;24 Jun 93;Build 8
"RTN","SROQD",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SROQD",4,0)
 ;**         controlled procedure. Local modifications to this routine
"RTN","SROQD",5,0)
 ;**         are prohibited.
"RTN","SROQD",6,0)
 ;
"RTN","SROQD",7,0)
 S SRSOUT=0,SRIO="A",SRSPEC="" W @IOF,!,?24,"Deaths Within 30 Days of Surgery"
"RTN","SROQD",8,0)
 W !!,"This report lists patients who had surgery within the selected date range",!,"and who died within 30 days of surgery."
"RTN","SROQD",9,0)
 D DATE^SROUTL(.SDATE,.EDATE,.SRSOUT) G:SRSOUT END
"RTN","SROQD",10,0)
SEC W !! K DIR S DIR("A",1)="Print which report?",DIR("A",2)="",DIR("A",3)=" 1. Total Cases Summary",DIR("A",4)=" 2. National Specialty Procedures",DIR("A",5)=""
"RTN","SROQD",11,0)
 S DIR("A")="Select number: ",DIR("B")=1,DIR(0)="SAM^1:Total Cases Summary;2:Specialty Procedures" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1 G END
"RTN","SROQD",12,0)
 S SRSEL=Y D:SRSEL=2 SPEC
"RTN","SROQD",13,0)
 I SRSEL=1 W @IOF S SRRPT="Deaths within 30 Days of Surgery" D INOUT^SROUTL
"RTN","SROQD",14,0)
 N SRINSTP S SRINST=$$INST^SROUTL0() G:SRINST="^" END S SRINSTP=$P(SRINST,"^"),SRINST=$S(SRINST["ALL DIVISIONS":SRINST,1:$P(SRINST,"^",2))
"RTN","SROQD",15,0)
 I SRSOUT G END
"RTN","SROQD",16,0)
IO W !!,"This report is designed to use a 132 column format.",!
"RTN","SROQD",17,0)
 K %ZIS,IOP,IO("Q"),POP S %ZIS("A")="Print the report to which Printer ? ",%ZIS("B")="",%ZIS="Q" D ^%ZIS I POP S SRSOUT=1 G END
"RTN","SROQD",18,0)
 I $D(IO("Q")) K IO("Q") S ZTDESC="Deaths within 30 Days of Surgery",(ZTSAVE("EDATE"),ZTSAVE("SDATE"),ZTSAVE("SRIO"),ZTSAVE("SRSEL"),ZTSAVE("SRINSTP"),ZTSAVE("SRSPEC*"))="",ZTRTN="EN^SROQD" D ^%ZTLOAD S SRSOUT=1 G END
"RTN","SROQD",19,0)
EN U IO S (SRCTOT,SRDTOT,SRHDR2,SRSNM,SRSOUT)=0,(SRHDR,SRPAGE)=1,SRSD=SDATE-.0001,SRED=EDATE+.9999,Y=SDATE X ^DD("DD") S STARTDT=Y,Y=EDATE X ^DD("DD") S ENDATE=Y
"RTN","SROQD",20,0)
 D KTMP S SRRPT="DEATHS WITHIN 30 DAYS OF SURGERY"_$S(SRSEL=2:" LISTED FOR SPECIALTY PROCEDURES",1:"")
"RTN","SROQD",21,0)
 S SRFRTO="FOR "_$S(SRIO="O":"OUTPATIENT ",SRIO="I":"INPATIENT ",1:"")_"SURGERY PERFORMED FROM: "_STARTDT_"  TO: "_ENDATE
"RTN","SROQD",22,0)
 S SRINST=$S(SRINSTP["ALL DIV":$P($$SITE^SROVAR,"^",2)_" - ALL DIVISIONS",1:$$GET1^DIQ(4,SRINSTP,.01))
"RTN","SROQD",23,0)
 D NOW^%DTC S Y=$E(%,1,12) X ^DD("DD") S SRPRINT="Report Printed: "_Y
"RTN","SROQD",24,0)
 D AC^SROQD0 D:SRSEL=1 PLIST D:SRSEL=2 NAT^SROQD1
"RTN","SROQD",25,0)
END W:$E(IOST)="P" @IOF D KTMP I $D(ZTQUEUED) Q:$G(ZTSTOP)  S ZTREQ="@" Q
"RTN","SROQD",26,0)
 I 'SRSOUT,$E(IOST)'="P" D PRESS
"RTN","SROQD",27,0)
 D ^%ZISC K SRCTOT,SRDNAT,SRDTH,SRDTOT,SRFRTO,SRHDR2,SRINV,SRIO,SRIOSTAT,SRNAT,SRNATNM,SRRPT,SRSEL,SRTN D ^SRSKILL W @IOF
"RTN","SROQD",28,0)
 Q
"RTN","SROQD",29,0)
PRESS W !! K DIR S DIR(0)="E" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SROQD",30,0)
 Q
"RTN","SROQD",31,0)
KTMP F I="SR","SRDEATH","SRDTH","SRINOUT","SRIP","SRIOST","SRNM","SRPAT","SRNAT","SRSEC","SRREL","SRTN" K ^TMP(I,$J)
"RTN","SROQD",32,0)
 Q
"RTN","SROQD",33,0)
PLIST ; print patient list for total cases
"RTN","SROQD",34,0)
 D HDR^SROQD0 S SRNM="" I SRIO'="A" D NOTA,TOT Q
"RTN","SROQD",35,0)
 F  S SRNM=$O(^TMP("SRPAT",$J,SRNM)) Q:SRNM=""!SRSOUT  S DFN=0 F  S DFN=$O(^TMP("SRPAT",$J,SRNM,DFN)) Q:'DFN!SRSOUT  S SRZ=^(DFN) D
"RTN","SROQD",36,0)
 .S SRSNM=0,SRSSN=$P(SRZ,"^"),(SRDD,X1)=$P(SRZ,"^",3),X2=$P(SRZ,"^",2),SRAGE=$E(X1,1,3)-$E(X2,1,3)-($E(X1,4,7)<$E(X2,4,7)) D PAT
"RTN","SROQD",37,0)
TOT I 'SRSOUT S SRHDR2=1 D SUM^SROQD0
"RTN","SROQD",38,0)
 Q
"RTN","SROQD",39,0)
NOTA ; print in or out-patient deaths
"RTN","SROQD",40,0)
 F  S SRNM=$O(^TMP("SRSEC",$J,SRIO,SRNM)) Q:SRNM=""!SRSOUT  S DFN=0 F  S DFN=$O(^TMP("SRSEC",$J,SRIO,SRNM,DFN)) Q:'DFN!SRSOUT  S SRTN=^TMP("SRSEC",$J,SRIO,SRNM,DFN),SRZ=^TMP("SRPAT",$J,SRNM,DFN) D
"RTN","SROQD",41,0)
 .S SRSSN=$P(SRZ,"^"),(SRDD,X1)=$P(SRZ,"^",3),X2=$P(SRZ,"^",2),SRAGE=$E(X1,1,3)-$E(X2,1,3)-($E(X1,4,7)<$E(X2,4,7))
"RTN","SROQD",42,0)
 .S SRNAME=">>> "_SRNM_"  ("_SRSSN_") - DIED "_$E(SRDD,4,5)_"/"_$E(SRDD,6,7)_"/"_$E(SRDD,2,3)_"  AGE: "_SRAGE,SRDTOT=SRDTOT+1
"RTN","SROQD",43,0)
 .D:$Y+9>IOSL PAGE^SROQD0 Q:SRSOUT  W !,SRNAME,! S SRSNM=1
"RTN","SROQD",44,0)
 .S SRSD=$P(^SRF(SRTN,0),"^",9),SRZ=^TMP("SR",$J,DFN,SRSD,SRTN) D OP S SRSNM=0 W ! F I=1:1:IOM W "-"
"RTN","SROQD",45,0)
 Q
"RTN","SROQD",46,0)
PAT ; print new patient information
"RTN","SROQD",47,0)
 S SRNAME=">>> "_SRNM_"  ("_SRSSN_") - DIED "_$E(SRDD,4,5)_"/"_$E(SRDD,6,7)_"/"_$E(SRDD,2,3)_"  AGE: "_SRAGE,SRDTOT=SRDTOT+1
"RTN","SROQD",48,0)
 D:$Y+9>IOSL PAGE^SROQD0 Q:SRSOUT  W !,SRNAME,! S SRSNM=1,SRSD=0 F  S SRSD=$O(^TMP("SR",$J,DFN,SRSD)) Q:'SRSD  S SRTN=0 F  S SRTN=$O(^TMP("SR",$J,DFN,SRSD,SRTN)) Q:'SRTN!SRSOUT  D OP
"RTN","SROQD",49,0)
 S SRSNM=0 W ! F I=1:1:IOM W "-"
"RTN","SROQD",50,0)
 Q
"RTN","SROQD",51,0)
OP ; print case information
"RTN","SROQD",52,0)
 Q:SRSD<(SDATE-.0001)!(SRSD>(EDATE+.9999))  D:$Y+7>IOSL PAGE^SROQD0 Q:SRSOUT
"RTN","SROQD",53,0)
 S SRZ=^TMP("SR",$J,DFN,SRSD,SRTN),Y=SRSD,SRSDATE=$E(Y,4,5)_"/"_$E(Y,6,7)_"/"_$E(Y,2,3),Y=$P(SRZ,"^"),SRSS=$S(Y=9999:"SPECIALTY NOT ENTERED",1:$P(^SRO(137.45,Y,0),"^"))
"RTN","SROQD",54,0)
 S Y=$P(SRZ,"^",2),SRIOSTAT=$S(Y="I":"INPAT",Y="O":"OUTPAT",1:"???"),Y=$P(SRZ,"^",3),SRREL=$S(Y="U":"UNRELATED",Y="R":"RELATED",1:"???")
"RTN","SROQD",55,0)
 S SRCON=$P(SRZ,"^",4) S SRL=52,SRSUPCPT=1 D PROC^SROUTL
"RTN","SROQD",56,0)
 W !,SRSDATE,?10,SRTN,?22,SRIOSTAT,?31,$E(SRSS,1,35),?69,SRPROC(1),?123,SRREL,! W:SRCON "*** CONCURRENT CASE #"_SRCON_" ***" S I=1 F  S I=$O(SRPROC(I)) Q:'I  W ?69,SRPROC(I),!
"RTN","SROQD",57,0)
 I SRCON,'$D(SRPROC(2)) W !
"RTN","SROQD",58,0)
 Q
"RTN","SROQD",59,0)
SPEC ; select national specialty
"RTN","SROQD",60,0)
 W @IOF,! S DIR("?",1)="Enter YES if you would like the report printed for all National Surgical",DIR("?")="Specialties or enter NO to select a specific specialty."
"RTN","SROQD",61,0)
 S DIR("A")="Do you want the report for all National Surgical Specialties ? ",DIR("B")="YES",DIR(0)="YA" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1 Q
"RTN","SROQD",62,0)
 I 'Y W ! K DIC S DIC=45.3,DIC(0)="QEAMZ",DIC("A")="Select National Surgical Specialty: ",DIC("S")="I '$P(^(0),""^"",3)" D ^DIC K DIC S:Y<0 SRSOUT=1 Q:Y<0  S SRSPEC=+Y,SRSPECN=$P(Y(0),"^")
"RTN","SROQD",63,0)
 Q
"RTN","SROQM")
1^62^^B18303106
"RTN","SROQM0")
1^63^^B18787744
"RTN","SROQM1")
1^64^^B26795235
"RTN","SROQT")
1^65^^B35140873
"RTN","SROUTC")
0^26^B20577259^B17914519
"RTN","SROUTC",1,0)
SROUTC ;BIR/SJA - OUTCOMES DATA ;09/28/2011
"RTN","SROUTC",2,0)
 ;;3.0;Surgery;**125,135,153,174,175,176**;24 Jun 93;Build 8
"RTN","SROUTC",3,0)
 D UPDT490,EN^SROCCAT
"RTN","SROUTC",4,0)
 F I=205,206,208,209 S SRA(I)=$G(^SRF(SRTN,I))
"RTN","SROUTC",5,0)
 S NYUK=$P(SRA(205),"^",27) D YN S SRAO(1)=SHEMP_"^258",NYUK=$P(SRA(208),"^",7) D YN S SRAO(8)=SHEMP_"^391"
"RTN","SROUTC",6,0)
 S NYUK=$P(SRA(208),"^",3) D YN S SRAO(2)=SHEMP_"^386",NYUK=$P(SRA(206),"^",39) D YN S SRAO(9)=SHEMP_"^466"
"RTN","SROUTC",7,0)
 S NYUK=$P(SRA(205),"^",17) D YN S SRAO(16)=SHEMP_"^254",NYUK=$P(SRA(209),"^",12) D YN S SRAO(10)=SHEMP_"^490"
"RTN","SROUTC",8,0)
 S NYUK=$P(SRA(208),"^",5) D YN S SRAO(4)=SHEMP_"^388",NYUK=$P(SRA(205),"^",21) D YN S SRAO(11)=SHEMP_"^256"
"RTN","SROUTC",9,0)
 S NYUK=$P(SRA(205),"^",26) D YN S SRAO(5)=SHEMP_"^411",NYUK=$P(SRA(205),"^",22) D YN S SRAO(12)=SHEMP_"^410"
"RTN","SROUTC",10,0)
 S NYUK=$P(SRA(208),"^",6) D YN S SRAO(6)=SHEMP_"^389",NYUK=$P(SRA(206),"^",40) D YN S SRAO(13)=SHEMP_"^467"
"RTN","SROUTC",11,0)
 S NYUK=$P(SRA(205),"^",13) D YN S SRAO(7)=SHEMP_"^285",NYUK=$P(SRA(208),"^") D YN S SRAO(0)=SHEMP_"^384"
"RTN","SROUTC",12,0)
 S NYUK=$P(SRA(205),"^",40) D YN S SRAO(14)=SHEMP_"^448",NYUK=$P(SRA(205),"^",8) D YN S SRAO(15)=SHEMP_"^404"
"RTN","SROUTC",13,0)
 S NYUK=$P(SRA(205),"^",6) D YN S SRAO(3)=SHEMP_"^248"
"RTN","SROUTC",14,0)
 ;
"RTN","SROUTC",15,0)
DISP S SRPAGE="PAGE: 1",SRHDR(.5)="OUTCOMES INFORMATION" D HDR^SROAUTL
"RTN","SROUTC",16,0)
 W !,"0. Operative Death: ",?35,$P(SRAO(0),"^")
"RTN","SROUTC",17,0)
 W !!,"Perioperative (30 day) Occurrences:",!,"-----------------------------------"
"RTN","SROUTC",18,0)
 W !,"1. Perioperative MI: ",?35,$P(SRAO(1),"^"),?40," 9. Tracheostomy: ",?76,$P(SRAO(9),"^")
"RTN","SROUTC",19,0)
 W !,"2. Endocarditis: ",?35,$P(SRAO(2),"^"),?40,"10. Repeat ventilator w/in 30 days: ",?76,$P(SRAO(10),"^")
"RTN","SROUTC",20,0)
 W !,"3. Superficial Incisional SSI: ",?35,$P(SRAO(3),"^"),?40,"11. Stroke/CVA: ",?76,$P(SRAO(11),"^")
"RTN","SROUTC",21,0)
 W !,"4. Mediastinitis: ",?35,$P(SRAO(4),"^"),?40,"12. Coma >= 24 hr: ",?76,$P(SRAO(12),"^")
"RTN","SROUTC",22,0)
 W !,"5. Cardiac arrest requiring CPR: ",?35,$P(SRAO(5),"^"),?40,"13. New Mech Circ Support: ",?76,$P(SRAO(13),"^")
"RTN","SROUTC",23,0)
 W !,"6. Reoperation for bleeding: ",?35,$P(SRAO(6),"^"),?40,"14. Postop Atrial Fibrillation: ",?76,$P(SRAO(14),"^")
"RTN","SROUTC",24,0)
 W !,"7. On ventilator >= 48 hr: ",?35,$P(SRAO(7),"^"),?40,"15. Wound Disruption: ",?76,$P(SRAO(15),"^")
"RTN","SROUTC",25,0)
 W !,"8. Repeat cardiac surg procedure: ",?35,$P(SRAO(8),"^"),?40,"16. Renal failure require dialysis: ",$P(SRAO(16),"^")
"RTN","SROUTC",26,0)
 W !! F MOE=1:1:80 W "-"
"RTN","SROUTC",27,0)
 Q
"RTN","SROUTC",28,0)
YN ; store answer
"RTN","SROUTC",29,0)
 S SHEMP=$S(NYUK="NS":"NS",NYUK="N":"NO",NYUK="Y":"YES",1:"")
"RTN","SROUTC",30,0)
 Q
"RTN","SROUTC",31,0)
UPDT490 ; update field 490
"RTN","SROUTC",32,0)
 N SRX S SRX=$P($G(^SRF(SRTN,209)),"^",12) S:SRX="" SRX="N"
"RTN","SROUTC",33,0)
 K DA,DIE,DR S DIE=130,DA=SRTN,DR="490////"_SRX D ^DIE K DA,DIE,DR
"RTN","SROUTC",34,0)
 Q
"RTN","SROUTC",35,0)
UPDATE N SRCMP,SROC,SRI,SRIF,SRQ,SRY D MAP
"RTN","SROUTC",36,0)
 I EMILY=5!(EMILY=13) D IP Q
"RTN","SROUTC",37,0)
 S X=$P(^SRO(136.5,SROC,0),"^"),DIC(0)="L",DLAYGO="130.22",DA(1)=SRTN,DIC="^SRF("_SRTN_",16," D FILE^DICN
"RTN","SROUTC",38,0)
 S $P(^SRF(SRTN,16,+Y,0),"^",2)=SROC,SRY=+Y
"RTN","SROUTC",39,0)
EM8 I EMILY=8 K DIR S DIR(0)="130.22,8",DIR("A")="Cardiopulmonary Bypass Status" D ^DIR G:X="" EM8 D  K DR,DA,DIE
"RTN","SROUTC",40,0)
 .K DA,DR,DIE,DIR I X["^"!(X="@")!(Y=0) D DEL S DA=SRTN,DIE=130,DR="391////N" D ^DIE Q
"RTN","SROUTC",41,0)
 .S DA=SRY,DR="8///"_Y,DA(1)=SRTN,DIE="^SRF(SRTN,16," D ^DIE
"RTN","SROUTC",42,0)
EM11 I EMILY=11 K DIR S DIR(0)="130.22,9",DIR("A")="Stroke/CVA Duration",DIR("B")="<24 HOURS" D ^DIR G:X="" EM11 D  K DR,DA,DIE
"RTN","SROUTC",43,0)
 .K DA,DR,DIE,DIR I X["^"!(X="@")!(Y=1) D DEL S DA=SRTN,DIE=130,DR="256////N" D ^DIE Q
"RTN","SROUTC",44,0)
 .S DA=SRY,DR="9///"_Y,DA(1)=SRTN,DIE="^SRF(SRTN,16," D ^DIE
"RTN","SROUTC",45,0)
 Q
"RTN","SROUTC",46,0)
IP K DIR S DIR("A")="Is this an Intraoperative occurrence? ",DIR("B")="YES",DIR(0)="YA" D ^DIR K DIR Q:$D(DTOUT)!$D(DUOUT)
"RTN","SROUTC",47,0)
 S SRIF=Y
"RTN","SROUTC",48,0)
 I SRIF=1 S X=$P(^SRO(136.5,SROC,0),"^"),DIC(0)="L",DLAYGO="130.14",DA(1)=SRTN,DIC="^SRF("_SRTN_",10," D FILE^DICN S $P(^SRF(SRTN,10,+Y,0),"^",2)=SROC Q
"RTN","SROUTC",49,0)
 ;
"RTN","SROUTC",50,0)
 I SRIF=0 S X=$P(^SRO(136.5,SROC,0),"^"),DIC(0)="L",DLAYGO="130.22",DA(1)=SRTN,DIC="^SRF("_SRTN_",16," D FILE^DICN S $P(^SRF(SRTN,16,+Y,0),"^",2)=SROC
"RTN","SROUTC",51,0)
 Q
"RTN","SROUTC",52,0)
DEL ; delete existing Post/Intraoperative occurrences.
"RTN","SROUTC",53,0)
 N II,SRII,SROC D MAP
"RTN","SROUTC",54,0)
 S II=0 F  S II=$O(^SRF(SRTN,16,II)) Q:'II  S SRII=$G(^(II,0)) I $P(SRII,"^",2)=SROC D  Q
"RTN","SROUTC",55,0)
 .S DA(1)=SRTN,DA=II,DIK="^SRF("_SRTN_",16," D ^DIK I '$O(^SRF(SRTN,16,0)) K ^SRF(SRTN,16,0)
"RTN","SROUTC",56,0)
 ;
"RTN","SROUTC",57,0)
 S II=0 F  S II=$O(^SRF(SRTN,10,II)) Q:'II  S SRII=$G(^(II,0)) I $P(SRII,"^",2)=SROC D  Q
"RTN","SROUTC",58,0)
 .S DA(1)=SRTN,DA=II,DIK="^SRF("_SRTN_",10," D ^DIK I '$O(^SRF(SRTN,10,0)) K ^SRF(SRTN,10,0)
"RTN","SROUTC",59,0)
 Q
"RTN","SROUTC",60,0)
MAP S SROC=$S(EMILY=1:17,EMILY=2:23,EMILY=3:1,EMILY=4:25,EMILY=5:16,EMILY=6:26,EMILY=7:6,EMILY=8:27,EMILY=9:33,EMILY=10:37,EMILY=11:12,EMILY=12:13,EMILY=14:39,EMILY=15:22,EMILY=16:9,1:34)
"RTN","SROUTC",61,0)
 Q
"RTN","SROXR4")
0^91^B8706222^B8526821
"RTN","SROXR4",1,0)
SROXR4 ;BIR/MAM - CROSS REFERENCES ;01/24/11
"RTN","SROXR4",2,0)
 ;;3.0;Surgery;**62,83,100,153,166,174,175,176**;24 Jun 93;Build 8
"RTN","SROXR4",3,0)
 Q
"RTN","SROXR4",4,0)
PRO ; stuff default prosthesis info
"RTN","SROXR4",5,0)
 I '$D(SRTN) Q
"RTN","SROXR4",6,0)
 S ^SRF(SRTN,1,DA,0)=^SRF(SRTN,1,DA,0)_"^"_$P(^SRO(131.9,X,0),"^",2,4)_"^^"_$P(^SRO(131.9,X,0),"^",6,99)
"RTN","SROXR4",7,0)
 I $D(^SRO(131.9,X,1)) S ^SRF(SRTN,1,DA,1)=^(1)
"RTN","SROXR4",8,0)
 Q
"RTN","SROXR4",9,0)
CAN ; 'SET' logic of the 'ACAN' x-ref on the 'CANCEL REASON'
"RTN","SROXR4",10,0)
 ; field in the SURGERY file (130)
"RTN","SROXR4",11,0)
 S $P(^SRF(DA,30),"^",2)=$P(^SRO(135,X,0),"^",3) I $P(^SRO(135,X,0),"^",3)="" S $P(^SRF(DA,30),"^",2)="Y"
"RTN","SROXR4",12,0)
 I $P(^SRF(DA,30),"^",3)="" S $P(^SRF(DA,30),"^",3)=DUZ
"RTN","SROXR4",13,0)
 D AQ
"RTN","SROXR4",14,0)
 S SHEMP=$P($G(^SRF(DA,.2)),"^",10) I SHEMP,$D(^SRF(DA,"RA")) S ZTDESC="Clean up Risk Assessment Information, Canceled Case",ZTRTN="RISK^SROXR4",ZTDTH=$H,ZTSAVE("DA")="" D ^%ZTLOAD
"RTN","SROXR4",15,0)
 Q
"RTN","SROXR4",16,0)
KCAN ; 'KILL' logic of the 'ACAN' x-ref on the 'CANCEL REASON'
"RTN","SROXR4",17,0)
 ; field in the SURGERY file (130)
"RTN","SROXR4",18,0)
 S $P(^SRF(DA,30),"^",2)="" I '$P($G(^SRF(DA,30)),"^") S $P(^SRF(DA,30),"^",3)=""
"RTN","SROXR4",19,0)
 D KAQ
"RTN","SROXR4",20,0)
 Q
"RTN","SROXR4",21,0)
AS ; 'SET' logic of the 'AS' x-ref on the SCHEDULED START TIME
"RTN","SROXR4",22,0)
 ; field in the SURGERY file (130)
"RTN","SROXR4",23,0)
 S OR=$P(^SRF(DA,0),"^",2) I 'OR Q
"RTN","SROXR4",24,0)
 S ^SRF("AS",OR,X,DA)=""
"RTN","SROXR4",25,0)
 Q
"RTN","SROXR4",26,0)
KAS ; 'KILL' logic of the 'AS' x-ref on the SCHEDULED FINISH TIME
"RTN","SROXR4",27,0)
 ; field in the SURGERY file (130)
"RTN","SROXR4",28,0)
 S OR=$P(^SRF(DA,0),"^",2) I 'OR Q
"RTN","SROXR4",29,0)
 K ^SRF("AS",OR,X,DA)
"RTN","SROXR4",30,0)
 Q
"RTN","SROXR4",31,0)
SCH ; 'SET' logic of the 'AC' x-ref of the REQUIRED FIELDS FOR SCHEDULING
"RTN","SROXR4",32,0)
 ; field in the SURGERY SITE PARAMETERS file (133)
"RTN","SROXR4",33,0)
 S MM=$O(^DD(130,"B",X,0)),$P(^SRO(133,DA(1),4,DA,0),"^",2)=MM K MM
"RTN","SROXR4",34,0)
 Q
"RTN","SROXR4",35,0)
KSCH ; 'KILL' logic of the 'AC' x-ref of the REQUIRED FIELDS FOR SCHEDULING
"RTN","SROXR4",36,0)
 ; field in the SURGERY SITE PARAMETERS file (133)
"RTN","SROXR4",37,0)
 S $P(^SRO(133,DA(1),4,DA,0),"^",2)=""
"RTN","SROXR4",38,0)
 Q
"RTN","SROXR4",39,0)
RISK ; clean up risk data for canceled cases
"RTN","SROXR4",40,0)
 S DIE=130,DR="102///@;235///@;284///@;323///@" D ^DIE K DR,DA S ZTREQ="@"
"RTN","SROXR4",41,0)
 Q
"RTN","SROXR4",42,0)
AQ ; set logic for AQ x-ref
"RTN","SROXR4",43,0)
 N SRTD,SRLO D AQDT I SRTD'<SRLO S $P(^SRF(DA,.4),"^",2)="R",^SRF("AQ",SRTD,DA)=""
"RTN","SROXR4",44,0)
 Q
"RTN","SROXR4",45,0)
KAQ ; kill logic for AQ x-ref
"RTN","SROXR4",46,0)
 N SRTD,SRLO D AQDT S $P(^SRF(DA,.4),"^",2)="" K ^SRF("AQ",SRTD,DA)
"RTN","SROXR4",47,0)
 Q
"RTN","SROXR4",48,0)
AQDT ; get monthly transmission date 45 days after end of the month of the operation
"RTN","SROXR4",49,0)
 N SRD,SRSDATE,SRX,SRYR,M S SRSDATE=$E($P(^SRF(DA,0),"^",9),1,7),SRYR=$E(SRSDATE,1,3),M=+$E(SRSDATE,4,5)
"RTN","SROXR4",50,0)
 S SRD=$S(M=1:"0316",M=2:"0414",M=3:"0515",M=4:"0614",M=5:"0715",M=6:"0814",M=7:"0914",M=8:"1015",M=9:"1114",M=10:"1215",M=11:"0114",1:"0214")
"RTN","SROXR4",51,0)
 S:M=11!(M=12) SRYR=SRYR+1 S SRTD=SRYR_SRD
"RTN","SROXR4",52,0)
 S SRX=$E(DT,1,3),SRLO=SRX-2_"1215"
"RTN","SROXR4",53,0)
 Q
"RTN","SROXR4",54,0)
AQ1 ; set logic for AQ1 x-ref
"RTN","SROXR4",55,0)
 I X="R" N SRTD,SRLO D AQDT I SRTD'<SRLO S ^SRF("AQ",SRTD,DA)=""
"RTN","SROXR4",56,0)
 Q
"RTN","SROXR4",57,0)
KAQ1 ; kill logic for AQ1 x-ref
"RTN","SROXR4",58,0)
 N SRTD,SRLO D AQDT K ^SRF("AQ",SRTD,DA)
"RTN","SROXR4",59,0)
 Q
"RTN","SROXR4",60,0)
AT ; set logic for AT x-ref on DATE OF LAST TRANSMISSION
"RTN","SROXR4",61,0)
 N SRX S ^SRF("AT",X,DA)=""
"RTN","SROXR4",62,0)
 S SRX=$P($G(^SRF(DA,"RA")),"^",4) I SRX,SRX'=X K ^SRF("AT",SRX,DA)
"RTN","SROXR4",63,0)
 Q
"RTN","SROXR4",64,0)
KAT ; kill logic for AT x-ref on DATE OF LAST TRANSMISSION
"RTN","SROXR4",65,0)
 N SRX K ^SRF("AT",X,DA)
"RTN","SROXR4",66,0)
 S SRX=$P($G(^SRF(DA,"RA")),"^",4) I SRX,SRX'=X K ^SRF("AT",SRX,DA)
"RTN","SROXR4",67,0)
 Q
"RTN","SROXR4",68,0)
AT1 ; set logic for AT x-ref on DATE TRANSMITTED
"RTN","SROXR4",69,0)
 N SRX S SRX=$P($G(^SRF(DA,"RA")),"^",8) I SRX Q
"RTN","SROXR4",70,0)
 S ^SRF("AT",X,DA)=""
"RTN","SROXR4",71,0)
 Q
"RTN","SROXR4",72,0)
KAT1 ; kill logic for AT x-ref on DATE TRANSMITTED
"RTN","SROXR4",73,0)
 N SRX S SRX=$P($G(^SRF(DA,"RA")),"^",8)
"RTN","SROXR4",74,0)
 I SRX'=X K ^SRF("AT",X,DA)
"RTN","SROXR4",75,0)
 Q
"RTN","SRSCAN0")
0^46^B17191683^B16697395
"RTN","SRSCAN0",1,0)
SRSCAN0 ;BIR/MAM - CANCEL SCHEDULED OPERATIONS (CONT) ;08/10/2011
"RTN","SRSCAN0",2,0)
 ;;3.0;Surgery;**34,42,67,103,107,114,100,144,175,176**;24 Jun 93;Build 8
"RTN","SRSCAN0",3,0)
 ;
"RTN","SRSCAN0",4,0)
 G SWAP ; change of SR*3*176
"RTN","SRSCAN0",5,0)
CUT S X1=SRSDATE,X2=-1 D C^%DTC S SRSDT=X,X=$P($G(^SRO(133,SRSITE,0)),"^",12) S SRTIME=SRSDT_"."_$S(X'="":X,1:1500)
"RTN","SRSCAN0",6,0)
 S SRTYPE=$P(^SRF(SRTN,0),"^",10) I SRTYPE="S" W !!,"Case schedule type is STANDBY. "
"RTN","SRSCAN0",7,0)
 D NOW^%DTC S SRN=+$E(%,1,12) I SRTYPE'="S",SRN'<SRTIME G SWAP
"RTN","SRSCAN0",8,0)
 S SRBOTH=0 I $P($G(^SRF(SRTN,"CON")),"^") S SRBOTH=1
"RTN","SRSCAN0",9,0)
REQ I 'SRBOTH D ^SRSCG
"RTN","SRSCAN0",10,0)
 S SRSCHST=$P($G(^SRF(SRTN,31)),"^",4) K:SRSCHST&SRSOR ^SRF("AMM",SRSOR,SRSCHST,SRTN)
"RTN","SRSCAN0",11,0)
 S $P(^SRF(SRTN,31),"^",4)="",$P(^SRF(SRTN,31),"^",5)="",^SRF(SRTN,"REQ")=1,^SRF("AR",SRSDATE,DFN,SRTN)="",^TMP("SRPFSS",$J)=""
"RTN","SRSCAN0",12,0)
 K DR S DA=SRTN,DR=".02///@",DIE=130 D ^DIE K DR D OERR
"RTN","SRSCAN0",13,0)
 I '$P($G(^SRF(SRTN,"1.0")),"^",11) D
"RTN","SRSCAN0",14,0)
 .N SREQ
"RTN","SRSCAN0",15,0)
 .S SREQ(130,SRTN_",",1.098)=+SRN,SREQ(130,SRTN_",",1.099)=DUZ
"RTN","SRSCAN0",16,0)
 .D FILE^DIE("","SREQ","^TMP(""SR"",$J)")
"RTN","SRSCAN0",17,0)
 W !!,"Case #"_SRTN_" has been removed from the schedule and changed to a request."
"RTN","SRSCAN0",18,0)
 I SRBOTH G ASK
"RTN","SRSCAN0",19,0)
PRESS W ! K DIR S DIR(0)="E" D ^DIR
"RTN","SRSCAN0",20,0)
 Q
"RTN","SRSCAN0",21,0)
ASK S SRBOTH=0 W !!,"There is a concurrent case associated with this operation.  Do you want to",!,"remove it from the schedule also ? YES// " R SRYN:DTIME I '$T!(SRYN["^") S SRYN="N"
"RTN","SRSCAN0",22,0)
 S SRYN=$E(SRYN) S:SRYN="" SRYN="Y"
"RTN","SRSCAN0",23,0)
 I "YyNn"'[SRYN W !!,"If you want to remove both cases from the schedule, enter 'YES'.  If you",!,"answer 'NO', the cases will no longer be associated with each other." G ASK
"RTN","SRSCAN0",24,0)
 I "Yy"[SRYN S SRTN=$P(^SRF(SRTN,"CON"),"^") G REQ
"RTN","SRSCAN0",25,0)
NOCC ; no longer concurrent cases
"RTN","SRSCAN0",26,0)
 S DA=$P(^SRF(SRTN,"CON"),"^"),DIE=130,DR="35///@" D ^DIE S SROERR=DA D ^SROERR0 S DA=SRTN D ^DIE,OERR,UNLOCK^SROUTL(DA)
"RTN","SRSCAN0",27,0)
 Q
"RTN","SRSCAN0",28,0)
SWAP ; move data into a new entry and set up the cancel date in the old
"RTN","SRSCAN0",29,0)
 W ! K DIR S DIR(0)="130,18",DIR("A")="Cancellation Reason" D ^DIR S SRSCAN=$P(Y,"^") I $D(DIRUT) W !!,"Case NOT cancelled." D PRESS G END
"RTN","SRSCAN0",30,0)
 N SRSCOM S SRSCOM="" I $P(Y,"^",2)="OTHER" W ! K DIR S DIR(0)="130,19",DIR("A")="Cancellation Comments" D ^DIR S SRSCOM=$P(Y,"^") I $D(DIRUT) W !!,"Case NOT cancelled." D PRESS G END
"RTN","SRSCAN0",31,0)
 K DR S SRCON=0,DA=SRTN,DR=".02///@;102///@;235///@;284///@;323///@;18////"_SRSCAN_";19////"_SRSCOM_";67T;70////"_DUZ,DIE=130 D ^DIE S:$D(DTOUT)!$D(DUOUT) SRSOUT=1
"RTN","SRSCAN0",32,0)
 S SRSCHST=$P($G(^SRF(SRTN,31)),"^",4),AVOID=$P(^(30),"^",2)
"RTN","SRSCAN0",33,0)
 I '$P($G(^SRF(SRTN,"CON")),"^") D ^SRSCG
"RTN","SRSCAN0",34,0)
 S SRSDPT=$P(^SRF(SRTN,0),"^"),SRSOP=$P(^SRF(SRTN,"OP"),"^")
"RTN","SRSCAN0",35,0)
 S SRSSET=$P(^SRF(SRTN,31),"^",5),$P(^SRF(SRTN,31),"^",4)="",$P(^SRF(SRTN,31),"^",5)=""
"RTN","SRSCAN0",36,0)
SWAP2 K:SRSCHST&SRSOR ^SRF("AMM",SRSOR,SRSCHST,SRTN) D NOW^%DTC S $P(^SRF(SRTN,30),"^")=$E(%,1,12)
"RTN","SRSCAN0",37,0)
 I '$P($G(^SRF(SRTN,"CON")),"^") D OERR
"RTN","SRSCAN0",38,0)
 I SRSCAN'="" G:$P(^SRO(135,SRSCAN,0),"^",2)="D" CON
"RTN","SRSCAN0",39,0)
 D:'SRSOUT ^SRSCAN2
"RTN","SRSCAN0",40,0)
CON I '$D(SRSCC),$D(^SRF(SRTN,"CON")),$P(^("CON"),"^")'="" D CANCC^SRSUTL2 Q:SRBOTH="^"!SRSOUT  I SRBOTH=1 G CON1
"RTN","SRSCAN0",41,0)
 I SRCON'=0,SRTNEW'=SRCON K DR S DA=SRTNEW,DIE=130,DR="35////"_SRCON D ^DIE S DA=SRCON,DR="35////"_SRTNEW D ^DIE K DR S SROERR=SRCON D ^SROERR0
"RTN","SRSCAN0",42,0)
 I $G(SRDEAD)=0,$G(SRBOTH)=1,$G(SRSCC)=1 S SROERR=$P(^SRF(SRTN,"CON"),"^") D ^SROERR0 S SROERR=SRTN D ^SROERR0
"RTN","SRSCAN0",43,0)
END D UNLOCK^SROUTL(SRTN),^SRSKILL K SRTN W @IOF
"RTN","SRSCAN0",44,0)
 Q
"RTN","SRSCAN0",45,0)
CON1 I SRDEAD=0 G SWAP2
"RTN","SRSCAN0",46,0)
 K DR S DA=SRTN,DR=".02///@;102///@;235///@;284///@;323///@;18///"_$P(^SRO(135,SRSCAN,0),"^")_";19////"_SRSCOM_";67///"_AVOID_";70////"_DUZ,DIE=130 D ^DIE
"RTN","SRSCAN0",47,0)
 D NOW^%DTC S $P(^SRF(SRTN,30),"^")=$E(%,1,12),$P(^SRF(SRTN,31),"^",4)="",$P(^SRF(SRTN,31),"^",5)=""
"RTN","SRSCAN0",48,0)
OERR ; update ORDER file (100)
"RTN","SRSCAN0",49,0)
 S SROERR=SRTN K SRTX D ^SROERR0
"RTN","SRSCAN0",50,0)
 Q
"RTN","SRSCAN2")
0^47^B12903373^B12532535
"RTN","SRSCAN2",1,0)
SRSCAN2 ;BIR/MAM - MAKE NEW REQUEST WHEN CANCELLED ;08/10/2011
"RTN","SRSCAN2",2,0)
 ;;3.0;Surgery;**3,16,34,67,77,88,92,103,144,176**;24 Jun 93;Build 8
"RTN","SRSCAN2",3,0)
START W !!,"Do you want to create a new request for this cancelled case ??  YES// " R SRYN:DTIME I '$T!(SRYN["^") Q
"RTN","SRSCAN2",4,0)
 S SRYN=$E(SRYN) S:SRYN="" SRYN="Y"
"RTN","SRSCAN2",5,0)
 I "YyNn"'[SRYN W !!,"Enter 'YES' to automatically move the information contained in this scheduled",!,"case to a new request, or 'NO' to not create a new request." G START
"RTN","SRSCAN2",6,0)
 I "Yy"'[SRYN Q
"RTN","SRSCAN2",7,0)
 D NEWDT
"RTN","SRSCAN2",8,0)
DATE W ! K %DT S %DT="AEFX",%DT("A")="Make the new request for which Date ?  ",%DT("B")=SRY D ^%DT I Y<0 S OK=1 D HELP Q:'OK  G DATE
"RTN","SRSCAN2",9,0)
 S SRX=+Y D CHK G:$D(SRLATE) DATE S SRNEWDT=SRX W !!,"Creating the new request..."
"RTN","SRSCAN2",10,0)
 K DA,DIC,DD,DO,DINUM S X=SRSDPT,DIC="^SRF(",DIC(0)="L",DLAYGO=130 D FILE^DICN K DD,DO,DIC,DLAYGO S SRTNEW=+Y
"RTN","SRSCAN2",11,0)
 S %X="^SRF("_SRTOLD_",",%Y="^SRF("_SRTNEW_"," D %XY^%RCR K ^SRF(SRTNEW,"PFSS")
"RTN","SRSCAN2",12,0)
 S SRSOP=$P(^SRF(SRTNEW,"OP"),"^"),SRSCPT=$P(^SRF(SRTNEW,"OP"),"^",2),SRSDOC=$S($D(^SRF(SRTNEW,.1)):$P(^(.1),"^",4),1:"")
"RTN","SRSCAN2",13,0)
 K ^SRF(SRTNEW,31),^SRF(SRTNEW,30) S $P(^SRF(SRTNEW,0),"^",2)=""
"RTN","SRSCAN2",14,0)
 N SREQ D NOW^%DTC S SREQ(130,SRTNEW_",",1.098)=+$E(%,1,12),SREQ(130,SRTNEW_",",1.099)=DUZ D FILE^DIE("","SREQ","^TMP(""SR"",$J)")
"RTN","SRSCAN2",15,0)
 S DR="36////1;Q;.09////"_SRNEWDT_";26////"_SRSOP_";614///@;615///@;617///@",DA=SRTNEW,DIE=130 D ^DIE
"RTN","SRSCAN2",16,0)
 K DR,DA S DR="[SRO-NOCOMP]",DA=SRTNEW,DIE=130 D ^DIE K DR
"RTN","SRSCAN2",17,0)
 K DR S DIE=130,DA=SRTNEW,DR="68////"_SRSOP_";78////"_SRTOLD D ^DIE K DR
"RTN","SRSCAN2",18,0)
 S SRATT=$P($G(^SRF(SRTN,.1)),"^",13)
"RTN","SRSCAN2",19,0)
 K DIE,DR,DA S DIE=130,DA=SRTNEW,DR=".14////"_SRSDOC_";.164////"_SRATT_";.04////"_$P(^SRF(SRTN,0),"^",4) D ^DIE K DR S SRTN=SRTNEW D ^SROXRET
"RTN","SRSCAN2",20,0)
 I $D(^SRF(SRTNEW,"CON")) S DA=SRTNEW,DIE=130,DR="35///@" D ^DIE K DR,DA
"RTN","SRSCAN2",21,0)
 D NOW^%DTC S SRCAN=+$E(%,1,12),DA=SRTOLD,DIE=130,DR=".02///@;17////"_SRCAN_";79////"_SRTNEW D ^DIE K DR
"RTN","SRSCAN2",22,0)
 S $P(^SRF(SRTOLD,31),"^",4)="",$P(^(31),"^",5)=""
"RTN","SRSCAN2",23,0)
 S SRTN=SRTNEW D ^SROERR S SRTN=SRTOLD
"RTN","SRSCAN2",24,0)
 Q
"RTN","SRSCAN2",25,0)
HELP W !!,"To make a new request, you must select a future date.  Do you want to select",!,"another date ?  YES// " R X:DTIME I '$T!(X["^") S OK=0 Q
"RTN","SRSCAN2",26,0)
 S X=$E(X) I "YyNn"'[X W !!,"Enter 'YES' to select another date, or 'NO' to bypass making a new request." G HELP
"RTN","SRSCAN2",27,0)
 I "Yy"'[X S OK=0
"RTN","SRSCAN2",28,0)
 Q
"RTN","SRSCAN2",29,0)
NEWDT ; get six month default date for new request
"RTN","SRSCAN2",30,0)
 S SRX1=$E($P(^SRF(SRTOLD,0),"^",9),1,7),SRX2=182 K SRCHK D DAY S Y=SRX D D^DIQ S SRY=Y
"RTN","SRSCAN2",31,0)
 Q
"RTN","SRSCAN2",32,0)
CHK ; check for valid request date
"RTN","SRSCAN2",33,0)
 N SRSDATE S SRSDATE=SRX K SRLATE D LATE^SRSREQ
"RTN","SRSCAN2",34,0)
 Q
"RTN","SRSCAN2",35,0)
DAY ; get valid default request date
"RTN","SRSCAN2",36,0)
 S X1=SRX1,X2=SRX2 D C^%DTC I X<DT S SRX1=DT,SRX2=1 G DAY
"RTN","SRSCAN2",37,0)
 S SRX=X K DIC S DIC=40.5,DIC(0)="XM" D ^DIC K DIC
"RTN","SRSCAN2",38,0)
 I Y'=-1,'$D(^SRO(133,SRSITE,3,X,0)) S SRX2=SRX2+1 G DAY
"RTN","SRSCAN2",39,0)
 S X=SRX D H^%DTC S SRDAY=%Y+1 S SRDL=$P($G(^SRO(133,SRSITE,2)),"^",SRDAY) S:SRDL="" SRDL=1 I 'SRDL S SRX2=SRX2+1 G DAY
"RTN","SRSCAN2",40,0)
 Q:'$D(SRSITE("REQ"))  S X1=SRX,X2=-SRDL D C^%DTC S SRDTL=X S DIC=40.5,DIC(0)="XM" D ^DIC K DIC I Y'=-1,'$D(^SRO(133,SRSITE,3,X,0)) S SRX2=SRX2+1 G DAY
"RTN","SRSCAN2",41,0)
 S SRTCHK=SRDTL_"."_SRSITE("REQ") D NOW^%DTC I %>SRTCHK S SRX2=SRX2+1 G DAY
"RTN","SRSCAN2",42,0)
 Q
"RTN","SRSLOOK")
1^84^^B12047687
"RTN","SRSLOOK1")
1^85^^B12030802
"RTN","SRTPHRT3")
0^29^B29966365^B25367820
"RTN","SRTPHRT3",1,0)
SRTPHRT3 ;BIR/SJA - HEART-RISK ASSESSMENT INFO ;08/11/2011
"RTN","SRTPHRT3",2,0)
 ;;3.0;Surgery;**167,176**;24 Jun 93;Build 8
"RTN","SRTPHRT3",3,0)
 I '$D(SRTPP) W !!,"A Transplant Assessment must be selected prior to using this option.",!!,"Press <RET> to continue  " R X:DTIME G END
"RTN","SRTPHRT3",4,0)
START Q:SRSOUT  D DISP
"RTN","SRTPHRT3",5,0)
 W !!,"Select Transplant Information to Edit: " R X:DTIME I '$T!(X["^") S SRSOUT=1 G END
"RTN","SRTPHRT3",6,0)
 I X="",SRNOVA D ^SRTPHRT4 G END
"RTN","SRTPHRT3",7,0)
 I X="",'SRNOVA D ^SRTPHRT6 D:'SRSOUT ^SRTPCOM G END
"RTN","SRTPHRT3",8,0)
 S:X="a" X="A" I '$D(SRAO(X)),(X'?.N1":".N),(X'="A") D HELP G:SRSOUT END G START
"RTN","SRTPHRT3",9,0)
 I X?1.2N1":"1.2N S Y=$P(X,":"),Z=$P(X,":",2) I Y<1!(Z>SRX)!(Y>Z) D HELP G:SRSOUT END G START
"RTN","SRTPHRT3",10,0)
 I X="A" S X="1:"_SRX
"RTN","SRTPHRT3",11,0)
 D HDR^SRTPUTL
"RTN","SRTPHRT3",12,0)
 I X?.N1":".N D RANGE G START
"RTN","SRTPHRT3",13,0)
 I $D(SRAO(X)) S SREMIL=X W !! D ONE G START
"RTN","SRTPHRT3",14,0)
END W @IOF
"RTN","SRTPHRT3",15,0)
 Q
"RTN","SRTPHRT3",16,0)
HELP W @IOF,!!!!,"Enter the number or range of numbers you want to edit.  Examples of proper",!,"responses are listed below."
"RTN","SRTPHRT3",17,0)
 W !!,"1. Enter 'A' to update all information.",!!,"2. Enter a number (1-"_SRX_") to update the information in that field.  (For",!,"   example, enter '1' to update "_$S(SRNOVA:"COPD",1:"Inotrope Dependent Pre-TX")_")"
"RTN","SRTPHRT3",18,0)
 W !!,"3. Enter a range of numbers (1-"_SRX_") separated by a ':' to enter a range",!,"   of items.  (For example, enter '1:4' to update items 1, 2, 3 and 4.)",!
"RTN","SRTPHRT3",19,0)
 W !!,"Press <RET> to continue, or '^' to quit  " R X:DTIME I '$T!(X["^") S SRSOUT=1
"RTN","SRTPHRT3",20,0)
 Q
"RTN","SRTPHRT3",21,0)
RANGE ; range of numbers
"RTN","SRTPHRT3",22,0)
 W !! S SRNOMORE=0,SRSHEMP=$P(X,":"),SRCURL=$P(X,":",2) F SREMIL=SRSHEMP:1:SRCURL Q:SRNOMORE  D ONE
"RTN","SRTPHRT3",23,0)
 Q
"RTN","SRTPHRT3",24,0)
ONE ; edit one item
"RTN","SRTPHRT3",25,0)
 K DR,DIE S DA=SRTPP,DR=$S($P(SRAO(SREMIL),"^",2)=145:"145Hypertension",1:$P(SRAO(SREMIL),"^",2)_"T"),DIE=139.5 D ^DIE K DR I $D(Y) S SRNOMORE=1
"RTN","SRTPHRT3",26,0)
 Q
"RTN","SRTPHRT3",27,0)
DISP ; display fields
"RTN","SRTPHRT3",28,0)
 S SRPAGE="PAGE: 3 OF "_$S(SRNOVA:6,1:4),SRHPG="RISK ASSESSMENT INFORMATION" D HDR^SRTPUTL
"RTN","SRTPHRT3",29,0)
 K SRAO,DR S SRQ=0 D TUT^SRTPUTL
"RTN","SRTPHRT3",30,0)
 S:'SRNOVA SRDR="62;149;150;151;59;60;152;108;153;74;115;81;82;109;110;90;83;75;154"
"RTN","SRTPHRT3",31,0)
 S:SRNOVA SRDR="76;169;177;149;173;202;203;175;62;176;74;152;198;199;172;179;178;132;145;150;151;200;201;59;60"
"RTN","SRTPHRT3",32,0)
 K DA,DIC,DIQ,SRX,SRY S DIC="^SRT(",DA=SRTPP,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SRTPHRT3",33,0)
 S (SRX,SRZ)=0 F I=1:1 S SRZ=$P(SRDR,";",I) Q:'SRZ  S SRX=I D
"RTN","SRTPHRT3",34,0)
 .I SRZ=202 S Y=$P(^SRT(SRTPP,.55),"^",28),SRAO(I)=$S(Y=0:"NO CVD",Y=1:"YES/NO SURG",Y=2:"YES/PRIOR SURG",1:"")_"^202" Q
"RTN","SRTPHRT3",35,0)
 .I SRZ=203 S Y=$P(^SRT(SRTPP,.55),"^",29),SRAO(I)=$S(Y=0:"NO CVD",Y=1:"HIST OF TIA'S",Y=2:"CVA W/O NEURO DEF",Y=3:"CVA W/ NEURO DEF",1:"")_"^203" Q
"RTN","SRTPHRT3",36,0)
 .S SRAO(I)=SRY(139.5,SRTPP,SRZ,"E")_"^"_SRZ
"RTN","SRTPHRT3",37,0)
VA I 'SRNOVA D
"RTN","SRTPHRT3",38,0)
 .W !,"1.  Inotrope Dependent Pre-TX:",?31,$P(SRAO(1),"^"),?40,"16. Non-Compliance(Med/Diet):",?71,$P(SRAO(16),"^")
"RTN","SRTPHRT3",39,0)
 .W !,"2.  Amiodarone Use:",?31,$P(SRAO(2),"^"),?40,"17. Recipient Substance Abuse:",?71,$P(SRAO(17),"^")
"RTN","SRTPHRT3",40,0)
 .W !,"3.  Heparin Sensitivity:",?31,$P(SRAO(3),"^"),?40,"18. Liver Disease:",?71,$P(SRAO(18),"^")
"RTN","SRTPHRT3",41,0)
 .W !,"4.  Hyperlipidemia History:",?31,$P(SRAO(4),"^"),?40,"19. Creatinine on Day of TX:",?71,$P(SRAO(19),"^")
"RTN","SRTPHRT3",42,0)
 .W !,"5.  Diabetic Retinopathy:",?31,$P(SRAO(5),"^")
"RTN","SRTPHRT3",43,0)
 .W !,"6.  Diabetic Neuropathy:",?31,$P(SRAO(6),"^")
"RTN","SRTPHRT3",44,0)
 .W !,"7.  Ventricular Tachycardia:",?31,$P(SRAO(7),"^")
"RTN","SRTPHRT3",45,0)
 .W !,"8.  HIV+ (Positive):",?31,$P(SRAO(8),"^")
"RTN","SRTPHRT3",46,0)
 .W !,"9.  Prior Blood Transfusion:",?31,$P(SRAO(9),"^")
"RTN","SRTPHRT3",47,0)
 .W !,"10. Pulmonary Hypertension/Elevated PAP not reversible:",?71,$P(SRAO(10),"^")
"RTN","SRTPHRT3",48,0)
 .W !,"11. Active Infection Immediately Pre-Transplant Req. Antibiotics:",?71,$P(SRAO(11),"^")
"RTN","SRTPHRT3",49,0)
 .W !,"12. History of Pre-Transplant Skin Malignancy:",?71,$P(SRAO(12),"^")
"RTN","SRTPHRT3",50,0)
 .W !,"13. History of Pre-Transplant Other Malignancy:",?71,$P(SRAO(13),"^")
"RTN","SRTPHRT3",51,0)
 .W !,"14. Post-Transplant Prophylaxis for CMV/Anti-Viral Treatment:",?71,$P(SRAO(14),"^")
"RTN","SRTPHRT3",52,0)
 .W !,"15. Post-Transplant Prophylaxis for PCP/Antibiotic Treatment:",?71,$P(SRAO(15),"^")
"RTN","SRTPHRT3",53,0)
NONVA I SRNOVA D
"RTN","SRTPHRT3",54,0)
 .W !,"1.  COPD:",?34,$P(SRAO(1),"^"),?44,"17. Current Diuretic Use:",?77,$J($P(SRAO(17),"^"),3)
"RTN","SRTPHRT3",55,0)
 .W !,"2.  FEV1:",?34,$P(SRAO(2),"^"),?44,"18. Peripheral Vascular Disease: ",$J($P(SRAO(18),"^"),3)
"RTN","SRTPHRT3",56,0)
 .W !,"3.  Current Digoxin Use:",?34,$P(SRAO(3),"^"),?44,"19. Hypertension:",?72,$J($P(SRAO(19),"^"),8)
"RTN","SRTPHRT3",57,0)
 .W !,"4.  Amiodarone Use:",?34,$P(SRAO(4),"^"),?44,"20. Heparin Sensitivity:",?77,$J($P(SRAO(20),"^"),3)
"RTN","SRTPHRT3",58,0)
 .W !,"5.  Number prior heart surgeries:",?34,$P(SRAO(5),"^"),?44,"21. Hyperlipidemia History:",?77,$J($P(SRAO(21),"^"),3)
"RTN","SRTPHRT3",59,0)
 .W !,"6.  CVD Repair/Obstruct: ",?(40-$L($P(SRAO(6),"^"))),$P(SRAO(6),"^"),?44,"22. Diabetes - Long Term:",?73,$J($P(SRAO(22),"^"),7)
"RTN","SRTPHRT3",60,0)
 .W !,"7.  History of CVD: ",?(40-$L($P(SRAO(7),"^"))),$P(SRAO(7),"^"),?44,"23. Diabetes - 2 Wks Preop:",?73,$J($P(SRAO(23),"^"),7)
"RTN","SRTPHRT3",61,0)
 .W !,"8.  CHF (NYHA Functional Class):",?34,$P(SRAO(8),"^"),?44,"24. Diabetes Retinopathy:",?77,$J($P(SRAO(24),"^"),3)
"RTN","SRTPHRT3",62,0)
 .W !,"9.  Inotrope Dependent Pre-TX:",?34,$P(SRAO(9),"^"),?44,"25. Diabetes Neuropathy:",?77,$J($P(SRAO(25),"^"),3)
"RTN","SRTPHRT3",63,0)
 .W !,"10. IV NTG within 48 hours:",?34,$P(SRAO(10),"^")
"RTN","SRTPHRT3",64,0)
 .W !,"11. Pulmonary Hypertension/Elevated PAP: ",$P(SRAO(11),"^")
"RTN","SRTPHRT3",65,0)
 .W !,"12. Ventricular Tachycardia:",?34,$P(SRAO(12),"^")
"RTN","SRTPHRT3",66,0)
 .W !,"13. Tobacco Use:",?21,$J($P(SRAO(13),"^"),21)
"RTN","SRTPHRT3",67,0)
 .W !,"14. Tobacco Use Timeframe:",?28,$P(SRAO(14),"^")
"RTN","SRTPHRT3",68,0)
 .W !,"15. Prior MI:",?34,$P(SRAO(15),"^")
"RTN","SRTPHRT3",69,0)
 .W !,"16. Preop Circulatory Device:",?34,$P(SRAO(16),"^")
"RTN","SRTPHRT3",70,0)
 W !,SRLINE
"RTN","SRTPHRT3",71,0)
 Q
"RTN","SRTPHRT5")
0^81^B16458020^B16172956
"RTN","SRTPHRT5",1,0)
SRTPHRT5 ;BIR/SJA - HEART-OUTCOME INFORMATION ;10/04/2011
"RTN","SRTPHRT5",2,0)
 ;;3.0;Surgery;**167,176**;24 Jun 93;Build 8
"RTN","SRTPHRT5",3,0)
 I '$D(SRTPP) W !!,"A Transplant Assessment must be selected prior to using this option.",!!,"Press <RET> to continue  " R X:DTIME G END
"RTN","SRTPHRT5",4,0)
 N SRX,SRY,SRZ
"RTN","SRTPHRT5",5,0)
START Q:SRSOUT  D DISP
"RTN","SRTPHRT5",6,0)
 W !!,"Select Transplant Information to Edit: " R X:DTIME I '$T!(X["^") S SRSOUT=1 G END
"RTN","SRTPHRT5",7,0)
 I X="" D ^SRTPHRT6 G END
"RTN","SRTPHRT5",8,0)
 S:X="a" X="A" I '$D(SRAO(X)),(X'?.N1":".N),(X'="A") D HELP G:SRSOUT END G START
"RTN","SRTPHRT5",9,0)
 I X?1.2N1":"1.2N S Y=$P(X,":"),Z=$P(X,":",2) I Y<1!(Z>SRX)!(Y>Z) D HELP G:SRSOUT END G START
"RTN","SRTPHRT5",10,0)
 I X="A" S X="1:"_SRX
"RTN","SRTPHRT5",11,0)
 D HDR^SRTPUTL
"RTN","SRTPHRT5",12,0)
 I X?1.2N1":"1.2N D RANGE G START
"RTN","SRTPHRT5",13,0)
 I $D(SRAO(X)),+X=X S SREMIL=X D ONE G START
"RTN","SRTPHRT5",14,0)
END D:'SRSOUT ^SRTPCOM W @IOF
"RTN","SRTPHRT5",15,0)
 Q
"RTN","SRTPHRT5",16,0)
HELP W @IOF,!!!!,"Enter the number or range of numbers you want to edit.  Examples of proper",!,"responses are listed below."
"RTN","SRTPHRT5",17,0)
 W !!,"1. Enter 'A' to update all items.",!!,"2. Enter a number (1-"_SRX_") to update the information in that field.  (For example,",!,"   enter '1' to update Operative Death)"
"RTN","SRTPHRT5",18,0)
 W !!,"3. Enter a range of numbers (1-"_SRX_") separated by a ':' to enter a range",!,"   of items.  (For example, enter '1:4' to update items 1, 2, 3 and 4.)",!
"RTN","SRTPHRT5",19,0)
PRESS W ! K DIR S DIR("A")="Press the return key to continue or '^' to exit: ",DIR(0)="FOA" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SRTPHRT5",20,0)
 Q
"RTN","SRTPHRT5",21,0)
RANGE ; range of numbers
"RTN","SRTPHRT5",22,0)
 S SRNOMORE=0,SRSHEMP=$P(X,":"),SRCURL=$P(X,":",2) F SREMIL=SRSHEMP:1:SRCURL Q:SRNOMORE  D ONE
"RTN","SRTPHRT5",23,0)
 Q
"RTN","SRTPHRT5",24,0)
ONE ; edit one item
"RTN","SRTPHRT5",25,0)
 K DR,DIE S DA=SRTPP,DR=$P(SRAO(SREMIL),"^",2)_"T",DIE=139.5 D ^DIE K DR I $D(Y) S SRNOMORE=1
"RTN","SRTPHRT5",26,0)
 Q
"RTN","SRTPHRT5",27,0)
DISP ; display fields
"RTN","SRTPHRT5",28,0)
 S SRHPG="OUTCOME INFORMATION",SRPAGE="PAGE: "_$S(SRNOVA:"5",1:"")_" OF "_$S(SRNOVA:6,1:"") D HDR^SRTPUTL
"RTN","SRTPHRT5",29,0)
 I $P($G(^SRT(SRTPP,10)),"^",19)="" D
"RTN","SRTPHRT5",30,0)
 .D DEM^VADPT S $P(^SRT(SRTPP,10),"^",19)=$S($P(VADM(6),"^")'="":$E($P(VADM(6),"^"),1,12),1:"NA")
"RTN","SRTPHRT5",31,0)
 K SRAO,DR S SRDR="193;170;192;191;190;119;189;148;118;121;122;130;109;110"
"RTN","SRTPHRT5",32,0)
 K DA,DIC,DIQ,SRX,SRY,SRZ S DIC="^SRT(",DA=SRTPP,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SRTPHRT5",33,0)
 S (SRX,SRZ)=0 F I=1:1 S SRZ=$P(SRDR,";",I) Q:'SRZ  S SRX=I,SRAO(I)=SRY(139.5,SRTPP,SRZ,"E")_"^"_SRZ
"RTN","SRTPHRT5",34,0)
 D OUTNO
"RTN","SRTPHRT5",35,0)
 W !,"1.  Operative Death:",?33,$P(SRAO(1),"^")
"RTN","SRTPHRT5",36,0)
 W !,"2.  Date/Time of Death:",?33,$P(SRAO(2),"^")
"RTN","SRTPHRT5",37,0)
 W !,"3.  Perioperative MI:",?33,$P(SRAO(3),"^")
"RTN","SRTPHRT5",38,0)
 W !,"4.  Renal Failure req. dialysis:",?33,$P(SRAO(4),"^")
"RTN","SRTPHRT5",39,0)
 W !,"5.  Mediastinitis:",?33,$P(SRAO(5),"^")
"RTN","SRTPHRT5",40,0)
 W !,"6.  Cardiac arrest req. CPR:",?33,$P(SRAO(6),"^")
"RTN","SRTPHRT5",41,0)
 W !,"7.  Tracheostomy:",?33,$P(SRAO(7),"^")
"RTN","SRTPHRT5",42,0)
 W !,"8.  Reoperation for Bleeding:",?33,$P(SRAO(8),"^")
"RTN","SRTPHRT5",43,0)
 W !,"9.  On ventilator >= 48 hr:",?33,$P(SRAO(9),"^")
"RTN","SRTPHRT5",44,0)
 W !,"10. Stroke:",?33,$P(SRAO(10),"^")
"RTN","SRTPHRT5",45,0)
 W !,"11. Coma >= 24 hr:",?33,$P(SRAO(11),"^")
"RTN","SRTPHRT5",46,0)
 W !,"12. New Mech Circ Support:",?33,$P(SRAO(12),"^")
"RTN","SRTPHRT5",47,0)
 W !,"13. Post-Tx Prophylaxis for CMV/Anti-Viral Treatment: ",$P(SRAO(13),"^")
"RTN","SRTPHRT5",48,0)
 W !,"14. Post-Tx Prophylaxis for PCP/Antibiotic Treatment: ",$P(SRAO(14),"^")
"RTN","SRTPHRT5",49,0)
 W !!,SRLINE
"RTN","SRTPHRT5",50,0)
 Q
"RTN","SRTPHRT5",51,0)
OUTNO ; defualt empty outcome fields to "NO"
"RTN","SRTPHRT5",52,0)
 K DA,DIE,DR S DR=""
"RTN","SRTPHRT5",53,0)
 S II=0 F  S II=$O(SRAO(II)) Q:'II  S:$P(SRAO(II),"^")="" DR=$S(DR]"":(DR_";"_$P(SRDR,";",II)),1:$P(SRDR,";",II))_"////"_$S($P(SRDR,";",II)=170:"NA",$P(SRDR,";",II)=121:"1",1:"N")
"RTN","SRTPHRT5",54,0)
 S DIE=139.5,DA=SRTPP D ^DIE K DA,DIE,DR
"RTN","SRTPHRT5",55,0)
 K DA,DIC,DIQ,SRX,SRY,SRZ S DIC="^SRT(",DA=SRTPP,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SRTPHRT5",56,0)
 S (SRX,SRZ)=0 F I=1:1 S SRZ=$P(SRDR,";",I) Q:'SRZ  S SRX=I,SRAO(I)=SRY(139.5,SRTPP,SRZ,"E")_"^"_SRZ
"RTN","SRTPHRT5",57,0)
 Q
"RTN","SRTPKID3")
0^37^B22920528^B22087040
"RTN","SRTPKID3",1,0)
SRTPKID3 ;BIR/SJA - KIDNEY-PREOPERATIVE RISK ASSESSMENT ;09/07/2011
"RTN","SRTPKID3",2,0)
 ;;3.0;Surgery;**167,175,176**;24 Jun 93;Build 8
"RTN","SRTPKID3",3,0)
 I '$D(SRTPP) W !!,"A Transplant Assessment must be selected prior to using this option.",!!,"Press <RET> to continue  " R X:DTIME G END
"RTN","SRTPKID3",4,0)
START Q:SRSOUT  D DISP
"RTN","SRTPKID3",5,0)
 W !!,"Select Transplant Information to Edit: " R X:DTIME I '$T!(X["^") S SRSOUT=1 G END
"RTN","SRTPKID3",6,0)
 I X="" D:SRNOVA ^SRTPKID4  D:'SRNOVA ^SRTPDONR G END
"RTN","SRTPKID3",7,0)
 S:X="a" X="A" I '$D(SRAO(X)),(X'?1.2N1":"1.2N),X'="A" D HELP G:SRSOUT END G START
"RTN","SRTPKID3",8,0)
 I X?1.2N1":"1.2N S Y=$P(X,":"),Z=$P(X,":",2) I Y<1!(Z>SRX)!(Y>Z) G:SRSOUT END G START
"RTN","SRTPKID3",9,0)
 I X="A" S X="1:"_SRX
"RTN","SRTPKID3",10,0)
 D HDR^SRTPUTL
"RTN","SRTPKID3",11,0)
 I X?1.2N1":"1.2N D RANGE G START
"RTN","SRTPKID3",12,0)
 I $D(SRAO(X)),+X=X S SREMIL=X D ONE G START
"RTN","SRTPKID3",13,0)
END W @IOF
"RTN","SRTPKID3",14,0)
 Q
"RTN","SRTPKID3",15,0)
HELP W @IOF,!!!!,"Enter the number or range of numbers you want to edit.  Examples of proper",!,"responses are listed below."
"RTN","SRTPKID3",16,0)
 W !!,"1. Enter 'A' to update all items.",!!,"2. Enter a number (1-"_SRX_") to update the information in that group. (For example,",!," enter '1' to update "_$S(SRNOVA:"Diabetes Mellitus",1:"Diabetic Retinopathy")_")"
"RTN","SRTPKID3",17,0)
 W !!,"3. Enter a range of numbers (1-"_SRX_") separated by a ':' to enter a range",!,"   of items.  (For example, enter '1:4' to update items 1, 2, 3 and 4.)",!
"RTN","SRTPKID3",18,0)
 W ! K DIR S DIR("A")="Press the return key to continue or '^' to exit: ",DIR(0)="FOA" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SRTPKID3",19,0)
 Q
"RTN","SRTPKID3",20,0)
RANGE ; range of numbers
"RTN","SRTPKID3",21,0)
 S SRNOMORE=0,SRSHEMP=$P(X,":"),SRCURL=$P(X,":",2) F SREMIL=SRSHEMP:1:SRCURL Q:SRNOMORE  D ONE
"RTN","SRTPKID3",22,0)
 Q
"RTN","SRTPKID3",23,0)
ONE ; edit one item
"RTN","SRTPKID3",24,0)
 K DR,DIE S DA=SRTPP,DR=$P(SRAO(SREMIL),"^",2)_"T",DIE=139.5 D ^DIE K DR I $D(Y) S SRNOMORE=1
"RTN","SRTPKID3",25,0)
 Q
"RTN","SRTPKID3",26,0)
DISP ; display fields
"RTN","SRTPKID3",27,0)
 S SRHPG="RISK ASSESSMENT",SRPAGE="PAGE: 3 OF "_$S(SRNOVA:6,1:5) D HDR^SRTPUTL
"RTN","SRTPKID3",28,0)
 K DR,SRAO S:SRNOVA SRDR="200;201;59;60;61;75;108;113;80;83;131;115;109;110;92;145;132;146;90"
"RTN","SRTPKID3",29,0)
 S:'SRNOVA SRDR="59;60;61;75;108;113;80;115;90;83;109;110;92;133"
"RTN","SRTPKID3",30,0)
 K DA,DIC,DIQ,SRX,SRY S DIC="^SRT(",DA=SRTPP,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SRTPKID3",31,0)
 S (SRX,SRZ)=0 F I=1:1 S SRZ=$P(SRDR,";",I) Q:'SRZ  S SRX=I,SRAO(I)=SRY(139.5,SRTPP,SRZ,"E")_"^"_SRZ
"RTN","SRTPKID3",32,0)
VA I 'SRNOVA D  W !!,SRLINE Q
"RTN","SRTPKID3",33,0)
 .W !,"1.  Diabetic Retinopathy:",?31,$P(SRAO(1),"^")
"RTN","SRTPKID3",34,0)
 .W !,"2.  Diabetic Neuropathy:",?31,$P(SRAO(2),"^")
"RTN","SRTPKID3",35,0)
 .W !,"3.  Cardiac Disease:",?31,$P(SRAO(3),"^")
"RTN","SRTPKID3",36,0)
 .W !,"4.  Liver Disease:",?31,$P(SRAO(4),"^")
"RTN","SRTPKID3",37,0)
 .W !,"5.  HIV + (positive):",?31,$P(SRAO(5),"^")
"RTN","SRTPKID3",38,0)
 .W !,"6.  Lung Disease:",?31,$P(SRAO(6),"^")
"RTN","SRTPKID3",39,0)
 .W !,"7.  Pre-Transplant Malignancy:",?31,$P(SRAO(7),"^")
"RTN","SRTPKID3",40,0)
 .W !,"8.  Active Infection Immediately Pre-TX req. Antibiotics:",?60,$P(SRAO(8),"^")
"RTN","SRTPKID3",41,0)
 .W !,"9.  Non-Compliance (Med and Diet):",?60,$P(SRAO(9),"^")
"RTN","SRTPKID3",42,0)
 .W !,"10. Recipient Substance Abuse:",?60,$P(SRAO(10),"^")
"RTN","SRTPKID3",43,0)
 .W !,"11. Post-TX Prophylaxis for CMV/Antiviral Treatment:",?60,$P(SRAO(11),"^")
"RTN","SRTPKID3",44,0)
 .W !,"12. Post-TX Prophylaxis for PCP/Antibiotic Treatment:",?60,$P(SRAO(12),"^")
"RTN","SRTPKID3",45,0)
 .W !,"13. Post-TX Prophylaxis for TB/Antimycobacterial Treatment:",?60,$P(SRAO(13),"^")
"RTN","SRTPKID3",46,0)
 .W !,"14. Graft Failure Date:",?31,$P(SRAO(14),"^")
"RTN","SRTPKID3",47,0)
NONVA I SRNOVA D
"RTN","SRTPKID3",48,0)
 .W !,"1.  Diabetes - Long Term:",?28,$J($P(SRAO(1),"^"),6),?37,"16. Hypertension Requiring Meds:",?72,$P(SRAO(16),"^")
"RTN","SRTPKID3",49,0)
 .W !,"2.  Diabetes - 2 Wks Preop:",?28,$J($P(SRAO(2),"^"),6),?37,"17. Peripheral Vascular Disease:",?72,$P(SRAO(17),"^")
"RTN","SRTPKID3",50,0)
 .W !,"3.  Diabetic Retinopathy:",?32,$P(SRAO(3),"^"),?37,"18. Transfusion >4 RBC Units:",?72,$P(SRAO(18),"^")
"RTN","SRTPKID3",51,0)
 .W !,"4.  Diabetic Neuropathy:",?32,$P(SRAO(4),"^"),?37,"19. Non-Compliance (Med and Diet):",?72,$P(SRAO(19),"^")
"RTN","SRTPKID3",52,0)
 .W !,"5.  Cardiac Disease:",?32,$P(SRAO(5),"^")
"RTN","SRTPKID3",53,0)
 .W !,"6.  Liver Disease:",?32,$P(SRAO(6),"^")
"RTN","SRTPKID3",54,0)
 .W !,"7.  HIV + (positive):",?32,$P(SRAO(7),"^")
"RTN","SRTPKID3",55,0)
 .W !,"8.  Lung Disease:",?32,$P(SRAO(8),"^")
"RTN","SRTPKID3",56,0)
 .W !,"9.  Pre-Transplant Malignancy:",?32,$P(SRAO(9),"^")
"RTN","SRTPKID3",57,0)
 .W !,"10. Recipient Substance Abuse:",?32,$P(SRAO(10),"^")
"RTN","SRTPKID3",58,0)
 .W !,"11. Preop Functional Status:",?32,$P(SRAO(11),"^")
"RTN","SRTPKID3",59,0)
 .W !,"12. Active Infection Immediately Pre-Transplant Req. Antibiotics:",?66,$P(SRAO(12),"^")
"RTN","SRTPKID3",60,0)
 .W !,"13. Post-TX Prophylaxis for CMV/Antiviral Treatment:",?66,$P(SRAO(13),"^")
"RTN","SRTPKID3",61,0)
 .W !,"14. Post-TX Prophylaxis for PCP/Antibiotic Treatment:",?66,$P(SRAO(14),"^")
"RTN","SRTPKID3",62,0)
 .W !,"15. Post-TX Prophylaxis for TB/Antimycobacterial Treatment:" S X=$P(SRAO(15),"^") W:$L(X)>3 ?60,X W:$L(X)<4 ?66,X
"RTN","SRTPKID3",63,0)
 W !!,SRLINE
"RTN","SRTPKID3",64,0)
 Q
"RTN","SRTPKID4")
0^80^B14842762^B14562902
"RTN","SRTPKID4",1,0)
SRTPKID4 ;BIR/SJA - KIDNEY-OUTCOME INFORMATION ;10/04/2011
"RTN","SRTPKID4",2,0)
 ;;3.0;Surgery;**167,176**;24 Jun 93;Build 8
"RTN","SRTPKID4",3,0)
 I '$D(SRTPP) W !!,"A Transplant Assessment must be selected prior to using this option.",!!,"Press <RET> to continue  " R X:DTIME G END
"RTN","SRTPKID4",4,0)
START Q:SRSOUT  D DISP
"RTN","SRTPKID4",5,0)
 W !!,"Select Transplant Information to Edit: " R X:DTIME I '$T!(X["^") S SRSOUT=1 G END
"RTN","SRTPKID4",6,0)
 I X="" D ^SRTPDONR G END
"RTN","SRTPKID4",7,0)
 S:X="a" X="A" I '$D(SRAO(X)),(X'?.N1":".N),(X'="A") D HELP G:SRSOUT END G START
"RTN","SRTPKID4",8,0)
 I X?1.2N1":"1.2N S Y=$P(X,":"),Z=$P(X,":",2) I Y<1!(Z>SRX)!(Y>Z) D HELP G:SRSOUT END G START
"RTN","SRTPKID4",9,0)
 I X="A" S X="1:"_SRX
"RTN","SRTPKID4",10,0)
 D HDR^SRTPUTL
"RTN","SRTPKID4",11,0)
 I X?1.2N1":"1.2N D RANGE G START
"RTN","SRTPKID4",12,0)
 I $D(SRAO(X)),+X=X S SREMIL=X D ONE G START
"RTN","SRTPKID4",13,0)
END W @IOF
"RTN","SRTPKID4",14,0)
 Q
"RTN","SRTPKID4",15,0)
HELP W @IOF,!!!!,"Enter the number or range of numbers you want to edit.  Examples of proper",!,"responses are listed below."
"RTN","SRTPKID4",16,0)
 W !!,"1. Enter 'A' to update all items.",!!,"2. Enter a number (1-"_SRX_") to update the information in that field.  (For example,",!,"   enter '1' to update Bleeding/Transfusions)"
"RTN","SRTPKID4",17,0)
 W !!,"3. Enter a range of numbers (1-"_SRX_") separated by a ':' to enter a range",!,"   of items.  (For example, enter '1:4' to update items 1, 2, 3 and 4.)",!
"RTN","SRTPKID4",18,0)
PRESS W ! K DIR S DIR("A")="Press the return key to continue or '^' to exit: ",DIR(0)="FOA" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SRTPKID4",19,0)
 Q
"RTN","SRTPKID4",20,0)
RANGE ; range of numbers
"RTN","SRTPKID4",21,0)
 S SRNOMORE=0,SRSHEMP=$P(X,":"),SRCURL=$P(X,":",2) F SREMIL=SRSHEMP:1:SRCURL Q:SRNOMORE  D ONE
"RTN","SRTPKID4",22,0)
 Q
"RTN","SRTPKID4",23,0)
ONE ; edit one item
"RTN","SRTPKID4",24,0)
 K DR,DIE S DA=SRTPP,DR=$P(SRAO(SREMIL),"^",2)_"T",DIE=139.5 D ^DIE K DR I $D(Y) S SRNOMORE=1
"RTN","SRTPKID4",25,0)
 Q
"RTN","SRTPKID4",26,0)
DISP ; display fields
"RTN","SRTPKID4",27,0)
 S SRHPG="OUTCOME INFORMATION",SRPAGE="PAGE: 4 OF "_$S(SRNOVA:6,1:5) D HDR^SRTPUTL
"RTN","SRTPKID4",28,0)
 K DR,SRAO S (DR,SRDR)="116;117;118;119;192;121;122;123;124;125;126;193;133"
"RTN","SRTPKID4",29,0)
 K DA,DIC,DIQ,SRX,SRY,SRZ S DIC="^SRT(",DA=SRTPP,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SRTPKID4",30,0)
 S (SRX,SRZ)=0 F I=1:1 S SRZ=$P(SRDR,";",I) Q:'SRZ  S SRX=I,SRAO(I)=SRY(139.5,SRTPP,SRZ,"E")_"^"_SRZ
"RTN","SRTPKID4",31,0)
 D OUTNO
"RTN","SRTPKID4",32,0)
 W !," 1. Bleeding/Transfusions:",?35,$P(SRAO(1),"^")
"RTN","SRTPKID4",33,0)
 W !," 2. Pneumonia: ",?35,$P(SRAO(2),"^")
"RTN","SRTPKID4",34,0)
 W !," 3. On Ventilator >48 hours:",?35,$P(SRAO(3),"^")
"RTN","SRTPKID4",35,0)
 W !," 4. Cardiac Arrest Requiring CPR:",?35,$P(SRAO(4),"^")
"RTN","SRTPKID4",36,0)
 W !," 5. Myocardial Infarction:",?35,$P(SRAO(5),"^")
"RTN","SRTPKID4",37,0)
 W !," 6. Stroke/CVA: ",?35,$P(SRAO(6),"^")
"RTN","SRTPKID4",38,0)
 W !," 7. Coma >= 24 hr:",?35,$P(SRAO(7),"^")
"RTN","SRTPKID4",39,0)
 W !," 8. Superficial Incisional SSI:",?35,$P(SRAO(8),"^")
"RTN","SRTPKID4",40,0)
 W !," 9. Deep Incisional SSI:",?35,$P(SRAO(9),"^")
"RTN","SRTPKID4",41,0)
 W !,"10. Systemic Sepsis:",?35,$P(SRAO(10),"^")
"RTN","SRTPKID4",42,0)
 W !,"11. Return to Surgery w/i 30 Days:",?35,$P(SRAO(11),"^")
"RTN","SRTPKID4",43,0)
 W !,"12. Operative Death:",?35,$P(SRAO(12),"^")
"RTN","SRTPKID4",44,0)
 W !,"13. Graft Failure Date:",?35,$P(SRAO(13),"^")
"RTN","SRTPKID4",45,0)
 W !!,SRLINE
"RTN","SRTPKID4",46,0)
 Q
"RTN","SRTPKID4",47,0)
OUTNO ; default empty outcome fields to "NO"
"RTN","SRTPKID4",48,0)
 K DA,DIE,DR S DR=""
"RTN","SRTPKID4",49,0)
 S II=0 F  S II=$O(SRAO(II)) Q:'II  S:$P(SRAO(II),"^")="" DR=$S(DR]"":(DR_";"_$P(SRDR,";",II)),1:$P(SRDR,";",II))_"////"_$S($P(SRDR,";",II)=133:"NS",$P(SRDR,";",II)=121:"1",1:"N")
"RTN","SRTPKID4",50,0)
 S DIE=139.5,DA=SRTPP D ^DIE K DA,DIE,DR
"RTN","SRTPKID4",51,0)
 K DA,DIC,DIQ,SRX,SRY,SRZ S DIC="^SRT(",DA=SRTPP,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SRTPKID4",52,0)
 S (SRX,SRZ)=0 F I=1:1 S SRZ=$P(SRDR,";",I) Q:'SRZ  S SRX=I,SRAO(I)=SRY(139.5,SRTPP,SRZ,"E")_"^"_SRZ
"RTN","SRTPKID4",53,0)
 Q 
"RTN","SRTPLIV4")
0^38^B18271645^B17918147
"RTN","SRTPLIV4",1,0)
SRTPLIV4 ;BIR/SJA - LIVER-RISK ASSESSMENT INFO ;07/12/2011
"RTN","SRTPLIV4",2,0)
 ;;3.0;Surgery;**167,176**;24 Jun 93;Build 8
"RTN","SRTPLIV4",3,0)
 I '$D(SRTPP) W !!,"A Transplant Assessment must be selected prior to using this option.",!!,"Press <RET> to continue  " R X:DTIME G END
"RTN","SRTPLIV4",4,0)
START Q:SRSOUT  D DISP
"RTN","SRTPLIV4",5,0)
 W !!,"Select Transplant Information to Edit: " R X:DTIME I '$T!(X["^") S SRSOUT=1 G END
"RTN","SRTPLIV4",6,0)
 I X="" D:'SRNOVA ^SRTPLIV7 D:SRNOVA ^SRTPLIV5 G END
"RTN","SRTPLIV4",7,0)
 S:X="a" X="A" I '$D(SRAO(X)),(X'?.N1":".N),(X'="A") D HELP G:SRSOUT END G START
"RTN","SRTPLIV4",8,0)
 I X?1.2N1":"1.2N S Y=$P(X,":"),Z=$P(X,":",2) I Y<1!(Z>SRX)!(Y>Z) D HELP G:SRSOUT END G START
"RTN","SRTPLIV4",9,0)
 I X="A" S X="1:"_SRX
"RTN","SRTPLIV4",10,0)
 D HDR^SRTPUTL
"RTN","SRTPLIV4",11,0)
 I X?1.2N1":"1.2N D RANGE G START
"RTN","SRTPLIV4",12,0)
 I $D(SRAO(X)),+X=X S SREMIL=X D ONE G START
"RTN","SRTPLIV4",13,0)
END W @IOF
"RTN","SRTPLIV4",14,0)
 Q
"RTN","SRTPLIV4",15,0)
HELP W @IOF,!!!!,"Enter the number or range of numbers you want to edit.  Examples of proper",!,"responses are listed below."
"RTN","SRTPLIV4",16,0)
 W !!,"1. Enter 'A' to update all items.",!!,"2. Enter a number (1-"_SRX_") to update an individual item.  (For example,",!,"   enter '1' to update Acute or Chronic Encephalopathy)"
"RTN","SRTPLIV4",17,0)
 W !!,"3. Enter a range of numbers (1-"_SRX_") separated by a ':' to enter a range",!,"   of items.  (For example, enter '1:4' to update items 1, 2, 3 and 4.)",!
"RTN","SRTPLIV4",18,0)
 W ! K DIR S DIR("A")="Press the return key to continue or '^' to exit: ",DIR(0)="FOA" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SRTPLIV4",19,0)
 Q
"RTN","SRTPLIV4",20,0)
RANGE ; range of numbers
"RTN","SRTPLIV4",21,0)
 S SRNOMORE=0,SRSHEMP=$P(X,":"),SRCURL=$P(X,":",2) F SREMIL=SRSHEMP:1:SRCURL Q:SRNOMORE  D ONE
"RTN","SRTPLIV4",22,0)
 Q
"RTN","SRTPLIV4",23,0)
ONE ; edit one item
"RTN","SRTPLIV4",24,0)
 K DR,DIE S DA=SRTPP,DR=$P(SRAO(SREMIL),"^",2)_"T",DIE=139.5 D ^DIE K DR I $D(Y) S SRNOMORE=1
"RTN","SRTPLIV4",25,0)
 Q
"RTN","SRTPLIV4",26,0)
DISP ; display fields
"RTN","SRTPLIV4",27,0)
 S SRHPG="RISK ASSESSMENT INFORMATION",SRPAGE="PAGE: 4 OF "_$S(SRNOVA:7,1:5) D HDR^SRTPUTL
"RTN","SRTPLIV4",28,0)
 K DR,SRAO S:'SRNOVA SRDR="86;84;59;60;108;113;114;90;91;78;79;81;82;83;109;110"
"RTN","SRTPLIV4",29,0)
 I SRNOVA S SRDR="86;84;200;201;59;60;113;108;114;90;91;78;79"
"RTN","SRTPLIV4",30,0)
 K DA,DIC,DIQ,SRX,SRY S DIC="^SRT(",DA=SRTPP,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SRTPLIV4",31,0)
 S (SRX,SRZ)=0 F I=1:1 S SRZ=$P(SRDR,";",I) Q:'SRZ  S SRX=I,SRAO(I)=SRY(139.5,SRTPP,SRZ,"E")_"^"_SRZ
"RTN","SRTPLIV4",32,0)
VA I 'SRNOVA D
"RTN","SRTPLIV4",33,0)
 .W !,"1.  Acute or Chronic Encephalopathy:",?52,$P(SRAO(1),"^")
"RTN","SRTPLIV4",34,0)
 .W !,"2.  Active Infection (for PSC):",?52,$P(SRAO(2),"^")
"RTN","SRTPLIV4",35,0)
 .W !,"3.  Diabetic Retinopathy:",?52,$P(SRAO(3),"^")
"RTN","SRTPLIV4",36,0)
 .W !,"4.  Diabetic Neuropathy:",?52,$P(SRAO(4),"^")
"RTN","SRTPLIV4",37,0)
 .W !,"5.  HIV + (positive):",?52,$P(SRAO(5),"^")
"RTN","SRTPLIV4",38,0)
 .W !,"6.  Lung Disease:",?52,$P(SRAO(6),"^")
"RTN","SRTPLIV4",39,0)
 .W !,"7.  Renal impairment:",?52,$P(SRAO(7),"^")
"RTN","SRTPLIV4",40,0)
 .W !,"8.  Non-Compliance (Med and Diet):",?52,$P(SRAO(8),"^")
"RTN","SRTPLIV4",41,0)
 .W !,"9.  On Methadone:",?52,$P(SRAO(9),"^")
"RTN","SRTPLIV4",42,0)
 .W !,"10. Porto Pulmonary Hypertension:",?52,$P(SRAO(10),"^")
"RTN","SRTPLIV4",43,0)
 .W !,"11. Esophageal and/or Gastric Varices:",?52,$P(SRAO(11),"^")
"RTN","SRTPLIV4",44,0)
 .W !,"12. Preop Transplant Skin Malignancy:",?52,$P(SRAO(12),"^")
"RTN","SRTPLIV4",45,0)
 .W !,"13. Other Pre-Transplant Malignancy:",?52,$P(SRAO(13),"^")
"RTN","SRTPLIV4",46,0)
 .W !,"14. Recipient Substance Abuse:",?52,$P(SRAO(14),"^")
"RTN","SRTPLIV4",47,0)
 .W !,"15. Post TX Prophylaxis - CMV/Antiviral Treatment:",?52,$P(SRAO(15),"^")
"RTN","SRTPLIV4",48,0)
 .W !,"16. Post TX Prophylaxis - PCP/Antibiotic Treatment:",?52,$P(SRAO(16),"^")
"RTN","SRTPLIV4",49,0)
NONVA I SRNOVA D
"RTN","SRTPLIV4",50,0)
 .W !,"1.  Acute or Chronic Encephalopathy:",?39,$P(SRAO(1),"^")
"RTN","SRTPLIV4",51,0)
 .W !,"2.  Active Infection (for PSC):",?39,$P(SRAO(2),"^")
"RTN","SRTPLIV4",52,0)
 .W !,"3.  Diabetes - Long Term:",?39,$P(SRAO(3),"^")
"RTN","SRTPLIV4",53,0)
 .W !,"4.  Diabetes - 2 Wks Preop:",?39,$P(SRAO(4),"^")
"RTN","SRTPLIV4",54,0)
 .W !,"5.  Diabetic Retinopathy:",?39,$P(SRAO(5),"^")
"RTN","SRTPLIV4",55,0)
 .W !,"6.  Diabetic Neuropathy:",?39,$P(SRAO(6),"^")
"RTN","SRTPLIV4",56,0)
 .W !,"7.  Lung Disease:",?39,$P(SRAO(7),"^")
"RTN","SRTPLIV4",57,0)
 .W !,"8.  HIV + (positive):",?39,$P(SRAO(8),"^")
"RTN","SRTPLIV4",58,0)
 .W !,"9.  Renal impairment:",?39,$P(SRAO(9),"^")
"RTN","SRTPLIV4",59,0)
 .W !,"10. Non-Compliance (Med and Diet):",?39,$P(SRAO(10),"^")
"RTN","SRTPLIV4",60,0)
 .W !,"11. On Methadone:",?39,$P(SRAO(11),"^")
"RTN","SRTPLIV4",61,0)
 .W !,"12. Porto Pulmonary Hypertension:",?39,$P(SRAO(12),"^")
"RTN","SRTPLIV4",62,0)
 .W !,"13. Esophageal and/or Gastric Varices:",?39,$P(SRAO(13),"^")
"RTN","SRTPLIV4",63,0)
 W !!,SRLINE
"RTN","SRTPLIV4",64,0)
 Q
"RTN","SRTPLIV6")
0^82^B15125679^B14792659
"RTN","SRTPLIV6",1,0)
SRTPLIV6 ;BIR/SJA - LIVER-OUTCOME INFORMATION ;10/04/2011
"RTN","SRTPLIV6",2,0)
 ;;3.0;Surgery;**167,176**;24 Jun 93;Build 8
"RTN","SRTPLIV6",3,0)
 I '$D(SRTPP) W !!,"A Transplant Assessment must be selected prior to using this option.",!!,"Press <RET> to continue  " R X:DTIME G END
"RTN","SRTPLIV6",4,0)
 N SRX,SRY,SRZ
"RTN","SRTPLIV6",5,0)
START Q:SRSOUT  D DISP
"RTN","SRTPLIV6",6,0)
 W !!,"Select Transplant Information to Edit: " R X:DTIME I '$T!(X["^") S SRSOUT=1 G END
"RTN","SRTPLIV6",7,0)
 I X="" D:(SRNOVA&($P(SR("RA"),"^",2)="LI")) ^SRTPLIV7 G END
"RTN","SRTPLIV6",8,0)
 S:X="a" X="A" I '$D(SRAO(X)),(X'?.N1":".N),(X'="A") D HELP G:SRSOUT END G START
"RTN","SRTPLIV6",9,0)
 I X?1.2N1":"1.2N S Y=$P(X,":"),Z=$P(X,":",2) I Y<1!(Z>SRX)!(Y>Z) D HELP G:SRSOUT END G START
"RTN","SRTPLIV6",10,0)
 I X="A" S X="1:"_SRX
"RTN","SRTPLIV6",11,0)
 D HDR^SRTPUTL
"RTN","SRTPLIV6",12,0)
 I X?1.2N1":"1.2N D RANGE G START
"RTN","SRTPLIV6",13,0)
 I $D(SRAO(X)),+X=X S SREMIL=X D ONE G START
"RTN","SRTPLIV6",14,0)
END W @IOF
"RTN","SRTPLIV6",15,0)
 Q
"RTN","SRTPLIV6",16,0)
HELP W @IOF,!!!!,"Enter the number or range of numbers you want to edit.  Examples of proper",!,"responses are listed below."
"RTN","SRTPLIV6",17,0)
 W !!,"1. Enter 'A' to update all items.",!!,"2. Enter a number (1-"_SRX_") to update the information in that field.  (For example,",!,"   enter '1' to update Bleeding/Transfusions)"
"RTN","SRTPLIV6",18,0)
 W !!,"3. Enter a range of numbers (1-"_SRX_") separated by a ':' to enter a range",!,"   of items.  (For example, enter '1:4' to update items 1, 2, 3 and 4.)",!
"RTN","SRTPLIV6",19,0)
PRESS W ! K DIR S DIR("A")="Press the return key to continue or '^' to exit: ",DIR(0)="FOA" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SRTPLIV6",20,0)
 Q
"RTN","SRTPLIV6",21,0)
RANGE ; range of numbers
"RTN","SRTPLIV6",22,0)
 S SRNOMORE=0,SRSHEMP=$P(X,":"),SRCURL=$P(X,":",2) F SREMIL=SRSHEMP:1:SRCURL Q:SRNOMORE  D ONE
"RTN","SRTPLIV6",23,0)
 Q
"RTN","SRTPLIV6",24,0)
ONE ; edit one item
"RTN","SRTPLIV6",25,0)
 K DR,DIE S DA=SRTPP,DR=$P(SRAO(SREMIL),"^",2)_"T",DIE=139.5 D ^DIE K DR I $D(Y) S SRNOMORE=1
"RTN","SRTPLIV6",26,0)
 Q
"RTN","SRTPLIV6",27,0)
DISP ; display fields
"RTN","SRTPLIV6",28,0)
 S SRHPG="OUTCOME INFORMATION",SRPAGE="PAGE: "_$S(SRNOVA:"6",1:"")_" OF "_$S(SRNOVA:7,1:"")
"RTN","SRTPLIV6",29,0)
 I $P(SR("RA"),"^",2)="LU" S SRPAGE="PAGE: "_$S(SRNOVA:"4",1:"")_" OF "_$S(SRNOVA:5,1:"")
"RTN","SRTPLIV6",30,0)
 D HDR^SRTPUTL
"RTN","SRTPLIV6",31,0)
 K DR,SRAO S (DR,SRDR)="116;117;118;119;192;121;122;123;124;125;126;193"
"RTN","SRTPLIV6",32,0)
 K DA,DIC,DIQ,SRX,SRY,SRZ S DIC="^SRT(",DA=SRTPP,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SRTPLIV6",33,0)
 S (SRX,SRZ)=0 F I=1:1 S SRZ=$P(SRDR,";",I) Q:'SRZ  S SRX=I,SRAO(I)=SRY(139.5,SRTPP,SRZ,"E")_"^"_SRZ
"RTN","SRTPLIV6",34,0)
 D OUTNO
"RTN","SRTPLIV6",35,0)
 W !,"1.  Bleeding/Transfusions:",?33,$P(SRAO(1),"^")
"RTN","SRTPLIV6",36,0)
 W !,"2.  Pneumonia:",?33,$P(SRAO(2),"^")
"RTN","SRTPLIV6",37,0)
 W !,"3.  On Ventilator >48 hours:",?33,$P(SRAO(3),"^")
"RTN","SRTPLIV6",38,0)
 W !,"4.  Cardiac Arrest Req. CPR:",?33,$P(SRAO(4),"^")
"RTN","SRTPLIV6",39,0)
 W !,"5.  Myocardial Infarction:",?33,$P(SRAO(5),"^")
"RTN","SRTPLIV6",40,0)
 W !,"6.  Stroke/CVA:",?33,$P(SRAO(6),"^")
"RTN","SRTPLIV6",41,0)
 W !,"7.  Coma >= 24 hr:",?33,$P(SRAO(7),"^")
"RTN","SRTPLIV6",42,0)
 W !,"8.  Superficial Incisional SSI:",?33,$P(SRAO(8),"^")
"RTN","SRTPLIV6",43,0)
 W !,"9.  Deep Incisional SSI:",?33,$P(SRAO(9),"^")
"RTN","SRTPLIV6",44,0)
 W !,"10. Systemic Sepsis:",?33,$P(SRAO(10),"^")
"RTN","SRTPLIV6",45,0)
 W !,"11. Return to Surgery < 30 Days:",?33,$P(SRAO(11),"^")
"RTN","SRTPLIV6",46,0)
 W !,"12. Death within 30 Days:",?33,$P(SRAO(12),"^")
"RTN","SRTPLIV6",47,0)
 W !!,SRLINE
"RTN","SRTPLIV6",48,0)
 Q
"RTN","SRTPLIV6",49,0)
OUTNO ; default empty outcome fields to "NO"
"RTN","SRTPLIV6",50,0)
 K DA,DIE,DR S DR=""
"RTN","SRTPLIV6",51,0)
 S II=0 F  S II=$O(SRAO(II)) Q:'II  S:$P(SRAO(II),"^")="" DR=$S(DR]"":(DR_";"_$P(SRDR,";",II)),1:$P(SRDR,";",II))_"////"_$S($P(SRDR,";",II)=121:"1",1:"N")
"RTN","SRTPLIV6",52,0)
 S DIE=139.5,DA=SRTPP D ^DIE K DA,DIE,DR
"RTN","SRTPLIV6",53,0)
 K DA,DIC,DIQ,SRX,SRY,SRZ S DIC="^SRT(",DA=SRTPP,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SRTPLIV6",54,0)
 S (SRX,SRZ)=0 F I=1:1 S SRZ=$P(SRDR,";",I) Q:'SRZ  S SRX=I,SRAO(I)=SRY(139.5,SRTPP,SRZ,"E")_"^"_SRZ
"RTN","SRTPLIV6",55,0)
 Q
"RTN","SRTPLUN3")
0^39^B23740054^B23312087
"RTN","SRTPLUN3",1,0)
SRTPLUN3 ;BIR/SJA - LUNG-PREOPERATIVE RISK ASSESSMENT ;07/12/2011
"RTN","SRTPLUN3",2,0)
 ;;3.0;Surgery;**167,176**;24 Jun 93;Build 8
"RTN","SRTPLUN3",3,0)
 I '$D(SRTPP) W !!,"A Transplant Assessment must be selected prior to using this option.",!!,"Press <RET> to continue  " R X:DTIME G END
"RTN","SRTPLUN3",4,0)
START Q:SRSOUT  D DISP
"RTN","SRTPLUN3",5,0)
 W !!,"Select Transplant Information to Edit: " R X:DTIME I '$T!(X["^") S SRSOUT=1 G END
"RTN","SRTPLUN3",6,0)
 I X="" D:SRNOVA ^SRTPLIV6 D ^SRTPLUN5 G END
"RTN","SRTPLUN3",7,0)
 S:X="a" X="A" I '$D(SRAO(X)),(X'?.N1":".N),(X'="A") D HELP G:SRSOUT END G START
"RTN","SRTPLUN3",8,0)
 I X?1.2N1":"1.2N S Y=$P(X,":"),Z=$P(X,":",2) I Y<1!(Z>SRX)!(Y>Z) D HELP G:SRSOUT END G START
"RTN","SRTPLUN3",9,0)
 I X="A" S X="1:"_SRX
"RTN","SRTPLUN3",10,0)
 D HDR^SRTPUTL
"RTN","SRTPLUN3",11,0)
 I X?1.2N1":"1.2N D RANGE G START
"RTN","SRTPLUN3",12,0)
 I $D(SRAO(X)),+X=X S SREMIL=X D ONE G START
"RTN","SRTPLUN3",13,0)
END W @IOF
"RTN","SRTPLUN3",14,0)
 Q
"RTN","SRTPLUN3",15,0)
HELP W @IOF,!!!!,"Enter the number or range of numbers you want to edit.  Examples of proper",!,"responses are listed below."
"RTN","SRTPLUN3",16,0)
 W !!,"1. Enter 'A' to update all items.",!!,"2. Enter a number (1-"_SRX_") to update an individual item.  (For example,",!,"   enter '1' to update "_$S(SRNOVA:"Diabetes Mellitus",1:"Diabetic Retinopathy")_")"
"RTN","SRTPLUN3",17,0)
 W !!,"3. Enter a range of numbers (1-"_SRX_") separated by a ':' to enter a range",!,"   of items.  (For example, enter '1:4' to update items 1, 2, 3 and 4.)",!
"RTN","SRTPLUN3",18,0)
 I $D(SRFLG) W !,"4. Enter 'N' or 'NO' to enter negative response for all items.",!!,"5. Enter '@' to delete information from all items.",!
"RTN","SRTPLUN3",19,0)
PRESS W ! K DIR S DIR("A")="Press the return key to continue or '^' to exit: ",DIR(0)="FOA" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SRTPLUN3",20,0)
 Q
"RTN","SRTPLUN3",21,0)
RANGE ; range of numbers
"RTN","SRTPLUN3",22,0)
 S SRNOMORE=0,SRSHEMP=$P(X,":"),SRCURL=$P(X,":",2) F SREMIL=SRSHEMP:1:SRCURL Q:SRNOMORE  D ONE
"RTN","SRTPLUN3",23,0)
 Q
"RTN","SRTPLUN3",24,0)
ONE ; edit one item
"RTN","SRTPLUN3",25,0)
 K DR,DIE S DA=SRTPP,DR=$P(SRAO(SREMIL),"^",2)_"T",DIE=139.5 D ^DIE K DR I $D(Y) S SRNOMORE=1
"RTN","SRTPLUN3",26,0)
 Q
"RTN","SRTPLUN3",27,0)
DISP ; display fields
"RTN","SRTPLUN3",28,0)
 S SRHPG="PREOPERATIVE RISK ASSESSMENT",SRPAGE="PAGE: 3 OF "_$S(SRNOVA:5,1:4) D HDR^SRTPUTL
"RTN","SRTPLUN3",29,0)
 K DR,SRAO,II
"RTN","SRTPLUN3",30,0)
 S:SRNOVA SRDR="200;201;59;60;71;108;61;75;113;114;131;115;90;83;109;110;145;132;146;80"
"RTN","SRTPLUN3",31,0)
 S:'SRNOVA SRDR="59;60;71;108;61;75;113;114;80;115;90;83;109;110"
"RTN","SRTPLUN3",32,0)
 K DA,DIC,DIQ,SRX,SRY S DIC="^SRT(",DA=SRTPP,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SRTPLUN3",33,0)
 S (SRX,SRZ)=0 F I=1:1 S SRZ=$P(SRDR,";",I) Q:'SRZ  S SRX=I,SRAO(I)=SRY(139.5,SRTPP,SRZ,"E")_"^"_SRZ
"RTN","SRTPLUN3",34,0)
VA I 'SRNOVA D  W !!,SRLINE Q
"RTN","SRTPLUN3",35,0)
 .W !,"1.  Diabetic Retinopathy:",?26,$P(SRAO(1),"^")
"RTN","SRTPLUN3",36,0)
 .W !,"2.  Diabetic Neuropathy:",?26,$P(SRAO(2),"^")
"RTN","SRTPLUN3",37,0)
 .W !,"3.  Elevated PAP:",?26,$P(SRAO(3),"^")
"RTN","SRTPLUN3",38,0)
 .W !,"4.  HIV + (positive):",?26,$P(SRAO(4),"^")
"RTN","SRTPLUN3",39,0)
 .W !,"5.  Cardiac Disease:",?26,$P(SRAO(5),"^")
"RTN","SRTPLUN3",40,0)
 .W !,"6.  Liver Disease:",?26,$P(SRAO(6),"^")
"RTN","SRTPLUN3",41,0)
 .W !,"7.  Lung Disease:",?26,$P(SRAO(7),"^")
"RTN","SRTPLUN3",42,0)
 .W !,"8.  Renal impairment:",?26,$P(SRAO(8),"^")
"RTN","SRTPLUN3",43,0)
 .W !,"9.  H/O Pre-Transplant Malignancy:",?35,$P(SRAO(9),"^")
"RTN","SRTPLUN3",44,0)
 .W !,"10. Active Infection Immediately Pre-TX Requiring Antibiotics:",?63,$P(SRAO(10),"^")
"RTN","SRTPLUN3",45,0)
 .W !,"11. Non-Compliance (Med and Diet):",?63,$P(SRAO(11),"^")
"RTN","SRTPLUN3",46,0)
 .W !,"12. Recipient Substance Abuse:",?63,$P(SRAO(12),"^")
"RTN","SRTPLUN3",47,0)
 .W !,"13. Post Transplant Prophylaxis for CMV/Antiviral Treatment:",?63,$P(SRAO(13),"^")
"RTN","SRTPLUN3",48,0)
 .W !,"14. Post Transplant Prophylaxis for PCP/Antibiotic Treatment:",?63,$P(SRAO(14),"^")
"RTN","SRTPLUN3",49,0)
NONVA I SRNOVA D
"RTN","SRTPLUN3",50,0)
 .W !,"1.  Diabetes - Long Term:",?29,$P(SRAO(1),"^"),?38,"17. Hypertension Requiring Meds:",?71,$P(SRAO(17),"^")
"RTN","SRTPLUN3",51,0)
 .W !,"2.  Diabetes - 2 Wks Preop:",?29,$P(SRAO(2),"^"),?38,"18. Peripheral Vascular Disease:",?71,$P(SRAO(18),"^")
"RTN","SRTPLUN3",52,0)
 .W !,"3.  Diabetic Retinopathy:",?29,$P(SRAO(3),"^"),?38,"19. Transfusion >4 RBC Units:",?71,$P(SRAO(19),"^")
"RTN","SRTPLUN3",53,0)
 .W !,"4.  Diabetic Neuropathy:",?29,$P(SRAO(4),"^"),?38,"20. Pre-Transplant Malignancy:",?71,$P(SRAO(20),"^")
"RTN","SRTPLUN3",54,0)
 .W !,"5.  Elevated PAP:",?29,$P(SRAO(5),"^")
"RTN","SRTPLUN3",55,0)
 .W !,"6.  HIV + (positive):",?29,$P(SRAO(6),"^")
"RTN","SRTPLUN3",56,0)
 .W !,"7.  Cardiac Disease:",?29,$P(SRAO(7),"^")
"RTN","SRTPLUN3",57,0)
 .W !,"8.  Liver Disease:",?29,$P(SRAO(8),"^")
"RTN","SRTPLUN3",58,0)
 .W !,"9.  Lung Disease: ",?29,$P(SRAO(9),"^")
"RTN","SRTPLUN3",59,0)
 .W !,"10. Renal impairment:",?29,$P(SRAO(10),"^")
"RTN","SRTPLUN3",60,0)
 .W !,"11. Preop Functional Status:",?29,$P(SRAO(11),"^")
"RTN","SRTPLUN3",61,0)
 .W !,"12. Active Infection Immediately Pre-TX Requiring Antibiotics:",?64,$P(SRAO(12),"^")
"RTN","SRTPLUN3",62,0)
 .W !,"13. Non-Compliance (Med and Diet):",?64,$P(SRAO(13),"^")
"RTN","SRTPLUN3",63,0)
 .W !,"14. Recipient Substance Abuse:",?64,$P(SRAO(14),"^")
"RTN","SRTPLUN3",64,0)
 .W !,"15. Post Transplant Prophylaxis for CMV/Antiviral Treatment:",?64,$P(SRAO(15),"^")
"RTN","SRTPLUN3",65,0)
 .W !,"16. Post Transplant Prophylaxis for PCP/Antibiotic Treatment:",?64,$P(SRAO(16),"^")
"RTN","SRTPLUN3",66,0)
 W !!,SRLINE
"RTN","SRTPLUN3",67,0)
 Q
"RTN","SRTPRH1")
0^30^B19779584^B16256742
"RTN","SRTPRH1",1,0)
SRTPRH1 ;BIR/SJA - PRINT HEART RISK ASSESSMENT INFO ;07/20/2011
"RTN","SRTPRH1",2,0)
 ;;3.0;Surgery;**167,176**;24 Jun 93;Build 8
"RTN","SRTPRH1",3,0)
 W:$E(IOST)="P" ! W !,?28,"RISK ASSESSMENT INFORMATION",!
"RTN","SRTPRH1",4,0)
 K SRAO,SRX,Y,DR
"RTN","SRTPRH1",5,0)
 S:'SRNOVA SRDR="62;149;150;151;59;60;152;108;153;74;115;81;82;109;110;90;83;75;154"
"RTN","SRTPRH1",6,0)
 S:SRNOVA SRDR="76;169;177;149;173;202;203;175;62;176;74;152;198;199;172;179;178;132;145;150;151;200;201;59;60"
"RTN","SRTPRH1",7,0)
 K DA,DIC,DIQ,SRX,SRY S DIC="^SRT(",DA=SRTPP,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SRTPRH1",8,0)
 S (SRX,SRZ)=0 F I=1:1 S SRZ=$P(SRDR,";",I) Q:'SRZ  S SRX=I D
"RTN","SRTPRH1",9,0)
 .I SRZ=202 S Y=$P(^SRT(SRTPP,.55),"^",28),SRAO(I)=$S(Y=0:"NO CVD",Y=1:"YES/NO SURG",Y=2:"YES/PRIOR SURG",1:"")_"^202" Q
"RTN","SRTPRH1",10,0)
 .I SRZ=203 S Y=$P(^SRT(SRTPP,.55),"^",29),SRAO(I)=$S(Y=0:"NO CVD",Y=1:"HIST OF TIA'S",Y=2:"CVA W/O NEURO DEF",Y=3:"CVA W/ NEURO DEF",1:"")_"^203" Q
"RTN","SRTPRH1",11,0)
 .S SRAO(I)=SRY(139.5,SRTPP,SRZ,"E")_"^"_SRZ
"RTN","SRTPRH1",12,0)
VA I 'SRNOVA D
"RTN","SRTPRH1",13,0)
 .W !,"Inotrope Dependent Pre-TX:",?27,$P(SRAO(1),"^"),?40,"Non-Compliance:",?67,$P(SRAO(16),"^")
"RTN","SRTPRH1",14,0)
 .W !,"Amiodarone Use:",?27,$P(SRAO(2),"^"),?40,"Recipient Substance Abuse:",?67,$P(SRAO(17),"^")
"RTN","SRTPRH1",15,0)
 .W !,"Heparin Sensitivity:",?27,$P(SRAO(3),"^"),?40,"Liver Disease:",?67,$P(SRAO(18),"^")
"RTN","SRTPRH1",16,0)
 .W !,"Hyperlipidemia History:",?27,$P(SRAO(4),"^"),?40,"Creatinine on Day of TX:",?67,$P(SRAO(19),"^")
"RTN","SRTPRH1",17,0)
 .W !,"Diabetic Retinopathy:",?27,$P(SRAO(5),"^")
"RTN","SRTPRH1",18,0)
 .W !,"Diabetic Neuropathy:",?27,$P(SRAO(6),"^")
"RTN","SRTPRH1",19,0)
 .W !,"Ventricular Tachycardia:",?27,$P(SRAO(7),"^")
"RTN","SRTPRH1",20,0)
 .W !,"HIV+ (Positive):",?27,$P(SRAO(8),"^")
"RTN","SRTPRH1",21,0)
 .W !,"Prior Blood Transfusion:",?27,$P(SRAO(9),"^")
"RTN","SRTPRH1",22,0)
 .W !,"Pulmonary Hypertension/Elevated PAP not reversible:",?67,$P(SRAO(10),"^")
"RTN","SRTPRH1",23,0)
 .W !,"Active Infection Immediately Pre-Transplant Req. Antibiotics:",?67,$P(SRAO(11),"^")
"RTN","SRTPRH1",24,0)
 .W !,"H/O Pre-Transplant Skin Malignancy:",?67,$P(SRAO(12),"^")
"RTN","SRTPRH1",25,0)
 .W !,"H/O Pre-Transplant Other Malignancy:",?67,$P(SRAO(13),"^")
"RTN","SRTPRH1",26,0)
 .W !,"Post-Tx Prophylaxis for CMV/Anti-Viral Treatment:",?67,$P(SRAO(14),"^")
"RTN","SRTPRH1",27,0)
 .W !,"Post-Tx Prophylaxis for PCP/Antibiotic Treatment:",?67,$P(SRAO(15),"^")
"RTN","SRTPRH1",28,0)
NONVA I SRNOVA D
"RTN","SRTPRH1",29,0)
 .W !,"COPD:",?30,$P(SRAO(1),"^"),?42,"Current Diuretic Use:",?71,$P(SRAO(17),"^")
"RTN","SRTPRH1",30,0)
 .W !,"FEV1:",?30,$P(SRAO(2),"^"),?42,"Peripheral Vascular Disease:",?71,$P(SRAO(18),"^")
"RTN","SRTPRH1",31,0)
 .W !,"Current Digoxin Use:",?30,$P(SRAO(3),"^"),?42,"Hypertension:",?71,$P(SRAO(19),"^")
"RTN","SRTPRH1",32,0)
 .W !,"Amiodarone Use:",?30,$P(SRAO(4),"^"),?42,"Heparin Sensitivity:",?71,$P(SRAO(20),"^")
"RTN","SRTPRH1",33,0)
 .W !,"Number prior heart surgeries:",?30,$P(SRAO(5),"^"),?42,"Hyperlipidemia History:",?71,$P(SRAO(21),"^")
"RTN","SRTPRH1",34,0)
 .W !,"CVD Repair/Obstruct:",?(39-$L($P(SRAO(6),"^"))),$P(SRAO(6),"^"),?42,"Diabetes - Long Term:",?71,$P(SRAO(22),"^")
"RTN","SRTPRH1",35,0)
 .W !,"History of CVD:",?(39-$L($P(SRAO(7),"^"))),$P(SRAO(7),"^"),?42,"Diabetes - 2 Wks Preop:",?71,$P(SRAO(23),"^")
"RTN","SRTPRH1",36,0)
 .W !,"CHF (NYHA Functional Class):",?30,$P(SRAO(8),"^"),?42,"Diabetes Retinopathy:",?71,$P(SRAO(24),"^")
"RTN","SRTPRH1",37,0)
 .W !,"Inotrope Dependent Pre-TX:",?30,$P(SRAO(9),"^"),?42,"Diabetes Neuropathy:",?71,$P(SRAO(25),"^")
"RTN","SRTPRH1",38,0)
 .W !,"IV NTG within 48 hours:",?30,$P(SRAO(10),"^")
"RTN","SRTPRH1",39,0)
 .W !,"Pulmonary Hyper/Elevated PAP:",?30,$P(SRAO(11),"^")
"RTN","SRTPRH1",40,0)
 .W !,"Ventricular Tachycardia:",?30,$P(SRAO(12),"^")
"RTN","SRTPRH1",41,0)
 .W !,"Tobacco Use:",?(39-$L($P(SRAO(13),"^"))),$P(SRAO(13),"^")
"RTN","SRTPRH1",42,0)
 .W !,"Tobacco Use Timeframe: ",?(39-$L($P(SRAO(14),"^"))),$P(SRAO(14),"^")
"RTN","SRTPRH1",43,0)
 .W !,"Prior MI: ",?30,$E($P(SRAO(15),"^"),1,15)
"RTN","SRTPRH1",44,0)
 .W !,"Preop Circulatory Device:",?30,$E($P(SRAO(16),"^"),1,10)
"RTN","SRTPRH1",45,0)
 D:SRNOVA RISK
"RTN","SRTPRH1",46,0)
 I $E(IOST)'="P" D PAGE^SRTPPAS I SRSOUT G END^SRTPPAS
"RTN","SRTPRH1",47,0)
 I $E(IOST)="P" G:SRSOUT END^SRTPPAS I $Y+20>IOSL D PAGE^SRTPPAS I SRSOUT G END^SRTPPAS
"RTN","SRTPRH1",48,0)
 G ^SRTPRH2
"RTN","SRTPRH1",49,0)
 Q
"RTN","SRTPRH1",50,0)
RISK ;
"RTN","SRTPRH1",51,0)
 K DR,SRAO,SRX,Y
"RTN","SRTPRH1",52,0)
 S SRDR="75;154;108;115;81;82;90;83;153"
"RTN","SRTPRH1",53,0)
 K DA,DIC,DIQ,SRX,SRY S DIC="^SRT(",DA=SRTPP,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SRTPRH1",54,0)
 S (SRX,SRZ)=0 F I=1:1 S SRZ=$P(SRDR,";",I) Q:'SRZ  S SRX=I,SRAO(I)=SRY(139.5,SRTPP,SRZ,"E")_"^"_SRZ
"RTN","SRTPRH1",55,0)
 W !,"Liver Disease:",?30,$P(SRAO(1),"^"),?42,"Pre-TX Other Malignancy:",?71,$P(SRAO(6),"^")
"RTN","SRTPRH1",56,0)
 W !,"Creatinine on Day of TX:",?30,$P(SRAO(2),"^"),?42,"Non-Compliance:",?71,$P(SRAO(7),"^")
"RTN","SRTPRH1",57,0)
 W !,"HIV+ (positive):",?30,$P(SRAO(3),"^"),?42,"Recipient Substance Abuse:",?71,$P(SRAO(8),"^")
"RTN","SRTPRH1",58,0)
 W !,"Active Infection Pre-TX:",?30,$P(SRAO(4),"^"),?42,"Prior Blood Transfusion:",?71,$P(SRAO(9),"^")
"RTN","SRTPRH1",59,0)
 W !,"Pre-TX Skin Malignancy:",?30,$P(SRAO(5),"^")
"RTN","SRTPRH1",60,0)
 Q
"RTN","SRTPRH2")
0^33^B10615308^B10583280
"RTN","SRTPRH2",1,0)
SRTPRH2 ;BIR/SJA - PRINT HEART - OUTCOME/DONOR INFORMATION ;07/11/2011
"RTN","SRTPRH2",2,0)
 ;;3.0;Surgery;**167,176**;24 Jun 93;Build 8
"RTN","SRTPRH2",3,0)
 I 'SRNOVA G DONOR
"RTN","SRTPRH2",4,0)
 W !,?28,"OUTCOME INFORMATION",!
"RTN","SRTPRH2",5,0)
 K DR,SRAO,SRX,Y
"RTN","SRTPRH2",6,0)
 S SRDR="193;170;192;191;190;119;189;148;118;121;122;130;109;110"
"RTN","SRTPRH2",7,0)
 K DA,DIC,DIQ,SRX,SRY,SRZ S DIC="^SRT(",DA=SRTPP,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SRTPRH2",8,0)
 S (SRX,SRZ)=0 F I=1:1 S SRZ=$P(SRDR,";",I) Q:'SRZ  S SRX=I,SRAO(I)=SRY(139.5,SRTPP,SRZ,"E")_"^"_SRZ
"RTN","SRTPRH2",9,0)
 W !,"Operative Death:",?29,$P(SRAO(1),"^"),?48,"On ventilator >= 48 hr:",?75,$P(SRAO(9),"^")
"RTN","SRTPRH2",10,0)
 W !,"Date/Time of Death:",?29,$P(SRAO(2),"^"),?48,"Stroke:",?68,$J($P(SRAO(10),"^"),11)
"RTN","SRTPRH2",11,0)
 W !,"Perioperative MI:",?29,$P(SRAO(3),"^"),?48,"Coma >= 24 hr:",?75,$P(SRAO(11),"^")
"RTN","SRTPRH2",12,0)
 W !,"Renal Failure Req. dialysis:",?29,$P(SRAO(4),"^"),?48,"New Mech Circ Support: ",$E($P(SRAO(12),"^"),1,9)
"RTN","SRTPRH2",13,0)
 W !,"Mediastinitis:",?29,$P(SRAO(5),"^"),?48,"Post-Transplant Prophylaxis for"
"RTN","SRTPRH2",14,0)
 W !,"Cardiac Arrest Req. CPR:",?29,$P(SRAO(6),"^"),?48," CMV/Anti-Viral Treatment:",?75,$P(SRAO(13),"^")
"RTN","SRTPRH2",15,0)
 W !,"Tracheostomy:",?29,$P(SRAO(7),"^"),?48," PCP/Antibiotic Treatment:",?75,$P(SRAO(14),"^")
"RTN","SRTPRH2",16,0)
 W !,"Reoperation for Bleeding:",?29,$P(SRAO(8),"^")
"RTN","SRTPRH2",17,0)
 I $E(IOST)'="P" D PAGE^SRTPPAS I SRSOUT G END^SRTPPAS
"RTN","SRTPRH2",18,0)
 I $E(IOST)="P" G:SRSOUT END^SRTPPAS I $Y+20>IOSL D PAGE^SRTPPAS I SRSOUT G END^SRTPPAS
"RTN","SRTPRH2",19,0)
DONOR W !!,?28,"DONOR INFORMATION",!
"RTN","SRTPRH2",20,0)
 K DR,SRAO,SRX,Y
"RTN","SRTPRH2",21,0)
 S (DR,SRDR)="45;31;36;70;46;48;49;77;69;104;64;65;66;73;67;72" S SRAO(1)=""
"RTN","SRTPRH2",22,0)
 K DA,DIC,DIQ,SRX,SRY,SRZ S DIC="^SRT(",DA=SRTPP,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SRTPRH2",23,0)
 S (SRX,SRZ)=0 F I=1:1 S SRZ=$P(SRDR,";",I) Q:'SRZ  S SRX=I,SRAO(I+1)=SRY(139.5,SRTPP,SRZ,"E")_"^"_SRZ
"RTN","SRTPRH2",24,0)
 ; race information
"RTN","SRTPRH2",25,0)
 K SRY,SRZ S DIC="^SRT(",DR=44,DA=SRTPP,DR(139.544)=".01"
"RTN","SRTPRH2",26,0)
 S (II,JJ)=0 F  S II=$O(^SRT(SRTPP,44,II)) Q:'II  S SRACE=$G(^SRT(SRTPP,44,II,0)) D  K SRY
"RTN","SRTPRH2",27,0)
 .S DA(139.544)=II,DIQ="SRY",DIQ(0)="E" D EN^DIQ1
"RTN","SRTPRH2",28,0)
 .S JJ=JJ+1,SRZ(139.544,JJ)=SRACE_"^"_$G(SRY(139.544,II,.01,"E")),SRZ(139.544)=JJ
"RTN","SRTPRH2",29,0)
 D RACE^SRTPDONR
"RTN","SRTPRH2",30,0)
 W !,"Donor Race:" S SRAO(1)="" I $G(SRZ(139.544)) F D=1:1:SRNUM1-1 W:D=1 ?17,SROL(D) W:D'=1 !,?17,SROL(D)
"RTN","SRTPRH2",31,0)
 W !,"Donor Gender:",?17,$P(SRAO(2),"^")
"RTN","SRTPRH2",32,0)
 W !,"Donor Height:",?17,$P(SRAO(3),"^")
"RTN","SRTPRH2",33,0)
 W !,"Donor Weight:",?17,$P(SRAO(4),"^")
"RTN","SRTPRH2",34,0)
 W !,"Donor DOB:",?17,$P(SRAO(5),"^"),?45,"Donor HLA-A:  ",$P(SRAO(12),"^")
"RTN","SRTPRH2",35,0)
 W !,"Donor Age:",?17,$P(SRAO(6),"^"),?45,"Donor HLA-B:  ",$P(SRAO(13),"^")
"RTN","SRTPRH2",36,0)
 W !,"ABO Blood Type:",?17,$P(SRAO(7),"^"),?45,"Donor HLA-C:  ",$P(SRAO(14),"^")
"RTN","SRTPRH2",37,0)
 W !,"Donor CMV:",?17,$P(SRAO(8),"^"),?45,"Donor HLA-DR: ",$P(SRAO(15),"^")
"RTN","SRTPRH2",38,0)
 W !,"Substance Abuse:",?17,$P(SRAO(9),"^"),?45,"Donor HLA-BW: ",$P(SRAO(16),"^")
"RTN","SRTPRH2",39,0)
 W !,"Deceased Donor:",?17,$P($P(SRAO(10),"^"),"("),?45,"Donor HLA-DQ: ",$P(SRAO(17),"^")
"RTN","SRTPRH2",40,0)
 W !,"With Malignancy:",?17,$P(SRAO(11),"^")
"RTN","SRTPRH2",41,0)
 I $E(IOST)="C" W !! K DIR S DIR(0)="FOA",DIR("A")="Press RETURN to continue" D ^DIR K DIR
"RTN","SRTPRH2",42,0)
 G END^SRTPPAS
"RTN","SRTPRK1")
0^40^B17385598^B17028757
"RTN","SRTPRK1",1,0)
SRTPRK1 ;BIR/SJA - PRINT KIDNEY-TRANSPLANT INFO/PREOP RISK ASSESSMENT INFO ;07/12/2011
"RTN","SRTPRK1",2,0)
 ;;3.0;Surgery;**167,175,176**;24 Jun 93;Build 8
"RTN","SRTPRK1",3,0)
TRANS ; print page 2
"RTN","SRTPRK1",4,0)
 W:$E(IOST)="P" ! W !,?28,"KIDNEY TRANSPLANT INFORMATION",!
"RTN","SRTPRK1",5,0)
 K DR,SRAO,SRX,Y
"RTN","SRTPRK1",6,0)
 S SRDR="85;87;89;68;143;144;9;197;13;14;15;17;16;18"
"RTN","SRTPRK1",7,0)
 K DA,DIC,DIQ,SRX,SRY S DIC="^SRT(",DA=SRTPP,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SRTPRK1",8,0)
 S (SRX,SRZ)=0 F I=1:1 S SRZ=$P(SRDR,";",I) Q:'SRZ  S SRX=I,SRAO(I)=SRY(139.5,SRTPP,SRZ,"E")_"^"_SRZ
"RTN","SRTPRK1",9,0)
 W !,"Ischemia Time for Organ (minutes)"
"RTN","SRTPRK1",10,0)
 W !," - Warm Ischemia:",?19,$P(SRAO(1),"^"),?43,"Recipient HLA-A:  ",$P(SRAO(9),"^")
"RTN","SRTPRK1",11,0)
 W !," - Cold Ischemia:",?19,$P(SRAO(2),"^"),?43,"Recipient HLA-B:  ",$P(SRAO(10),"^")
"RTN","SRTPRK1",12,0)
 W !," - Total Ischemia:",?19,$P(SRAO(3),"^"),?43,"Recipient HLA-C:  ",$P(SRAO(11),"^")
"RTN","SRTPRK1",13,0)
 W !,"Crossmatch D/R:",?19,$P(SRAO(4),"^"),?43,"Recipient HLA-DR: ",$P(SRAO(12),"^")
"RTN","SRTPRK1",14,0)
 W !,"PRA at Listing:",?19,$P(SRAO(5),"^"),?43,"Recipient HLA-BW: ",$P(SRAO(13),"^")
"RTN","SRTPRK1",15,0)
 W !,"PRA at Transplant:",?19,$P(SRAO(6),"^"),?43,"Recipient HLA-DQ: ",$P(SRAO(14),"^")
"RTN","SRTPRK1",16,0)
 W !,"IVIG Recipient:",?19,$P(SRAO(7),"^")
"RTN","SRTPRK1",17,0)
 W !,"Plasmapheresis:",?19,$P(SRAO(8),"^"),!
"RTN","SRTPRK1",18,0)
 I $E(IOST)'="P" D PAGE^SRTPPAS I SRSOUT G END^SRTPPAS
"RTN","SRTPRK1",19,0)
 I $E(IOST)="P" G:SRSOUT END^SRTPPAS I $Y+20>IOSL D PAGE^SRTPPAS I SRSOUT G END^SRTPPAS
"RTN","SRTPRK1",20,0)
PREOP ; print page 3
"RTN","SRTPRK1",21,0)
 W !,?28,"RISK ASSESSMENT",!
"RTN","SRTPRK1",22,0)
 K DR,SRAO,SRX,Y
"RTN","SRTPRK1",23,0)
 S:SRNOVA SRDR="200;201;59;60;61;75;108;113;80;83;131;115;109;110;92;145;132;146;90"
"RTN","SRTPRK1",24,0)
 S:'SRNOVA SRDR="59;60;61;75;108;113;80;115;90;83;109;110;92;133"
"RTN","SRTPRK1",25,0)
 K DA,DIC,DIQ,SRX,SRY S DIC="^SRT(",DA=SRTPP,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SRTPRK1",26,0)
 S (SRX,SRZ)=0 F I=1:1 S SRZ=$P(SRDR,";",I) Q:'SRZ  S SRX=I,SRAO(I)=SRY(139.5,SRTPP,SRZ,"E")_"^"_SRZ
"RTN","SRTPRK1",27,0)
VA I 'SRNOVA D
"RTN","SRTPRK1",28,0)
 .W !,"Diabetic Retinopathy:",?29,$P(SRAO(1),"^"),?40,"Non-Compliance (Med and Diet):",?75,$P(SRAO(9),"^")
"RTN","SRTPRK1",29,0)
 .W !,"Diabetic Neuropathy:",?29,$P(SRAO(2),"^"),?40,"Recipient Substance Abuse:",?75,$P(SRAO(10),"^")
"RTN","SRTPRK1",30,0)
 .W !,"Cardiac Disease:",?29,$P(SRAO(3),"^"),?40,"Post Transplant Prophylaxis for"
"RTN","SRTPRK1",31,0)
 .W !,"Liver Disease:",?29,$P(SRAO(4),"^"),?48,"- CMV/Antiviral Treatment: ",$P(SRAO(11),"^")
"RTN","SRTPRK1",32,0)
 .W !,"HIV + (positive):",?29,$P(SRAO(5),"^"),?47,"- PCP/Antibiotic Treatment: ",?66,$P(SRAO(12),"^")
"RTN","SRTPRK1",33,0)
 .W !,"Lung Disease:",?29,$P(SRAO(6),"^"),?41,"- TB/Antimycobacterial Treatment: ",?68,$P(SRAO(13),"^")
"RTN","SRTPRK1",34,0)
 .W !,"Pre-Transplant Malignancy:",?29,$P(SRAO(7),"^"),?40,"Graft Failure Date: ",?66,$P(SRAO(14),"^")
"RTN","SRTPRK1",35,0)
 .W !,"Active Infection Immediately"
"RTN","SRTPRK1",36,0)
 .W !," Pre-Trans Req. Antibiotics:",?29,$P(SRAO(8),"^")
"RTN","SRTPRK1",37,0)
NONVA I SRNOVA D
"RTN","SRTPRK1",38,0)
 .W !,"Diabetes - Long Term:",?29,$P(SRAO(1),"^"),?40,"Hypertension Requiring Meds:",?69,$P(SRAO(16),"^")
"RTN","SRTPRK1",39,0)
 .W !,"Diabetes - 2 Wks Preop:",?29,$P(SRAO(2),"^"),?40,"Peripheral Vascular Disease:",?69,$P(SRAO(17),"^")
"RTN","SRTPRK1",40,0)
 .W !,"Diabetic Retinopathy:",?29,$P(SRAO(3),"^"),?40,"Transfusion >4 RBC Units:",?69,$P(SRAO(18),"^")
"RTN","SRTPRK1",41,0)
 .W !,"Diabetic Neuropathy:",?29,$P(SRAO(4),"^"),?40,"Non-Compliance:",?69,$P(SRAO(19),"^")
"RTN","SRTPRK1",42,0)
 .W !,"Cardiac Disease:",?29,$P(SRAO(5),"^")
"RTN","SRTPRK1",43,0)
 .W !,"Liver Disease:",?29,$P(SRAO(6),"^")
"RTN","SRTPRK1",44,0)
 .W !,"HIV + (positive):",?29,$P(SRAO(7),"^")
"RTN","SRTPRK1",45,0)
 .W !,"Lung Disease:",?29,$P(SRAO(8),"^")
"RTN","SRTPRK1",46,0)
 .W !,"Pre-Transplant Malignancy:",?29,$P(SRAO(9),"^")
"RTN","SRTPRK1",47,0)
 .W !,"Recipient Substance Abuse:",?29,$P(SRAO(10),"^")
"RTN","SRTPRK1",48,0)
 .W !,"Preop Functional Status:",?29,$P(SRAO(11),"^")
"RTN","SRTPRK1",49,0)
 .W !,"Active Infection Immediately Pre-Transplant Req. Antibiotics:",?64,$P(SRAO(12),"^")
"RTN","SRTPRK1",50,0)
 .W !,"Post Transplant Prophylaxis for CMV/Antiviral Treatment:",?64,$P(SRAO(13),"^")
"RTN","SRTPRK1",51,0)
 .W !,"Post Transplant Prophylaxis for PCP/Antibiotic Treatment:",?64,$P(SRAO(14),"^")
"RTN","SRTPRK1",52,0)
 .W !,"Post Transplant Prophylaxis for TB/Antimycobacterial Treatment:",?64,$P(SRAO(15),"^")
"RTN","SRTPRK1",53,0)
 I $E(IOST)'="P" D PAGE^SRTPPAS I SRSOUT G END^SRTPPAS
"RTN","SRTPRK1",54,0)
 I $E(IOST)="P" G:SRSOUT END^SRTPPAS I $Y+20>IOSL D PAGE^SRTPPAS I SRSOUT G END^SRTPPAS
"RTN","SRTPRK1",55,0)
 G ^SRTPRK2
"RTN","SRTPRK1",56,0)
 Q
"RTN","SRTPRLI1")
0^41^B12730267^B12413526
"RTN","SRTPRLI1",1,0)
SRTPRLI1 ;BIR/SJA - PRINT LIVER-DIAGNOSIS/RISK INFORMATION ;07/12/2011
"RTN","SRTPRLI1",2,0)
 ;;3.0;Surgery;**167,175,176**;24 Jun 93;Build 8
"RTN","SRTPRLI1",3,0)
 K DR,SRAO,SRX,Y
"RTN","SRTPRLI1",4,0)
DIAG W:$E(IOST)="P" ! W !,?28,"TRANSPLANT INFORMATION",!
"RTN","SRTPRLI1",5,0)
 S (DR,SRDR)="85;87;89;68;13;14;15;17;16;18"
"RTN","SRTPRLI1",6,0)
 K DA,DIC,DIQ,SRX,SRY,SRZ S DIC="^SRT(",DA=SRTPP,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SRTPRLI1",7,0)
 S (SRX,SRZ)=0 F I=1:1 S SRZ=$P(SRDR,";",I) Q:'SRZ  S SRX=I,SRAO(I)=SRY(139.5,SRTPP,SRZ,"E")_"^"_SRZ
"RTN","SRTPRLI1",8,0)
 W !,"Warm Ischemia time:",?21,$P(SRAO(1),"^")
"RTN","SRTPRLI1",9,0)
 W !,"Cold Ischemia time:",?21,$P(SRAO(2),"^")
"RTN","SRTPRLI1",10,0)
 W !,"Total Ischemia time:",?21,$P(SRAO(3),"^")
"RTN","SRTPRLI1",11,0)
 W !,"Crossmatch D/R:",?21,$P(SRAO(4),"^")
"RTN","SRTPRLI1",12,0)
 W !!,"HLA Typing (#,#,#,#)",!,"===================="
"RTN","SRTPRLI1",13,0)
 W !,"Recipient HLA-A:",?21,$P(SRAO(5),"^")
"RTN","SRTPRLI1",14,0)
 W !,"Recipient HLA-B:",?21,$P(SRAO(6),"^")
"RTN","SRTPRLI1",15,0)
 W !,"Recipient HLA-C:",?21,$P(SRAO(7),"^")
"RTN","SRTPRLI1",16,0)
 W !,"Recipient HLA-DR:",?21,$P(SRAO(8),"^")
"RTN","SRTPRLI1",17,0)
 W !,"Recipient HLA-BW:",?21,$P(SRAO(9),"^")
"RTN","SRTPRLI1",18,0)
 W !,"Recipient HLA-DQ:",?21,$P(SRAO(10),"^")
"RTN","SRTPRLI1",19,0)
 I $E(IOST)'="P" D PAGE^SRTPPAS I SRSOUT G END^SRTPPAS
"RTN","SRTPRLI1",20,0)
 I $E(IOST)="P" G:SRSOUT END^SRTPPAS I $Y+20>IOSL D PAGE^SRTPPAS I SRSOUT G END^SRTPPAS
"RTN","SRTPRLI1",21,0)
RISK K DR,SRAO,SRX,Y
"RTN","SRTPRLI1",22,0)
 W !,?28,"RISK ASSESSMENT INFORMATION",!
"RTN","SRTPRLI1",23,0)
 S:'SRNOVA SRDR="86;84;59;60;108;113;114;90;91;78;79;81;82;83;109;110"
"RTN","SRTPRLI1",24,0)
 I SRNOVA S SRDR="86;84;200;201;59;60;113;108;114;90;91;78;79"
"RTN","SRTPRLI1",25,0)
 K DA,DIC,DIQ,SRX,SRY S DIC="^SRT(",DA=SRTPP,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SRTPRLI1",26,0)
 S (SRX,SRZ)=0 F I=1:1 S SRZ=$P(SRDR,";",I) Q:'SRZ  S SRX=I,SRAO(I)=SRY(139.5,SRTPP,SRZ,"E")_"^"_SRZ
"RTN","SRTPRLI1",27,0)
VA I 'SRNOVA D
"RTN","SRTPRLI1",28,0)
 .W !,"Acute or Chronic Encephalopathy:",?48,$P(SRAO(1),"^")
"RTN","SRTPRLI1",29,0)
 .W !,"Active Infection (for PSC):",?48,$P(SRAO(2),"^")
"RTN","SRTPRLI1",30,0)
 .W !,"Diabetic Retinopathy:",?48,$P(SRAO(3),"^")
"RTN","SRTPRLI1",31,0)
 .W !,"Diabetic Neuropathy:",?48,$P(SRAO(4),"^")
"RTN","SRTPRLI1",32,0)
 .W !,"HIV + (positive):",?48,$P(SRAO(5),"^")
"RTN","SRTPRLI1",33,0)
 .W !,"Lung Disease:",?48,$P(SRAO(6),"^")
"RTN","SRTPRLI1",34,0)
 .W !,"Renal impairment:",?48,$P(SRAO(7),"^")
"RTN","SRTPRLI1",35,0)
 .W !,"Non-Compliance (Med and Diet):",?48,$P(SRAO(8),"^")
"RTN","SRTPRLI1",36,0)
 .W !,"On Methadone:",?48,$P(SRAO(9),"^")
"RTN","SRTPRLI1",37,0)
 .W !,"Porto Pulmonary Hypertension:",?48,$P(SRAO(10),"^")
"RTN","SRTPRLI1",38,0)
 .W !,"Esophageal and/or Gastric Varices:",?48,$P(SRAO(11),"^")
"RTN","SRTPRLI1",39,0)
 .W !,"Preop Transplant Skin Malignancy:",?48,$P(SRAO(12),"^")
"RTN","SRTPRLI1",40,0)
 .W !,"Other Pre-Transplant Malignancy:",?48,$P(SRAO(13),"^")
"RTN","SRTPRLI1",41,0)
 .W !,"Recipient Substance Abuse:",?48,$P(SRAO(14),"^")
"RTN","SRTPRLI1",42,0)
 .W !,"Post TX Prophylaxis - CMV/Antiviral Treatment:",?48,$P(SRAO(15),"^")
"RTN","SRTPRLI1",43,0)
 .W !,"Post TX Prophylaxis - PCP/Antibiotic Treatment:",?48,$P(SRAO(16),"^")
"RTN","SRTPRLI1",44,0)
NONVA I SRNOVA D
"RTN","SRTPRLI1",45,0)
 .W !,"Acute or Chronic Encephalopathy:",?33,$P(SRAO(1),"^")
"RTN","SRTPRLI1",46,0)
 .W !,"Active Infection (for PSC):",?33,$P(SRAO(2),"^")
"RTN","SRTPRLI1",47,0)
 .W !,"Diabetes - Long Term:",?33,$P(SRAO(3),"^")
"RTN","SRTPRLI1",48,0)
 .W !,"Diabetes - 2 Wks Preop:",?33,$P(SRAO(4),"^")
"RTN","SRTPRLI1",49,0)
 .W !,"Diabetic Retinopathy:",?33,$P(SRAO(5),"^")
"RTN","SRTPRLI1",50,0)
 .W !,"Diabetic Neuropathy:",?33,$P(SRAO(6),"^")
"RTN","SRTPRLI1",51,0)
 .W !,"Lung Disease:",?33,$P(SRAO(7),"^")
"RTN","SRTPRLI1",52,0)
 .W !,"HIV + (positive):",?33,$P(SRAO(8),"^")
"RTN","SRTPRLI1",53,0)
 .W !,"Renal impairment:",?33,$P(SRAO(9),"^")
"RTN","SRTPRLI1",54,0)
 .W !,"Non-Compliance:",?33,$P(SRAO(10),"^")
"RTN","SRTPRLI1",55,0)
 .W !,"On Methadone:",?33,$P(SRAO(11),"^")
"RTN","SRTPRLI1",56,0)
 .W !,"Porto Pulmonary Hypertension:",?33,$P(SRAO(12),"^")
"RTN","SRTPRLI1",57,0)
 .W !,"Esophageal - Gastric Varices:",?33,$P(SRAO(13),"^")
"RTN","SRTPRLI1",58,0)
 I $E(IOST)'="P" D PAGE^SRTPPAS I SRSOUT G END^SRTPPAS
"RTN","SRTPRLI1",59,0)
 I $E(IOST)="P" G:SRSOUT END^SRTPPAS I $Y+20>IOSL D PAGE^SRTPPAS I SRSOUT G END^SRTPPAS
"RTN","SRTPRLI1",60,0)
END G ^SRTPRLI2
"RTN","SRTPRLI1",61,0)
 Q
"RTN","SRTPRLU1")
0^42^B10274745^B9976767
"RTN","SRTPRLU1",1,0)
SRTPRLU1 ;BIR/SJA - PRINT LUNG-PREOPERATIVE RISK ASSESSMENT ;07/12/2011
"RTN","SRTPRLU1",2,0)
 ;;3.0;Surgery;**167,176**;24 Jun 93;Build 8
"RTN","SRTPRLU1",3,0)
 K DR,II,SRAO,SRX,Y
"RTN","SRTPRLU1",4,0)
 W:$E(IOST)="P" ! W !,?28,"PREOPERATIVE RISK ASSESSMENT",!
"RTN","SRTPRLU1",5,0)
 S:SRNOVA SRDR="200;201;59;60;71;108;61;75;113;114;131;115;90;83;109;110;145;132;146;80"
"RTN","SRTPRLU1",6,0)
 S:'SRNOVA SRDR="59;60;71;108;61;75;113;114;80;115;90;83;109;110"
"RTN","SRTPRLU1",7,0)
 K DA,DIC,DIQ,SRX,SRY S DIC="^SRT(",DA=SRTPP,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SRTPRLU1",8,0)
 S (SRX,SRZ)=0 F I=1:1 S SRZ=$P(SRDR,";",I) Q:'SRZ  S SRX=I,SRAO(I)=SRY(139.5,SRTPP,SRZ,"E")_"^"_SRZ
"RTN","SRTPRLU1",9,0)
VA I 'SRNOVA D
"RTN","SRTPRLU1",10,0)
 .W !,"Diabetic Retinopathy:",?22,$P(SRAO(1),"^"),?40,"H/O Pre-Trans Malignancy:",?71,$P(SRAO(9),"^")
"RTN","SRTPRLU1",11,0)
 .W !,"Diabetic Neuropathy:",?22,$P(SRAO(2),"^"),?40,"Active Infection Immediately"
"RTN","SRTPRLU1",12,0)
 .W !,"Elevated PAP:",?22,$P(SRAO(3),"^"),?43,"Pre-Trans Req. Antibiotics:",?71,$P(SRAO(10),"^")
"RTN","SRTPRLU1",13,0)
 .W !,"HIV + (positive):",?22,$P(SRAO(4),"^"),?40,"Non-Compliance:",?71,$P(SRAO(11),"^")
"RTN","SRTPRLU1",14,0)
 .W !,"Cardiac Disease:",?22,$P(SRAO(5),"^"),?40,"Recipient Substance Abuse:",?71,$P(SRAO(12),"^")
"RTN","SRTPRLU1",15,0)
 .W !,"Liver Disease:",?22,$P(SRAO(6),"^"),?40,"Post Transplant Prophylaxis for"
"RTN","SRTPRLU1",16,0)
 .W !,"Lung Disease:",?22,$P(SRAO(7),"^"),?40," - CMV/Antiviral Treatment:",?71,$P(SRAO(13),"^")
"RTN","SRTPRLU1",17,0)
 .W !,"Renal impairment:",?22,$P(SRAO(8),"^"),?40," - PCP/Antibiotic Treatment:",?71,$P(SRAO(14),"^")
"RTN","SRTPRLU1",18,0)
NONVA I SRNOVA D
"RTN","SRTPRLU1",19,0)
 .W !,"Diabetes - Long Term:",?25,$P(SRAO(1),"^"),?40,"Hypertension Requiring Meds:",?71,$P(SRAO(17),"^")
"RTN","SRTPRLU1",20,0)
 .W !,"Diabetes - 2 Wks Preop:",?25,$P(SRAO(2),"^"),?40,"Peripheral Vascular Disease:",?71,$P(SRAO(18),"^")
"RTN","SRTPRLU1",21,0)
 .W !,"Diabetic Retinopathy:",?25,$P(SRAO(3),"^"),?40,"Transfusion >4 RBC Units:",?71,$P(SRAO(19),"^")
"RTN","SRTPRLU1",22,0)
 .W !,"Diabetic Neuropathy:",?25,$P(SRAO(4),"^"),?40,"Pre-Trans Malignancy:",?71,$P(SRAO(20),"^")
"RTN","SRTPRLU1",23,0)
 .W !,"Elevated PAP:",?25,$P(SRAO(5),"^")
"RTN","SRTPRLU1",24,0)
 .W !,"HIV + (positive):",?25,$P(SRAO(6),"^")
"RTN","SRTPRLU1",25,0)
 .W !,"Cardiac Disease:",?25,$P(SRAO(7),"^")
"RTN","SRTPRLU1",26,0)
 .W !,"Liver Disease:",?25,$P(SRAO(8),"^")
"RTN","SRTPRLU1",27,0)
 .W !,"Lung Disease:",?25,$P(SRAO(9),"^")
"RTN","SRTPRLU1",28,0)
 .W !,"Renal impairment:",?25,$P(SRAO(10),"^")
"RTN","SRTPRLU1",29,0)
 .W !,"Preop Functional Status:",?25,$P(SRAO(11),"^")
"RTN","SRTPRLU1",30,0)
 .W !,"Active Infection Immediately Pre-Trans Req. Antibiotics:",?71,$P(SRAO(12),"^")
"RTN","SRTPRLU1",31,0)
 .W !,"Non-Compliance (Med and Diet):",?71,$P(SRAO(13),"^")
"RTN","SRTPRLU1",32,0)
 .W !,"Recipient Substance Abuse:",?71,$P(SRAO(14),"^")
"RTN","SRTPRLU1",33,0)
 .W !,"Post Transplant Prophylaxis for CMV/Antiviral Treatment:",?71,$P(SRAO(15),"^")
"RTN","SRTPRLU1",34,0)
 .W !,"Post Transplant Prophylaxis for PCP/Antibiotic Treatment:",?71,$P(SRAO(16),"^")
"RTN","SRTPRLU1",35,0)
 I $E(IOST)'="P" D PAGE^SRTPPAS I SRSOUT G END^SRTPPAS
"RTN","SRTPRLU1",36,0)
 I $E(IOST)="P" G:SRSOUT END^SRTPPAS I $Y+20>IOSL D PAGE^SRTPPAS I SRSOUT G END^SRTPPAS
"RTN","SRTPRLU1",37,0)
 G ^SRTPRLU2
"RTN","SRTPTM1")
0^43^B30165729^B29740948
"RTN","SRTPTM1",1,0)
SRTPTM1 ;BIR/SJA - TRANSPLANT TRANSMISSION ;07/22/2011
"RTN","SRTPTM1",2,0)
 ;;3.0;Surgery;**167,175,176**;24 Jun 93;Build 8
"RTN","SRTPTM1",3,0)
 ;
"RTN","SRTPTM1",4,0)
 N SRDTH,SRPID
"RTN","SRTPTM1",5,0)
 F I=0,.01,.02,.1,.11,.5,.55,1,3,10,11,"RA" S SRA(I)=$G(^SRT(SRTPP,I))
"RTN","SRTPTM1",6,0)
 S DFN=$P(SRA(0),"^") N I D DEM^VADPT S SRANAME=VADM(1),SEX=$P(VADM(5),"^"),Z=$P(VADM(3),"^"),SRSDATE=$E($P(SRA(0),"^",2),1,12),Y=$E(SRSDATE,1,7),AGE=$E(Y,1,3)-$E(Z,1,3)-($E(Y,4,7)<$E(Z,4,7))
"RTN","SRTPTM1",7,0)
 S SRPID=VA("PID"),SRPID=$TR(SRPID,"-","") ; remove hyphens from PID
"RTN","SRTPTM1",8,0)
 S SRDIV=$P($G(^SRT(SRTPP,8)),"^"),SRDIV=$S(SRDIV:$$GET1^DIQ(4,SRDIV,99),1:SRASITE)
"RTN","SRTPTM1",9,0)
 S SRCASE=$P(SRA(0),"^",3),SRTYPE=$P(SRA("RA"),"^",2),SRNOVA=$P(SRA("RA"),"^",5)
"RTN","SRTPTM1",10,0)
LN1 S SRSHEMP="$"_$J(SRASITE,3)_$J(SRTPP,7)_"  1"_DT_$J(AGE,3)_$J(SEX,1)_$J(SRSDATE,7)_$J(SRPID,20)_$J(SRDIV,6)_$J(SRCASE,10)
"RTN","SRTPTM1",11,0)
 S SRSHEMP=SRSHEMP_$J(SRTYPE,2)_$J(SRNOVA,1)_$J($P(SRA(.01),"^",11),6)
"RTN","SRTPTM1",12,0)
 S TMP("SRA",$J,SRAMNUM,SRACNT,0)=SRSHEMP
"RTN","SRTPTM1",13,0)
LN2 S SRSHEMP=$E(SRSHEMP,1,11)_"  2",SRACNT=SRACNT+1
"RTN","SRTPTM1",14,0)
 S SRHD=$P(SRA(0),"^",4) I SRHD["C" S SRH="C",SRHD=$E(SRHD,1,$L(SRHD)-1)
"RTN","SRTPTM1",15,0)
 E  S SRH=" "
"RTN","SRTPTM1",16,0)
 S SRWD=$P(SRA(0),"^",5) I SRWD["K" S SRW="K",SRWD=$E(SRWD,1,$L(SRWD)-1)
"RTN","SRTPTM1",17,0)
 E  S SRW=" "
"RTN","SRTPTM1",18,0)
 S SRSHEMP=SRSHEMP_$J(SRHD,3)_SRH_$J(SRWD,3)_SRW
"RTN","SRTPTM1",19,0)
 S SRSHEMP=SRSHEMP_$J($P(SRA(0),"^",9),1)_$J($P(SRA(0),"^",10),2)_$J($P(SRA(0),"^",12),1)
"RTN","SRTPTM1",20,0)
 S SRSHEMP=SRSHEMP_$J($P(SRA(0),"^",13),19)_$J($P(SRA(0),"^",14),19)
"RTN","SRTPTM1",21,0)
 S SRSHEMP=SRSHEMP_$J($P(VADM(3),"^"),7)
"RTN","SRTPTM1",22,0)
 S TMP("SRA",$J,SRAMNUM,SRACNT,0)=SRSHEMP
"RTN","SRTPTM1",23,0)
LN3 S SRSHEMP=$E(SRSHEMP,1,11)_"  3",SRACNT=SRACNT+1
"RTN","SRTPTM1",24,0)
 S SRSDATE=$P(SRA(0),"^",11) S SRSHEMP=SRSHEMP_$J(SRSDATE,7)_$J($P(SRA(0),"^",19),3)_$J($P(SRA(0),"^",20),3)
"RTN","SRTPTM1",25,0)
 S SRSHEMP=SRSHEMP_$J($P(SRA(0),"^",21),2)_$J($P(SRA(0),"^",22),2)_$J($P(SRA(0),"^",23),2)_$J($P(SRA(.01),"^",10),2)
"RTN","SRTPTM1",26,0)
 S SRSHEMP=SRSHEMP_$J($P(SRA(.01),"^",9),2)_$J($P(SRA(0),"^",8),2)
"RTN","SRTPTM1",27,0)
 S SRSDATE=$P(SRA(.01),"^") S SRSHEMP=SRSHEMP_$J(SRSDATE,7)_$J($P(SRA(.01),"^",2),1)_$J($P(SRA(.01),"^",3),2)_$J($P(SRA(.01),"^",4),2)
"RTN","SRTPTM1",28,0)
 S SRSHEMP=SRSHEMP_$J($P(SRA(.01),"^",5),3)_$J($P(SRA(.01),"^",6),3)_$J($P(SRA(.01),"^",7),5)_$J($P(SRA(.01),"^",8),5)
"RTN","SRTPTM1",29,0)
 F I=24:1:29 S SRSHEMP=SRSHEMP_$J($P(SRA(.55),"^",I),2)
"RTN","SRTPTM1",30,0)
 S TMP("SRA",$J,SRAMNUM,SRACNT,0)=SRSHEMP
"RTN","SRTPTM1",31,0)
LN4 S SRSHEMP=$E(SRSHEMP,1,11)_"  4",SRACNT=SRACNT+1
"RTN","SRTPTM1",32,0)
 S SRSHEMP=SRSHEMP_$J($P(SRA(0),"^",6),3)_$J($P(SRA(0),"^",7),3)
"RTN","SRTPTM1",33,0)
 F I=1:1:11,13:1:24,26,27 S SRSHEMP=SRSHEMP_$J($P(SRA(.1),"^",I),1)
"RTN","SRTPTM1",34,0)
 F I=1:1:14,16:1:23 S SRSHEMP=SRSHEMP_$J($P(SRA(.11),"^",I),1)
"RTN","SRTPTM1",35,0)
 S SRSHEMP=SRSHEMP_$J($P(SRA(.1),"^",12),1)
"RTN","SRTPTM1",36,0)
 S TMP("SRA",$J,SRAMNUM,SRACNT,0)=SRSHEMP
"RTN","SRTPTM1",37,0)
LN5 S SRSHEMP=$E(SRSHEMP,1,11)_"  5",SRACNT=SRACNT+1
"RTN","SRTPTM1",38,0)
 S SRSHEMP=SRSHEMP_$J($P(SRA(.1),"^",25),50) F I=1:1:9 S SRSHEMP=SRSHEMP_$J($P(SRA(.5),"^",I),1)
"RTN","SRTPTM1",39,0)
 S SRSHEMP=SRSHEMP_$J($P(SRA(.5),"^",10),2) F I=11:1:13 S SRSHEMP=SRSHEMP_$J($P(SRA(.5),"^",I),1)
"RTN","SRTPTM1",40,0)
 S TMP("SRA",$J,SRAMNUM,SRACNT,0)=SRSHEMP
"RTN","SRTPTM1",41,0)
LN6 S SRSHEMP=$E(SRSHEMP,1,11)_"  6",SRACNT=SRACNT+1
"RTN","SRTPTM1",42,0)
 F I=14:1:22 S SRSHEMP=SRSHEMP_$J($P(SRA(.5),"^",I),1)
"RTN","SRTPTM1",43,0)
 S SRSHEMP=SRSHEMP_$J($P(SRA(.5),"^",23),2)_$J($P(SRA(.5),"^",25),1)
"RTN","SRTPTM1",44,0)
 F I=1:1:5 S NYUK=$P(SRA(.55),"^",I) D ONE S SRSHEMP=SRSHEMP_$J(MOE,1)
"RTN","SRTPTM1",45,0)
 S SRSHEMP=SRSHEMP_$J($P(SRA(.55),"^",6),2)
"RTN","SRTPTM1",46,0)
 F I=7:1:12 S SRSHEMP=SRSHEMP_$J($P(SRA(.55),"^",I),1)
"RTN","SRTPTM1",47,0)
 S SRSHEMP=SRSHEMP_$J($P(SRA(.55),"^",13),4)_$J($P(SRA(.55),"^",14),3)_$J($P(SRA(.55),"^",15),1)
"RTN","SRTPTM1",48,0)
 S SRSHEMP=SRSHEMP_$J($P(SRA(.55),"^",16),1)_$J($P(SRA(.55),"^",17),2)
"RTN","SRTPTM1",49,0)
 F I=18:1:23 S SRSHEMP=SRSHEMP_$J($P(SRA(.55),"^",I),1)
"RTN","SRTPTM1",50,0)
 S SRHD=$P(SRA(1),"^",2) I SRHD["C" S SRH="C",SRHD=$E(SRHD,1,$L(SRHD)-1)
"RTN","SRTPTM1",51,0)
 E  S SRH=" "
"RTN","SRTPTM1",52,0)
 S SRWD=$P(SRA(1),"^",3) I SRWD["K" S SRW="K",SRWD=$E(SRWD,1,$L(SRWD)-1)
"RTN","SRTPTM1",53,0)
 E  S SRW=" "
"RTN","SRTPTM1",54,0)
 S SRSHEMP=SRSHEMP_$J(SRHD,3)_SRH_$J(SRWD,3)_SRW
"RTN","SRTPTM1",55,0)
 S SRSHEMP=SRSHEMP_$J($P(SRA(1),"^",5),1)_$J($P(SRA(1),"^",6),3)_$J($P(SRA(1),"^",8),2)_$J($P(SRA(1),"^",9),1)
"RTN","SRTPTM1",56,0)
 S TMP("SRA",$J,SRAMNUM,SRACNT,0)=SRSHEMP
"RTN","SRTPTM1",57,0)
LN7 S SRSHEMP=$E(SRSHEMP,1,11)_"  7",SRACNT=SRACNT+1
"RTN","SRTPTM1",58,0)
 F I=10:1:12 S SRSHEMP=SRSHEMP_$J($P(SRA(1),"^",I),19)
"RTN","SRTPTM1",59,0)
 S TMP("SRA",$J,SRAMNUM,SRACNT,0)=SRSHEMP
"RTN","SRTPTM1",60,0)
LN8 S SRSHEMP=$E(SRSHEMP,1,11)_"  8",SRACNT=SRACNT+1
"RTN","SRTPTM1",61,0)
 S SRSHEMP=SRSHEMP_$J($P(SRA(1),"^",14),19)_$J($P(SRA(1),"^",15),19)
"RTN","SRTPTM1",62,0)
 S NYUK=$P(SRA(1),"^",4) D ONE S SRSHEMP=SRSHEMP_MOE
"RTN","SRTPTM1",63,0)
 ;Multiple races for donor
"RTN","SRTPTM1",64,0)
 S SRORCE=0,SRORAC="",SRORACE="",SRORCD=""
"RTN","SRTPTM1",65,0)
 F  S SRORCE=$O(^SRT(SRTPP,44,SRORCE)) Q:'SRORCE  D
"RTN","SRTPTM1",66,0)
 .S SRORAC=$G(^SRT(SRTPP,44,SRORCE,0))
"RTN","SRTPTM1",67,0)
 .S SRORACE=SRORACE_$J(SRORAC,1)
"RTN","SRTPTM1",68,0)
 S TMP("SRA",$J,SRAMNUM,SRACNT,0)=SRSHEMP_SRORACE
"RTN","SRTPTM1",69,0)
LN9 S SRSHEMP=$E(SRSHEMP,1,11)_"  9",SRACNT=SRACNT+1
"RTN","SRTPTM1",70,0)
 S SRSHEMP=SRSHEMP_$J($P(SRA(3),"^",4),4)_$J($P(SRA(3),"^",5),4)_$J($P(SRA(3),"^",6),4)_$J($P(SRA(3),"^",7),1)_$J($P(SRA(1),"^",1),7)
"RTN","SRTPTM1",71,0)
 S NYUK=$J($P(SRA(3),"^"),1) D ONE S SRSHEMP=SRSHEMP_MOE S NYUK=$J($P(SRA(3),"^",2),1) D ONE S SRSHEMP=SRSHEMP_MOE
"RTN","SRTPTM1",72,0)
 S NYUK=$P(SRA(3),"^",3) D ONE S SRSHEMP=SRSHEMP_MOE
"RTN","SRTPTM1",73,0)
 F I=1:1:12 S SRSHEMP=SRSHEMP_$J($P(SRA(10),"^",I),1)
"RTN","SRTPTM1",74,0)
 S SRSHEMP=SRSHEMP_$J($P(SRA(10),"^",13),7) F I=14:1:18 S SRSHEMP=SRSHEMP_$J($P(SRA(10),"^",I),1)
"RTN","SRTPTM1",75,0)
 S SRSHEMP=SRSHEMP_$J($P(SRA(10),"^",19),12)
"RTN","SRTPTM1",76,0)
 S TMP("SRA",$J,SRAMNUM,SRACNT,0)=SRSHEMP
"RTN","SRTPTM1",77,0)
LN10 S SRSHEMP=$E(SRSHEMP,1,11)_" 10",SRACNT=SRACNT+1
"RTN","SRTPTM1",78,0)
 F I=1:1:9 S NYUK=$P(SRA(11),"^",I) D ONE S SRSHEMP=SRSHEMP_$J(MOE,$S(I=2:3,I=3:3,I=5:4,I=6:4,I=7:4,1:1))
"RTN","SRTPTM1",79,0)
 ;Ethnicity contained in VADM(11)
"RTN","SRTPTM1",80,0)
 N SROETCD,SROPTF S SROETCD="",SROPTF=""
"RTN","SRTPTM1",81,0)
 S SROETCD=$P($G(VADM(11,1)),U,1)            ;Ethnicity code
"RTN","SRTPTM1",82,0)
 S SROPTF=$$PTR2CODE^DGUTL4(SROETCD,2,4)     ;PTF Ethnicity code
"RTN","SRTPTM1",83,0)
 S SRSHEMP=SRSHEMP_$J($G(SROPTF),1)   ;Ethnicity
"RTN","SRTPTM1",84,0)
 ;Multiple races contained in VADM(12)
"RTN","SRTPTM1",85,0)
 N SRORAC,SRORCD,SRORCE S SRORCE=0,SRORAC="",SRORACE="",SRORCD=""
"RTN","SRTPTM1",86,0)
 F  S SRORCE=$O(VADM(12,SRORCE)) Q:SRORCE=""  D
"RTN","SRTPTM1",87,0)
 .S SRORAC=$P($G(VADM(12,SRORCE)),U,1)        ;Race code
"RTN","SRTPTM1",88,0)
 .S SRORCD=$$PTR2CODE^DGUTL4(SRORAC,1,4)     ;PTF race code
"RTN","SRTPTM1",89,0)
 .S SRORACE=SRORACE_$J(SRORCD,1)
"RTN","SRTPTM1",90,0)
 S TMP("SRA",$J,SRAMNUM,SRACNT,0)=SRSHEMP_SRORACE
"RTN","SRTPTM1",91,0)
LN11 S SRSHEMP=$E(SRSHEMP,1,11)_" 11",SRACNT=SRACNT+1
"RTN","SRTPTM1",92,0)
 F I=15:1:17 S SRSHEMP=SRSHEMP_$J($P(SRA(0),"^",I),19)
"RTN","SRTPTM1",93,0)
 S TMP("SRA",$J,SRAMNUM,SRACNT,0)=SRSHEMP
"RTN","SRTPTM1",94,0)
LN12 S SRSHEMP=$E(SRSHEMP,1,11)_" 12",SRACNT=SRACNT+1
"RTN","SRTPTM1",95,0)
 ; Transplant Comments field
"RTN","SRTPTM1",96,0)
 S TMP("SRA",$J,SRAMNUM,SRACNT,0)=SRSHEMP_$E($P(SRA(.02),"^"),1,66)
"RTN","SRTPTM1",97,0)
LN13 S SRSHEMP=$E(SRSHEMP,1,11)_" 13",SRACNT=SRACNT+1
"RTN","SRTPTM1",98,0)
 S TMP("SRA",$J,SRAMNUM,SRACNT,0)=SRSHEMP_$E($P(SRA(.02),"^"),67,130)
"RTN","SRTPTM1",99,0)
 D ^SRTPTM2
"RTN","SRTPTM1",100,0)
 Q
"RTN","SRTPTM1",101,0)
ONE S MOE=$S(NYUK="NS":"S",NYUK="":" ",1:NYUK)
"RTN","SRTPTM1",102,0)
 Q
"RTN","SRTPUTL")
0^50^B17836670^B14227738
"RTN","SRTPUTL",1,0)
SRTPUTL ;BIR/SJA - UTILITY ROUTINE ;08/11/2011
"RTN","SRTPUTL",2,0)
 ;;3.0;Surgery;**167,175,176**;24 Jun 93;Build 8
"RTN","SRTPUTL",3,0)
 ;
"RTN","SRTPUTL",4,0)
 ; Reference to EN1^GMRVUT0 supported by DBIA #1446
"RTN","SRTPUTL",5,0)
 ;
"RTN","SRTPUTL",6,0)
ADT ; set 'ADT x-ref
"RTN","SRTPUTL",7,0)
 S SRINVDT=9999999-X S ^SRT("ADT",$P(^SRT(DA,0),"^"),SRINVDT,DA)=X K SRINVDT
"RTN","SRTPUTL",8,0)
 Q
"RTN","SRTPUTL",9,0)
KADT ; kill 'ADT' x-ref
"RTN","SRTPUTL",10,0)
 S SRINVDT=9999999-X K ^SRT("ADT",$P(^SRT(DA,0),"^"),SRINVDT,DA),SRINVDT
"RTN","SRTPUTL",11,0)
 Q
"RTN","SRTPUTL",12,0)
AT ; set logic for AT x-ref on DATE OF LAST TRANSMISSION
"RTN","SRTPUTL",13,0)
 N SRX S ^SRT("AT",X,DA)=""
"RTN","SRTPUTL",14,0)
 S SRX=$P($G(^SRT(DA,"RA")),"^",4) I SRX,SRX'=X K ^SRT("AT",SRX,DA)
"RTN","SRTPUTL",15,0)
 Q
"RTN","SRTPUTL",16,0)
KAT ; kill logic for AT x-ref on DATE OF LAST TRANSMISSION
"RTN","SRTPUTL",17,0)
 N SRX K ^SRT("AT",X,DA)
"RTN","SRTPUTL",18,0)
 S SRX=$P($G(^SRT(DA,"RA")),"^",4) I SRX,SRX'=X K ^SRT("AT",SRX,DA)
"RTN","SRTPUTL",19,0)
 Q
"RTN","SRTPUTL",20,0)
AGE ; set logic of the 'AGE' x-ref on the Donor's Date of Birth
"RTN","SRTPUTL",21,0)
 N DOB,DOT
"RTN","SRTPUTL",22,0)
 S SRTPP=$S($D(SRTPP):SRTPP,1:DA)
"RTN","SRTPUTL",23,0)
 S DOB=$P($G(^SRT(SRTPP,1)),"^"),DOT=$P($G(^SRT(SRTPP,0)),"^",2)
"RTN","SRTPUTL",24,0)
 I DOB&DOT S $P(^SRT(SRTPP,1),"^",6)=(($$FMDIFF^XLFDT(DOT,DOB))\365.25)
"RTN","SRTPUTL",25,0)
 Q
"RTN","SRTPUTL",26,0)
KAGE ; 'KILL' logic of the 'AGE' x-ref on the Date of Birth
"RTN","SRTPUTL",27,0)
 S SRTPP=$S($D(SRTPP):SRTPP,1:DA),$P(^SRT(SRTPP,1),"^",6)=""
"RTN","SRTPUTL",28,0)
 Q
"RTN","SRTPUTL",29,0)
Y Q:'$D(X)  I X'?.N1"Y"&(X'?.N1"y"),(+X'=X) K X Q
"RTN","SRTPUTL",30,0)
 S:X["y" X=+X_"Y"
"RTN","SRTPUTL",31,0)
 Q
"RTN","SRTPUTL",32,0)
HLA ; called by input transform of the HLA TYPING fields
"RTN","SRTPUTL",33,0)
 N SRX S SRX=X K:'(X?.4N.3(1","1.4N)) X S:SRX="NS"!(SRX="ns") X="NS"
"RTN","SRTPUTL",34,0)
 Q
"RTN","SRTPUTL",35,0)
PVR ; called by input transform of the PVR VASODILATION fields
"RTN","SRTPUTL",36,0)
 N SRX,SRY S SRX=X K:+X'=X!(X>9.9)!(X<0)!(X?.E1"."2.N) X S:SRX="NS"!(SRX="ns") X="NS"
"RTN","SRTPUTL",37,0)
 I +DR=163,$P($G(^SRT(SRTPP,.01)),"^",6)="NS" S SRY=1
"RTN","SRTPUTL",38,0)
 I +DR=164,$P($G(^SRT(SRTPP,.01)),"^",5)="NS" S SRY=1
"RTN","SRTPUTL",39,0)
 I $G(SRY)=1,SRX="NS" D EN^DDIOL("'NS' is only allowed in one of the PVR fields!",,"!,?2") K X D RET^SRTPCOM Q
"RTN","SRTPUTL",40,0)
 Q
"RTN","SRTPUTL",41,0)
CHK199 ; check entries of the Tobacco Use Timeframe field (#199) based on the value of the Tobacco Use field.
"RTN","SRTPUTL",42,0)
 S DA=$S($G(SRTPP):SRTPP,1:DA)
"RTN","SRTPUTL",43,0)
 I "123"[X,($P($G(^SRT(DA,.55)),"^",24)<3) D EN^DDIOL("Invalid entry as the TOBACCO USE value is less than three.","","!?2,$C(7)") K X Q
"RTN","SRTPUTL",44,0)
 I X="NA",($P($G(^SRT(DA,.55)),"^",24)>2) D EN^DDIOL("Invalid entry as the TOBACCO USE value is greater than two.","","!?2,$C(7)") K X Q
"RTN","SRTPUTL",45,0)
 Q
"RTN","SRTPUTL",46,0)
TUT ; set default value for tobacco use timeframe
"RTN","SRTPUTL",47,0)
 S X=$G(^SRT(SRTPP,.55)) I $P(X,"^",24)="",$P(X,"^",25)="" S $P(^SRT(SRTPP,.55),"^",25)="NA"
"RTN","SRTPUTL",48,0)
 Q
"RTN","SRTPUTL",49,0)
HW ; get weight & height from Vitals
"RTN","SRTPUTL",50,0)
 N SREND,SREQ,SREX,SREY,SRSTRT
"RTN","SRTPUTL",51,0)
WT I $P($G(^SRT(SRTPP,0)),"^",5)="" D
"RTN","SRTPUTL",52,0)
 .S SREND=$P($G(^SRT(SRTPP,0)),"^",2),SRSTRT=$$FMADD^XLFDT(SREND,-30),SREX=$$HW^SROACL1(SRSTRT,SREND,"WT")
"RTN","SRTPUTL",53,0)
 .I SREX'="" S SREX=SREX+.5\1 D CHK^DIE(139.5,5,"E",SREX,.SREY) I SREY'="^" S $P(^SRT(SRTPP,0),"^",5)=SREY
"RTN","SRTPUTL",54,0)
HT I $P($G(^SRT(SRTPP,0)),"^",4)'="" Q
"RTN","SRTPUTL",55,0)
 N GMRVSTR,SRBRDT,SRBIEN,SRBDATA,SRHTDT
"RTN","SRTPUTL",56,0)
 K ^UTILITY($J,"GMRVD"),RESULTS S SREND=$P($G(^SRT(SRTPP,0)),"^",2),GMRVSTR="HT",GMRVSTR(0)="^"_SREND_"^^0"
"RTN","SRTPUTL",57,0)
 D EN1^GMRVUT0 Q:'$D(^UTILITY($J,"GMRVD"))
"RTN","SRTPUTL",58,0)
 S SRBRDT="",SRBRDT=$O(^UTILITY($J,"GMRVD","HT",SRBRDT)) Q:'SRBRDT  D
"RTN","SRTPUTL",59,0)
 .S SRBIEN=0 F  S SRBIEN=$O(^UTILITY($J,"GMRVD","HT",SRBRDT,SRBIEN)) Q:'SRBIEN  D
"RTN","SRTPUTL",60,0)
 ..S SRBDATA=$G(^UTILITY($J,"GMRVD","HT",SRBRDT,SRBIEN)),SREX=$P(SRBDATA,"^",8)
"RTN","SRTPUTL",61,0)
 ..I SREX'="" S SREX=SREX+.5\1 D CHK^DIE(139.5,4,"E",SREX,.SREY) I SREY'="^" D
"RTN","SRTPUTL",62,0)
 ...S $P(^SRT(SRTPP,0),"^",4)=SREY
"RTN","SRTPUTL",63,0)
 Q
"RTN","SRTPUTL",64,0)
F69(SRTPP) ; restrict selection of DCD & SCD for heart transplant
"RTN","SRTPUTL",65,0)
 N SROK S SROK=1
"RTN","SRTPUTL",66,0)
 I $P($G(^SRT(SRTPP,"RA")),"^",2)="H" I Y=2!(Y=4) S SROK=0
"RTN","SRTPUTL",67,0)
 Q SROK
"RTN","SRTPUTL",68,0)
F147(SRTPP) ; screen out DIET for Lung, Liver, and Kidney
"RTN","SRTPUTL",69,0)
 N SROK S SROK=1
"RTN","SRTPUTL",70,0)
 I $P($G(^SRT(SRTPP,"RA")),"^",2)]"",$P($G(^SRT(SRTPP,"RA")),"^",2)'="H" I Y="D" S SROK=0
"RTN","SRTPUTL",71,0)
 Q SROK
"RTN","SRTPUTL",72,0)
HDR ; print screen header
"RTN","SRTPUTL",73,0)
 W @IOF,!,SRHDR W:$G(SRPAGE)'="" ?(79-$L(SRPAGE)),SRPAGE
"RTN","SRTPUTL",74,0)
 S I=0 F  S I=$O(SRHDR(I)) Q:'I  W !,SRHDR(I) I I=1,$L($G(SRHPG)) W ?(79-$L(SRHPG)),SRHPG
"RTN","SRTPUTL",75,0)
 K SRHPG,SRPAGE W ! F I=1:1:80 W "-"
"RTN","SRTPUTL",76,0)
 W !
"RTN","SRTPUTL",77,0)
 Q
"RTN","SRTPUTL",78,0)
SRHDR N X,I K SRHDR S DFN=$P(^SRT(SRTPP,0),"^"),SRCASE=$P(^SRT(SRTPP,0),"^",3),SRVACO=$P($G(^SRT(SRTPP,.01)),"^",11) D DEM^VADPT
"RTN","SRTPUTL",79,0)
 S SRHDR=VADM(1)_" ("_$P(VA("PID"),"-",3)_")   VACO ID: "_SRVACO_$S('SRNOVA:"   CASE: "_SRCASE,1:"")
"RTN","SRTPUTL",80,0)
 S Y=$P(^SRT(SRTPP,0),"^",2) X ^DD("DD") S SRSDATE=Y
"RTN","SRTPUTL",81,0)
 S I=$P($G(^SRT(SRTPP,"RA")),"^",2),SROPER=$$TR(I)_" TRANSPLANT"
"RTN","SRTPUTL",82,0)
 S SROPER=SROPER S SRHDR(1)=SRSDATE_"   "_SROPER
"RTN","SRTPUTL",83,0)
 Q
"RTN","SRTPUTL",84,0)
TR(SRI) ;
"RTN","SRTPUTL",85,0)
 Q $S(SRI="K":"KIDNEY",SRI="LI":"LIVER",SRI="LU":"LUNG",SRI="H":"HEART",1:"")
"RTN","SRTPUTL4")
0^52^B68822462^B65352553
"RTN","SRTPUTL4",1,0)
SRTPUTL4 ;BIR/SJA - RISK ASSESSMENT UTILITY ;07/20/2011
"RTN","SRTPUTL4",2,0)
 ;;3.0;Surgery;**167,176**;24 Jun 93;Build 8
"RTN","SRTPUTL4",3,0)
 N SRZZ,SRXX,SRX1
"RTN","SRTPUTL4",4,0)
 S SRZ=0 F  S SRZ=$O(SRYY(139.5,SRTPP,SRZ)) Q:'SRZ  D
"RTN","SRTPUTL4",5,0)
 .I $P(SRYY(139.5,SRTPP,SRZ,"I"),"^")="" S SRZ1=$P($G(SRYY(139.5,SRTPP,SRZ,"I")),"^",2) D TR S X=$T(@SRP),SRFLD=$P(X,";;",2),SRX(SRMM,SRZ)=$P(SRFLD,"^",2)_"^"_SRZ1
"RTN","SRTPUTL4",6,0)
 .I $P(SRYY(139.5,SRTPP,SRZ,"I"),"^")="NS" S SRZ1=$P($G(SRYY(139.5,SRTPP,SRZ,"I")),"^",2) D TR S X=$T(@SRP),SRFLD=$P(X,";;",2),SRDT=$P(SRFLD,"^",4) S:SRDT'="" SRLR(SRDT)=""
"RTN","SRTPUTL4",7,0)
 S SRDT=0 F  S SRDT=$O(SRLR(SRDT)) Q:'SRDT  D
"RTN","SRTPUTL4",8,0)
 .S SRZ=0 F  S SRZ=$O(SRX(SRZ)) Q:'SRZ  S SRZ1=0 F  S SRZ1=$O(SRX(SRZ,SRZ1)) Q:'SRZ1  I SRZ1=SRDT K SRX(SRZ,SRZ1)
"RTN","SRTPUTL4",9,0)
 Q
"RTN","SRTPUTL4",10,0)
TR S SRP=SRZ1,SRP=$TR(SRP,"1234567890.","ABCDEFGHIJP")
"RTN","SRTPUTL4",11,0)
 Q
"RTN","SRTPUTL4",12,0)
GET S X=$T(@J)
"RTN","SRTPUTL4",13,0)
 Q
"RTN","SRTPUTL4",14,0)
C ;;3^VACO ID
"RTN","SRTPUTL4",15,0)
D ;;4^Recipient Height^
"RTN","SRTPUTL4",16,0)
E ;;5^Recipient Weight^
"RTN","SRTPUTL4",17,0)
I ;;9^IVIG Recipient^
"RTN","SRTPUTL4",18,0)
AJ ;;10^Recipient ABO Blood Type^
"RTN","SRTPUTL4",19,0)
AA ;;11^Date Placed on Waiting List^
"RTN","SRTPUTL4",20,0)
AB ;;12^Recipient CMV^
"RTN","SRTPUTL4",21,0)
AC ;;13^Recipient HLA-A Typing^
"RTN","SRTPUTL4",22,0)
AD ;;14^Recipient HLA-B Typing^
"RTN","SRTPUTL4",23,0)
AE ;;15^Recipient HLA-C Typing^
"RTN","SRTPUTL4",24,0)
AF ;;16^Recipient HLA-BW Typing^
"RTN","SRTPUTL4",25,0)
AG ;;17^Recipient HLA-DR Typing^
"RTN","SRTPUTL4",26,0)
AH ;;18^Recipient HLA-DQ Typing^
"RTN","SRTPUTL4",27,0)
AI ;;19^Transplant Comments^
"RTN","SRTPUTL4",28,0)
BJ ;;20^Acetaminophen Toxicity^
"RTN","SRTPUTL4",29,0)
BA ;;21^Acute Liver Failure^
"RTN","SRTPUTL4",30,0)
BB ;;22^Lung Cancer^
"RTN","SRTPUTL4",31,0)
BC ;;23^Alcoholic Cirrhosis^
"RTN","SRTPUTL4",32,0)
BD ;;24^Alpha 1 Anti-Trypsin Deficiency^
"RTN","SRTPUTL4",33,0)
BE ;;25^Bronchiectasis^
"RTN","SRTPUTL4",34,0)
BF ;;26^Glomerular Sclerosis/Nephritis^
"RTN","SRTPUTL4",35,0)
BG ;;27^Graft Failure^
"RTN","SRTPUTL4",36,0)
BH ;;28^HBV Cirrhosis (Hepatitis B)^
"RTN","SRTPUTL4",37,0)
BI ;;29^HCC (Hepatocellular CA)^
"RTN","SRTPUTL4",38,0)
CJ ;;30^HCV Cirrhosis (Hepatitis C)^
"RTN","SRTPUTL4",39,0)
CA ;;31^Donor Height^
"RTN","SRTPUTL4",40,0)
CB ;;32^Interstitial Lung Disease^
"RTN","SRTPUTL4",41,0)
CC ;;33^Membranous Nephropathy^
"RTN","SRTPUTL4",42,0)
CD ;;34^Metabolic^
"RTN","SRTPUTL4",43,0)
CE ;;35^NASH ^
"RTN","SRTPUTL4",44,0)
CF ;;36^Donor Weight^
"RTN","SRTPUTL4",45,0)
CG ;;37^Polycystic Disease^
"RTN","SRTPUTL4",46,0)
CH ;;38^Primary Biliary Cholangitis^
"RTN","SRTPUTL4",47,0)
CI ;;39^Primary Sclerosing Cholangitis^
"RTN","SRTPUTL4",48,0)
DJ ;;40^Pulmonary Fibrosis^
"RTN","SRTPUTL4",49,0)
DA ;;41^Pulmonary Hypertension^
"RTN","SRTPUTL4",50,0)
DB ;;42^Renal Cancer^
"RTN","SRTPUTL4",51,0)
DC ;;43^Sarcoidosis^
"RTN","SRTPUTL4",52,0)
DD ;;44^Donor Race^
"RTN","SRTPUTL4",53,0)
DE ;;45^Donor Gender^
"RTN","SRTPUTL4",54,0)
DF ;;46^Donor Age^
"RTN","SRTPUTL4",55,0)
DG ;;47^Biliary Stricture^
"RTN","SRTPUTL4",56,0)
DH ;;48^Donor ABO Blood Type^
"RTN","SRTPUTL4",57,0)
DI ;;49^Donor CMV^
"RTN","SRTPUTL4",58,0)
EJ ;;50^LAS Score at Listing^
"RTN","SRTPUTL4",59,0)
EA ;;51^LAS Score at Transplant^
"RTN","SRTPUTL4",60,0)
EB ;;52^MELD Score at Listing^
"RTN","SRTPUTL4",61,0)
EC ;;53^Biologic MELD score at listing^
"RTN","SRTPUTL4",62,0)
ED ;;54^MELD score at transplant^
"RTN","SRTPUTL4",63,0)
EE ;;55^Biologic MELD score at transplant^
"RTN","SRTPUTL4",64,0)
EF ;;56^Bile Leak^
"RTN","SRTPUTL4",65,0)
EG ;;57^UNOS Status at time of Transplant^
"RTN","SRTPUTL4",66,0)
EH ;;58^UNOS Status at time of Listing^
"RTN","SRTPUTL4",67,0)
EI ;;59^Diabetic Retinopathy^
"RTN","SRTPUTL4",68,0)
FJ ;;60^Diabetic Neuropathy^
"RTN","SRTPUTL4",69,0)
FA ;;61^Cardiac Disease (CAD, AF, EF<50%)^
"RTN","SRTPUTL4",70,0)
FB ;;62^Inotrope Dependent Pre-Transplant^
"RTN","SRTPUTL4",71,0)
FC ;;63^Medical Center Division^
"RTN","SRTPUTL4",72,0)
FD ;;64^Donor HLA-A Typing^
"RTN","SRTPUTL4",73,0)
FE ;;65^Donor HLA-B Typing^
"RTN","SRTPUTL4",74,0)
FF ;;66^Donor HLA-C Typing^
"RTN","SRTPUTL4",75,0)
FG ;;67^Donor HLA-BW Typing^
"RTN","SRTPUTL4",76,0)
FH ;;68^Crossmatch D/R^
"RTN","SRTPUTL4",77,0)
FI ;;69^Deceased Donor^
"RTN","SRTPUTL4",78,0)
GJ ;;70^Donor Date of Birth^
"RTN","SRTPUTL4",79,0)
GA ;;71^Elevated PAP^
"RTN","SRTPUTL4",80,0)
GB ;;72^Donor HLA-DQ Typing^
"RTN","SRTPUTL4",81,0)
GC ;;73^Donor HLA-DR Typing^
"RTN","SRTPUTL4",82,0)
GD ;;74^Pulmonary Hypertension / Elevated PAP^
"RTN","SRTPUTL4",83,0)
GE ;;75^Liver Disease^
"RTN","SRTPUTL4",84,0)
GF ;;76^COPD ^
"RTN","SRTPUTL4",85,0)
GG ;;77^Donor Substance Abuse^
"RTN","SRTPUTL4",86,0)
GH ;;78^Porto Pulmonary Hypertension^
"RTN","SRTPUTL4",87,0)
GI ;;79^History of Bleeding Esophageal and/or Gastric Varices^
"RTN","SRTPUTL4",88,0)
HJ ;;80^Pre-Transplant Malignancy^
"RTN","SRTPUTL4",89,0)
HA ;;81^History of Preop Transplant Skin Malignancy^
"RTN","SRTPUTL4",90,0)
HB ;;82^History of Other Pre-Transplant Malignancy^
"RTN","SRTPUTL4",91,0)
HC ;;83^Recipient Substance Abuse^
"RTN","SRTPUTL4",92,0)
HD ;;84^Active Infection for PSC^
"RTN","SRTPUTL4",93,0)
HE ;;85^Warm Ischemia Time For Organ^
"RTN","SRTPUTL4",94,0)
HF ;;86^Acute or Chronic Encephalopathy^
"RTN","SRTPUTL4",95,0)
HG ;;87^Cold Ischemia Time for Organ^
"RTN","SRTPUTL4",96,0)
HH ;;88^History of Ascites^
"RTN","SRTPUTL4",97,0)
HI ;;89^Total Ischemia Time for Organ^
"RTN","SRTPUTL4",98,0)
IJ ;;90^Non-Compliance (Med and Diet)^
"RTN","SRTPUTL4",99,0)
IA ;;91^On Methadone^
"RTN","SRTPUTL4",100,0)
IB ;;92^Post Transplant Prophylaxis for TB/Antimycobacterial Treatment^
"RTN","SRTPUTL4",101,0)
ID ;;94^Rejection^
"RTN","SRTPUTL4",102,0)
IE ;;95^IgA Nephropathy^
"RTN","SRTPUTL4",103,0)
IF ;;96^Calcineurin Inhibitor Toxicity^
"RTN","SRTPUTL4",104,0)
IG ;;97^Lithium Toxicity^
"RTN","SRTPUTL4",105,0)
IH ;;98^Obstructive Uropathy from BPH^
"RTN","SRTPUTL4",106,0)
II ;;99^Autoimmune Hepatitis^
"RTN","SRTPUTL4",107,0)
AJJ ;;100^Cryptogenic Cirrhosis^
"RTN","SRTPUTL4",108,0)
AJA ;;101^Chronic Rejection^
"RTN","SRTPUTL4",109,0)
AJB ;;102^Hepatic Artery Thrombosis^
"RTN","SRTPUTL4",110,0)
AJC ;;103^Living Donor^
"RTN","SRTPUTL4",111,0)
AJD ;;104^Donor with Malignancy^
"RTN","SRTPUTL4",112,0)
AJE ;;105^Primary Non-Function^
"RTN","SRTPUTL4",113,0)
AJF ;;106^Secondary Sclerosing Cholangitis^
"RTN","SRTPUTL4",114,0)
AJG ;;107^Toxic Exposure^
"RTN","SRTPUTL4",115,0)
AJH ;;108^HIV + (positive)^
"RTN","SRTPUTL4",116,0)
AJI ;;109^Post Transplant Prophylaxis for CMV/Antiviral Treatment^
"RTN","SRTPUTL4",117,0)
AAJ ;;110^Post Transplant Prophylaxis for PCP/Antibacterial Treatment^
"RTN","SRTPUTL4",118,0)
AAA ;;111^Portal Vein Thrombosis^
"RTN","SRTPUTL4",119,0)
AAB ;;112^Other Cardiomyopathy^
"RTN","SRTPUTL4",120,0)
AAC ;;113^Lung Disease^
"RTN","SRTPUTL4",121,0)
AAD ;;114^Renal Impairment (Serum Creatinine >1.5)^
"RTN","SRTPUTL4",122,0)
AAE ;;115^Active Infection Requiring Antibiotics^
"RTN","SRTPUTL4",123,0)
AAF ;;116^Bleeding/Transfusions^
"RTN","SRTPUTL4",124,0)
AAG ;;117^Pneumonia^
"RTN","SRTPUTL4",125,0)
AAH ;;118^On Ventilator > 48 Hours^
"RTN","SRTPUTL4",126,0)
AAI ;;119^Cardiac Arrest Requiring CPR^
"RTN","SRTPUTL4",127,0)
ABJ ;;120^Psychosis^
"RTN","SRTPUTL4",128,0)
ABA ;;121^Stroke/CVA^
"RTN","SRTPUTL4",129,0)
ABB ;;122^Coma Greater than 24 Hours Postop (Y/N)^
"RTN","SRTPUTL4",130,0)
ABC ;;123^Superficial Incisional SSI^
"RTN","SRTPUTL4",131,0)
ABD ;;124^Deep Incisional SSI^
"RTN","SRTPUTL4",132,0)
ABE ;;125^Systemic Sepsis^
"RTN","SRTPUTL4",133,0)
ABF ;;126^Return to Surgery within 30 days^
"RTN","SRTPUTL4",134,0)
ABG ;;127^Seizures^
"RTN","SRTPUTL4",135,0)
ABH ;;128^Emphysema^
"RTN","SRTPUTL4",136,0)
ABI ;;129^Other Diagnosis^
"RTN","SRTPUTL4",137,0)
ACJ ;;130^New Mechanical Circulatory Support^
"RTN","SRTPUTL4",138,0)
ACA ;;131^Preop Functional Health Status^
"RTN","SRTPUTL4",139,0)
ACB ;;132^Peripheral Vascular Disease^
"RTN","SRTPUTL4",140,0)
ACC ;;133^Graft Failure Date^
"RTN","SRTPUTL4",141,0)
ACD ;;134^Pancreas^
"RTN","SRTPUTL4",142,0)
ACE ;;135^Glucose at Time of Listing^
"RTN","SRTPUTL4",143,0)
ACF ;;136^C-peptide at Time of Listing^
"RTN","SRTPUTL4",144,0)
ACG ;;137^Pancreatic Duct Anastomosis^
"RTN","SRTPUTL4",145,0)
ACH ;;138^Glucose Post Transplant^
"RTN","SRTPUTL4",146,0)
ACI ;;139^Amylase Post Transplant^
"RTN","SRTPUTL4",147,0)
ADJ ;;140^Lipase Post Transplant^
"RTN","SRTPUTL4",148,0)
ADA ;;141^Insulin Required Post transplant^
"RTN","SRTPUTL4",149,0)
ADB ;;142^Oral Hypoglycemics Required Post Transplant^
"RTN","SRTPUTL4",150,0)
ADC ;;143^PRA at Listing^
"RTN","SRTPUTL4",151,0)
ADD ;;144^PRA at Transplant^
"RTN","SRTPUTL4",152,0)
ADE ;;145^Hypertension Requiring Meds^
"RTN","SRTPUTL4",153,0)
ADF ;;146^Transfusion >4 RBC Units^
"RTN","SRTPUTL4",154,0)
ADH ;;148^Reoperation for Bleeding^
"RTN","SRTPUTL4",155,0)
ADI ;;149^Amiodarone Use^
"RTN","SRTPUTL4",156,0)
AEJ ;;150^Heparin Sensitivity^
"RTN","SRTPUTL4",157,0)
AEA ;;151^Hyperlipidemia History^
"RTN","SRTPUTL4",158,0)
AEB ;;152^Ventricular Tachycardia^
"RTN","SRTPUTL4",159,0)
AEC ;;153^Prior Blood Transfusion^
"RTN","SRTPUTL4",160,0)
AED ;;154^Creatinine on Day of Transplant^
"RTN","SRTPUTL4",161,0)
AEE ;;155^Dilated Cardiomyopathy^
"RTN","SRTPUTL4",162,0)
AEF ;;156^Coronary Artery Disease^
"RTN","SRTPUTL4",163,0)
AEG ;;157^Ischemic Cardiomyopathy^
"RTN","SRTPUTL4",164,0)
AEH ;;158^Alcoholic Cardiomyopathy^
"RTN","SRTPUTL4",165,0)
AEI ;;159^Valvular Cardiomyopathy^
"RTN","SRTPUTL4",166,0)
AFJ ;;160^Idiopathic Cardiomyopathy^
"RTN","SRTPUTL4",167,0)
AFA ;;161^Viral Cardiomyopathy^
"RTN","SRTPUTL4",168,0)
AFB ;;162^Peripartum Cardiomyopathy^
"RTN","SRTPUTL4",169,0)
AFC ;;163^PVR Before Vasodilation^
"RTN","SRTPUTL4",170,0)
AFD ;;164^PVR After Vasodilation^
"RTN","SRTPUTL4",171,0)
AFE ;;165^LVEF % ^
"RTN","SRTPUTL4",172,0)
AFF ;;166^PRA %^
"RTN","SRTPUTL4",173,0)
AFG ;;167^PA Systolic Pressure^
"RTN","SRTPUTL4",174,0)
AFH ;;168^PAW Mean Pressure^
"RTN","SRTPUTL4",175,0)
AFI ;;169^FEV1 ^
"RTN","SRTPUTL4",176,0)
AGJ ;;170^Date of Death^
"RTN","SRTPUTL4",177,0)
AGB ;;172^Prior MI^
"RTN","SRTPUTL4",178,0)
AGC ;;173^Number of Prior Heart Surgeries^
"RTN","SRTPUTL4",179,0)
AGE ;;175^Congestive Heart Failure (CHF)^
"RTN","SRTPUTL4",180,0)
AGF ;;176^IV NTG within 48 Hours^
"RTN","SRTPUTL4",181,0)
AGG ;;177^Current Digoxin Use^
"RTN","SRTPUTL4",182,0)
AGH ;;178^Current Diuretic Use^
"RTN","SRTPUTL4",183,0)
AGI ;;179^Preoperative Circulatory Device^
"RTN","SRTPUTL4",184,0)
AHA ;;181^Assessment Status^
"RTN","SRTPUTL4",185,0)
AHB ;;182^Transplant Type^
"RTN","SRTPUTL4",186,0)
AHD ;;184^Date Transmitted^
"RTN","SRTPUTL4",187,0)
AHE ;;185^VA or Non-VA Indicator^
"RTN","SRTPUTL4",188,0)
AHG ;;187^Date Started Dialysis^
"RTN","SRTPUTL4",189,0)
AHI ;;189^Tracheostomy^
"RTN","SRTPUTL4",190,0)
AIJ ;;190^Mediastinitis^
"RTN","SRTPUTL4",191,0)
AIA ;;191^Renal Failure Requiring Dialysis^
"RTN","SRTPUTL4",192,0)
AIB ;;192^Perioperative MI^
"RTN","SRTPUTL4",193,0)
AIC ;;193^Operative Death^
"RTN","SRTPUTL4",194,0)
AIG ;;197^Plasmapheresis^
"RTN","SRTPUTL4",195,0)
AIH ;;198^Tobacco Use^
"RTN","SRTPUTL4",196,0)
AII ;;199^Tobacco Use Timeframe^
"RTN","SRTPUTL4",197,0)
BJJ ;;200^Diabetes Mellitus: Chronic, Long-term Management^
"RTN","SRTPUTL4",198,0)
BJA ;;201^Diabetes Mellitus: Management Prior to Surgery^
"RTN","SRTPUTL4",199,0)
BJB ;;202^Prior Surgical Repair/Carotid Artery Obstruction^
"RTN","SRTPUTL4",200,0)
BJC ;;203^History of CVD Events^
"RTN","SRTPUTL4",201,0)
 Q
"RTN","SRTPUTLC")
0^51^B15681866^B15420115
"RTN","SRTPUTLC",1,0)
SRTPUTLC ;BIR/SJA - UTILITY ROUTINE ;08/18/2011
"RTN","SRTPUTLC",2,0)
 ;;3.0;Surgery;**167,176**;24 Jun 93;Build 8
"RTN","SRTPUTLC",3,0)
CHK ; check for missing transplant assessment information
"RTN","SRTPUTLC",4,0)
 K SRX,SRZZ,SRMM S SRMM=0
"RTN","SRTPUTLC",5,0)
 D @SRTYPE
"RTN","SRTPUTLC",6,0)
 Q
"RTN","SRTPUTLC",7,0)
K ; kidney data entry fields
"RTN","SRTPUTLC",8,0)
 ; kidney recipient information
"RTN","SRTPUTLC",9,0)
 S DR=$S(SRNOVA:"3;1;11;187;10;12;4;5;96;26;27;95;97;33;19;98;37;42;94",1:"3;11;187;10;12;96;26;27;95;97;33;19;98;37;42;94") D DATA
"RTN","SRTPUTLC",10,0)
 ; kidney transplant information
"RTN","SRTPUTLC",11,0)
 S DR="85;87;89;68;143;144;9;197;13;14;15;17;16;18" D DATA
"RTN","SRTPUTLC",12,0)
 ; PREOPERATIVE RISK ASSESSMENT/RISK ASSESSMENT
"RTN","SRTPUTLC",13,0)
 S DR=$S(SRNOVA:"200;201;59;60;61;75;108;113;80;83;131;115;109;110;92;145;132;146;90",1:"59;60;61;75;108;113;80;115;90;83;109;110;92;133") D DATA
"RTN","SRTPUTLC",14,0)
 ; kidney outcome data
"RTN","SRTPUTLC",15,0)
 I SRNOVA S DR="116;117;118;119;192;121;122;123;124;125;126;193;133" D DATA
"RTN","SRTPUTLC",16,0)
 ; kidney donor information
"RTN","SRTPUTLC",17,0)
 S DR="44" D DATA
"RTN","SRTPUTLC",18,0)
 S DR="45;31;36;70;46;48;49;77;69;103;104;64;65;66;73;67;72" D DATA
"RTN","SRTPUTLC",19,0)
 ; pancreas information
"RTN","SRTPUTLC",20,0)
 S DR="134;135;136;137;138;139;140;141;142" D DATA
"RTN","SRTPUTLC",21,0)
 Q
"RTN","SRTPUTLC",22,0)
LI ; liver data entry fields
"RTN","SRTPUTLC",23,0)
 ; recipient information
"RTN","SRTPUTLC",24,0)
 S DR=$S(SRNOVA:"3;1;11;4;5;10;12;52;53;54;55;19",1:"3;11;10;12;52;53;54;55;19") D DATA
"RTN","SRTPUTLC",25,0)
 ; diagnosis information
"RTN","SRTPUTLC",26,0)
 S DR="21;20;23;99;100;101;27;28;29;30;102;34;35;38;105;39;106;107;47;56;111;120;127;94" D DATA
"RTN","SRTPUTLC",27,0)
 ; diagnosis information
"RTN","SRTPUTLC",28,0)
 S DR="85;87;89;68;13;14;15;17;16;18" D DATA
"RTN","SRTPUTLC",29,0)
 ; risk assessment information
"RTN","SRTPUTLC",30,0)
 S DR=$S(SRNOVA:"86;84;200;201;59;60;113;108;114;90;91;78;79",1:"86;84;59;60;108;113;114;90;91;78;79;81;82;83;109;110") D DATA
"RTN","SRTPUTLC",31,0)
 ; donor information for VA
"RTN","SRTPUTLC",32,0)
 I 'SRNOVA D
"RTN","SRTPUTLC",33,0)
 .S DR="44" D DATA
"RTN","SRTPUTLC",34,0)
 .S DR="45;31;36;70;46;48;49;77;69;103;104;64;65;66;73;67;72" D DATA
"RTN","SRTPUTLC",35,0)
 ; risk assessment information for Non-VA
"RTN","SRTPUTLC",36,0)
 I SRNOVA S DR="81;82;88;83;109;110;145;132;146;131" D DATA
"RTN","SRTPUTLC",37,0)
 ; outcome information for non-VA
"RTN","SRTPUTLC",38,0)
 I SRNOVA S DR="116;117;118;119;192;121;122;123;124;125;126;193" D DATA
"RTN","SRTPUTLC",39,0)
 I SRNOVA D
"RTN","SRTPUTLC",40,0)
 .S DR="44" D DATA
"RTN","SRTPUTLC",41,0)
 .S DR="45;31;36;70;46;48;49;77;69;103;104;64;65;66;73;67;72" D DATA
"RTN","SRTPUTLC",42,0)
 Q
"RTN","SRTPUTLC",43,0)
LU ; lung data entry fields
"RTN","SRTPUTLC",44,0)
 ; recipient information
"RTN","SRTPUTLC",45,0)
 S DR=$S(SRNOVA:"3;1;11;4;5;10;12;40;41;24;25;32;129;19;43;22;128;94",1:"3;11;10;12;40;41;24;25;32;43;22;128;94;129;19") D DATA
"RTN","SRTPUTLC",46,0)
 ; lung transplant information
"RTN","SRTPUTLC",47,0)
 S DR="50;51;85;87;89;68;13;14;15;17;16;18" D DATA
"RTN","SRTPUTLC",48,0)
 ; preoperative risk assessment
"RTN","SRTPUTLC",49,0)
 S DR=$S(SRNOVA:"200;201;59;60;71;108;61;75;113;114;131;115;90;83;109;110;145;132;146;80",1:"59;60;71;108;61;75;113;114;80;115;90;83;109;110") D DATA
"RTN","SRTPUTLC",50,0)
 ; outcome information
"RTN","SRTPUTLC",51,0)
 I SRNOVA S DR="116;117;118;119;192;121;122;123;124;125;126;193" D DATA
"RTN","SRTPUTLC",52,0)
 ; donor information
"RTN","SRTPUTLC",53,0)
 S DR="44" D DATA
"RTN","SRTPUTLC",54,0)
 S DR="45;31;36;70;46;48;49;77;69;103;104;64;65;66;73;67;72" D DATA
"RTN","SRTPUTLC",55,0)
 Q
"RTN","SRTPUTLC",56,0)
H ; heart data entry fields
"RTN","SRTPUTLC",57,0)
 ; recipient information
"RTN","SRTPUTLC",58,0)
 S DR=$S(SRNOVA:"3;1;11;58;57;4;5;10;12;167;168;163;164;19;165;89;166;68",1:"3;11;58;57;163;164;165;89;166;68;10;12;19") D DATA
"RTN","SRTPUTLC",59,0)
 ; diagnosis information
"RTN","SRTPUTLC",60,0)
 S DR="155;156;157;158;159;43;160;161;162;94;112;13;14;15;16;17;18" D DATA
"RTN","SRTPUTLC",61,0)
 ; risk assessment information
"RTN","SRTPUTLC",62,0)
 S DR=$S(SRNOVA:"76;169;177;149;173;202;203;175;62;176;74;152;198;199;172;179;178;132;145;150;151;200;201;59;60",1:"62;149;150;151;59;60;152;108;153;74;115;81;82;109;110;90;83;75;154") D DATA
"RTN","SRTPUTLC",63,0)
 ; risk assessment info
"RTN","SRTPUTLC",64,0)
 I SRNOVA D  D DATA
"RTN","SRTPUTLC",65,0)
 .S DR="75;154;108;115;81;82;90;83;153" S DR=DR_"193;170;192;191;190;119;189;148;118;121;122;130;109;110"
"RTN","SRTPUTLC",66,0)
 ; donor information
"RTN","SRTPUTLC",67,0)
 S DR="44" D DATA
"RTN","SRTPUTLC",68,0)
 S DR="45;31;36;70;46;48;49;77;69;104;64;65;66;73;67;72" D DATA
"RTN","SRTPUTLC",69,0)
  Q
"RTN","SRTPUTLC",70,0)
DATA K DIC,DIQ,SRY,SRYY S DIC="^SRT(",DA=SRTPP,DIQ="SRY",DIQ(0)="I" D EN^DIQ1
"RTN","SRTPUTLC",71,0)
 I $P(DR,";")=44 D RACE
"RTN","SRTPUTLC",72,0)
 S XX=0 F  S XX=$O(SRY(139.5,DA,XX)) Q:'XX   D LOC I SRI S SRYY(139.5,DA,SRI,"I")=SRY(139.5,SRTPP,XX,"I")_"^"_XX
"RTN","SRTPUTLC",73,0)
 K DR S SRMM=SRMM+1 D ^SRTPUTL4
"RTN","SRTPUTLC",74,0)
 Q
"RTN","SRTPUTLC",75,0)
LOC ;
"RTN","SRTPUTLC",76,0)
 S SRI=0 F I=1:1:$L(DR,";") S:$P(DR,";",I)=XX SRI=I
"RTN","SRTPUTLC",77,0)
 Q
"RTN","SRTPUTLC",78,0)
RACE ;
"RTN","SRTPUTLC",79,0)
 K SRY1,SRY2 S DIC="^SRT(",DR=44,DA=SRTPP,DR(139.544)=".01"
"RTN","SRTPUTLC",80,0)
 S (II,JJ)=0 F  S II=$O(^SRT(SRTPP,44,II)) Q:'II  S SRACE=$G(^SRT(SRTPP,44,II,0)) D  K SRY1
"RTN","SRTPUTLC",81,0)
 .S DA(139.544)=II,DIQ="SRY1",DIQ(0)="E" D EN^DIQ1
"RTN","SRTPUTLC",82,0)
 .S JJ=JJ+1,SRY2(139.544,JJ)=SRACE_"^"_$G(SRY1(139.544,II,.01,"E")),SRY2(139.544)=JJ
"RTN","SRTPUTLC",83,0)
 I $G(SRY2(139.544))>0 Q
"RTN","SRTPUTLC",84,0)
 S SRY(139.5,SRTPP,44,"I")=""
"RTN","SRTPUTLC",85,0)
 Q
"UP",130,130.01,-1)
130^1
"UP",130,130.01,0)
130.01
"UP",130,130.22,-1)
130^16
"UP",130,130.22,0)
130.22
"VER")
8.0^22.0
"^DD",130,130,78,0)
PREVIOUSLY SCHEDULED CASE^P130'^SRF(^SP;2^Q
"^DD",130,130,78,.1)
Previously Scheduled Case That Was Cancelled
"^DD",130,130,78,3)
Enter the previously scheduled, now cancelled, case.
"^DD",130,130,78,21,0)
^^2^2^3110922^
"^DD",130,130,78,21,1,0)
This field identifies the previously scheduled case that was cancelled
"^DD",130,130,78,21,2,0)
and replaced by this case.
"^DD",130,130,78,"DT")
3110810
"^DD",130,130,79,0)
RESCHEDULED CASE^P130'^SRF(^SP;3^Q
"^DD",130,130,79,.1)
Replacement Case for This Cancelled Case
"^DD",130,130,79,3)
Enter the replacement case to be scheduled later.
"^DD",130,130,79,21,0)
^^2^2^3110922^
"^DD",130,130,79,21,1,0)
This field identifies the new surgery case that will be scheduled 
"^DD",130,130,79,21,2,0)
later to replace this cancelled case.
"^DD",130,130,79,"DT")
3110812
"^DD",130,130,202,0)
*CURRENT SMOKER^S^Y:YES;N:NO;NS:NO STUDY;^200;3^Q
"^DD",130,130,202,.1)
*Current Smoker
"^DD",130,130,202,3)
Enter the code (YES or NO) describing the patient's status as a smoker prior to surgery.
"^DD",130,130,202,21,0)
^^7^7^3110708^
"^DD",130,130,202,21,1,0)
This field has been flagged as obsolete for VASQIP. It should no longer 
"^DD",130,130,202,21,2,0)
be used.
"^DD",130,130,202,21,3,0)
 
"^DD",130,130,202,21,4,0)
Non-Cardiac Definition Revised (2006):
"^DD",130,130,202,21,5,0)
If the patient has smoked cigarettes in the year prior to admission for
"^DD",130,130,202,21,6,0)
surgery enter YES. Do not include patients who smoke cigars or pipes or
"^DD",130,130,202,21,7,0)
use chewing tobacco.
"^DD",130,130,202,"DT")
3110712
"^DD",130,130,240,0)
FUNCTIONAL HEALTH STATUS^S^1:INDEPENDENT;2:PARTIALLY DEPENDENT;3:TOTALLY DEPENDENT;4:UNKNOWN;^200;8^Q
"^DD",130,130,240,.1)
Functional Status
"^DD",130,130,240,3)
Enter the level of self care that summarizes the patient's status prior to surgery.
"^DD",130,130,240,21,0)
^^31^31^3110708^
"^DD",130,130,240,21,1,0)
VASQIP Definition (2011): 
"^DD",130,130,240,21,2,0)
This is a question that focuses on the patient's abilities to perform 
"^DD",130,130,240,21,3,0)
activities of daily living (ADLs) in the 30 days prior to surgery. 
"^DD",130,130,240,21,4,0)
Activities of daily living are defined as 'the activities usually 
"^DD",130,130,240,21,5,0)
performed in the course of a normal day in a person's life'. ADLs 
"^DD",130,130,240,21,6,0)
include: bathing, feeding, dressing, toileting, and mobility. Report 
"^DD",130,130,240,21,7,0)
the corresponding level of self-care for activities of daily living 
"^DD",130,130,240,21,8,0)
demonstrated by this patient at the time the patient is being 
"^DD",130,130,240,21,9,0)
considered as a candidate for surgery (which should be no longer than 
"^DD",130,130,240,21,10,0)
30 days prior to surgery). If the patient's status changes prior to 
"^DD",130,130,240,21,11,0)
surgery, that change should be reflected in your assessment. For this 
"^DD",130,130,240,21,12,0)
time point, report the level of functional health status as defined by 
"^DD",130,130,240,21,13,0)
the following criteria.  
"^DD",130,130,240,21,14,0)
         
"^DD",130,130,240,21,15,0)
 (1) Independent: The patient does not require assistance from another 
"^DD",130,130,240,21,16,0)
person for any activities of daily living. This includes a person who 
"^DD",130,130,240,21,17,0)
is able to function independently with prosthetics, equipment, or 
"^DD",130,130,240,21,18,0)
devices.
"^DD",130,130,240,21,19,0)
 (2) Partially dependent: The patient requires some assistance from 
"^DD",130,130,240,21,20,0)
another person for activities of daily living. This includes a person 
"^DD",130,130,240,21,21,0)
who utilizes prosthetics, equipment, or devices but still requires 
"^DD",130,130,240,21,22,0)
some assistance from another person for ADLs.
"^DD",130,130,240,21,23,0)
 (3) Totally dependent: The patient requires total assistance for all 
"^DD",130,130,240,21,24,0)
activities of daily living.
"^DD",130,130,240,21,25,0)
 (4) Unknown: If unable to ascertain the functional status. 
"^DD",130,130,240,21,26,0)
         
"^DD",130,130,240,21,27,0)
All patients with psychiatric illnesses should be evaluated for their 
"^DD",130,130,240,21,28,0)
ability to function with or without assistance with ADLs just as the 
"^DD",130,130,240,21,29,0)
non-psychiatric patient. For instance, if a patient with schizophrenia 
"^DD",130,130,240,21,30,0)
is able to care for him/herself without the assistance of nursing 
"^DD",130,130,240,21,31,0)
care, he/she is considered independent.
"^DD",130,130,240,"DT")
3110708
"^DD",130,130,248,0)
SUPERFICIAL INCISIONAL SSI^S^Y:YES;N:NO;NS:NO STUDY;^205;6^Q
"^DD",130,130,248,.1)
Superficial Incisional Surgical Site Infection (Y/N)
"^DD",130,130,248,3)
Enter YES if this patient had a superficial incisional surgical site infection.
"^DD",130,130,248,12)
Screen prevents selection of retired code.
"^DD",130,130,248,12.1)
S DIC("S")="I Y'=""NS"""
"^DD",130,130,248,21,0)
^^22^22^3040316^
"^DD",130,130,248,21,1,0)
Definition Revised (2004):
"^DD",130,130,248,21,2,0)
Superficial incisional SSI is an infection that occurs within 30 days 
"^DD",130,130,248,21,3,0)
after the operation and infection involves only skin or subcutaneous 
"^DD",130,130,248,21,4,0)
tissue of the incision and at least one of the following:
"^DD",130,130,248,21,5,0)
 
"^DD",130,130,248,21,6,0)
 - Purulent drainage, with or without laboratory confirmation, from the
"^DD",130,130,248,21,7,0)
   superficial incision.
"^DD",130,130,248,21,8,0)
 - Organisms isolated from an aseptically obtained culture of fluid or
"^DD",130,130,248,21,9,0)
   tissue from the superficial incision. 
"^DD",130,130,248,21,10,0)
 - At least one of the following signs or symptoms of infection:  pain
"^DD",130,130,248,21,11,0)
   or tenderness, localized swelling, redness, or heat and superficial
"^DD",130,130,248,21,12,0)
   incision is deliberately opened by the surgeon, unless incision is
"^DD",130,130,248,21,13,0)
   culture-negative.  
"^DD",130,130,248,21,14,0)
 - Diagnosis of superficial incisional SSI by the surgeon or attending
"^DD",130,130,248,21,15,0)
   physician.  
"^DD",130,130,248,21,16,0)
 
"^DD",130,130,248,21,17,0)
Do not report the following conditions as SSI:
"^DD",130,130,248,21,18,0)
 - Stitch abscess (minimal inflammation and discharge confined to the
"^DD",130,130,248,21,19,0)
   points of suture penetration).
"^DD",130,130,248,21,20,0)
 - Infected burn wound.
"^DD",130,130,248,21,21,0)
 - Incisional SSI that extends into the fascial and muscle layers (see
"^DD",130,130,248,21,22,0)
   deep incisional SSI).
"^DD",130,130,248,"DT")
3040316
"^DD",130,130,254,0)
ACUTE RENAL FAILURE^*S^Y:YES;N:NO;NS:NO STUDY;^205;17^Q
"^DD",130,130,254,.1)
Acute Renal Failure Requiring Dialysis (Y/N)
"^DD",130,130,254,3)
Enter YES if the patient has acute renal failure.
"^DD",130,130,254,12)
Screen prevents selection of retired code.
"^DD",130,130,254,12.1)
S DIC("S")="I Y'=""NS"""
"^DD",130,130,254,21,0)
^.001^12^12^3110708^^
"^DD",130,130,254,21,1,0)
VASQIP Definition (2011): 
"^DD",130,130,254,21,2,0)
Indicate if the patient developed new renal failure requiring renal
"^DD",130,130,254,21,3,0)
replacement therapy or experienced an exacerbation of preoperative
"^DD",130,130,254,21,4,0)
renal failure requiring initiation of renal replacement therapy (not on
"^DD",130,130,254,21,5,0)
renal replacement therapy preoperatively) within 30 days
"^DD",130,130,254,21,6,0)
postoperatively.  Renal replacement therapy is defined as venous to
"^DD",130,130,254,21,7,0)
venous hemodialysis [CVVHD], continuous venous to arterial hemodialysis
"^DD",130,130,254,21,8,0)
[CVAHD], peritoneal dialysis, hemofiltration, hemodiafiltration or
"^DD",130,130,254,21,9,0)
ultrafiltration.
"^DD",130,130,254,21,10,0)
 
"^DD",130,130,254,21,11,0)
TIP: If the patient refuses dialysis, report as an occurrence because 
"^DD",130,130,254,21,12,0)
he/she did require dialysis.
"^DD",130,130,254,"DT")
3110708
"^DD",130,130,256,0)
STROKE/CVA^*S^Y:YES;N:NO;NS:NO STUDY;^205;21^Q
"^DD",130,130,256,.1)
Stroke/CVA
"^DD",130,130,256,3)
Enter status of Stroke/CVA.
"^DD",130,130,256,12)
Screen prevents selection of retired code.
"^DD",130,130,256,12.1)
S DIC("S")="I Y'=""NS"""
"^DD",130,130,256,21,0)
^^7^7^3110922^
"^DD",130,130,256,21,1,0)
VASQIP Definitions (2011):
"^DD",130,130,256,21,2,0)
Indicate if the patient developed a new neurologic deficit with onset
"^DD",130,130,256,21,3,0)
immediately post-operatively or occurring within the 30 days after 
"^DD",130,130,256,21,4,0)
surgery.  Neurologic deficits are defined as an embolic, thrombotic, 
"^DD",130,130,256,21,5,0)
or hemorrhagic vascular accident or stroke with motor, sensory, or
"^DD",130,130,256,21,6,0)
cognitive dysfunction (e.g., hemiplegia, hemiparesis, aphasia, sensory
"^DD",130,130,256,21,7,0)
deficit, impaired memory).
"^DD",130,130,256,"DT")
3110922
"^DD",130,130,258,0)
MYOCARDIAL INFARCTION^*S^Y:YES;N:NO;NS:NO STUDY;^205;27^Q
"^DD",130,130,258,.1)
Myocardial Infarction (Y/N)
"^DD",130,130,258,3)
Enter YES if the patient has had a myocardial infarction.
"^DD",130,130,258,12)
Screen prevents selection of retired code.
"^DD",130,130,258,12.1)
S DIC("S")="I Y'=""NS"""
"^DD",130,130,258,21,0)
^.001^13^13^3110928^^^^
"^DD",130,130,258,21,1,0)
VASQIP Definition (2011): 
"^DD",130,130,258,21,2,0)
Indicate the presence of a peri-operative MI that occurs either 
"^DD",130,130,258,21,3,0)
intraoperatively or postoperatively within 30 days: 
"^DD",130,130,258,21,4,0)
 
"^DD",130,130,258,21,5,0)
Non-Cardiac Surgery: A new transmural acute myocardial infarction as 
"^DD",130,130,258,21,6,0)
manifested by new Q-waves on ECG. (Non-Q-wave infarctions should be 
"^DD",130,130,258,21,7,0)
entered under "Other Occurrence").  
"^DD",130,130,258,21,8,0)
 
"^DD",130,130,258,21,9,0)
Cardiac Surgery: A new transmural acute myocardial infarction as 
"^DD",130,130,258,21,10,0)
manifested by at least one of the following criteria: 
"^DD",130,130,258,21,11,0)
 1. Development of new Q-waves in two or more contiguous ECG leads;
"^DD",130,130,258,21,12,0)
 2. Evolutionary ST-segment elevations; 
"^DD",130,130,258,21,13,0)
 3. New or presumably new LBBB pattern on the ECG.
"^DD",130,130,258,"DT")
3110928
"^DD",130,130,264,0)
*CEREBRAL VASCULAR DISEASE^S^Y:YES;N:NO;^206;17^Q
"^DD",130,130,264,.1)
*Cerebral Vascular Disease (Y/N)
"^DD",130,130,264,3)
Enter 'YES' if this patient has disease of the arteries to the head.
"^DD",130,130,264,21,0)
^^9^9^3110718^
"^DD",130,130,264,21,1,0)
This field has been flagged as obsolete for VASQIP. It should no longer 
"^DD",130,130,264,21,2,0)
be used.
"^DD",130,130,264,21,3,0)
 
"^DD",130,130,264,21,4,0)
This determines whether the patient has disease of the arteries
"^DD",130,130,264,21,5,0)
to the head manifested by previous stroke (cerebral vascular accident),
"^DD",130,130,264,21,6,0)
and/or transient ischemic attack (TIA), and/or prior surgical repair
"^DD",130,130,264,21,7,0)
(e.g. carotid endarterectomy), and/or greater than or equal to 50%
"^DD",130,130,264,21,8,0)
obstruction of luminal diameter documented by contrast angiography
"^DD",130,130,264,21,9,0)
or duplex ultrasound examination.
"^DD",130,130,264,"DT")
3110718
"^DD",130,130,334,0)
*HISTORY OF TIA'S^S^Y:YES;N:NO;NS:NO STUDY;^200;25^Q
"^DD",130,130,334,.1)
*History of TIA's (Y/N)
"^DD",130,130,334,3)
Enter YES if the patient has a history of TIA's.
"^DD",130,130,334,21,0)
^^9^9^3110718^
"^DD",130,130,334,21,1,0)
This field has been flagged as obsolete for VASQIP. It should no longer 
"^DD",130,130,334,21,2,0)
be used.
"^DD",130,130,334,21,3,0)
 
"^DD",130,130,334,21,4,0)
Definition Revised (2004):
"^DD",130,130,334,21,5,0)
Transient ischemic attacks (TIAs) are focal neurologic deficits (e.g. 
"^DD",130,130,334,21,6,0)
numbness of an arm or amaurosis fugax) of sudden onset and brief 
"^DD",130,130,334,21,7,0)
duration (usually <30 minutes), which usually reflect dysfunction in a 
"^DD",130,130,334,21,8,0)
cerebral vascular distribution. These attacks may be recurrent and, at
"^DD",130,130,334,21,9,0)
times, may precede a stroke.        
"^DD",130,130,334,"DT")
3110718
"^DD",130,130,335,0)
*CVA/STROKE WITH NEURO DEFICIT^S^Y:YES;N:NO;NS:NO STUDY;^200;26^Q
"^DD",130,130,335,.1)
*CVA/Stroke With Neurologic Deficit (Y/N)
"^DD",130,130,335,3)
Enter YES if the patient has a history CVA/stroke with residual neurologic deficit.
"^DD",130,130,335,21,0)
^^10^10^3110718^
"^DD",130,130,335,21,1,0)
This field has been flagged as obsolete for VASQIP. It should no longer 
"^DD",130,130,335,21,2,0)
be used.
"^DD",130,130,335,21,3,0)
 
"^DD",130,130,335,21,4,0)
Definition Revised (2004):
"^DD",130,130,335,21,5,0)
History of a cerebrovascular accident (embolic, thrombotic, or 
"^DD",130,130,335,21,6,0)
hemorrhagic) with persistent residual motor, sensory, or cognitive 
"^DD",130,130,335,21,7,0)
dysfunction. (e.g., hemiplegia, hemiparesis, aphasia, sensory deficit, 
"^DD",130,130,335,21,8,0)
impaired memory). If the neurological deficit is 
"^DD",130,130,335,21,9,0)
hemiplegia/hemiparesis, also enter YES to Hemiplegia/Hemiparesis in 
"^DD",130,130,335,21,10,0)
addition to CVA/Stroke. 
"^DD",130,130,335,"DT")
3110718
"^DD",130,130,336,0)
*CVA/STROKE - NO NEURO DEFICIT^S^Y:YES;N:NO;NS:NO STUDY;^200;27^Q
"^DD",130,130,336,.1)
*CVA/Stroke With No Neurologic Deficit (Y/N)
"^DD",130,130,336,3)
Enter YES if the patient has a history of CVA/Stroke with no neurologic deficit.
"^DD",130,130,336,21,0)
^^7^7^3110718^
"^DD",130,130,336,21,1,0)
This field has been flagged as obsolete for VASQIP. It should no longer 
"^DD",130,130,336,21,2,0)
be used.
"^DD",130,130,336,21,3,0)
 
"^DD",130,130,336,21,4,0)
Definition Revised (2004):
"^DD",130,130,336,21,5,0)
History of a cerebrovascular accident (embolic, thrombotic, or 
"^DD",130,130,336,21,6,0)
hemorrhagic) with neurologic deficit(s) lasting at least 30 minutes, 
"^DD",130,130,336,21,7,0)
but no current residual neurologic dysfunction or deficit.
"^DD",130,130,336,"DT")
3110718
"^DD",130,130,346,0)
*DIABETES^S^N:NO;O:ORAL;I:INSULIN;^200;2^Q
"^DD",130,130,346,.1)
*Diabetes Mellitus Requiring Therapy With Oral Agents or Insulin
"^DD",130,130,346,3)
Enter the patient's diabetes status.
"^DD",130,130,346,21,0)
^^19^19^3110712^
"^DD",130,130,346,21,1,0)
This field has been flagged as obsolete for VASQIP. It should no longer 
"^DD",130,130,346,21,2,0)
be used.
"^DD",130,130,346,21,3,0)
 
"^DD",130,130,346,21,4,0)
Definition Revised (2004):
"^DD",130,130,346,21,5,0)
Diabetes mellitus is a metabolic disorder of the pancreas whereby the 
"^DD",130,130,346,21,6,0)
individual requires daily dosages of exogenous parenteral insulin or an
"^DD",130,130,346,21,7,0)
oral hypoglycemic agent to prevent a hyperglycemic/metabolic acidosis.
"^DD",130,130,346,21,8,0)
Report the treatment regimen of the patient's chronic, long-term
"^DD",130,130,346,21,9,0)
management. Do not include a patient if diabetes is controlled by diet
"^DD",130,130,346,21,10,0)
alone.
"^DD",130,130,346,21,11,0)
 
"^DD",130,130,346,21,12,0)
 No:      No diagnosis of diabetes or diabetes controlled by diet alone
"^DD",130,130,346,21,13,0)
 
"^DD",130,130,346,21,14,0)
 Oral:    A diagnosis of diabetes requiring therapy with an oral
"^DD",130,130,346,21,15,0)
          hypoglycemic agent (see list of oral hypoglycemic agents in
"^DD",130,130,346,21,16,0)
          Operations Manual)
"^DD",130,130,346,21,17,0)
 
"^DD",130,130,346,21,18,0)
 Insulin: A diagnosis of diabetes requiring daily insulin therapy (see
"^DD",130,130,346,21,19,0)
          list of insulin therapy agents in Operations Manual)
"^DD",130,130,346,"DT")
3110712
"^DD",130,130,385,0)
*PERIOPERATIVE MI^S^Y:YES;N:NO;^208;2^Q
"^DD",130,130,385,.1)
*Perioperative Myocardial Infarction (Y/N)
"^DD",130,130,385,3)
Enter 'YES' if the patient had a perioperative myocardial infarction.
"^DD",130,130,385,21,0)
^^33^33^3110928^
"^DD",130,130,385,21,1,0)
This field has been flagged as obsolete for VASQIP. It should no longer
"^DD",130,130,385,21,2,0)
be used.
"^DD",130,130,385,21,3,0)
 
"^DD",130,130,385,21,4,0)
Definition Revised (2011): Indicate the presence of a peri-operative 
"^DD",130,130,385,21,5,0)
MI as documented by the following criteria:
"^DD",130,130,385,21,6,0)
 
"^DD",130,130,385,21,7,0)
   0-24 Hours Post-Op 
"^DD",130,130,385,21,8,0)
    The CK-MB (or CK if MB not available) must be greater than or 
"^DD",130,130,385,21,9,0)
    equal to 5-times the upper limit of normal, with or without new 
"^DD",130,130,385,21,10,0)
    Q waves present in two or more contiguous ECG leads. No symptoms
"^DD",130,130,385,21,11,0)
    required.
"^DD",130,130,385,21,12,0)
    
"^DD",130,130,385,21,13,0)
   >24 Hours Post-Op 
"^DD",130,130,385,21,14,0)
    Indicate the presence of a peri-operative MI (> 24 hours post-op) 
"^DD",130,130,385,21,15,0)
    as documented by at least one of the following criteria: 
"^DD",130,130,385,21,16,0)
    1. Evolutionary ST- segment elevations 
"^DD",130,130,385,21,17,0)
    2. Development of new Q-waves in two or more contiguous ECG leads 
"^DD",130,130,385,21,18,0)
    3. New or presumably new LBBB pattern on the ECG
"^DD",130,130,385,21,19,0)
    4. The CK-MB (or CK if MB not available) must be greater than or 
"^DD",130,130,385,21,20,0)
       equal to 3 times the upper limit of normal.
"^DD",130,130,385,21,21,0)
    
"^DD",130,130,385,21,22,0)
Because normal limits of certain blood tests may vary, please check 
"^DD",130,130,385,21,23,0)
with your lab for normal limits for CK-MB and total CK. Defining
"^DD",130,130,385,21,24,0)
Reference Control Values (Upper Limit of Normal): Reference values must
"^DD",130,130,385,21,25,0)
be determined in each laboratory by studies using specific assays with
"^DD",130,130,385,21,26,0)
appropriate quality control, as reported in peer-reviewed journals.
"^DD",130,130,385,21,27,0)
 
"^DD",130,130,385,21,28,0)
Acceptable imprecision (coefficient of variation) at the 99th 
"^DD",130,130,385,21,29,0)
percentile for each assay should be defined as < or = to 10%. Each 
"^DD",130,130,385,21,30,0)
individual laboratory should confirm the range of reference values 
"^DD",130,130,385,21,31,0)
in their specific setting. This element should not be coded as an 
"^DD",130,130,385,21,32,0)
adverse event for evolving MI's unless their enzymes peak, fall,
"^DD",130,130,385,21,33,0)
and then have a second peak.
"^DD",130,130,385,"DT")
3110928
"^DD",130,130,390,0)
*STROKE^S^Y:YES;N:NO;^208;8^Q
"^DD",130,130,390,.1)
*Stroke (Y/N)
"^DD",130,130,390,3)
Enter 'YES' if the patient has any new objective neurologic defect lasting > or = 30 minutes.
"^DD",130,130,390,21,0)
^^7^7^3110711^
"^DD",130,130,390,21,1,0)
This field has been flagged as obsolete for VASQIP. It should no longer 
"^DD",130,130,390,21,2,0)
be used.
"^DD",130,130,390,21,3,0)
 
"^DD",130,130,390,21,4,0)
Cardiac Definition Revised (2004):
"^DD",130,130,390,21,5,0)
Indicate if there was any new objective neurologic deficit lasting 
"^DD",130,130,390,21,6,0)
> 72 hours with onset immediately post-operatively or occurring within 
"^DD",130,130,390,21,7,0)
the 30 days after surgery.
"^DD",130,130,390,"DT")
3110711
"^DD",130,130,475,0)
*DIABETES (CARDIAC)^S^N:NO;D:DIET;O:ORAL;I:INSULIN;^209;3^Q
"^DD",130,130,475,.1)
*Diabetes
"^DD",130,130,475,3)
Enter the patient's diabetes status.
"^DD",130,130,475,21,0)
^^19^19^3110712^
"^DD",130,130,475,21,1,0)
This field has been flagged as obsolete for VASQIP. It should no longer 
"^DD",130,130,475,21,2,0)
be used.
"^DD",130,130,475,21,3,0)
 
"^DD",130,130,475,21,4,0)
Definition Revised (2006):
"^DD",130,130,475,21,5,0)
Indicate if the patient has diabetes treated with diet, oral, and/or 
"^DD",130,130,475,21,6,0)
insulin therapy. Diabetes is defined as a metabolic disorder of the 
"^DD",130,130,475,21,7,0)
pancreas whereby the individual requires daily dosages of exogenous 
"^DD",130,130,475,21,8,0)
parenteral insulin or an oral hypoglycemic agent to prevent a 
"^DD",130,130,475,21,9,0)
hyperglycemic/metabolic acidosis. If the patient is on both Oral and 
"^DD",130,130,475,21,10,0)
Insulin therapy, indicate Insulin therapy. Indicate the one most 
"^DD",130,130,475,21,11,0)
appropriate response.
"^DD",130,130,475,21,12,0)
No - no diagnosis of diabetes. 
"^DD",130,130,475,21,13,0)
Diet - a diagnosis of diabetes that is controlled by diet alone in the 
"^DD",130,130,475,21,14,0)
two weeks preceding surgery (the only prescribed treatment has been
"^DD",130,130,475,21,15,0)
diabetic relief).
"^DD",130,130,475,21,16,0)
Oral - a diagnosis of diabetes requiring therapy with an oral 
"^DD",130,130,475,21,17,0)
hypoglycemic agent in the two weeks preceding surgery.
"^DD",130,130,475,21,18,0)
Insulin - a diagnosis of diabetes requiring daily insulin therapy 
"^DD",130,130,475,21,19,0)
in the two weeks preceding surgery.
"^DD",130,130,475,"DT")
3110712
"^DD",130,130,510,0)
*CURRENT SMOKER (CARDIAC)^S^1:NEVER A SMOKER;2:WITHIN 2 WEEKS OF SURGERY;3:2 WEEKS TO 3 MONTHS PRIOR TO SURGERY;4:>3 MONTHS PRIOR TO SURGERY (REMOTE SMOKER);^200.1;5^Q
"^DD",130,130,510,.1)
*Current Smoker
"^DD",130,130,510,3)
Enter the code describing the patient's status as a smoker prior to surgery.
"^DD",130,130,510,21,0)
^^14^14^3110708^
"^DD",130,130,510,21,1,0)
This field has been flagged as obsolete for VASQIP. It should no longer 
"^DD",130,130,510,21,2,0)
be used.
"^DD",130,130,510,21,3,0)
 
"^DD",130,130,510,21,4,0)
Cardiac Definition Revised (2006): 
"^DD",130,130,510,21,5,0)
Indicate the patient's smoking status from information from the
"^DD",130,130,510,21,6,0)
patient, or the chart, that best describes the patient's use of 
"^DD",130,130,510,21,7,0)
tobacco in any form (pipe, cigar, cigarette, tobacco chew). If more
"^DD",130,130,510,21,8,0)
than one representation is found, please record according to the 
"^DD",130,130,510,21,9,0)
most conservative (most recent) quit date:
"^DD",130,130,510,21,10,0)
 
"^DD",130,130,510,21,11,0)
1 = never a smoker
"^DD",130,130,510,21,12,0)
2 = smoking within two weeks prior to surgery 
"^DD",130,130,510,21,13,0)
3 = smoking within 2 weeks to 3 months prior to surgery 
"^DD",130,130,510,21,14,0)
4 = remote smoker (more than 3 months prior to surgery)
"^DD",130,130,510,"DT")
3110901
"^DD",130,130,517,0)
TOBACCO USE^S^1:NEVER USED TOBACCO;2:NO USE IN LAST 12 MOS;3:CIGARETTES ONLY;4:OTHER (NO CIGARETTES);5:CIGARETTES PLUS OTHER;^200.1;9^Q
"^DD",130,130,517,.1)
Tobacco Use
"^DD",130,130,517,1,0)
^.1
"^DD",130,130,517,1,1,0)
^^TRIGGER^130^518
"^DD",130,130,517,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^SRF(D0,200.1)):^(200.1),1:"") S X=$P(Y(1),U,10),X=X S DIU=X K Y S X=DIV S X=$S(X<3:"NA",1:"") S DIH=$G(^SRF(DIV(0),200.1)),DIV=X S $P(^(200.1),U,10)=DIV,DIH=130,DIG=518 D ^DICR
"^DD",130,130,517,1,1,2)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^SRF(D0,200.1)):^(200.1),1:"") S X=$P(Y(1),U,10),X=X S DIU=X K Y S X="" S DIH=$G(^SRF(DIV(0),200.1)),DIV=X S $P(^(200.1),U,10)=DIV,DIH=130,DIG=518 D ^DICR
"^DD",130,130,517,1,1,"%D",0)
^^2^2^3110714^
"^DD",130,130,517,1,1,"%D",1,0)
Trigger to set the TOBACCO USE TIMEFRAME field (#518) to "NA" for NOT 
"^DD",130,130,517,1,1,"%D",2,0)
APPLICABLE if the TOBACCO USE field (#517) is set to a value less than 3.
"^DD",130,130,517,1,1,"CREATE VALUE")
S X=$S(X<3:"NA",1:"")
"^DD",130,130,517,1,1,"DELETE VALUE")
@
"^DD",130,130,517,1,1,"FIELD")
#518
"^DD",130,130,517,3)
Indicate the patient's type of tobacco product used in the 12 months prior to surgery.
"^DD",130,130,517,21,0)
^^9^9^3110923^
"^DD",130,130,517,21,1,0)
VASQIP Definitions (2011):
"^DD",130,130,517,21,2,0)
Indicate the patient's type of tobacco product used in the 12 months
"^DD",130,130,517,21,3,0)
prior to surgery. Select one:
"^DD",130,130,517,21,4,0)
 1 = Never used tobacco
"^DD",130,130,517,21,5,0)
 2 = No tobacco use in the last 12 months
"^DD",130,130,517,21,6,0)
 3 = Cigarettes only
"^DD",130,130,517,21,7,0)
 4 = Pipe, cigar, snuff, or chewing tobacco only (no cigarettes)
"^DD",130,130,517,21,8,0)
 5 = Cigarettes plus one or more of pipe, cigar, snuff, or chewing 
"^DD",130,130,517,21,9,0)
     tobacco
"^DD",130,130,517,"DT")
3110923
"^DD",130,130,518,0)
TOBACCO USE TIMEFRAME^SX^1:WITHIN 2 WEEKS;2:2 WKS TO 3 MOS;3:3 TO 12 MONTHS;NA:NOT APPLICABLE;^200.1;10^D CHK518^SROAPRE1
"^DD",130,130,518,.1)
Tobacco Use Timeframe
"^DD",130,130,518,3)
Indicate the timeframe of tobacco use prior to surgery.
"^DD",130,130,518,5,1,0)
130^517^1
"^DD",130,130,518,21,0)
^.001^6^6^3110808^^^
"^DD",130,130,518,21,1,0)
VASQIP Definitions (2011):
"^DD",130,130,518,21,2,0)
If the patient used tobacco products in the 12 months prior to 
"^DD",130,130,518,21,3,0)
surgery, indicate the timeframe:
"^DD",130,130,518,21,4,0)
 1 = within the 2 weeks prior to surgery
"^DD",130,130,518,21,5,0)
 2 = between 2 weeks and 3 months prior to surgery
"^DD",130,130,518,21,6,0)
 3 = between 3 months and 12 months prior to surgery
"^DD",130,130,518,"DT")
3110816
"^DD",130,130,519,0)
DIABETES MELLITUS CHRONIC^S^1:NO;2:DIET;3:ORAL;4:INSULIN;^200.1;11^Q
"^DD",130,130,519,.1)
Diabetes Mellitus: Chronic, Long-Term Management
"^DD",130,130,519,3)
Enter appropriate code for chronic, long-term Diabetes Mellitus management.
"^DD",130,130,519,21,0)
^^14^14^3110923^
"^DD",130,130,519,21,1,0)
VASQIP Definitions (2011):
"^DD",130,130,519,21,2,0)
Indicate the chronic, long-term treatment regimen for patients with a 
"^DD",130,130,519,21,3,0)
diagnosis of Diabetes Mellitus. Diabetes Mellitus is defined as a 
"^DD",130,130,519,21,4,0)
metabolic disorder of the pancreas whereby the individual requires 
"^DD",130,130,519,21,5,0)
diet modification, daily dosages of exogenous parenteral insulin or an
"^DD",130,130,519,21,6,0)
oral hypoglycemic agent to prevent a hyperglycemic/metabolic acidosis.
"^DD",130,130,519,21,7,0)
If the patient is on both Oral and Insulin therapy, indicate Insulin
"^DD",130,130,519,21,8,0)
therapy. 
"^DD",130,130,519,21,9,0)
 
"^DD",130,130,519,21,10,0)
 No - no diagnosis of diabetes
"^DD",130,130,519,21,11,0)
 Diet - a diagnosis of diabetes that is controlled by diet alone
"^DD",130,130,519,21,12,0)
 Oral - a diagnosis of diabetes requiring therapy with an oral 
"^DD",130,130,519,21,13,0)
        hypoglycemic agent
"^DD",130,130,519,21,14,0)
 Insulin - a diagnosis of diabetes requiring daily insulin therapy
"^DD",130,130,519,"DT")
3110923
"^DD",130,130,520,0)
DIABETES MELLITUS PREOP MGMT^S^1:NO;2:DIET;3:ORAL;4:INSULIN;^200.1;12^Q
"^DD",130,130,520,.1)
Diabetes Mellitus: Management Prior to Surgery
"^DD",130,130,520,3)
Enter appropriate code for management of Diabetes Mellitus in the two weeks prior to surgery.
"^DD",130,130,520,21,0)
^^16^16^3110923^
"^DD",130,130,520,21,1,0)
VASQIP Definitions (2011):
"^DD",130,130,520,21,2,0)
Indicate the treatment regimen for patients with a diagnosis of 
"^DD",130,130,520,21,3,0)
Diabetes Mellitus in the two weeks prior to surgery. Diabetes Mellitus
"^DD",130,130,520,21,4,0)
is defined as a metabolic disorder of the pancreas whereby the
"^DD",130,130,520,21,5,0)
individual requires diet modification, daily dosages of exogenous
"^DD",130,130,520,21,6,0)
parenteral insulin or an oral hypoglycemic agent to prevent a
"^DD",130,130,520,21,7,0)
hyperglycemic/metabolic acidosis. If the patient is on both Oral and
"^DD",130,130,520,21,8,0)
Insulin therapy, indicate Insulin therapy.
"^DD",130,130,520,21,9,0)
 
"^DD",130,130,520,21,10,0)
 No - no diagnosis of diabetes
"^DD",130,130,520,21,11,0)
 Diet - a diagnosis of diabetes that is controlled by diet alone in the
"^DD",130,130,520,21,12,0)
        two weeks preceding surgery
"^DD",130,130,520,21,13,0)
 Oral - a diagnosis of diabetes requiring therapy with an oral 
"^DD",130,130,520,21,14,0)
        hypoglycemic agent in the two weeks preceding surgery
"^DD",130,130,520,21,15,0)
 Insulin - a diagnosis of diabetes requiring daily insulin therapy in 
"^DD",130,130,520,21,16,0)
        the two weeks preceding surgery
"^DD",130,130,520,"DT")
3110923
"^DD",130,130,521,0)
CVD REPAIR/OBSTRUCTION^S^0:NO CVD;1:YES - NO SURGICAL REPAIR;2:YES - PRIOR SURGICAL REPAIR;^200.1;13^Q
"^DD",130,130,521,.1)
Prior Surgical Repair/Carotid Artery Obstruction
"^DD",130,130,521,3)
Enter value of 0-2 to indicate CVD.
"^DD",130,130,521,21,0)
^^10^10^3110923^
"^DD",130,130,521,21,1,0)
VASQIP Definitions (2011):
"^DD",130,130,521,21,2,0)
Select one of the following if patient has indication of 
"^DD",130,130,521,21,3,0)
Cerebrovascular Disease (CVD):
"^DD",130,130,521,21,4,0)
 0 = No CVD indication
"^DD",130,130,521,21,5,0)
 1 = Yes, CVD indication by documented obstruction of carotid artery 
"^DD",130,130,521,21,6,0)
     luminal diameter greater than or equal to 50% obstruction of the 
"^DD",130,130,521,21,7,0)
     carotid artery documented by contrast angiography or duplex
"^DD",130,130,521,21,8,0)
     ultrasound examination which did not result in surgical repair.
"^DD",130,130,521,21,9,0)
 2 = Yes, CVD indication resulting in prior carotid artery surgical 
"^DD",130,130,521,21,10,0)
     repair (e.g., carotid endarterectomy or stenting).
"^DD",130,130,521,"DT")
3110923
"^DD",130,130,522,0)
HISTORY OF CVD^S^0:NO CVD;1:HISTORY OF TIA'S;2:CVA/STROKE - NO NEURO DEFICIT;3:CVA/STROKE W/ NEURO DEFICIT;^200.1;14^Q
"^DD",130,130,522,.1)
History of CVD Events
"^DD",130,130,522,3)
Enter value of 0-3 to indicate if the patient has history of CVD events.
"^DD",130,130,522,21,0)
^^23^23^3110923^
"^DD",130,130,522,21,1,0)
VASQIP Definitions (2011):
"^DD",130,130,522,21,2,0)
Indicate if the patient has a history of cerebrovascular accident by 
"^DD",130,130,522,21,3,0)
selecting one of the following indications:  (If multiple events, 
"^DD",130,130,522,21,4,0)
select the one with greatest severity.):
"^DD",130,130,522,21,5,0)
 
"^DD",130,130,522,21,6,0)
 0 = No CVD
"^DD",130,130,522,21,7,0)
 
"^DD",130,130,522,21,8,0)
 1= History of Transient Ischemic Attacks: Transient ischemic attacks
"^DD",130,130,522,21,9,0)
    (TIAs) are focal neurologic deficits (e.g. numbness of an arm or 
"^DD",130,130,522,21,10,0)
    amaurosis fugax) of sudden onset and brief duration (usually <30 
"^DD",130,130,522,21,11,0)
    minutes), which usually reflect dysfunction in a cerebral vascular
"^DD",130,130,522,21,12,0)
    distribution.
"^DD",130,130,522,21,13,0)
    These attacks may be recurrent and, at times, may precede a stroke
"^DD",130,130,522,21,14,0)
    
"^DD",130,130,522,21,15,0)
 2= CVA/Stroke with no neurological deficit: History of 
"^DD",130,130,522,21,16,0)
    a cerebrovascular accident (embolic, thrombotic, or hemorrhagic) 
"^DD",130,130,522,21,17,0)
    with neurologic deficit(s) lasting at least 30 minutes, but no
"^DD",130,130,522,21,18,0)
    current residual neurologic dysfunction or deficit
"^DD",130,130,522,21,19,0)
    
"^DD",130,130,522,21,20,0)
 3= CVA/Stroke with neurological deficit: History of a cerebrovascular
"^DD",130,130,522,21,21,0)
    accident (embolic, thrombotic, or hemorrhagic) with persistent 
"^DD",130,130,522,21,22,0)
    residual motor, sensory, or cognitive dysfunction. (e.g.,
"^DD",130,130,522,21,23,0)
    hemiplegia, hemiparesis, aphasia, sensory deficit, impaired memory)
"^DD",130,130,522,"DT")
3110923
"^DD",130,130,618,0)
POSITIVE DRUG SCREENING^S^Y:YES;N:NO;NA:N/A;^200;55^Q
"^DD",130,130,618,.1)
Positive Drug Screening
"^DD",130,130,618,3)
Enter Yes for positive drug screening, No for negative drug screening and N/A for screening not performed. 
"^DD",130,130,618,21,0)
^.001^5^5^3110808^^^
"^DD",130,130,618,21,1,0)
Indicate if drug screening was performed and patient tested positive 
"^DD",130,130,618,21,2,0)
within 2 weeks prior to surgery. Yes; No; N/A
"^DD",130,130,618,21,3,0)
     Yes - drug screening indicated positive illicit drug use
"^DD",130,130,618,21,4,0)
     No - drug screening indicated negative illicit drug use
"^DD",130,130,618,21,5,0)
     N/A - no drug screening performed
"^DD",130,130,618,"DT")
3110829
"^DD",130,130,619,0)
FLASH-CONTAMINATION^NJ2,0^^52;1^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1.N) X
"^DD",130,130,619,.1)
Flash Steril-Contamination
"^DD",130,130,619,3)
Enter a number from 0 to 99.
"^DD",130,130,619,21,0)
^^2^2^3110901^
"^DD",130,130,619,21,1,0)
Indicate the number of episodes of Flash Sterilization due to 
"^DD",130,130,619,21,2,0)
contamination of a specialty item (one of a kind) in the OR.  
"^DD",130,130,619,"DT")
3110901
"^DD",130,130,620,0)
FLASH-SPD/OR MGT ISSUE^NJ2,0^^52;2^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1.N) X
"^DD",130,130,620,.1)
Flash Steril-SPD Processing/OR Management Issues
"^DD",130,130,620,3)
Enter a number from 0 to 99.
"^DD",130,130,620,21,0)
^^4^4^3110901^
"^DD",130,130,620,21,1,0)
Indicate the number of episodes of Flash Sterilization due to SPD 
"^DD",130,130,620,21,2,0)
processing and OR management issues (unsterile from SPD, hole in 
"^DD",130,130,620,21,3,0)
package, available in SPD but not sterilized, not processed in time,
"^DD",130,130,620,21,4,0)
missing in set, or broken in set).
"^DD",130,130,620,"DT")
3110901
"^DD",130,130,621,0)
FLASH-EMERGENCY CASE^NJ2,0^^52;3^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1.N) X
"^DD",130,130,621,.1)
Flash Steril-Emergency Case
"^DD",130,130,621,3)
Enter a number from 0 to 99.
"^DD",130,130,621,21,0)
^^2^2^3110908^
"^DD",130,130,621,21,1,0)
Indicate the number of episodes of Flash Sterilization due to an 
"^DD",130,130,621,21,2,0)
Emergency Case, such as instruments used on a previous case.
"^DD",130,130,621,"DT")
3110908
"^DD",130,130,622,0)
FLASH-NO BETTER OPTION^NJ2,0^^52;4^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1.N) X
"^DD",130,130,622,.1)
Flash Steril-No Better Option
"^DD",130,130,622,3)
Enter a number from 0 to 99. 
"^DD",130,130,622,21,0)
^^3^3^3110901^
"^DD",130,130,622,21,1,0)
Indicate the number of episodes of Flash Sterilization due to items 
"^DD",130,130,622,21,2,0)
for which there may be no better option (batteries, radioactive 
"^DD",130,130,622,21,3,0)
implants (seeds)).
"^DD",130,130,622,"DT")
3110901
"^DD",130,130,623,0)
FLASH-LOANER INSTRUMENT^NJ2,0^^52;5^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1.N) X
"^DD",130,130,623,.1)
Flash Steril-Loaner or Short Notice Instrument
"^DD",130,130,623,3)
Enter a number from 0 to 99.
"^DD",130,130,623,21,0)
^^3^3^3110901^
"^DD",130,130,623,21,1,0)
Indicate the number of episodes of Flash Sterilization due to loaner 
"^DD",130,130,623,21,2,0)
or short notice instrument excluding implants (instrument(s) not 
"^DD",130,130,623,21,3,0)
available with sufficient time to reprocess completely).
"^DD",130,130,623,"DT")
3110901
"^DD",130,130,624,0)
FLASH-DECONTAMINATION^NJ2,0^^52;6^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1.N) X
"^DD",130,130,624,.1)
Flash Steril-Decontamination of Instruments Not for Use In Patient
"^DD",130,130,624,3)
Enter a number from 0 to 99.   
"^DD",130,130,624,21,0)
^^3^3^3110908^
"^DD",130,130,624,21,1,0)
Indicate the number of episodes of Flash Sterilization due to 
"^DD",130,130,624,21,2,0)
decontamination of instruments not for use in patient without further 
"^DD",130,130,624,21,3,0)
reprocessing - not included in tracking.  
"^DD",130,130,624,"DT")
3110908
"^DD",130,130.01,11,0)
LOT NUMBER^F^^1;3^K:$L(X)>30!($L(X)<1) X
"^DD",130,130.01,11,.1)
Lot Number
"^DD",130,130.01,11,3)
Answer must be 1 to 30 characters in length. Enter "NA" if this prosthesis does not have a Lot Number.
"^DD",130,130.01,11,21,0)
^^3^3^3111019^
"^DD",130,130.01,11,21,1,0)
Indicate the lot number of the prosthesis that was implanted during 
"^DD",130,130.01,11,21,2,0)
surgery. This is a required field. Enter "NA" if this prosthesis does
"^DD",130,130.01,11,21,3,0)
not have a Lot Number.
"^DD",130,130.01,11,"DT")
3111101
"^DD",130,130.01,12,0)
SERIAL NUMBER^F^^1;4^K:$L(X)>30!($L(X)<1) X
"^DD",130,130.01,12,.1)
Serial Number
"^DD",130,130.01,12,3)
Answer must be 1-30 characters in length. Enter "NA" if this prosthesis does not have a Serial Number.
"^DD",130,130.01,12,21,0)
^^3^3^3111104^
"^DD",130,130.01,12,21,1,0)
Indicate the serial number of the prosthesis that was implanted during 
"^DD",130,130.01,12,21,2,0)
surgery. This is a required field. Enter "NA" if this prosthesis does 
"^DD",130,130.01,12,21,3,0)
not have a Serial Number.
"^DD",130,130.01,12,"DT")
3111104
"^DD",130,130.22,9,0)
STROKE/CVA DURATION^S^1:NO SYMPTOMS;2:<24 HOURS;3:24-72 HOURS;4:>72 HOURS;^0;8^Q
"^DD",130,130.22,9,.1)
Stroke/CVA Duration
"^DD",130,130.22,9,3)
Enter code (1, 2, 3 or 4) that best describes the Stroke/CVA duration.
"^DD",130,130.22,9,21,0)
^^11^11^3110803^
"^DD",130,130.22,9,21,1,0)
VASQIP Definitions (2011):
"^DD",130,130.22,9,21,2,0)
Indicate if the patient developed a new neurologic deficit with onset
"^DD",130,130.22,9,21,3,0)
immediately post-operatively or occurring within the 30 days after 
"^DD",130,130.22,9,21,4,0)
surgery.  Neurologic deficits are defined as an embolic, thrombotic, 
"^DD",130,130.22,9,21,5,0)
or hemorrhagic vascular accident or stroke with motor, sensory, or
"^DD",130,130.22,9,21,6,0)
cognitive dysfunction (e.g., hemiplegia,hemiparesis, aphasia, sensory
"^DD",130,130.22,9,21,7,0)
deficit, impaired memory).  Indicate the duration as follows:
"^DD",130,130.22,9,21,8,0)
 1) no symptoms
"^DD",130,130.22,9,21,9,0)
 2) symptomatic duration less than 24 hours
"^DD",130,130.22,9,21,10,0)
 3) symptomatic duration of 24-72 hours
"^DD",130,130.22,9,21,11,0)
 4) symptomatic duration >72 hours
"^DD",130,130.22,9,"DT")
3110711
"^DD",131.9,131.9,8,0)
LOT NUMBER^F^^1;3^K:$L(X)>30!($L(X)<1) X
"^DD",131.9,131.9,8,.1)
Lot Number
"^DD",131.9,131.9,8,3)
Answer must be 1-30 characters in length.
"^DD",131.9,131.9,8,21,0)
^^1^1^3110901^
"^DD",131.9,131.9,8,21,1,0)
This is the lot number of the implanted prosthetic device.
"^DD",131.9,131.9,8,"DT")
3110901
"^DD",131.9,131.9,9,0)
SERIAL NUMBER^F^^1;4^K:$L(X)>30!($L(X)<1) X
"^DD",131.9,131.9,9,.1)
Serial Number
"^DD",131.9,131.9,9,3)
Answer must be 1-30 characters in length.
"^DD",131.9,131.9,9,21,0)
^^1^1^3110901^
"^DD",131.9,131.9,9,21,1,0)
This is the serial number of the implanted prosthetic device.
"^DD",131.9,131.9,9,"DT")
3110901
"^DD",133,133,8,0)
LATEST 30-READMISSION REPORT^FOX^^0;9^D QTR^SROQ30D
"^DD",133,133,8,.1)
Most Recent Quarterly Transmission of 30-Day Readmissions
"^DD",133,133,8,2)
S Y(0)=Y S Y=$E(Y,1,4)_", Quarter #"_$E(Y,5)
"^DD",133,133,8,2.1)
S Y=$E(Y,1,4)_", Quarter #"_$E(Y,5)
"^DD",133,133,8,3)
Enter the FISCAL YEAR and QUARTER separated by a hyphen (-), e.g., 2011-4.
"^DD",133,133,8,21,0)
^^3^3^3110705^
"^DD",133,133,8,21,1,0)
This field contains the latest fiscal quarter for which the 30-day 
"^DD",133,133,8,21,2,0)
postoperative readmissions report has been transmitted to the VASQIP 
"^DD",133,133,8,21,3,0)
database.
"^DD",133,133,8,"DT")
3110705
"^DD",136.5,136.5,0)
FIELD^^5^6
"^DD",136.5,136.5,0,"DDA")
N
"^DD",136.5,136.5,0,"DT")
2950309
"^DD",136.5,136.5,0,"ID",2)
D DESC^SROCMPS
"^DD",136.5,136.5,0,"IX","B",136.5,.01)

"^DD",136.5,136.5,0,"IX","C",136.53,.01)

"^DD",136.5,136.5,0,"NM","PERIOPERATIVE OCCURRENCE CATEGORY")

"^DD",136.5,136.5,0,"PT",130.0126,5)

"^DD",136.5,136.5,0,"PT",130.053,5)

"^DD",136.5,136.5,0,"PT",130.13,3)

"^DD",136.5,136.5,0,"PT",130.22,5)

"^DD",136.5,136.5,0,"PT",139.046,.01)

"^DD",136.5,136.5,0,"VRPK")
SR
"^DD",136.5,136.5,.01,0)
OCCURRENCE CATEGORY^RFI^^0;1^K:$L(X)>60!($L(X)<3)!'(X'?1P.E) X
"^DD",136.5,136.5,.01,.1)
Occurrence Category
"^DD",136.5,136.5,.01,1,0)
^.1
"^DD",136.5,136.5,.01,1,1,0)
136.5^B
"^DD",136.5,136.5,.01,1,1,1)
S ^SRO(136.5,"B",$E(X,1,30),DA)=""
"^DD",136.5,136.5,.01,1,1,2)
K ^SRO(136.5,"B",$E(X,1,30),DA)
"^DD",136.5,136.5,.01,3)
Your answer must be 3-60 characters in length.
"^DD",136.5,136.5,.01,9)
^
"^DD",136.5,136.5,.01,21,0)
^^3^3^2950427^
"^DD",136.5,136.5,.01,21,1,0)
This field contains the name of the perioperative occurrence category to
"^DD",136.5,136.5,.01,21,2,0)
be used when categorizing surgical and anesthesia perioperative
"^DD",136.5,136.5,.01,21,3,0)
occurrences.
"^DD",136.5,136.5,.01,"DT")
2950427
"^DD",136.5,136.5,.01,"LAYGO",1,0)
W !,"Adding to the Perioperative Occurrence Category file is not allowed !!",*7 I 0
"^DD",136.5,136.5,1,0)
INACTIVE?^SI^1:YES;0:NO;^0;2^Q
"^DD",136.5,136.5,1,.1)
Inactive? (Y/N)
"^DD",136.5,136.5,1,3)
Enter YES to inactivate this perioperative occurrence category.
"^DD",136.5,136.5,1,9)
^
"^DD",136.5,136.5,1,21,0)
^^2^2^2950224^
"^DD",136.5,136.5,1,21,1,0)
If this perioperative occurrence category is no longer used, enter YES to
"^DD",136.5,136.5,1,21,2,0)
flag this category as INACTIVE.
"^DD",136.5,136.5,1,"DT")
2950224
"^DD",136.5,136.5,2,0)
DESCRIPTION^136.52^^1;0
"^DD",136.5,136.5,2,9)
^
"^DD",136.5,136.5,2,20,0)
^.3LA^^0
"^DD",136.5,136.5,2,21,0)
^^2^2^2950224^
"^DD",136.5,136.5,2,21,1,0)
This is a description used to further define the perioperative occurrence
"^DD",136.5,136.5,2,21,2,0)
type.
"^DD",136.5,136.5,3,0)
SYNONYM^136.53^^2;0
"^DD",136.5,136.5,3,21,0)
^^1^1^2950315^
"^DD",136.5,136.5,3,21,1,0)
This is another name for this perioperative occurrence category.
"^DD",136.5,136.5,4,0)
INTRAOPERATIVE ALLOWED^SI^1:YES;0:NO;^0;3^Q
"^DD",136.5,136.5,4,.1)
Intraoperative Occurrence Allowed ?
"^DD",136.5,136.5,4,3)
Enter YES if this may be an intraoperative occurrence.
"^DD",136.5,136.5,4,9)
^
"^DD",136.5,136.5,4,21,0)
^^2^2^2951113^^
"^DD",136.5,136.5,4,21,1,0)
If this occurrence category may be associated with an intraoperative
"^DD",136.5,136.5,4,21,2,0)
occurrence, enter YES.
"^DD",136.5,136.5,4,"DT")
2951113
"^DD",136.5,136.5,5,0)
CARDIAC ONLY^S^Y:YES;N:NO;^0;4^Q
"^DD",136.5,136.5,5,.1)
Cardiac Only
"^DD",136.5,136.5,5,3)
Enter YES if the occurrence category is for a cardiac assessment case.
"^DD",136.5,136.5,5,9)
^
"^DD",136.5,136.5,5,21,0)
^^2^2^3000822^
"^DD",136.5,136.5,5,21,1,0)
If this occurrence category may be associated with a cardiac assessed case
"^DD",136.5,136.5,5,21,2,0)
only, enter YES.
"^DD",136.5,136.5,5,"DT")
3000713
"^DD",136.5,136.52,0)
DESCRIPTION SUB-FIELD^^.01^1
"^DD",136.5,136.52,0,"NM","DESCRIPTION")

"^DD",136.5,136.52,0,"UP")
136.5
"^DD",136.5,136.52,.01,0)
DESCRIPTION^W^^0;1^Q
"^DD",136.5,136.52,.01,.1)
Perioperative Occurrence Category Decsription
"^DD",136.5,136.52,.01,3)
Enter a brief description further defining this perioperative occurrence type.
"^DD",136.5,136.52,.01,21,0)
^^2^2^2950224^
"^DD",136.5,136.52,.01,21,1,0)
This is a description used to further define and clarify each
"^DD",136.5,136.52,.01,21,2,0)
perioperative occurrence category.
"^DD",136.5,136.52,.01,21,3,0)
 
"^DD",136.5,136.52,.01,"DT")
2950224
"^DD",136.5,136.53,0)
SYNONYM SUB-FIELD^^.01^1
"^DD",136.5,136.53,0,"DT")
2950309
"^DD",136.5,136.53,0,"IX","B",136.53,.01)

"^DD",136.5,136.53,0,"NM","SYNONYM")

"^DD",136.5,136.53,0,"UP")
136.5
"^DD",136.5,136.53,.01,0)
SYNONYM^MF^^0;1^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>60!($L(X)<3) X
"^DD",136.5,136.53,.01,.1)
Synonym
"^DD",136.5,136.53,.01,1,0)
^.1
"^DD",136.5,136.53,.01,1,1,0)
136.53^B
"^DD",136.5,136.53,.01,1,1,1)
S ^SRO(136.5,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",136.5,136.53,.01,1,1,2)
K ^SRO(136.5,DA(1),2,"B",$E(X,1,30),DA)
"^DD",136.5,136.53,.01,1,2,0)
136.5^C
"^DD",136.5,136.53,.01,1,2,1)
S ^SRO(136.5,"C",$E(X,1,30),DA(1),DA)=""
"^DD",136.5,136.53,.01,1,2,2)
K ^SRO(136.5,"C",$E(X,1,30),DA(1),DA)
"^DD",136.5,136.53,.01,1,2,"DT")
2950309
"^DD",136.5,136.53,.01,3)
Answer must be 3-60 characters in length.
"^DD",136.5,136.53,.01,21,0)
^^1^1^2950315^
"^DD",136.5,136.53,.01,21,1,0)
This is another name for this perioperative occurrence category.
"^DD",136.5,136.53,.01,"DT")
2950309
"^DD",139.5,139.5,121,0)
STROKE/CVA^*S^Y:YES;N:NO;1:NO SYMPTOMS;2:<24 HOURS;3:24-72 HOURS;4:>72 HOURS;^10;6^Q
"^DD",139.5,139.5,121,.1)
Stroke/CVA
"^DD",139.5,139.5,121,3)
Enter status of Stroke/CVA.
"^DD",139.5,139.5,121,12)
Screen prevents selection of YES and NO.
"^DD",139.5,139.5,121,12.1)
S DIC("S")="I ""YN""'[Y"
"^DD",139.5,139.5,121,21,0)
^.001^11^11^3110916^^^
"^DD",139.5,139.5,121,21,1,0)
VASQIP Definitions (2011):
"^DD",139.5,139.5,121,21,2,0)
Indicate if the patient developed a new neurologic deficit with onset 
"^DD",139.5,139.5,121,21,3,0)
immediately post-operatively or occurring within the 30 days after 
"^DD",139.5,139.5,121,21,4,0)
surgery.  Neurologic deficits are defined as an embolic, thrombotic, or
"^DD",139.5,139.5,121,21,5,0)
hemorrhagic vascular accident or stroke with motor, sensory, or 
"^DD",139.5,139.5,121,21,6,0)
cognitive dysfunction (e.g., hemiplegia,hemiparesis, aphasia, sensory
"^DD",139.5,139.5,121,21,7,0)
deficit, impaired memory).  Indicate the duration as follows:
"^DD",139.5,139.5,121,21,8,0)
 1) no symptoms
"^DD",139.5,139.5,121,21,9,0)
 2) symptomatic duration less than 24 hours
"^DD",139.5,139.5,121,21,10,0)
 3) symptomatic duration of 24-72 hours
"^DD",139.5,139.5,121,21,11,0)
 4) symptomatic duration >72 hours
"^DD",139.5,139.5,121,"DT")
3110711
"^DD",139.5,139.5,147,0)
*DIABETES MELLITUS^*S^N:NO;D:DIET;O:ORAL;I:INSULIN;^.55;7^Q
"^DD",139.5,139.5,147,.1)
*Diabetes Mellitus
"^DD",139.5,139.5,147,3)
Enter status of Diabetes Mellitus.
"^DD",139.5,139.5,147,12)
Screen out DIET for Lung, Liver, and Kidney
"^DD",139.5,139.5,147,12.1)
S DIC("S")="I $$F147^SRTPUTL($G(SRTPP,DA))"
"^DD",139.5,139.5,147,21,0)
^^22^22^3110712^
"^DD",139.5,139.5,147,21,1,0)
This field has been flagged as obsolete for VASQIP. It should no longer 
"^DD",139.5,139.5,147,21,2,0)
be used.
"^DD",139.5,139.5,147,21,3,0)
 
"^DD",139.5,139.5,147,21,4,0)
Indicate if the patient has diabetes treated with diet, oral, and/or 
"^DD",139.5,139.5,147,21,5,0)
insulin therapy. Diabetes is defined as a metabolic disorder of the 
"^DD",139.5,139.5,147,21,6,0)
pancreas whereby the individual requires daily dosages of exogenous 
"^DD",139.5,139.5,147,21,7,0)
parenteral insulin or an oral hypoglycemic agent to prevent a 
"^DD",139.5,139.5,147,21,8,0)
hyperglycemic/metabolic acidosis. If the patient is on both Oral and 
"^DD",139.5,139.5,147,21,9,0)
Insulin therapy, indicate Insulin therapy. Indicate the one most 
"^DD",139.5,139.5,147,21,10,0)
appropriate response. 
"^DD",139.5,139.5,147,21,11,0)
 
"^DD",139.5,139.5,147,21,12,0)
No - no diagnosis of diabetes. 
"^DD",139.5,139.5,147,21,13,0)
 
"^DD",139.5,139.5,147,21,14,0)
Diet - a diagnosis of diabetes that is controlled by diet alone in the 
"^DD",139.5,139.5,147,21,15,0)
       two weeks preceding surgery (the only prescribed treatment has 
"^DD",139.5,139.5,147,21,16,0)
       been diabetic relief).
"^DD",139.5,139.5,147,21,17,0)
 
"^DD",139.5,139.5,147,21,18,0)
Oral - a diagnosis of diabetes requiring therapy with an oral 
"^DD",139.5,139.5,147,21,19,0)
       hypoglycemic agent in the two weeks preceding surgery.
"^DD",139.5,139.5,147,21,20,0)
 
"^DD",139.5,139.5,147,21,21,0)
Insulin - a diagnosis of diabetes requiring daily insulin therapy in 
"^DD",139.5,139.5,147,21,22,0)
       the two weeks preceding surgery.
"^DD",139.5,139.5,147,"DT")
3110712
"^DD",139.5,139.5,171,0)
*CURRENT SMOKER^S^1:NEVER A SMOKER;2:WITHIN 2 WEEKS OF SURGERY;3:2 WEEKS TO 3 MONTHS PRIOR TO SURGERY;4:>3 MONTHS PRIOR TO SURGERY (REMOTE SMOKER);^.55;15^Q
"^DD",139.5,139.5,171,.1)
*Current Smoker
"^DD",139.5,139.5,171,3)
Enter Current Smoker status.
"^DD",139.5,139.5,171,21,0)
^.001^16^16^3110720^^
"^DD",139.5,139.5,171,21,1,0)
This field has been flagged as obsolete for VASQIP. It should no longer 
"^DD",139.5,139.5,171,21,2,0)
be used.
"^DD",139.5,139.5,171,21,3,0)
 
"^DD",139.5,139.5,171,21,4,0)
Indicate the patient's smoking status from information from the 
"^DD",139.5,139.5,171,21,5,0)
patient, or the chart, that best describes the patient's use of 
"^DD",139.5,139.5,171,21,6,0)
tobacco in any form (pipe, cigar, cigarette, tobacco chew).  If more
"^DD",139.5,139.5,171,21,7,0)
than one representation is found, please record according to the most
"^DD",139.5,139.5,171,21,8,0)
conservative (most recent) quit date:
"^DD",139.5,139.5,171,21,9,0)
 
"^DD",139.5,139.5,171,21,10,0)
1 = Never a Smoker 
"^DD",139.5,139.5,171,21,11,0)
 
"^DD",139.5,139.5,171,21,12,0)
2 = Smoking w/i 2 weeks prior to surgery
"^DD",139.5,139.5,171,21,13,0)
 
"^DD",139.5,139.5,171,21,14,0)
3 = Smoking w/i 2 weeks to 3 months prior to surgery
"^DD",139.5,139.5,171,21,15,0)
 
"^DD",139.5,139.5,171,21,16,0)
4 = Remote Smoker (more than 3 months prior to surgery)
"^DD",139.5,139.5,171,"DT")
3110901
"^DD",139.5,139.5,174,0)
*CEREBRAL VASCULAR DISEASE^S^Y:YES;N:NO;^.55;18^Q
"^DD",139.5,139.5,174,.1)
*Cerebral Vascular Disease
"^DD",139.5,139.5,174,3)
Enter status of Cerebral Vascular Disease.
"^DD",139.5,139.5,174,21,0)
^^11^11^3110720^
"^DD",139.5,139.5,174,21,1,0)
This field has been flagged as obsolete for VASQIP. It should no longer 
"^DD",139.5,139.5,174,21,2,0)
be used.
"^DD",139.5,139.5,174,21,3,0)
 
"^DD",139.5,139.5,174,21,4,0)
Indicate if the patient has cerebral vascular disease, defined as 
"^DD",139.5,139.5,174,21,5,0)
disease of the arteries to the head manifested by previous stroke
"^DD",139.5,139.5,174,21,6,0)
(cerebral vascular accident), and/or transient ischemic attack (TIA),
"^DD",139.5,139.5,174,21,7,0)
and/or prior surgical repair (e.g., carotid endarterectomy), and/or
"^DD",139.5,139.5,174,21,8,0)
greater than or equal to 50% obstruction of luminal diameter 
"^DD",139.5,139.5,174,21,9,0)
documented by contrast angiography or duplex ultrasound examination.
"^DD",139.5,139.5,174,21,10,0)
(NOTE: Stroke should be broadly interpreted to include intracerebral
"^DD",139.5,139.5,174,21,11,0)
or subarachnoid bleeding.)
"^DD",139.5,139.5,174,"DT")
3110720
"^DD",139.5,139.5,191,0)
RENAL FAILURE REQ. DIALYSIS^S^Y:YES;N:NO;^10;16^Q
"^DD",139.5,139.5,191,.1)
Renal Failure Requiring Dialysis
"^DD",139.5,139.5,191,3)
Enter YES if the patient has acute renal failure.
"^DD",139.5,139.5,191,21,0)
^^11^11^3110831^
"^DD",139.5,139.5,191,21,1,0)
VASQIP Definition (2011): Indicate if the patient developed new renal 
"^DD",139.5,139.5,191,21,2,0)
failure requiring renal replacement therapy or experienced an 
"^DD",139.5,139.5,191,21,3,0)
exacerbation of preoperative renal failure requiring initiation of 
"^DD",139.5,139.5,191,21,4,0)
renal replacement therapy (not on renal replacement therapy
"^DD",139.5,139.5,191,21,5,0)
preoperatively) within 30 days postoperatively.  Renal replacement 
"^DD",139.5,139.5,191,21,6,0)
therapy is defined as venous to venous hemodialysis [CVVHD], 
"^DD",139.5,139.5,191,21,7,0)
continuous venous to arterial hemodialysis [CVAHD], peritoneal 
"^DD",139.5,139.5,191,21,8,0)
dialysis, hemofiltration, hemodiafiltration or ultrafiltration.
"^DD",139.5,139.5,191,21,9,0)
 
"^DD",139.5,139.5,191,21,10,0)
TIP: If the patient refuses dialysis, report as an occurrence because 
"^DD",139.5,139.5,191,21,11,0)
he/she did require dialysis.
"^DD",139.5,139.5,191,"DT")
3110831
"^DD",139.5,139.5,192,0)
PERIOPERATIVE MI^S^Y:YES;N:NO;^10;17^Q
"^DD",139.5,139.5,192,.1)
Perioperative MI
"^DD",139.5,139.5,192,3)
Enter YES if the patient has had a myocardial infarction.
"^DD",139.5,139.5,192,21,0)
^^15^15^3110831^
"^DD",139.5,139.5,192,21,1,0)
VASQIP Definition (2011): 
"^DD",139.5,139.5,192,21,2,0)
Indicate the presence of a peri-operative MI that occurs either 
"^DD",139.5,139.5,192,21,3,0)
intraoperatively or postoperatively within 30 days: 
"^DD",139.5,139.5,192,21,4,0)
 
"^DD",139.5,139.5,192,21,5,0)
Non-Cardiac Surgery: 
"^DD",139.5,139.5,192,21,6,0)
A new transmural acute myocardial infarction as manifested by new 
"^DD",139.5,139.5,192,21,7,0)
Q-waves on ECG. (Non-Q-wave infarctions should be entered under 
"^DD",139.5,139.5,192,21,8,0)
"Other Occurrence").
"^DD",139.5,139.5,192,21,9,0)
 
"^DD",139.5,139.5,192,21,10,0)
Cardiac Surgery: 
"^DD",139.5,139.5,192,21,11,0)
A new transmural acute myocardial infarction as manifested by at 
"^DD",139.5,139.5,192,21,12,0)
least one of the following criteria:  
"^DD",139.5,139.5,192,21,13,0)
1. Development of new Q-waves in two or more contiguous ECG leads; 
"^DD",139.5,139.5,192,21,14,0)
2. Evolutionary ST-segment elevations; 
"^DD",139.5,139.5,192,21,15,0)
3. New or presumably new LBBB pattern on the ECG.
"^DD",139.5,139.5,192,"DT")
3110831
"^DD",139.5,139.5,198,0)
TOBACCO USE^S^1:NEVER USED TOBACCO;2:NO USE IN LAST 12 MOS;3:CIGARETTES ONLY;4:OTHER (NO CIGARETTES);5:CIGARETTES PLUS OTHER;^.55;24^Q
"^DD",139.5,139.5,198,.1)
Tobacco Use
"^DD",139.5,139.5,198,1,0)
^.1
"^DD",139.5,139.5,198,1,1,0)
^^TRIGGER^139.5^199
"^DD",139.5,139.5,198,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^SRT(D0,.55)):^(.55),1:"") S X=$P(Y(1),U,25),X=X S DIU=X K Y S X=DIV S X=$S(X<3:"NA",1:"") S DIH=$G(^SRT(DIV(0),.55)),DIV=X S $P(^(.55),U,25)=DIV,DIH=139.5,DIG=199 D ^DICR
"^DD",139.5,139.5,198,1,1,2)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^SRT(D0,.55)):^(.55),1:"") S X=$P(Y(1),U,25),X=X S DIU=X K Y S X="" S DIH=$G(^SRT(DIV(0),.55)),DIV=X S $P(^(.55),U,25)=DIV,DIH=139.5,DIG=199 D ^DICR
"^DD",139.5,139.5,198,1,1,"%D",0)
^^3^3^3110714^
"^DD",139.5,139.5,198,1,1,"%D",1,0)
Trigger to set the TOBACCO USE TIMEFRAME field (#199) to "NA" for NOT
"^DD",139.5,139.5,198,1,1,"%D",2,0)
APPLICABLE if the TOBACCO USE field (#198) is set to a value less than 
"^DD",139.5,139.5,198,1,1,"%D",3,0)
3.
"^DD",139.5,139.5,198,1,1,"CREATE VALUE")
S X=$S(X<3:"NA",1:"")
"^DD",139.5,139.5,198,1,1,"DELETE VALUE")
@
"^DD",139.5,139.5,198,1,1,"FIELD")
TOBACCO USE TIMEFRAME
"^DD",139.5,139.5,198,3)
Indicate the patient's type of tobacco product used in the 12 months prior to surgery.
"^DD",139.5,139.5,198,21,0)
^^9^9^3110923^
"^DD",139.5,139.5,198,21,1,0)
VASQIP Definitions (2011):
"^DD",139.5,139.5,198,21,2,0)
Indicate the patient's type of tobacco product used in the 12 months  
"^DD",139.5,139.5,198,21,3,0)
prior to surgery. Select one:
"^DD",139.5,139.5,198,21,4,0)
 1 = Never used tobacco
"^DD",139.5,139.5,198,21,5,0)
 2 = No tobacco use in the last 12 months
"^DD",139.5,139.5,198,21,6,0)
 3 = Cigarettes only
"^DD",139.5,139.5,198,21,7,0)
 4 = Pipe, cigar, snuff, or chewing tobacco only (no cigarettes)
"^DD",139.5,139.5,198,21,8,0)
 5 = Cigarettes plus one or more of pipe, cigar, snuff, or chewing 
"^DD",139.5,139.5,198,21,9,0)
     tobacco
"^DD",139.5,139.5,198,"DT")
3110923
"^DD",139.5,139.5,199,0)
TOBACCO USE TIMEFRAME^SX^1:WITHIN 2 WEEKS;2:2 WKS TO 3 MOS;3:3 TO 12 MONTHS;NA:NOT APPLICABLE;^.55;25^D CHK199^SRTPUTL
"^DD",139.5,139.5,199,.1)
Tobacco Use Timeframe
"^DD",139.5,139.5,199,3)
Indicate the timeframe of tobacco use prior to surgery.
"^DD",139.5,139.5,199,5,1,0)
139.5^198^1
"^DD",139.5,139.5,199,21,0)
^.001^6^6^3110811^^^
"^DD",139.5,139.5,199,21,1,0)
VASQIP Definitions (2011):
"^DD",139.5,139.5,199,21,2,0)
If the patient used tobacco products in the 12 months prior to 
"^DD",139.5,139.5,199,21,3,0)
surgery, indicate the timeframe:
"^DD",139.5,139.5,199,21,4,0)
 1 = within the 2 weeks prior to surgery
"^DD",139.5,139.5,199,21,5,0)
 2 = between 2 weeks and 3 months prior to surgery
"^DD",139.5,139.5,199,21,6,0)
 3 = between 3 months and 12 months prior to surgery
"^DD",139.5,139.5,199,"DT")
3110816
"^DD",139.5,139.5,200,0)
DIABETES MELLITUS CHRONIC^S^1:NO;2:DIET;3:ORAL;4:INSULIN;^.55;26^Q
"^DD",139.5,139.5,200,.1)
Diabetes Mellitus: Chronic, Long-term Management
"^DD",139.5,139.5,200,3)
Enter appropriate code for chronic, long-term Diabetes Mellitus management.
"^DD",139.5,139.5,200,21,0)
^^14^14^3110923^
"^DD",139.5,139.5,200,21,1,0)
VASQIP Definitions (2011):
"^DD",139.5,139.5,200,21,2,0)
Indicate the chronic, long-term treatment regimen for patients with a 
"^DD",139.5,139.5,200,21,3,0)
diagnosis of Diabetes Mellitus. Diabetes Mellitus is defined as a 
"^DD",139.5,139.5,200,21,4,0)
metabolic disorder of the pancreas whereby the individual requires 
"^DD",139.5,139.5,200,21,5,0)
diet modification, daily dosages of exogenous parenteral insulin or an
"^DD",139.5,139.5,200,21,6,0)
oral hypoglycemic agent to prevent a hyperglycemic/metabolic acidosis.
"^DD",139.5,139.5,200,21,7,0)
If the patient is on both Oral and Insulin therapy, indicate Insulin
"^DD",139.5,139.5,200,21,8,0)
therapy. 
"^DD",139.5,139.5,200,21,9,0)
 
"^DD",139.5,139.5,200,21,10,0)
 No - no diagnosis of diabetes
"^DD",139.5,139.5,200,21,11,0)
 Diet - a diagnosis of diabetes that is controlled by diet alone
"^DD",139.5,139.5,200,21,12,0)
 Oral - a diagnosis of diabetes requiring therapy with an oral 
"^DD",139.5,139.5,200,21,13,0)
        hypoglycemic agent
"^DD",139.5,139.5,200,21,14,0)
 Insulin - a diagnosis of diabetes requiring daily insulin therapy
"^DD",139.5,139.5,200,"DT")
3110923
"^DD",139.5,139.5,201,0)
DIABETES MELLITUS PREOP MGMT^S^1:NO;2:DIET;3:ORAL;4:INSULIN;^.55;27^Q
"^DD",139.5,139.5,201,.1)
Diabetes Mellitus: Management Prior to Surgery
"^DD",139.5,139.5,201,3)
Enter appropriate code for management of Diabetes Mellitus in the two weeks prior to surgery.
"^DD",139.5,139.5,201,21,0)
^^16^16^3110923^
"^DD",139.5,139.5,201,21,1,0)
VASQIP Definitions (2011):
"^DD",139.5,139.5,201,21,2,0)
Indicate the treatment regimen for patients with a diagnosis of 
"^DD",139.5,139.5,201,21,3,0)
Diabetes Mellitus in the two weeks prior to surgery. Diabetes Mellitus
"^DD",139.5,139.5,201,21,4,0)
is defined as a metabolic disorder of the pancreas whereby the
"^DD",139.5,139.5,201,21,5,0)
individual requires diet modification, daily dosages of exogenous
"^DD",139.5,139.5,201,21,6,0)
parenteral insulin or an oral hypoglycemic agent to prevent a
"^DD",139.5,139.5,201,21,7,0)
hyperglycemic/metabolic acidosis. If the patient is on both Oral and
"^DD",139.5,139.5,201,21,8,0)
Insulin therapy, indicate Insulin therapy.
"^DD",139.5,139.5,201,21,9,0)
 
"^DD",139.5,139.5,201,21,10,0)
 No - no diagnosis of diabetes
"^DD",139.5,139.5,201,21,11,0)
 Diet - a diagnosis of diabetes that is controlled by diet alone in the
"^DD",139.5,139.5,201,21,12,0)
        two weeks preceding surgery
"^DD",139.5,139.5,201,21,13,0)
 Oral - a diagnosis of diabetes requiring therapy with an oral 
"^DD",139.5,139.5,201,21,14,0)
        hypoglycemic agent in the two weeks preceding surgery
"^DD",139.5,139.5,201,21,15,0)
 Insulin - a diagnosis of diabetes requiring daily insulin therapy in
"^DD",139.5,139.5,201,21,16,0)
        the two weeks preceding surgery
"^DD",139.5,139.5,201,"DT")
3110923
"^DD",139.5,139.5,202,0)
CVD REPAIR/OBSTRUCTION^S^0:NO CVD;1:YES - NO SURGICAL REPAIR;2:YES - PRIOR SURGICAL REPAIR;^.55;28^Q
"^DD",139.5,139.5,202,.1)
Prior Surgical Repair/Carotid Artery Obstruction
"^DD",139.5,139.5,202,3)
Enter value of 0-2 to indicate CVD.
"^DD",139.5,139.5,202,21,0)
^^10^10^3110923^
"^DD",139.5,139.5,202,21,1,0)
VASQIP Definitions (2011):
"^DD",139.5,139.5,202,21,2,0)
Select one of the following if patient has indication of 
"^DD",139.5,139.5,202,21,3,0)
Cerebrovascular Disease (CVD):
"^DD",139.5,139.5,202,21,4,0)
 0 = No CVD indication
"^DD",139.5,139.5,202,21,5,0)
 1 = Yes, CVD indication by documented obstruction of carotid artery 
"^DD",139.5,139.5,202,21,6,0)
     luminal diameter greater than or equal to 50% obstruction of the
"^DD",139.5,139.5,202,21,7,0)
     carotid artery documented by contrast angiography or duplex
"^DD",139.5,139.5,202,21,8,0)
     ultrasound examination which did not result in surgical repair
"^DD",139.5,139.5,202,21,9,0)
 2 = Yes, CVD indication resulting in prior carotid artery surgical 
"^DD",139.5,139.5,202,21,10,0)
     repair (e.g., carotid endarterectomy or stenting)
"^DD",139.5,139.5,202,"DT")
3110923
"^DD",139.5,139.5,203,0)
HISTORY OF CVD^S^0:NO CVD;1:HISTORY OF TIA'S;2:CVA/STROKE - NO NEURO DEFICIT;3:CVA/STROKE W/ NEURO DEFICIT;^.55;29^Q
"^DD",139.5,139.5,203,.1)
History of CVD Events
"^DD",139.5,139.5,203,3)
Enter value of 0-3 to indicate if the patient has history of CVD events.
"^DD",139.5,139.5,203,21,0)
^^23^23^3110923^
"^DD",139.5,139.5,203,21,1,0)
VASQIP Definitions (2011):
"^DD",139.5,139.5,203,21,2,0)
Indicate if the patient has a history of cerebrovascular accident by 
"^DD",139.5,139.5,203,21,3,0)
selecting one of the following indications:  (If multiple events, 
"^DD",139.5,139.5,203,21,4,0)
select the one with greatest severity.):
"^DD",139.5,139.5,203,21,5,0)
 
"^DD",139.5,139.5,203,21,6,0)
 0 = No CVD
"^DD",139.5,139.5,203,21,7,0)
 
"^DD",139.5,139.5,203,21,8,0)
 1 = History of Transient Ischemic Attacks: Transient ischemic attacks
"^DD",139.5,139.5,203,21,9,0)
     (TIAs) are focal neurologic deficits (e.g. numbness of an arm or 
"^DD",139.5,139.5,203,21,10,0)
     amaurosis fugax) of sudden onset and brief duration (usually <30
"^DD",139.5,139.5,203,21,11,0)
     minutes ), which usually reflect dysfunction in a cerebral vascular
"^DD",139.5,139.5,203,21,12,0)
     distribution.
"^DD",139.5,139.5,203,21,13,0)
     These attacks may be recurrent and, at times, may precede a stroke.
"^DD",139.5,139.5,203,21,14,0)
 
"^DD",139.5,139.5,203,21,15,0)
 2 = CVA/Stroke with no neurological deficit: History of 
"^DD",139.5,139.5,203,21,16,0)
     a cerebrovascular accident (embolic, thrombotic, or hemorrhagic) 
"^DD",139.5,139.5,203,21,17,0)
     with neurologic deficit(s) lasting at least 30 minutes, but no
"^DD",139.5,139.5,203,21,18,0)
     current residual neurologic dysfunction or deficit
"^DD",139.5,139.5,203,21,19,0)
 
"^DD",139.5,139.5,203,21,20,0)
 3 = CVA/Stroke with neurological deficit: History of a cerebrovascular
"^DD",139.5,139.5,203,21,21,0)
     accident (embolic, thrombotic, or hemorrhagic) with persistent
"^DD",139.5,139.5,203,21,22,0)
     residual motor, sensory, or cognitive dysfunction (e.g.,
"^DD",139.5,139.5,203,21,23,0)
     hemiplegia, hemiparesis, aphasia, sensory deficit, impaired memory)
"^DD",139.5,139.5,203,"DT")
3110923
"^DIC",136.5,136.5,0)
PERIOPERATIVE OCCURRENCE CATEGORY^136.5I
"^DIC",136.5,136.5,0,"GL")
^SRO(136.5,
"^DIC",136.5,136.5,"%D",0)
^1.001^4^4^3060301^^^
"^DIC",136.5,136.5,"%D",1,0)
This file contains perioperative occurrence categories used within the
"^DIC",136.5,136.5,"%D",2,0)
DHCP Surgery package.  All perioperative occurrences entered must be
"^DIC",136.5,136.5,"%D",3,0)
grouped into one of the categories contained in this file.  The fields in
"^DIC",136.5,136.5,"%D",4,0)
this file are restricted so that entries cannot be altered.
"^DIC",136.5,136.5,"%D",5,0)
 
"^DIC",136.5,"B","PERIOPERATIVE OCCURRENCE CATEGORY",136.5)

"BLD",8080,6)
^169
**END**
**END**
