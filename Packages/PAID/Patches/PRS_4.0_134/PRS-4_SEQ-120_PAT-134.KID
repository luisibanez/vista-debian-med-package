EMERGENCY Released PRS*4*134 SEQ #120
Extracted from mail message
**KIDS**:PRS*4.0*134^

**INSTALL NAME**
PRS*4.0*134
"BLD",9028,0)
PRS*4.0*134^PAID^0^3120309^y
"BLD",9028,1,0)
^^3^3^3120308^
"BLD",9028,1,1,0)
This patch contains a report for sites to identify Comp Time to
"BLD",9028,1,2,0)
be reinstated to RN's covered by the National Nursing Union (NNU)
"BLD",9028,1,3,0)
as dictated by  the NNU/VA Settlement ruling.
"BLD",9028,4,0)
^9.64PA^^
"BLD",9028,6.3)
11
"BLD",9028,"ABPKG")
n
"BLD",9028,"KRN",0)
^9.67PA^779.2^20
"BLD",9028,"KRN",.4,0)
.4
"BLD",9028,"KRN",.401,0)
.401
"BLD",9028,"KRN",.402,0)
.402
"BLD",9028,"KRN",.403,0)
.403
"BLD",9028,"KRN",.5,0)
.5
"BLD",9028,"KRN",.84,0)
.84
"BLD",9028,"KRN",3.6,0)
3.6
"BLD",9028,"KRN",3.8,0)
3.8
"BLD",9028,"KRN",9.2,0)
9.2
"BLD",9028,"KRN",9.8,0)
9.8
"BLD",9028,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",9028,"KRN",9.8,"NM",1,0)
PRSXP134^^0^B7812632
"BLD",9028,"KRN",9.8,"NM","B","PRSXP134",1)

"BLD",9028,"KRN",19,0)
19
"BLD",9028,"KRN",19,"NM",0)
^9.68A^2^2
"BLD",9028,"KRN",19,"NM",1,0)
PRSX NNU SETTLEMENT REPORT^^0
"BLD",9028,"KRN",19,"NM",2,0)
PRSA PAY MENU^^3
"BLD",9028,"KRN",19,"NM","B","PRSA PAY MENU",2)

"BLD",9028,"KRN",19,"NM","B","PRSX NNU SETTLEMENT REPORT",1)

"BLD",9028,"KRN",19.1,0)
19.1
"BLD",9028,"KRN",101,0)
101
"BLD",9028,"KRN",409.61,0)
409.61
"BLD",9028,"KRN",771,0)
771
"BLD",9028,"KRN",779.2,0)
779.2
"BLD",9028,"KRN",870,0)
870
"BLD",9028,"KRN",8989.51,0)
8989.51
"BLD",9028,"KRN",8989.52,0)
8989.52
"BLD",9028,"KRN",8994,0)
8994
"BLD",9028,"KRN","B",.4,.4)

"BLD",9028,"KRN","B",.401,.401)

"BLD",9028,"KRN","B",.402,.402)

"BLD",9028,"KRN","B",.403,.403)

"BLD",9028,"KRN","B",.5,.5)

"BLD",9028,"KRN","B",.84,.84)

"BLD",9028,"KRN","B",3.6,3.6)

"BLD",9028,"KRN","B",3.8,3.8)

"BLD",9028,"KRN","B",9.2,9.2)

"BLD",9028,"KRN","B",9.8,9.8)

"BLD",9028,"KRN","B",19,19)

"BLD",9028,"KRN","B",19.1,19.1)

"BLD",9028,"KRN","B",101,101)

"BLD",9028,"KRN","B",409.61,409.61)

"BLD",9028,"KRN","B",771,771)

"BLD",9028,"KRN","B",779.2,779.2)

"BLD",9028,"KRN","B",870,870)

"BLD",9028,"KRN","B",8989.51,8989.51)

"BLD",9028,"KRN","B",8989.52,8989.52)

"BLD",9028,"KRN","B",8994,8994)

"BLD",9028,"QDEF")
^^^^^^^^^^YES
"BLD",9028,"QUES",0)
^9.62^^
"BLD",9028,"REQB",0)
^9.611^^0
"KRN",19,5859,-1)
3^2
"KRN",19,5859,0)
PRSA PAY MENU^Payroll Main Menu^^M^^^^^^^^PAID^^1^
"KRN",19,5859,1,0)
^19.06^2^2^3120309^^^^
"KRN",19,5859,1,1,0)
This menu contains options a Payroll Clerk needs to perform Time and
"KRN",19,5859,1,2,0)
Attendance related tasks.
"KRN",19,5859,10,0)
^19.01IP^34^34
"KRN",19,5859,10,34,0)
13798^50
"KRN",19,5859,10,34,"^")
PRSX NNU SETTLEMENT REPORT
"KRN",19,5859,10.1)

"KRN",19,5859,15)

"KRN",19,5859,20)
D ^PRSAPAS
"KRN",19,5859,99)
62525,5856
"KRN",19,5859,99.1)
62496,31502
"KRN",19,5859,"U")
PAYROLL MAIN MENU
"KRN",19,13798,-1)
0^1
"KRN",19,13798,0)
PRSX NNU SETTLEMENT REPORT^NNU CT SETTLEMENT REPORT^^R^^^^^^^^
"KRN",19,13798,25)
ENTRYPNT^PRSXP134
"KRN",19,13798,"U")
NNU CT SETTLEMENT REPORT
"MBREQ")
0
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",408,-1)
1^1
"PKG",408,0)
PAID^PRS^PAID
"PKG",408,20,0)
^9.402P^^
"PKG",408,22,0)
^9.49I^1^1
"PKG",408,22,1,0)
4.0^2950912^2960130
"PKG",408,22,1,"PAH",1,0)
134^3120309
"PKG",408,22,1,"PAH",1,1,0)
^^3^3^3120309
"PKG",408,22,1,"PAH",1,1,1,0)
This patch contains a report for sites to identify Comp Time to
"PKG",408,22,1,"PAH",1,1,2,0)
be reinstated to RN's covered by the National Nursing Union (NNU)
"PKG",408,22,1,"PAH",1,1,3,0)
as dictated by  the NNU/VA Settlement ruling.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","PRSXP134")
0^1^B7812632^n/a
"RTN","PRSXP134",1,0)
PRSXP134 ;WCIOFO/RRG - COMP TIME REPORT FOR NNU SETTLEMENT ;2/7/12  11:49
"RTN","PRSXP134",2,0)
 ;;4.0;PAID;**134**;Sep 21, 1995;Build 11
"RTN","PRSXP134",3,0)
 ;;Per VHA Directive 2004-038, this routine should not be modified.
"RTN","PRSXP134",4,0)
 QUIT
"RTN","PRSXP134",5,0)
 ;
"RTN","PRSXP134",6,0)
 ;
"RTN","PRSXP134",7,0)
ENTRYPNT ;
"RTN","PRSXP134",8,0)
 N %ZIS,POP,IOP
"RTN","PRSXP134",9,0)
 S %ZIS="MQ"
"RTN","PRSXP134",10,0)
 D ^%ZIS
"RTN","PRSXP134",11,0)
 Q:POP
"RTN","PRSXP134",12,0)
 I $D(IO("Q")) D
"RTN","PRSXP134",13,0)
 . K IO("Q")
"RTN","PRSXP134",14,0)
 . N ZTSK,ZTDESC,ZTDTH,ZTIO,ZTRTN,ZTSAVE,ZTUCI,ZTCPU,ZTPRI,ZTKIL,ZTSYNC
"RTN","PRSXP134",15,0)
 . S ZTDESC="NNU CT SETTLEMENT REPORT"
"RTN","PRSXP134",16,0)
 . S ZTRTN="MAIN^PRSXP134"
"RTN","PRSXP134",17,0)
 . D ^%ZTLOAD
"RTN","PRSXP134",18,0)
 . I $D(ZTSK) S ZTREQ="@" W !,"Request "_ZTSK_" Queued."
"RTN","PRSXP134",19,0)
 E  D
"RTN","PRSXP134",20,0)
 . D MAIN^PRSXP134
"RTN","PRSXP134",21,0)
 D ^%ZISC
"RTN","PRSXP134",22,0)
 Q
"RTN","PRSXP134",23,0)
MAIN ;
"RTN","PRSXP134",24,0)
 K ^XTMP("PRSXP134")
"RTN","PRSXP134",25,0)
 ;S BPPD=$O(^PRST(458,"B","07-23",BPPD))
"RTN","PRSXP134",26,0)
 ;S EPPD=$O(^PRST(458,"B","11-23",EPPD))
"RTN","PRSXP134",27,0)
 ;
"RTN","PRSXP134",28,0)
 S DFN=0,S8B=""
"RTN","PRSXP134",29,0)
 F  S DFN=$O(^PRSPC(DFN)) Q:'DFN!(DFN'?1.99N)  D
"RTN","PRSXP134",30,0)
 . I $P(^PRSPC(DFN,0),"^",17)["061050" S PAYPER="07-22" D
"RTN","PRSXP134",31,0)
 . . F  S PPI=0 S PAYPER=$O(^PRST(458,"B",PAYPER)) Q:PAYPER=""!(PAYPER]"11-23")  S PPI=$O(^(PAYPER,PPI)) D
"RTN","PRSXP134",32,0)
 . . . S S8B=$$GET8B^PRSPUT3(PPI,DFN)   ;GETS PROPER 8B STRING
"RTN","PRSXP134",33,0)
 . . . F I="CE^3","CT^3","CU^3","CO^3" N AMT D
"RTN","PRSXP134",34,0)
 . . . . S AMT=$$EXTR8BT^PRSPUT3(S8B,I) Q:AMT'>"0.0"
"RTN","PRSXP134",35,0)
 . . . . S ^XTMP("PRSXP134",DFN,PPI,I)=AMT
"RTN","PRSXP134",36,0)
 D REPORT
"RTN","PRSXP134",37,0)
 K BPPD,EPPD,DFN,S8B,PPI,AMT,PAGE,DAT,PRSIEN,CETOT,CUTOT,STOP,I,FLAG,PAYPER,ZTREQ
"RTN","PRSXP134",38,0)
 Q
"RTN","PRSXP134",39,0)
 ;
"RTN","PRSXP134",40,0)
REPORT ; report construct
"RTN","PRSXP134",41,0)
 N PAGE,DAT S (PRSIEN,CETOT,CUTOT)=0
"RTN","PRSXP134",42,0)
 S (PAGE,STOP)=0
"RTN","PRSXP134",43,0)
 D HDR
"RTN","PRSXP134",44,0)
 I '$D(^XTMP("PRSXP134")) W !,"NO RECORDS SELECTED" Q
"RTN","PRSXP134",45,0)
 F  S PRSIEN=$O(^XTMP("PRSXP134",PRSIEN)) Q:PRSIEN=""  S PPI=0 D
"RTN","PRSXP134",46,0)
 . F  S PPI=$O(^XTMP("PRSXP134",PRSIEN,PPI)) Q:PPI=""  S I="" D
"RTN","PRSXP134",47,0)
 . . F  S I=$O(^XTMP("PRSXP134",PRSIEN,PPI,I)) Q:I=""  D
"RTN","PRSXP134",48,0)
 . . . S CETOT=$S(I="CE^3":CETOT+(+^(I)),I="CT^3":CETOT+(+^(I)),1:CETOT)
"RTN","PRSXP134",49,0)
 . . . S CUTOT=$S(I="CU^3":CUTOT+(+^(I)),I="CO^3":CUTOT+(+^(I)),1:CUTOT)
"RTN","PRSXP134",50,0)
 . . D LINE Q:STOP
"RTN","PRSXP134",51,0)
 Q
"RTN","PRSXP134",52,0)
 ;
"RTN","PRSXP134",53,0)
LINE ;
"RTN","PRSXP134",54,0)
 Q:STOP
"RTN","PRSXP134",55,0)
 I (IOSL-5)<$Y S STOP=$$ASK^PRSLIB00() D HDR
"RTN","PRSXP134",56,0)
 I $G(FLAG) S STOP=$$ASK^PRSLIB00()
"RTN","PRSXP134",57,0)
 W !,$E($P(^PRSPC(PRSIEN,0),"^",1),1,20),?24,$P($G(^PRST(458,PPI,0)),"^",1),?38,CETOT,?58,CUTOT
"RTN","PRSXP134",58,0)
 S (CETOT,CUTOT)=0
"RTN","PRSXP134",59,0)
 Q
"RTN","PRSXP134",60,0)
 ;
"RTN","PRSXP134",61,0)
HDR ;
"RTN","PRSXP134",62,0)
 W @IOF
"RTN","PRSXP134",63,0)
 S PAGE=PAGE+1
"RTN","PRSXP134",64,0)
 W ?30,"NNU Comp Time Settlement Report",?68,"PAGE ",PAGE
"RTN","PRSXP134",65,0)
 W !,"NAME",?21,"PAY PERIOD",?35,"COMP TIME EARNED",?55,"COMP TIME USED"
"RTN","PRSXP134",66,0)
 W !,"======================================================================="
"RTN","PRSXP134",67,0)
 Q
"RTN","PRSXP134",68,0)
 ;
"VER")
8.0^22.0
"BLD",9028,6)
^120
**END**
**END**
