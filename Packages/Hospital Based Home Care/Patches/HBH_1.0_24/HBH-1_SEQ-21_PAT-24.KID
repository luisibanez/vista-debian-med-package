Released HBH*1*24 SEQ #21
Extracted from mail message
**KIDS**:HBH*1.0*24^

**INSTALL NAME**
HBH*1.0*24
"BLD",7787,0)
HBH*1.0*24^HOSPITAL BASED HOME CARE^0^3090722^y
"BLD",7787,1,0)
^^1^1^3080508^^
"BLD",7787,1,1,0)
HBH*1.0*24, Medical Foster Home (MFH) Functionality 
"BLD",7787,4,0)
^9.64PA^634.6^7
"BLD",7787,4,631,0)
631
"BLD",7787,4,631,2,0)
^9.641^631.01^2
"BLD",7787,4,631,2,631,0)
HBHC PATIENT  (File-top level)
"BLD",7787,4,631,2,631,1,0)
^9.6411^2^5
"BLD",7787,4,631,2,631,1,2,0)
STATE CODE
"BLD",7787,4,631,2,631,1,71,0)
FORM 3 TRANSMIT STATUS
"BLD",7787,4,631,2,631,1,73,0)
FORM 3 FILED IN HBHC(634) DATE
"BLD",7787,4,631,2,631,1,88,0)
MEDICAL FOSTER HOME PATIENT
"BLD",7787,4,631,2,631,1,89,0)
MEDICAL FOSTER HOME NAME
"BLD",7787,4,631,2,631.01,0)
RATE PAID  (sub-file)
"BLD",7787,4,631,2,631.01,1,0)
^9.6411^^
"BLD",7787,4,631,222)
y^y^p^^^^n^^n
"BLD",7787,4,631,224)

"BLD",7787,4,631.9,0)
631.9
"BLD",7787,4,631.9,2,0)
^9.641^631.9^1
"BLD",7787,4,631.9,2,631.9,0)
HBHC SYSTEM PARAMETERS  (File-top level)
"BLD",7787,4,631.9,2,631.9,1,0)
^9.6411^8^1
"BLD",7787,4,631.9,2,631.9,1,8,0)
MEDICAL FOSTER HOME SITE
"BLD",7787,4,631.9,222)
y^y^p^^^^n^^n
"BLD",7787,4,631.9,224)

"BLD",7787,4,633.2,0)
633.2
"BLD",7787,4,633.2,222)
y^y^f^^^^n^^
"BLD",7787,4,633.2,224)

"BLD",7787,4,634,0)
634
"BLD",7787,4,634,222)
y^y^f^^^^n
"BLD",7787,4,634.4,0)
634.4
"BLD",7787,4,634.4,222)
y^y^f^^^^n
"BLD",7787,4,634.6,0)
634.6
"BLD",7787,4,634.6,222)
y^y^f^^^^n
"BLD",7787,4,634.7,0)
634.7
"BLD",7787,4,634.7,222)
y^y^f^^^^n
"BLD",7787,4,"APDD",631,631)

"BLD",7787,4,"APDD",631,631,2)

"BLD",7787,4,"APDD",631,631,71)

"BLD",7787,4,"APDD",631,631,73)

"BLD",7787,4,"APDD",631,631,88)

"BLD",7787,4,"APDD",631,631,89)

"BLD",7787,4,"APDD",631,631.01)

"BLD",7787,4,"APDD",631.9,631.9)

"BLD",7787,4,"APDD",631.9,631.9,8)

"BLD",7787,4,"B",631,631)

"BLD",7787,4,"B",631.9,631.9)

"BLD",7787,4,"B",633.2,633.2)

"BLD",7787,4,"B",634,634)

"BLD",7787,4,"B",634.4,634.4)

"BLD",7787,4,"B",634.6,634.6)

"BLD",7787,4,"B",634.7,634.7)

"BLD",7787,6)
13^
"BLD",7787,6.3)
201
"BLD",7787,"ABPKG")
n
"BLD",7787,"INID")
^n
"BLD",7787,"INIT")
HBHCPS24
"BLD",7787,"KRN",0)
^9.67PA^8989.52^20
"BLD",7787,"KRN",.4,0)
.4
"BLD",7787,"KRN",.4,"NM",0)
^9.68A^^
"BLD",7787,"KRN",.401,0)
.401
"BLD",7787,"KRN",.401,"NM",0)
^9.68A^^
"BLD",7787,"KRN",.402,0)
.402
"BLD",7787,"KRN",.402,"NM",0)
^9.68A^4^3
"BLD",7787,"KRN",.402,"NM",2,0)
HBHC MFH INSPECTION INPUT    FILE #633.2^633.2^0
"BLD",7787,"KRN",.402,"NM",3,0)
HBHC MFH TRAINING INPUT    FILE #633.2^633.2^0
"BLD",7787,"KRN",.402,"NM",4,0)
HBHC MFH DEMOGRAPHIC INPUT    FILE #633.2^633.2^0
"BLD",7787,"KRN",.402,"NM","B","HBHC MFH DEMOGRAPHIC INPUT    FILE #633.2",4)

"BLD",7787,"KRN",.402,"NM","B","HBHC MFH INSPECTION INPUT    FILE #633.2",2)

"BLD",7787,"KRN",.402,"NM","B","HBHC MFH TRAINING INPUT    FILE #633.2",3)

"BLD",7787,"KRN",.403,0)
.403
"BLD",7787,"KRN",.5,0)
.5
"BLD",7787,"KRN",.84,0)
.84
"BLD",7787,"KRN",3.6,0)
3.6
"BLD",7787,"KRN",3.8,0)
3.8
"BLD",7787,"KRN",3.8,"NM",0)
^9.68A^1^1
"BLD",7787,"KRN",3.8,"NM",1,0)
HBHC MEDICAL FOSTER HOME^^0
"BLD",7787,"KRN",3.8,"NM","B","HBHC MEDICAL FOSTER HOME",1)

"BLD",7787,"KRN",9.2,0)
9.2
"BLD",7787,"KRN",9.8,0)
9.8
"BLD",7787,"KRN",9.8,"NM",0)
^9.68A^35^34
"BLD",7787,"KRN",9.8,"NM",1,0)
HBHCADM^^0^B21342885
"BLD",7787,"KRN",9.8,"NM",2,0)
HBHCRP10^^0^B13089532
"BLD",7787,"KRN",9.8,"NM",3,0)
HBHCUTL3^^0^B20865262
"BLD",7787,"KRN",9.8,"NM",4,0)
HBHCRP23^^0^B23801554
"BLD",7787,"KRN",9.8,"NM",5,0)
HBHCRP26^^0^B12867389
"BLD",7787,"KRN",9.8,"NM",6,0)
HBHCWORK^^0^B26613450
"BLD",7787,"KRN",9.8,"NM",7,0)
HBHCRP27^^0^B47600450
"BLD",7787,"KRN",9.8,"NM",8,0)
HBHCUTL^^0^B28029686
"BLD",7787,"KRN",9.8,"NM",9,0)
HBHCUTL5^^0^B38257790
"BLD",7787,"KRN",9.8,"NM",10,0)
HBHCRP28^^0^B9941580
"BLD",7787,"KRN",9.8,"NM",11,0)
HBHCTXT^^0^B3361863
"BLD",7787,"KRN",9.8,"NM",12,0)
HBHCTXT2^^0^B11292144
"BLD",7787,"KRN",9.8,"NM",13,0)
HBHCRP29^^0^B14290829
"BLD",7787,"KRN",9.8,"NM",14,0)
HBHCXMM^^0^B18340144
"BLD",7787,"KRN",9.8,"NM",16,0)
HBHCUTL1^^0^B27175218
"BLD",7787,"KRN",9.8,"NM",17,0)
HBHCDEM^^0^B1728176
"BLD",7787,"KRN",9.8,"NM",18,0)
HBHCFILE^^0^B31778098
"BLD",7787,"KRN",9.8,"NM",19,0)
HBHCXMT^^0^B18610987
"BLD",7787,"KRN",9.8,"NM",20,0)
HBHCUPD^^0^B13872578
"BLD",7787,"KRN",9.8,"NM",21,0)
HBHCUPDM^^0^B2618092
"BLD",7787,"KRN",9.8,"NM",22,0)
HBHCXMA^^0^B38006559
"BLD",7787,"KRN",9.8,"NM",23,0)
HBHCXMD^^0^B23836635
"BLD",7787,"KRN",9.8,"NM",24,0)
HBHCXMD1^^0^B14260181
"BLD",7787,"KRN",9.8,"NM",25,0)
HBHCXMV^^0^B19281997
"BLD",7787,"KRN",9.8,"NM",26,0)
HBHCXMV1^^0^B5766233
"BLD",7787,"KRN",9.8,"NM",27,0)
HBHCXMA1^^0^B12692745
"BLD",7787,"KRN",9.8,"NM",28,0)
HBHCRP30^^0^B10289231
"BLD",7787,"KRN",9.8,"NM",29,0)
HBHCR15A^^0^B19451897
"BLD",7787,"KRN",9.8,"NM",30,0)
HBHCR15B^^0^B38715202
"BLD",7787,"KRN",9.8,"NM",31,0)
HBHCRP31^^0^B4671214
"BLD",7787,"KRN",9.8,"NM",32,0)
HBHCRP1A^^0^B19487017
"BLD",7787,"KRN",9.8,"NM",33,0)
HBHCPS24^^0^B12516448
"BLD",7787,"KRN",9.8,"NM",34,0)
HBHCRP7^^0^B20915954
"BLD",7787,"KRN",9.8,"NM",35,0)
HBHCRP18^^0^B10520126
"BLD",7787,"KRN",9.8,"NM","B","HBHCADM",1)

"BLD",7787,"KRN",9.8,"NM","B","HBHCDEM",17)

"BLD",7787,"KRN",9.8,"NM","B","HBHCFILE",18)

"BLD",7787,"KRN",9.8,"NM","B","HBHCPS24",33)

"BLD",7787,"KRN",9.8,"NM","B","HBHCR15A",29)

"BLD",7787,"KRN",9.8,"NM","B","HBHCR15B",30)

"BLD",7787,"KRN",9.8,"NM","B","HBHCRP10",2)

"BLD",7787,"KRN",9.8,"NM","B","HBHCRP18",35)

"BLD",7787,"KRN",9.8,"NM","B","HBHCRP1A",32)

"BLD",7787,"KRN",9.8,"NM","B","HBHCRP23",4)

"BLD",7787,"KRN",9.8,"NM","B","HBHCRP26",5)

"BLD",7787,"KRN",9.8,"NM","B","HBHCRP27",7)

"BLD",7787,"KRN",9.8,"NM","B","HBHCRP28",10)

"BLD",7787,"KRN",9.8,"NM","B","HBHCRP29",13)

"BLD",7787,"KRN",9.8,"NM","B","HBHCRP30",28)

"BLD",7787,"KRN",9.8,"NM","B","HBHCRP31",31)

"BLD",7787,"KRN",9.8,"NM","B","HBHCRP7",34)

"BLD",7787,"KRN",9.8,"NM","B","HBHCTXT",11)

"BLD",7787,"KRN",9.8,"NM","B","HBHCTXT2",12)

"BLD",7787,"KRN",9.8,"NM","B","HBHCUPD",20)

"BLD",7787,"KRN",9.8,"NM","B","HBHCUPDM",21)

"BLD",7787,"KRN",9.8,"NM","B","HBHCUTL",8)

"BLD",7787,"KRN",9.8,"NM","B","HBHCUTL1",16)

"BLD",7787,"KRN",9.8,"NM","B","HBHCUTL3",3)

"BLD",7787,"KRN",9.8,"NM","B","HBHCUTL5",9)

"BLD",7787,"KRN",9.8,"NM","B","HBHCWORK",6)

"BLD",7787,"KRN",9.8,"NM","B","HBHCXMA",22)

"BLD",7787,"KRN",9.8,"NM","B","HBHCXMA1",27)

"BLD",7787,"KRN",9.8,"NM","B","HBHCXMD",23)

"BLD",7787,"KRN",9.8,"NM","B","HBHCXMD1",24)

"BLD",7787,"KRN",9.8,"NM","B","HBHCXMM",14)

"BLD",7787,"KRN",9.8,"NM","B","HBHCXMT",19)

"BLD",7787,"KRN",9.8,"NM","B","HBHCXMV",25)

"BLD",7787,"KRN",9.8,"NM","B","HBHCXMV1",26)

"BLD",7787,"KRN",19,0)
19
"BLD",7787,"KRN",19,"NM",0)
^9.68A^81^58
"BLD",7787,"KRN",19,"NM",4,0)
HBHCRP12^^0
"BLD",7787,"KRN",19,"NM",5,0)
HBHCRP7^^0
"BLD",7787,"KRN",19,"NM",6,0)
HBHCRP16^^0
"BLD",7787,"KRN",19,"NM",14,0)
HBHC REPORTS MENU^^0
"BLD",7787,"KRN",19,"NM",15,0)
HBHC CENSUS REPORTS MENU^^0
"BLD",7787,"KRN",19,"NM",18,0)
HBHCRP18^^0
"BLD",7787,"KRN",19,"NM",19,0)
HBHCRP11^^0
"BLD",7787,"KRN",19,"NM",21,0)
HBHCRP9^^0
"BLD",7787,"KRN",19,"NM",22,0)
HBHCRP10^^0
"BLD",7787,"KRN",19,"NM",24,0)
HBHCRP3^^0
"BLD",7787,"KRN",19,"NM",25,0)
HBHCRP5^^0
"BLD",7787,"KRN",19,"NM",26,0)
HBHCRP4^^0
"BLD",7787,"KRN",19,"NM",27,0)
HBHCRP17^^0
"BLD",7787,"KRN",19,"NM",33,0)
HBHCR19A^^0
"BLD",7787,"KRN",19,"NM",34,0)
HBHCRP6^^0
"BLD",7787,"KRN",19,"NM",35,0)
HBHCRP2^^0
"BLD",7787,"KRN",19,"NM",36,0)
HBHCRP20^^0
"BLD",7787,"KRN",19,"NM",37,0)
HBHCRP21^^0
"BLD",7787,"KRN",19,"NM",38,0)
HBHCRP22^^0
"BLD",7787,"KRN",19,"NM",39,0)
HBHCRP23^^0
"BLD",7787,"KRN",19,"NM",40,0)
HBHCRP24^^0
"BLD",7787,"KRN",19,"NM",41,0)
HBHCRP25^^0
"BLD",7787,"KRN",19,"NM",43,0)
HBHCRP26^^0
"BLD",7787,"KRN",19,"NM",45,0)
HBHCWORK^^0
"BLD",7787,"KRN",19,"NM",46,0)
HBHC MFH MENU^^0
"BLD",7787,"KRN",19,"NM",47,0)
HBHC MFH DEMOGRAPHIC INPUT^^0
"BLD",7787,"KRN",19,"NM",48,0)
HBHC MFH INSPECTION INPUT^^0
"BLD",7787,"KRN",19,"NM",49,0)
HBHC MFH TRAINING INPUT^^0
"BLD",7787,"KRN",19,"NM",50,0)
HBHC INFORMATION SYSTEM MENU^^0
"BLD",7787,"KRN",19,"NM",51,0)
HBHCBLNK^^0
"BLD",7787,"KRN",19,"NM",53,0)
HBHCRP27^^0
"BLD",7787,"KRN",19,"NM",54,0)
HBHCADM^^0
"BLD",7787,"KRN",19,"NM",55,0)
HBHCDIS^^0
"BLD",7787,"KRN",19,"NM",57,0)
HBHC TRANSMISSION MENU^^0
"BLD",7787,"KRN",19,"NM",58,0)
HBHC MANAGER MENU^^0
"BLD",7787,"KRN",19,"NM",59,0)
HBHCRP28^^0
"BLD",7787,"KRN",19,"NM",60,0)
HBHCTXT^^0
"BLD",7787,"KRN",19,"NM",61,0)
HBHCTXT2^^0
"BLD",7787,"KRN",19,"NM",62,0)
HBHCRP29^^0
"BLD",7787,"KRN",19,"NM",63,0)
HBHC MFH AUTO-Q LICENSE DUE^^0
"BLD",7787,"KRN",19,"NM",64,0)
HBHC MFH REPORTS MENU^^0
"BLD",7787,"KRN",19,"NM",65,0)
HBHC MFH AUTO-QUEUED REMINDERS^^0
"BLD",7787,"KRN",19,"NM",66,0)
HBHC MFH TEXT FILE OUTPUT MENU^^0
"BLD",7787,"KRN",19,"NM",67,0)
HBHCRP30^^0
"BLD",7787,"KRN",19,"NM",68,0)
HBHCRP31^^0
"BLD",7787,"KRN",19,"NM",69,0)
HBHCFILE^^0
"BLD",7787,"KRN",19,"NM",70,0)
HBHCR15A^^0
"BLD",7787,"KRN",19,"NM",71,0)
HBHCRP1^^0
"BLD",7787,"KRN",19,"NM",72,0)
HBHCUPD^^0
"BLD",7787,"KRN",19,"NM",73,0)
HBHCXMT^^0
"BLD",7787,"KRN",19,"NM",74,0)
HBHC EDIT SYSTEM PARAMETERS^^0
"BLD",7787,"KRN",19,"NM",75,0)
HBHC EDIT PROVIDER (631.4)^^0
"BLD",7787,"KRN",19,"NM",76,0)
HBHC EDIT CLINIC (631.6)^^0
"BLD",7787,"KRN",19,"NM",77,0)
HBHC EDIT HBHC TEAM (633)^^0
"BLD",7787,"KRN",19,"NM",78,0)
HBHCRP8^^0
"BLD",7787,"KRN",19,"NM",79,0)
HBHXRP14^^0
"BLD",7787,"KRN",19,"NM",80,0)
HBHCRXMT^^0
"BLD",7787,"KRN",19,"NM",81,0)
HBHCUPDM^^0
"BLD",7787,"KRN",19,"NM","B","HBHC CENSUS REPORTS MENU",15)

"BLD",7787,"KRN",19,"NM","B","HBHC EDIT CLINIC (631.6)",76)

"BLD",7787,"KRN",19,"NM","B","HBHC EDIT HBHC TEAM (633)",77)

"BLD",7787,"KRN",19,"NM","B","HBHC EDIT PROVIDER (631.4)",75)

"BLD",7787,"KRN",19,"NM","B","HBHC EDIT SYSTEM PARAMETERS",74)

"BLD",7787,"KRN",19,"NM","B","HBHC INFORMATION SYSTEM MENU",50)

"BLD",7787,"KRN",19,"NM","B","HBHC MANAGER MENU",58)

"BLD",7787,"KRN",19,"NM","B","HBHC MFH AUTO-Q LICENSE DUE",63)

"BLD",7787,"KRN",19,"NM","B","HBHC MFH AUTO-QUEUED REMINDERS",65)

"BLD",7787,"KRN",19,"NM","B","HBHC MFH DEMOGRAPHIC INPUT",47)

"BLD",7787,"KRN",19,"NM","B","HBHC MFH INSPECTION INPUT",48)

"BLD",7787,"KRN",19,"NM","B","HBHC MFH MENU",46)

"BLD",7787,"KRN",19,"NM","B","HBHC MFH REPORTS MENU",64)

"BLD",7787,"KRN",19,"NM","B","HBHC MFH TEXT FILE OUTPUT MENU",66)

"BLD",7787,"KRN",19,"NM","B","HBHC MFH TRAINING INPUT",49)

"BLD",7787,"KRN",19,"NM","B","HBHC REPORTS MENU",14)

"BLD",7787,"KRN",19,"NM","B","HBHC TRANSMISSION MENU",57)

"BLD",7787,"KRN",19,"NM","B","HBHCADM",54)

"BLD",7787,"KRN",19,"NM","B","HBHCBLNK",51)

"BLD",7787,"KRN",19,"NM","B","HBHCDIS",55)

"BLD",7787,"KRN",19,"NM","B","HBHCFILE",69)

"BLD",7787,"KRN",19,"NM","B","HBHCR15A",70)

"BLD",7787,"KRN",19,"NM","B","HBHCR19A",33)

"BLD",7787,"KRN",19,"NM","B","HBHCRP1",71)

"BLD",7787,"KRN",19,"NM","B","HBHCRP10",22)

"BLD",7787,"KRN",19,"NM","B","HBHCRP11",19)

"BLD",7787,"KRN",19,"NM","B","HBHCRP12",4)

"BLD",7787,"KRN",19,"NM","B","HBHCRP16",6)

"BLD",7787,"KRN",19,"NM","B","HBHCRP17",27)

"BLD",7787,"KRN",19,"NM","B","HBHCRP18",18)

"BLD",7787,"KRN",19,"NM","B","HBHCRP2",35)

"BLD",7787,"KRN",19,"NM","B","HBHCRP20",36)

"BLD",7787,"KRN",19,"NM","B","HBHCRP21",37)

"BLD",7787,"KRN",19,"NM","B","HBHCRP22",38)

"BLD",7787,"KRN",19,"NM","B","HBHCRP23",39)

"BLD",7787,"KRN",19,"NM","B","HBHCRP24",40)

"BLD",7787,"KRN",19,"NM","B","HBHCRP25",41)

"BLD",7787,"KRN",19,"NM","B","HBHCRP26",43)

"BLD",7787,"KRN",19,"NM","B","HBHCRP27",53)

"BLD",7787,"KRN",19,"NM","B","HBHCRP28",59)

"BLD",7787,"KRN",19,"NM","B","HBHCRP29",62)

"BLD",7787,"KRN",19,"NM","B","HBHCRP3",24)

"BLD",7787,"KRN",19,"NM","B","HBHCRP30",67)

"BLD",7787,"KRN",19,"NM","B","HBHCRP31",68)

"BLD",7787,"KRN",19,"NM","B","HBHCRP4",26)

"BLD",7787,"KRN",19,"NM","B","HBHCRP5",25)

"BLD",7787,"KRN",19,"NM","B","HBHCRP6",34)

"BLD",7787,"KRN",19,"NM","B","HBHCRP7",5)

"BLD",7787,"KRN",19,"NM","B","HBHCRP8",78)

"BLD",7787,"KRN",19,"NM","B","HBHCRP9",21)

"BLD",7787,"KRN",19,"NM","B","HBHCRXMT",80)

"BLD",7787,"KRN",19,"NM","B","HBHCTXT",60)

"BLD",7787,"KRN",19,"NM","B","HBHCTXT2",61)

"BLD",7787,"KRN",19,"NM","B","HBHCUPD",72)

"BLD",7787,"KRN",19,"NM","B","HBHCUPDM",81)

"BLD",7787,"KRN",19,"NM","B","HBHCWORK",45)

"BLD",7787,"KRN",19,"NM","B","HBHCXMT",73)

"BLD",7787,"KRN",19,"NM","B","HBHXRP14",79)

"BLD",7787,"KRN",19.1,0)
19.1
"BLD",7787,"KRN",19.1,"NM",0)
^9.68A^1^1
"BLD",7787,"KRN",19.1,"NM",1,0)
HBHC MEDICAL FOSTER HOME^^0
"BLD",7787,"KRN",19.1,"NM","B","HBHC MEDICAL FOSTER HOME",1)

"BLD",7787,"KRN",101,0)
101
"BLD",7787,"KRN",409.61,0)
409.61
"BLD",7787,"KRN",771,0)
771
"BLD",7787,"KRN",869.2,0)
869.2
"BLD",7787,"KRN",870,0)
870
"BLD",7787,"KRN",8989.51,0)
8989.51
"BLD",7787,"KRN",8989.52,0)
8989.52
"BLD",7787,"KRN",8994,0)
8994
"BLD",7787,"KRN","B",.4,.4)

"BLD",7787,"KRN","B",.401,.401)

"BLD",7787,"KRN","B",.402,.402)

"BLD",7787,"KRN","B",.403,.403)

"BLD",7787,"KRN","B",.5,.5)

"BLD",7787,"KRN","B",.84,.84)

"BLD",7787,"KRN","B",3.6,3.6)

"BLD",7787,"KRN","B",3.8,3.8)

"BLD",7787,"KRN","B",9.2,9.2)

"BLD",7787,"KRN","B",9.8,9.8)

"BLD",7787,"KRN","B",19,19)

"BLD",7787,"KRN","B",19.1,19.1)

"BLD",7787,"KRN","B",101,101)

"BLD",7787,"KRN","B",409.61,409.61)

"BLD",7787,"KRN","B",771,771)

"BLD",7787,"KRN","B",869.2,869.2)

"BLD",7787,"KRN","B",870,870)

"BLD",7787,"KRN","B",8989.51,8989.51)

"BLD",7787,"KRN","B",8989.52,8989.52)

"BLD",7787,"KRN","B",8994,8994)

"BLD",7787,"QDEF")
^^^^^^^^
"BLD",7787,"QUES",0)
^9.62^^
"BLD",7787,"REQB",0)
^9.611^9^8
"BLD",7787,"REQB",1,0)
HBH*1.0*06^1
"BLD",7787,"REQB",3,0)
HBH*1.0*14^1
"BLD",7787,"REQB",4,0)
HBH*1.0*21^1
"BLD",7787,"REQB",5,0)
HBH*1.0*10^1
"BLD",7787,"REQB",6,0)
HBH*1.0*13^1
"BLD",7787,"REQB",7,0)
HBH*1.0*19^1
"BLD",7787,"REQB",8,0)
HBH*1.0*22^1
"BLD",7787,"REQB",9,0)
HBH*1.0*15^1
"BLD",7787,"REQB","B","HBH*1.0*06",1)

"BLD",7787,"REQB","B","HBH*1.0*10",5)

"BLD",7787,"REQB","B","HBH*1.0*13",6)

"BLD",7787,"REQB","B","HBH*1.0*14",3)

"BLD",7787,"REQB","B","HBH*1.0*15",9)

"BLD",7787,"REQB","B","HBH*1.0*19",7)

"BLD",7787,"REQB","B","HBH*1.0*21",4)

"BLD",7787,"REQB","B","HBH*1.0*22",8)

"FIA",631)
HBHC PATIENT
"FIA",631,0)
^HBHC(631,
"FIA",631,0,0)
631IP
"FIA",631,0,1)
y^y^p^^^^n^^n
"FIA",631,0,10)

"FIA",631,0,11)

"FIA",631,0,"RLRO")

"FIA",631,0,"VR")
1.0^HBH
"FIA",631,631)
1
"FIA",631,631,2)

"FIA",631,631,71)

"FIA",631,631,73)

"FIA",631,631,88)

"FIA",631,631,89)

"FIA",631,631,90)

"FIA",631,631.01)
0
"FIA",631.9)
HBHC SYSTEM PARAMETERS
"FIA",631.9,0)
^HBHC(631.9,
"FIA",631.9,0,0)
631.9
"FIA",631.9,0,1)
y^y^p^^^^n^^n
"FIA",631.9,0,10)

"FIA",631.9,0,11)

"FIA",631.9,0,"RLRO")

"FIA",631.9,0,"VR")
1.0^HBH
"FIA",631.9,631.9)
1
"FIA",631.9,631.9,8)

"FIA",633.2)
HBHC MEDICAL FOSTER HOME
"FIA",633.2,0)
^HBHC(633.2,
"FIA",633.2,0,0)
633.2
"FIA",633.2,0,1)
y^y^f^^^^n^^
"FIA",633.2,0,10)

"FIA",633.2,0,11)

"FIA",633.2,0,"RLRO")

"FIA",633.2,0,"VR")
1.0^HBH
"FIA",633.2,633.2)
0
"FIA",633.2,633.21)
0
"FIA",633.2,633.213)
0
"FIA",633.2,633.214)
0
"FIA",633.2,633.215)
0
"FIA",633.2,633.216)
0
"FIA",633.2,633.218)
0
"FIA",633.2,633.219)
0
"FIA",633.2,633.221)
0
"FIA",633.2,633.222)
0
"FIA",633.2,633.223)
0
"FIA",633.2,633.224)
0
"FIA",634)
HBHC TRANSMIT
"FIA",634,0)
^HBHC(634,
"FIA",634,0,0)
634
"FIA",634,0,1)
y^y^f^^^^n
"FIA",634,0,10)

"FIA",634,0,11)

"FIA",634,0,"RLRO")

"FIA",634,0,"VR")
1.0^HBH
"FIA",634,634)
0
"FIA",634.4)
HBHC FORM 6 CORRECTIONS
"FIA",634.4,0)
^HBHC(634.4,
"FIA",634.4,0,0)
634.4
"FIA",634.4,0,1)
y^y^f^^^^n
"FIA",634.4,0,10)

"FIA",634.4,0,11)

"FIA",634.4,0,"RLRO")

"FIA",634.4,0,"VR")
1.0^HBH
"FIA",634.4,634.4)
0
"FIA",634.6)
HBHC TRANSMIT HISTORY
"FIA",634.6,0)
^HBHC(634.6,
"FIA",634.6,0,0)
634.6
"FIA",634.6,0,1)
y^y^f^^^^n
"FIA",634.6,0,10)

"FIA",634.6,0,11)

"FIA",634.6,0,"RLRO")

"FIA",634.6,0,"VR")
1.0^HBH
"FIA",634.6,634.6)
0
"FIA",634.7)
HBHC MEDICAL FOSTER HOME ERROR(S)
"FIA",634.7,0)
^HBHC(634.7,
"FIA",634.7,0,0)
634.7P
"FIA",634.7,0,1)
y^y^f^^^^n
"FIA",634.7,0,10)

"FIA",634.7,0,11)

"FIA",634.7,0,"RLRO")

"FIA",634.7,0,"VR")
1.0^HBH
"FIA",634.7,634.7)
0
"INIT")
HBHCPS24
"KRN",.402,2855922,-1)
0^4
"KRN",.402,2855922,0)
HBHC MFH DEMOGRAPHIC INPUT^3080125.1345^^633.2^^^3090504
"KRN",.402,2855922,"DR",1,633.2)
7;8;9;25;10;17;1;2;26;3;4;11;S:X="N" Y="@1";12;@1;5;S:X="" Y=0;6;
"KRN",.402,2855923,-1)
0^3
"KRN",.402,2855923,0)
HBHC MFH TRAINING INPUT^3070724.1628^^633.2^^^3080508
"KRN",.402,2855923,"DIAB",1,1,633.21,0)
ALL
"KRN",.402,2855923,"DIAB",1,1,633.218,0)
ALL
"KRN",.402,2855923,"DIAB",1,1,633.219,0)
ALL
"KRN",.402,2855923,"DIAB",1,1,633.221,0)
ALL
"KRN",.402,2855923,"DIAB",1,1,633.222,0)
ALL
"KRN",.402,2855923,"DIAB",1,1,633.223,0)
ALL
"KRN",.402,2855923,"DR",1,633.2)
18;19;20;21;22;23;24;
"KRN",.402,2855923,"DR",2,633.21)
.01
"KRN",.402,2855923,"DR",2,633.218)
.01
"KRN",.402,2855923,"DR",2,633.219)
.01
"KRN",.402,2855923,"DR",2,633.221)
.01
"KRN",.402,2855923,"DR",2,633.222)
.01
"KRN",.402,2855923,"DR",2,633.223)
.01
"KRN",.402,2855923,"DR",2,633.224)
1;
"KRN",.402,2855924,-1)
0^2
"KRN",.402,2855924,0)
HBHC MFH INSPECTION INPUT^3070808.1548^^633.2^^^3090430
"KRN",.402,2855924,"DR",1,633.2)
13;14;15;16;
"KRN",.402,2855924,"DR",2,633.213)
1;
"KRN",.402,2855924,"DR",2,633.214)
1;
"KRN",.402,2855924,"DR",2,633.215)
1;
"KRN",.402,2855924,"DR",2,633.216)
1;
"KRN",3.8,6323,-1)
0^1
"KRN",3.8,6323,0)
HBHC MEDICAL FOSTER HOME^PU^n^^^^
"KRN",3.8,6323,2,0)
^^1^1^3070823^
"KRN",3.8,6323,2,1,0)
This mail group contains the HBHC Medical Foster Home (MFH) members.
"KRN",3.8,6323,3)

"KRN",19,3518,-1)
0^18
"KRN",19,3518,0)
HBHCRP18^Active Census with ICD9 Code/Text Report  (132)^^R^^^^^^^^
"KRN",19,3518,1,0)
^^5^5^3050921^
"KRN",19,3518,1,1,0)
This option prints the HBPC Active Census with ICD9 Codes/Text Report.
"KRN",19,3518,1,2,0)
The user is prompted to enter the date range for inclusion on the
"KRN",19,3518,1,3,0)
report.  The report is sorted by patient name, then by admission date,
"KRN",19,3518,1,4,0)
and includes:  Patient Name, Last Four, Admission Date, ICD9 Code, and
"KRN",19,3518,1,5,0)
ICD9 Text.  Report prints in 132 column format.
"KRN",19,3518,25)
HBHCRP18
"KRN",19,3518,598000)
2
"KRN",19,3518,"U")
ACTIVE CENSUS WITH ICD9 CODE/T
"KRN",19,5840,-1)
0^79
"KRN",19,5840,0)
HBHXRP14^Pseudo Social Security Number Report  (80)^^R^^^^^^^^
"KRN",19,5840,1,0)
^^8^8^2940315^^
"KRN",19,5840,1,1,0)
This option prints the HBHC Pseudo Social Security Number (SSN) Report.
"KRN",19,5840,1,2,0)
Patients possessing a pseudo SSN have been selected in error, or their
"KRN",19,5840,1,3,0)
SSN is invalid due to being a pseudo SSN & should be updated by MAS, or
"KRN",19,5840,1,4,0)
the patient is a collateral & should not be tracked in the HBHC
"KRN",19,5840,1,5,0)
Information System.  This report can be used to determine which case
"KRN",19,5840,1,6,0)
scenario applies to the patient & appropriate corrective action taken
"KRN",19,5840,1,7,0)
to eliminate the pseudo SSN from HBHC records.  Report includes patient
"KRN",19,5840,1,8,0)
name & SSN & prints in 80 column format.
"KRN",19,5840,25)
HBHCRP14
"KRN",19,5840,598000)
3
"KRN",19,5840,"U")
PSEUDO SOCIAL SECURITY NUMBER 
"KRN",19,9318,-1)
0^75
"KRN",19,9318,0)
HBHC EDIT PROVIDER (631.4)^Provider File Data Entry^^E^^^^^^^^
"KRN",19,9318,1,0)
^^2^2^2970207^^^^
"KRN",19,9318,1,1,0)
This option allows entering/editing of the provider data in the HBHC
"KRN",19,9318,1,2,0)
Provider File (HBHC(631.4)).
"KRN",19,9318,30)
HBHC(631.4,
"KRN",19,9318,31)
AEMQL
"KRN",19,9318,50)
HBHC(631.4,
"KRN",19,9318,51)
[HBHC EDIT PROVIDER (631.4)]
"KRN",19,9318,99)
55795,36640
"KRN",19,9318,"U")
PROVIDER FILE DATA ENTRY
"KRN",19,9319,-1)
0^76
"KRN",19,9319,0)
HBHC EDIT CLINIC (631.6)^Clinic File Data Entry^^E^^^^^^^^^^
"KRN",19,9319,1,0)
^^2^2^2970207^^^^
"KRN",19,9319,1,1,0)
This option allows entering/editing of the clinic data in the HBHC
"KRN",19,9319,1,2,0)
Clinic File (HBHC(631.6)).
"KRN",19,9319,20)

"KRN",19,9319,30)
HBHC(631.6,
"KRN",19,9319,31)
AELMQZ
"KRN",19,9319,34)

"KRN",19,9319,35)

"KRN",19,9319,50)
HBHC(631.6,
"KRN",19,9319,51)
.01
"KRN",19,9319,99)
55774,28837
"KRN",19,9319,99.1)
60817,39492
"KRN",19,9319,"U")
CLINIC FILE DATA ENTRY
"KRN",19,9320,-1)
0^74
"KRN",19,9320,0)
HBHC EDIT SYSTEM PARAMETERS^System Parameters Edit^^R^^^^^^^^
"KRN",19,9320,1,0)
15^^13^13^2970207^^^^
"KRN",19,9320,1,1,0)
This option allows entering/editing of the system parameters in the
"KRN",19,9320,1,2,0)
HBHC System Parameters file (631.9).
"KRN",19,9320,1,3,0)
 
"KRN",19,9320,1,4,0)
The parameter Number of Visit Days to Scan is used by the system as
"KRN",19,9320,1,5,0)
a starting point of how many days to include when records are being
"KRN",19,9320,1,6,0)
created in the HBHC Visit File (HBHC(632)) using the appointment data
"KRN",19,9320,1,7,0)
entered via the Appointment Management [HBHC APPOINTMENT] option.  This
"KRN",19,9320,1,8,0)
parameter must be a number between 7 and 365 inclusive, but as a rule,
"KRN",19,9320,1,9,0)
the lowest number that accurately reflects the appointment data 
"KRN",19,9320,1,10,0)
timeliness should be entered  (e.g. if appointments are entered daily,
"KRN",19,9320,1,11,0)
then 7 would be appropriate).
"KRN",19,9320,1,12,0)
 
"KRN",19,9320,1,13,0)
All other System Parameter fields are uneditable.
"KRN",19,9320,3.91,0)
^19.391
"KRN",19,9320,25)
HBHCEDSP
"KRN",19,9320,99)
55523,32584
"KRN",19,9320,99.1)
59114,54812
"KRN",19,9320,"U")
SYSTEM PARAMETERS EDIT
"KRN",19,9321,-1)
0^77
"KRN",19,9321,0)
HBHC EDIT HBHC TEAM (633)^Team File Data Entry^^E^^^^^^^^
"KRN",19,9321,1,0)
^^2^2^2970207^^^^
"KRN",19,9321,1,1,0)
This option allows entering/editing of the HBPC team data in the HBHC
"KRN",19,9321,1,2,0)
Team File (HBHC(633)).
"KRN",19,9321,30)
HBHC(633,
"KRN",19,9321,31)
AELMQ
"KRN",19,9321,50)
HBHC(633,
"KRN",19,9321,51)
.01
"KRN",19,9321,"U")
TEAM FILE DATA ENTRY
"KRN",19,9334,-1)
0^54
"KRN",19,9334,0)
HBHCADM^Evaluation/Admission Data Entry^^R^^^^^^^^
"KRN",19,9334,1,0)
^^2^2^2970207^^^^
"KRN",19,9334,1,1,0)
This option allows entering/editing of the evaluation/admission
"KRN",19,9334,1,2,0)
data in the HBHC Patient File (HBHC(631)).
"KRN",19,9334,25)
HBHCADM
"KRN",19,9334,99)
55797,38239
"KRN",19,9334,"U")
EVALUATION/ADMISSION DATA ENTR
"KRN",19,9336,-1)
0^55
"KRN",19,9336,0)
HBHCDIS^Discharge Data Entry^^R^^^^^^^^
"KRN",19,9336,1,0)
^^2^2^2970207^^^^
"KRN",19,9336,1,1,0)
This option allows entering/editing of the discharge data in the
"KRN",19,9336,1,2,0)
HBHC Patient File (HBHC(631)).
"KRN",19,9336,25)
HBHCDIS
"KRN",19,9336,"U")
DISCHARGE DATA ENTRY
"KRN",19,9337,-1)
0^35
"KRN",19,9337,0)
HBHCRP2^Evaluation/Admission Data Report by Patient  (80)^^R^^^^^^^^
"KRN",19,9337,1,0)
^^3^3^2970207^^^^
"KRN",19,9337,1,1,0)
This option prints the HBPC Patient Evaluation/Admission Data Report.
"KRN",19,9337,1,2,0)
The report includes all evaluation/admission (Form 3) fields, plus
"KRN",19,9337,1,3,0)
Case Manager and prints in 80 column format.
"KRN",19,9337,25)
HBHCRP2
"KRN",19,9337,598000)
3
"KRN",19,9337,"U")
EVALUATION/ADMISSION DATA REPO
"KRN",19,9338,-1)
0^24
"KRN",19,9338,0)
HBHCRP3^Patient Visit Data Report  (80)^^R^^^^^^^^
"KRN",19,9338,1,0)
^19.06^3^3^3000421^^^^
"KRN",19,9338,1,1,0)
This option prints the HBPC Patient Visit Data Report.  The user is 
"KRN",19,9338,1,2,0)
prompted to enter the date range for inclusion on the report.  The
"KRN",19,9338,1,3,0)
report includes all visit (Form 4) fields and prints in 80 column format.
"KRN",19,9338,25)
HBHCRP3
"KRN",19,9338,99)
55775,38173
"KRN",19,9338,598000)
3
"KRN",19,9338,"U")
PATIENT VISIT DATA REPORT  (80
"KRN",19,9340,-1)
0^25
"KRN",19,9340,0)
HBHCRP5^Discharge Data Report by Patient  (80)^^R^^^^^^^^
"KRN",19,9340,1,0)
^^3^3^2970207^^^^
"KRN",19,9340,1,1,0)
This option prints the HBPC Patient Discharge Data Report.  The 
"KRN",19,9340,1,2,0)
report includes all discharge (Form 5) fields and prints in 80 
"KRN",19,9340,1,3,0)
column format.
"KRN",19,9340,25)
HBHCRP5
"KRN",19,9340,598000)
3
"KRN",19,9340,"U")
DISCHARGE DATA REPORT BY PATIE
"KRN",19,9342,-1)
0^5
"KRN",19,9342,0)
HBHCRP7^Admissions/Discharges by Date Range Report  (132)^^R^^^^^^^^
"KRN",19,9342,1,0)
^^5^5^3050921^
"KRN",19,9342,1,1,0)
This option prints the HBPC Admissions or Discharges by Date Range Report.
"KRN",19,9342,1,2,0)
The  report is sorted Alphabetically by Patient or by Admission/Discharge
"KRN",19,9342,1,3,0)
Date and  includes:  Admission/Discharge Date, Patient Name, Last Four,
"KRN",19,9342,1,4,0)
and ICD9 Code and  Diagnosis Text  (Primary Diagnosis @
"KRN",19,9342,1,5,0)
Admission/Discharge), with Totals.  Report prints in 132 column format.
"KRN",19,9342,25)
HBHCRP7
"KRN",19,9342,598000)
3
"KRN",19,9342,"U")
ADMISSIONS/DISCHARGES BY DATE 
"KRN",19,9344,-1)
0^26
"KRN",19,9344,0)
HBHCRP4^Visit Data by Date Range Report  (80)^^R^^^^^^^^
"KRN",19,9344,1,0)
^19.06^5^5^3000421^^^^
"KRN",19,9344,1,1,0)
This option prints the HBPC Visit Data by Date Range Report.  The
"KRN",19,9344,1,2,0)
report is sorted by provider, then by visit date and includes:
"KRN",19,9344,1,3,0)
Provider Name, Visit Date, Patient Last Name, SSN, DX, & CPT Codes with
"KRN",19,9344,1,4,0)
Modifiers, with totals by provider & all providers total if All providers
"KRN",19,9344,1,5,0)
included on report.  Report prints in 80 column format. 
"KRN",19,9344,25)
HBHCRP4
"KRN",19,9344,99)
55775,28786
"KRN",19,9344,598000)
3
"KRN",19,9344,"U")
VISIT DATA BY DATE RANGE REPOR
"KRN",19,9345,-1)
0^34
"KRN",19,9345,0)
HBHCRP6^Case Manager Census Report  (132)^^R^^^^^^^^
"KRN",19,9345,1,0)
^^7^7^3050921^
"KRN",19,9345,1,1,0)
This option prints the HBPC Case Manager Census Report.  The report
"KRN",19,9345,1,2,0)
can be run for All or Individual Case Managers.  The user is prompted
"KRN",19,9345,1,3,0)
to enter the date range for inclusion on the report.  The report is 
"KRN",19,9345,1,4,0)
sorted by Case Manager and includes:  Case Manager, Patient Name, Last 
"KRN",19,9345,1,5,0)
Four, Admission Date, Street Address, City, ZIP Code, and Phone, with
"KRN",19,9345,1,6,0)
Totals for each Case Manager and Final Totals if 'All' selected.  Report
"KRN",19,9345,1,7,0)
prints in 132 column format.
"KRN",19,9345,25)
HBHCRP6
"KRN",19,9345,598000)
3
"KRN",19,9345,"U")
CASE MANAGER CENSUS REPORT  (1
"KRN",19,9346,-1)
0^69
"KRN",19,9346,0)
HBHCFILE^Build/Verify Transmission File^^R^^^^^^^^
"KRN",19,9346,1,0)
11^^12^12^2970207^^^^
"KRN",19,9346,1,1,0)
This option builds the HBPC Transmission Data file (HBHC(634)) used
"KRN",19,9346,1,2,0)
to transmit to Austin.  The records included in this file are verified
"KRN",19,9346,1,3,0)
for completeness and also for validity  (e.g.  no admission data should
"KRN",19,9346,1,4,0)
be included if the patient was rejected from the HBPC program).
"KRN",19,9346,1,5,0)
 
"KRN",19,9346,1,6,0)
If errors/omissions are found, the records in error are written to
"KRN",19,9346,1,7,0)
another file and must be corrected before transmission is allowed.
"KRN",19,9346,1,8,0)
Once the errors are corrected, this option must be run again to 
"KRN",19,9346,1,9,0)
add the corrected records to the transmission file.  This process
"KRN",19,9346,1,10,0)
(build file, correct errors, add corrected records via build file) 
"KRN",19,9346,1,11,0)
may be repeated as necessary until all records are valid and included
"KRN",19,9346,1,12,0)
in the Transmission Data file.
"KRN",19,9346,25)
HBHCFILE
"KRN",19,9346,"U")
BUILD/VERIFY TRANSMISSION FILE
"KRN",19,9349,-1)
0^71
"KRN",19,9349,0)
HBHCRP1^Form Errors Report  (80)^^R^^^^^^^^
"KRN",19,9349,1,0)
^^6^6^2970624^^^^
"KRN",19,9349,1,1,0)
This option prints the HBPC Form Errors Report.  The errors were found when
"KRN",19,9349,1,2,0)
the Build/Verify Transmission File [HBHCFILE] option was run.  The report
"KRN",19,9349,1,3,0)
is sorted by Form, then by Patient Name and includes: Patient File IEN
"KRN",19,9349,1,4,0)
(internal entry number), Patient Name, Last Four, and corresponding Date. 
"KRN",19,9349,1,5,0)
Visits also contain:  Clinic Name, Error, Provider, ICD9 Diagnosis, and CPT
"KRN",19,9349,1,6,0)
Code fields.  Report prints in 80 column format. 
"KRN",19,9349,25)
HBHCRP1A
"KRN",19,9349,99)
55493,57972
"KRN",19,9349,598000)
3
"KRN",19,9349,"U")
FORM ERRORS REPORT  (80)
"KRN",19,9350,-1)
0^72
"KRN",19,9350,0)
HBHCUPD^Edit Form Errors Data^^R^^^^^^^^
"KRN",19,9350,1,0)
^^7^7^2970710^^^^
"KRN",19,9350,1,1,0)
This option allows editing of the HBPC Form Errors Data.  The user
"KRN",19,9350,1,2,0)
is prompted for a patient, then the routine prompts for the fields
"KRN",19,9350,1,3,0)
that are missing or invalid in each record.  These errors are found
"KRN",19,9350,1,4,0)
when the Build/Verify Transmission File [HBHCFILE] option is run and
"KRN",19,9350,1,5,0)
must be corrected before transmission to Austin is allowed.  Visit error 
"KRN",19,9350,1,6,0)
corrections must be made using PCE options.  Then the Edit Form Errors
"KRN",19,9350,1,7,0)
option must be accessed to clean up the Visit Error file. 
"KRN",19,9350,25)
HBHCUPD
"KRN",19,9350,"U")
EDIT FORM ERRORS DATA
"KRN",19,9351,-1)
0^73
"KRN",19,9351,0)
HBHCXMT^Transmit File to Austin^^R^^HBHC TRANSMIT^^^^^^
"KRN",19,9351,1,0)
^^6^6^2971010^^^
"KRN",19,9351,1,1,0)
This option creates and transmits the HBPC MailMan message using the
"KRN",19,9351,1,2,0)
Transmission Data in HBHC(634) to Austin.  All Form Errors found via
"KRN",19,9351,1,3,0)
the Build/Verify Transmission File option must be corrected before
"KRN",19,9351,1,4,0)
transmission to Austin is allowed.  A confirmation message will be
"KRN",19,9351,1,5,0)
returned from Austin upon receipt of the HBPC Transmission.  This option is
"KRN",19,9351,1,6,0)
locked with the HBHC TRANSMIT security key. 
"KRN",19,9351,25)
HBHCXMT
"KRN",19,9351,"U")
TRANSMIT FILE TO AUSTIN
"KRN",19,9352,-1)
0^78
"KRN",19,9352,0)
HBHCRP8^HBPC Provider File Report  (132)^^R^^^^^^^^
"KRN",19,9352,1,0)
^^4^4^2970710^^^^
"KRN",19,9352,1,1,0)
This option prints the HBPC Provider File Report.  The report is
"KRN",19,9352,1,2,0)
sorted by Provider Name and includes:  Provider Name, Provider
"KRN",19,9352,1,3,0)
Number, Degree, Grade/Step, HBPC FTEE, HBPC Team, and Inactive Provider 
"KRN",19,9352,1,4,0)
Number.  Report prints in 132 column format. 
"KRN",19,9352,25)
HBHCRP8
"KRN",19,9352,99)
55775,51850
"KRN",19,9352,598000)
3
"KRN",19,9352,"U")
HBPC PROVIDER FILE REPORT  (13
"KRN",19,9353,-1)
0^80
"KRN",19,9353,0)
HBHCRXMT^Re-Transmit File to Austin^^R^^^^^^^^
"KRN",19,9353,1,0)
^^7^7^2970207^^
"KRN",19,9353,1,1,0)
This option allows re-transmission of the same HBPC data included in the
"KRN",19,9353,1,2,0)
last file transmitted to Austin, provided that Build/Verify Transmission
"KRN",19,9353,1,3,0)
File has NOT been run again since the last transmission.  This option
"KRN",19,9353,1,4,0)
should be used only under special circumstances, such as a transmission
"KRN",19,9353,1,5,0)
failure, and should be coordinated with Austin via your IRM technical
"KRN",19,9353,1,6,0)
support person.  This option requires cautious use due to the possibility
"KRN",19,9353,1,7,0)
of duplicate records in Austin.
"KRN",19,9353,25)
HBHCRXMT
"KRN",19,9353,"U")
RE-TRANSMIT FILE TO AUSTIN
"KRN",19,9354,-1)
0^58
"KRN",19,9354,0)
HBHC MANAGER MENU^Manager Menu^^M^^HBHC MANAGER^^^^^^
"KRN",19,9354,1,0)
^19.06^11^11^3080923^^
"KRN",19,9354,1,1,0)
This option is the HBPC Manager Menu.  The option includes:
"KRN",19,9354,1,2,0)
 
"KRN",19,9354,1,3,0)
  System Parameters Edit [HBHC EDIT SYSTEM PARAMETERS]
"KRN",19,9354,1,4,0)
  Provider File Data Entry [HBHC EDIT PROVIDER (631.4)]
"KRN",19,9354,1,5,0)
  Clinic File Data Entry [HBHC EDIT CLINIC (631.6)]
"KRN",19,9354,1,6,0)
  Team File Data Entry [HBHC EDIT HBHC TEAM (633)]
"KRN",19,9354,1,7,0)
  Print HBPC Provider File Report  (132) [HBHCRP8]
"KRN",19,9354,1,8,0)
  Pseudo Social Security Number Report  (80) [HBHCRP14]
"KRN",19,9354,1,9,0)
  Re-Transmit File to Austin  [HBHCRXMT]
"KRN",19,9354,1,10,0)
 
"KRN",19,9354,1,11,0)
This option is locked with the HBHC MANAGER security key.
"KRN",19,9354,10,0)
^19.01IP^7^7
"KRN",19,9354,10,1,0)
9320^^1
"KRN",19,9354,10,1,"^")
HBHC EDIT SYSTEM PARAMETERS
"KRN",19,9354,10,2,0)
9318^^2
"KRN",19,9354,10,2,"^")
HBHC EDIT PROVIDER (631.4)
"KRN",19,9354,10,3,0)
9319^^3
"KRN",19,9354,10,3,"^")
HBHC EDIT CLINIC (631.6)
"KRN",19,9354,10,4,0)
9321^^4
"KRN",19,9354,10,4,"^")
HBHC EDIT HBHC TEAM (633)
"KRN",19,9354,10,5,0)
9352^^5
"KRN",19,9354,10,5,"^")
HBHCRP8
"KRN",19,9354,10,6,0)
5840^^6
"KRN",19,9354,10,6,"^")
HBHXRP14
"KRN",19,9354,10,7,0)
9353^^7
"KRN",19,9354,10,7,"^")
HBHCRXMT
"KRN",19,9354,99)
61562,47100
"KRN",19,9354,99.1)
60359,1814
"KRN",19,9354,"U")
MANAGER MENU
"KRN",19,9355,-1)
0^57
"KRN",19,9355,0)
HBHC TRANSMISSION MENU^Transmission Menu^^M^^^^^^^^
"KRN",19,9355,1,0)
^19.06^8^8^3080923^^^^
"KRN",19,9355,1,1,0)
This option is the HBPC Transmission Menu.  The menu includes:
"KRN",19,9355,1,2,0)
 
"KRN",19,9355,1,3,0)
  Build/Verify Transmission File  [HBHCFILE]
"KRN",19,9355,1,4,0)
  Form Errors Report  [HBHCRP1]
"KRN",19,9355,1,5,0)
  Edit Form Errors Data  [HBHCUPD]
"KRN",19,9355,1,6,0)
  Transmit File to Austin  [HBHCXMT]
"KRN",19,9355,1,7,0)
    **>  Locked with HBHC TRANSMIT
"KRN",19,9355,1,8,0)
  Print Transmit History Report  (80) [HBHCR15A]
"KRN",19,9355,10,0)
^19.01IP^5^5
"KRN",19,9355,10,1,0)
9346^^1
"KRN",19,9355,10,1,"^")
HBHCFILE
"KRN",19,9355,10,2,0)
9349^^2
"KRN",19,9355,10,2,"^")
HBHCRP1
"KRN",19,9355,10,3,0)
9350^^3
"KRN",19,9355,10,3,"^")
HBHCUPD
"KRN",19,9355,10,4,0)
9351^^4
"KRN",19,9355,10,4,"^")
HBHCXMT
"KRN",19,9355,10,5,0)
11263^^5
"KRN",19,9355,10,5,"^")
HBHCR15A
"KRN",19,9355,99)
61562,47100
"KRN",19,9355,99.1)
57860,84797
"KRN",19,9355,"U")
TRANSMISSION MENU
"KRN",19,9356,-1)
0^50
"KRN",19,9356,0)
HBHC INFORMATION SYSTEM MENU^HBPC Information System Menu^^M^^^^^^^^
"KRN",19,9356,1,0)
^^10^10^3090716^
"KRN",19,9356,1,1,0)
This option is the HBPC Information System Menu.  The menu includes:
"KRN",19,9356,1,2,0)
 
"KRN",19,9356,1,3,0)
   Evaluation/Admission Data Entry [HBHCADM]
"KRN",19,9356,1,4,0)
   Discharge Data Entry [HBHCDIS]
"KRN",19,9356,1,5,0)
   Reports Menu ... [HBHC REPORTS MENU]
"KRN",19,9356,1,6,0)
   Transmission Menu ... [HBHC TRANSMISSION MENU]
"KRN",19,9356,1,7,0)
   Manager Menu ... [HBHC MANAGER MENU]
"KRN",19,9356,1,8,0)
             **> Locked with HBHC MANAGER
"KRN",19,9356,1,9,0)
   Medical Foster Home (MFH) Menu ... [HBHC MFH MENU]
"KRN",19,9356,1,10,0)
             **> Locked with HBHC MEDICAL FOSTER HOME
"KRN",19,9356,10,0)
^19.01IP^7^7
"KRN",19,9356,10,2,0)
9334^^1
"KRN",19,9356,10,2,"^")
HBHCADM
"KRN",19,9356,10,3,0)
9336^^2
"KRN",19,9356,10,3,"^")
HBHCDIS
"KRN",19,9356,10,4,0)
2893432^^3
"KRN",19,9356,10,4,"^")
HBHC REPORTS MENU
"KRN",19,9356,10,5,0)
9355^^4
"KRN",19,9356,10,5,"^")
HBHC TRANSMISSION MENU
"KRN",19,9356,10,6,0)
9354^^5
"KRN",19,9356,10,6,"^")
HBHC MANAGER MENU
"KRN",19,9356,10,7,0)
2900917^^6
"KRN",19,9356,10,7,"^")
HBHC MFH MENU
"KRN",19,9356,99)
61562,47100
"KRN",19,9356,99.1)
61564,1956
"KRN",19,9356,"U")
HBPC INFORMATION SYSTEM MENU
"KRN",19,11263,-1)
0^70
"KRN",19,11263,0)
HBHCR15A^Print Transmit History Report  (80)^^R^^^^^^^^
"KRN",19,11263,1,0)
^19.06^11^11^3030814^^^^
"KRN",19,11263,1,1,0)
This option prints the HBPC Transmit History Report.  The user is prompted
"KRN",19,11263,1,2,0)
for date from within last 12 transmit batches & also selects forms for
"KRN",19,11263,1,3,0)
inclusion on the report.  The report includes:  form number, patient name,
"KRN",19,11263,1,4,0)
last four, form date, plus Action on form 3 (admission), Provider Number &
"KRN",19,11263,1,5,0)
Provider Name on visits (form 4), & Admission or Discharge on form 6
"KRN",19,11263,1,6,0)
(corrections). 
"KRN",19,11263,1,7,0)
 
"KRN",19,11263,1,8,0)
A Transmit History Report for the current transmission batch can be
"KRN",19,11263,1,9,0)
generated automatically from the Transmit File to Austin option [HBHCXMT]
"KRN",19,11263,1,10,0)
if a default printer is defined in System Parameters file (631.9).  If no
"KRN",19,11263,1,11,0)
printer is defined, no report will be generated at transmit time. 
"KRN",19,11263,25)
HBHCR15A
"KRN",19,11263,598000)
3
"KRN",19,11263,"U")
PRINT TRANSMIT HISTORY REPORT 
"KRN",19,11307,-1)
0^6
"KRN",19,11307,0)
HBHCRP16^Rejections from HBPC Program Report  (132)^^R^^^^^^^^
"KRN",19,11307,1,0)
^^5^5^3050921^
"KRN",19,11307,1,1,0)
This option prints the HBPC Rejections from Program Report.  (Admit/Reject
"KRN",19,11307,1,2,0)
Action field = Reject)  The user is prompted to enter the date range for
"KRN",19,11307,1,3,0)
inclusion on the report.  The report is sorted by patient name and
"KRN",19,11307,1,4,0)
includes:  Patient Name, Last Four, Date, and Reject/Withdraw Reason.  
"KRN",19,11307,1,5,0)
Report prints in 132 column format.
"KRN",19,11307,25)
HBHCRP16
"KRN",19,11307,598000)
3
"KRN",19,11307,"U")
REJECTIONS FROM HBPC PROGRAM R
"KRN",19,2892965,-1)
0^21
"KRN",19,2892965,0)
HBHCRP9^Provider Census Report  (132)^^R^^^^^^^^
"KRN",19,2892965,1,0)
^^8^8^3050921^
"KRN",19,2892965,1,1,0)
This option prints the HBPC Provider Census Report.  The report can
"KRN",19,2892965,1,2,0)
be run for All or Individual Providers.  The user is prompted to enter
"KRN",19,2892965,1,3,0)
the date range of visits for inclusion on the report.  Only patients
"KRN",19,2892965,1,4,0)
with a current admission will be included.  The report is sorted by
"KRN",19,2892965,1,5,0)
Provider and includes:  Provider Name, Provider Number, Patient Name,
"KRN",19,2892965,1,6,0)
Last Four, Admission Date, Street Address, City, ZIP Code, and Phone, with
"KRN",19,2892965,1,7,0)
Totals for each Provider and Final Totals if 'All' selected.  Report
"KRN",19,2892965,1,8,0)
prints in 132 column format.
"KRN",19,2892965,25)
HBHCRP9
"KRN",19,2892965,598000)
3
"KRN",19,2892965,"U")
PROVIDER CENSUS REPORT  (132)
"KRN",19,2892966,-1)
0^22
"KRN",19,2892966,0)
HBHCRP10^Program Census Report  (80)^^R^^^^^^^^
"KRN",19,2892966,1,0)
^^4^4^3050921^
"KRN",19,2892966,1,1,0)
This option prints the HBPC Program Census Report.  The user is prompted
"KRN",19,2892966,1,2,0)
to enter the date range for inclusion on the report.  The report is
"KRN",19,2892966,1,3,0)
sorted by patient name and includes:  Patient Name, Last Four, and
"KRN",19,2892966,1,4,0)
Admission Date.  Report prints in 80 column format.
"KRN",19,2892966,25)
HBHCRP10
"KRN",19,2892966,99)
55776,30342
"KRN",19,2892966,598000)
3
"KRN",19,2892966,"U")
PROGRAM CENSUS REPORT  (80)
"KRN",19,2892967,-1)
0^19
"KRN",19,2892967,0)
HBHCRP11^Team Census Report  (80)^^R^^^^^^^^
"KRN",19,2892967,1,0)
^^5^5^3050921^
"KRN",19,2892967,1,1,0)
This option prints the HBPC Team Census Report.  The user is prompted
"KRN",19,2892967,1,2,0)
to enter the date range for inclusion on the report.  The report is
"KRN",19,2892967,1,3,0)
sorted by Team and includes:  Team Name, Patient Name, Last Four, and
"KRN",19,2892967,1,4,0)
Admission Date, with Totals for each Team and Final Totals for all
"KRN",19,2892967,1,5,0)
Teams.  Report prints in 80 column format.
"KRN",19,2892967,25)
HBHCRP11
"KRN",19,2892967,598000)
3
"KRN",19,2892967,"U")
TEAM CENSUS REPORT  (80)
"KRN",19,2892968,-1)
0^4
"KRN",19,2892968,0)
HBHCRP12^Episode of Care/Length of Stay Report  (80)^^R^^^^^^^^
"KRN",19,2892968,1,0)
^^5^5^3050921^
"KRN",19,2892968,1,1,0)
This option prints the HBPC Episode of Care/Length of Stay Report.  The
"KRN",19,2892968,1,2,0)
user is prompted to enter the date range for inclusion on the report.
"KRN",19,2892968,1,3,0)
The report is sorted by patient and includes:  Patient Name, Last Four,
"KRN",19,2892968,1,4,0)
Admission Date, Discharge Date, and Length of Stay.  Report prints in
"KRN",19,2892968,1,5,0)
80 columm format.
"KRN",19,2892968,25)
HBHCRP12
"KRN",19,2892968,99)
55782,38792
"KRN",19,2892968,598000)
3
"KRN",19,2892968,"U")
EPISODE OF CARE/LENGTH OF STAY
"KRN",19,2893432,-1)
0^14
"KRN",19,2893432,0)
HBHC REPORTS MENU^Reports Menu^^M^^^^^^^^
"KRN",19,2893432,1,0)
^^16^16^3080109^
"KRN",19,2893432,1,1,0)
This option is the HBPC Reports Menu.  The option includes:
"KRN",19,2893432,1,2,0)
 
"KRN",19,2893432,1,3,0)
  Evaluation/Admission Data Report by Patient  (80) [HBHCRP2]
"KRN",19,2893432,1,4,0)
  Patient Visit Data Report  (80) [HBHCRP3]
"KRN",19,2893432,1,5,0)
  Discharge Data Report by Patient  (80) [HBHCRP5]
"KRN",19,2893432,1,6,0)
  Episode of Care/Length of Stay Report  (80) [HBHCRP12]
"KRN",19,2893432,1,7,0)
  Admissions/Discharges by Date Range Report  (132) [HBHCRP7]
"KRN",19,2893432,1,8,0)
  Rejections from HBPC Program Report  (80) [HBHCRP16]
"KRN",19,2893432,1,9,0)
  Visit Data by Date Range Report  (80) [HBHCRP4]
"KRN",19,2893432,1,10,0)
  CPT Code Summary Report  (80) [HBHCRP17]
"KRN",19,2893432,1,11,0)
  Provider CPT Code Summary Report  (80) [HBHCRP22]
"KRN",19,2893432,1,12,0)
  ICD9 Code/Dx Text by Date Range Report  (80) [HBHCR19A]
"KRN",19,2893432,1,13,0)
  Unique Patients by Date Range Summary Report  (80) [HBHCRP20]
"KRN",19,2893432,1,14,0)
  Total Visits by Date Range Report  (80) [HBHCRP21]
"KRN",19,2893432,1,15,0)
  Patient Days of Care by Date Range Report  (80) [HBHCRP23]
"KRN",19,2893432,1,16,0)
  Census Reports Menu ... [HBHC CENSUS REPORTS MENU]
"KRN",19,2893432,10,0)
^19.01IP^14^14
"KRN",19,2893432,10,1,0)
9337^^1
"KRN",19,2893432,10,1,"^")
HBHCRP2
"KRN",19,2893432,10,2,0)
9338^^2
"KRN",19,2893432,10,2,"^")
HBHCRP3
"KRN",19,2893432,10,3,0)
9340^^3
"KRN",19,2893432,10,3,"^")
HBHCRP5
"KRN",19,2893432,10,4,0)
2892968^^4
"KRN",19,2893432,10,4,"^")
HBHCRP12
"KRN",19,2893432,10,5,0)
9342^^5
"KRN",19,2893432,10,5,"^")
HBHCRP7
"KRN",19,2893432,10,6,0)
11307^^6
"KRN",19,2893432,10,6,"^")
HBHCRP16
"KRN",19,2893432,10,7,0)
9344^^7
"KRN",19,2893432,10,7,"^")
HBHCRP4
"KRN",19,2893432,10,8,0)
2894447^^8
"KRN",19,2893432,10,8,"^")
HBHCRP17
"KRN",19,2893432,10,9,0)
2895381^^9
"KRN",19,2893432,10,9,"^")
HBHCRP22
"KRN",19,2893432,10,10,0)
2894634^^10
"KRN",19,2893432,10,10,"^")
HBHCR19A
"KRN",19,2893432,10,11,0)
2894817^^11
"KRN",19,2893432,10,11,"^")
HBHCRP20
"KRN",19,2893432,10,12,0)
2895379^^12
"KRN",19,2893432,10,12,"^")
HBHCRP21
"KRN",19,2893432,10,13,0)
2899060^^13
"KRN",19,2893432,10,13,"^")
HBHCRP23
"KRN",19,2893432,10,14,0)
2894448^^14
"KRN",19,2893432,10,14,"^")
HBHC CENSUS REPORTS MENU
"KRN",19,2893432,99)
61562,47100
"KRN",19,2893432,99.1)
61564,1956
"KRN",19,2893432,"U")
REPORTS MENU
"KRN",19,2894447,-1)
0^27
"KRN",19,2894447,0)
HBHCRP17^CPT Code Summary Report  (80)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2894447,1,0)
^^4^4^2980707^^^
"KRN",19,2894447,1,1,0)
This option prints the HBPC CPT Code Summary Report.  The user is prompted
"KRN",19,2894447,1,2,0)
to enter the date range, and CPT Code(s) or range of codes for inclusion on
"KRN",19,2894447,1,3,0)
the report.  The report is sorted by CPT Code with totals for each CPT Code
"KRN",19,2894447,1,4,0)
plus a grand total.  Report prints in 80 column format. 
"KRN",19,2894447,25)
HBHCRP17
"KRN",19,2894447,598000)
3
"KRN",19,2894447,"U")
CPT CODE SUMMARY REPORT  (80)
"KRN",19,2894448,-1)
0^15
"KRN",19,2894448,0)
HBHC CENSUS REPORTS MENU^Census Reports Menu^^M^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2894448,1,0)
^19.06^11^11^3030912^^^
"KRN",19,2894448,1,1,0)
This option is the HBPC Census Reports Menu.  The menu includes:
"KRN",19,2894448,1,2,0)

"KRN",19,2894448,1,3,0)
  Program Census Report  (80) [HBHCRP10]
"KRN",19,2894448,1,4,0)
  Address Included Program Census  (132) [HBHCRP25]
"KRN",19,2894448,1,5,0)
  Expanded Program Census Report  (80) [HBHCRP24]
"KRN",19,2894448,1,6,0)
  Active Census with ICD9 Code/Text Report  (132) [HBHCRP18]
"KRN",19,2894448,1,7,0)
  Team Census Report  (80) [HBHCRP11]
"KRN",19,2894448,1,8,0)
  Case Manager Census Report  (132) [HBHCRP6]
"KRN",19,2894448,1,9,0)
  Provider Census Report  (132) [HBHCRP9]
"KRN",19,2894448,1,10,0)

"KRN",19,2894448,1,11,0)
This option is accessible from the HBHC REPORTS MENU option.
"KRN",19,2894448,10,0)
^19.01IP^7^7
"KRN",19,2894448,10,1,0)
2892966^^1
"KRN",19,2894448,10,1,"^")
HBHCRP10
"KRN",19,2894448,10,2,0)
2899062^^2
"KRN",19,2894448,10,2,"^")
HBHCRP25
"KRN",19,2894448,10,3,0)
2899061^^3
"KRN",19,2894448,10,3,"^")
HBHCRP24
"KRN",19,2894448,10,4,0)
3518^^4
"KRN",19,2894448,10,4,"^")
HBHCRP18
"KRN",19,2894448,10,5,0)
2892967^^5
"KRN",19,2894448,10,5,"^")
HBHCRP11
"KRN",19,2894448,10,6,0)
9345^^6
"KRN",19,2894448,10,6,"^")
HBHCRP6
"KRN",19,2894448,10,7,0)
2892965^^7
"KRN",19,2894448,10,7,"^")
HBHCRP9
"KRN",19,2894448,99)
61562,47100
"KRN",19,2894448,"U")
CENSUS REPORTS MENU
"KRN",19,2894634,-1)
0^33
"KRN",19,2894634,0)
HBHCR19A^ICD9 Code/Dx Text by Date Range Report  (80)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2894634,1,0)
^^10^10^2971118^^^^
"KRN",19,2894634,1,1,0)
This option prints the HBPC ICD9 Code/Diagnosis Text by Date Range Report.
"KRN",19,2894634,1,2,0)
The user is prompted to enter the date range, and the ICD9 Code(s), or 
"KRN",19,2894634,1,3,0)
category of codes, for inclusion on the report.  If the user responds 'yes'
"KRN",19,2894634,1,4,0)
to the 'include All codes within category xxx' prompt, simply selecting ANY
"KRN",19,2894634,1,5,0)
code from the category will be category inclusive.  (e.g.  selecting 250.00
"KRN",19,2894634,1,6,0)
or 250.60 will produce the same report results) 
"KRN",19,2894634,1,7,0)

"KRN",19,2894634,1,8,0)
The report is sorted by ICD9 Code category, then alphabetically by patient
"KRN",19,2894634,1,9,0)
within category, with totals for each ICD9 Code category plus a grand
"KRN",19,2894634,1,10,0)
total.  Report prints in 80 column format. 
"KRN",19,2894634,25)
HBHCR19A
"KRN",19,2894634,598000)
2
"KRN",19,2894634,"U")
ICD9 CODE/DX TEXT BY DATE RANG
"KRN",19,2894817,-1)
0^36
"KRN",19,2894817,0)
HBHCRP20^Unique Patients by Date Range Summary Report  (80)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2894817,1,0)
^^4^4^2971118^
"KRN",19,2894817,1,1,0)
This option prints the HBPC Unique patients by Date Range Report.  The user is
"KRN",19,2894817,1,2,0)
prompted to enter the date range for inclusion on the report.  The report
"KRN",19,2894817,1,3,0)
prints separate totals for patients with single visit only or multiple visits,
"KRN",19,2894817,1,4,0)
plus grand total of unique patients.  Reports prints in 80 column format. 
"KRN",19,2894817,25)
HBHCRP20
"KRN",19,2894817,"U")
UNIQUE PATIENTS BY DATE RANGE 
"KRN",19,2895379,-1)
0^37
"KRN",19,2895379,0)
HBHCRP21^Total Visits by Date Range Report  (80)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2895379,1,0)
^^19^19^2980707^
"KRN",19,2895379,1,1,0)
This option prints HBPC Total Visits by Date Range Report.  User is prompted to
"KRN",19,2895379,1,2,0)
enter date range for inclusion on report.  Visit is omitted from report if
"KRN",19,2895379,1,3,0)
contains any of the following CPT codes: 
"KRN",19,2895379,1,4,0)
 
"KRN",19,2895379,1,5,0)
  99358  PROLONGED SERV, W/O CONTACT
"KRN",19,2895379,1,6,0)
  99359  PROLONGED SERV, W/O CONTACT
"KRN",19,2895379,1,7,0)
  99361  PHYSICIAN/TEAM CONFERENCE
"KRN",19,2895379,1,8,0)
  99362  PHYSICIAN/TEAM CONFERENCE
"KRN",19,2895379,1,9,0)
  99371  PHYSICIAN PHONE CONSULTATION
"KRN",19,2895379,1,10,0)
  99372  PHYSICIAN PHONE CONSULTATION
"KRN",19,2895379,1,11,0)
  99373  PHYSICIAN PHONE CONSULTATION
"KRN",19,2895379,1,12,0)
  99374  HOME HEALTH CARE SUPERVISION
"KRN",19,2895379,1,13,0)
  99375  HOME HEALTH CARE SUPERVISION
"KRN",19,2895379,1,14,0)
  99376  CARE PLAN OVERSIGHT/OVER 60
"KRN",19,2895379,1,15,0)

"KRN",19,2895379,1,16,0)
User can also select additional CPT codes to omit from report.  Report
"KRN",19,2895379,1,17,0)
includes:  Patient Name, SSN Last Four, Total Visits per patient, Date
"KRN",19,2895379,1,18,0)
(admitted to HBPC program) & Discharge Date (if applicable), with grand totals
"KRN",19,2895379,1,19,0)
of patients & visits.  Report prints in 80 column format. 
"KRN",19,2895379,25)
HBHCRP21
"KRN",19,2895379,"U")
TOTAL VISITS BY DATE RANGE REP
"KRN",19,2895381,-1)
0^38
"KRN",19,2895381,0)
HBHCRP22^Provider CPT Code Summary Report  (80)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2895381,1,0)
^19.06^5^5^3030814^^
"KRN",19,2895381,1,1,0)
This option prints HBPC Provider CPT Code Summary Report.  User is prompted
"KRN",19,2895381,1,2,0)
to enter date range, CPT code(s) (can be range of CPTs), & Provider for
"KRN",19,2895381,1,3,0)
inclusion on report.   Report includes:  Provider Name in header, CPT code(s)
"KRN",19,2895381,1,4,0)
with summary total(s) & grand total for all CPTs.  Report prints in 80 column
"KRN",19,2895381,1,5,0)
format. 
"KRN",19,2895381,25)
HBHCRP22
"KRN",19,2895381,"U")
PROVIDER CPT CODE SUMMARY REPO
"KRN",19,2899060,-1)
0^39
"KRN",19,2899060,0)
HBHCRP23^Patient Days of Care by Date Range Report (80)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2899060,1,0)
^^8^8^3050921^
"KRN",19,2899060,1,1,0)
The option prints HBPC Patient Days of Care by Date Range Report.  Report
"KRN",19,2899060,1,2,0)
includes:  file internal entry number (IEN), Patient Name, Last Four,
"KRN",19,2899060,1,3,0)
Date, Discharge Date, & Patient Days.  Patient Days is calculated based on
"KRN",19,2899060,1,4,0)
the user selectable date range.  Summary totals of Patients and Patient
"KRN",19,2899060,1,5,0)
Days are included for both Complete Episodes of Care and Active Cases. 
"KRN",19,2899060,1,6,0)
Date of Discharge is omitted from the Patient Days total (e.g.  Adm Date:
"KRN",19,2899060,1,7,0)
7/1/03, D/C Date: 7/5/03  would total 4 Patient Days, not 5).  Report 
"KRN",19,2899060,1,8,0)
prints in 80 column format.
"KRN",19,2899060,25)
HBHCRP23
"KRN",19,2899060,"U")
PATIENT DAYS OF CARE BY DATE R
"KRN",19,2899061,-1)
0^40
"KRN",19,2899061,0)
HBHCRP24^Expanded Program Census Report  (80)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2899061,1,0)
^^11^11^3051003^
"KRN",19,2899061,1,1,0)
This option prints the HBPC Expanded Program Census Report.  The user is 
"KRN",19,2899061,1,2,0)
prompted to enter the date range for inclusion on the report.  The report
"KRN",19,2899061,1,3,0)
is sorted by patient name and includes:  Patient Name, Last 4, Admission
"KRN",19,2899061,1,4,0)
Date, Case Manager, Most Recent Visit Date, Visit Discipline, & total. 
"KRN",19,2899061,1,5,0)
Report prints in 80 column format.
"KRN",19,2899061,1,6,0)
 
"KRN",19,2899061,1,7,0)
Note: '* No HBPC Visits *' text will appear in the Most Recent Visit
"KRN",19,2899061,1,8,0)
Date/Time column on the report until after either the Build/Verify
"KRN",19,2899061,1,9,0)
Transmission File [HBHCFILE] or Auto-queue HBHC File Update [HBHC
"KRN",19,2899061,1,10,0)
AUTO-QUEUED FILE UPDATE] option has run & updated the HBHC Visit File
"KRN",19,2899061,1,11,0)
(#632).
"KRN",19,2899061,25)
HBHCRP24
"KRN",19,2899061,"U")
EXPANDED PROGRAM CENSUS REPORT
"KRN",19,2899062,-1)
0^41
"KRN",19,2899062,0)
HBHCRP25^Address Included Program Census  (132)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2899062,1,0)
^19.06^5^5^3030912^^
"KRN",19,2899062,1,1,0)
This option prints the HBPC Address Included Program Census Report.  The
"KRN",19,2899062,1,2,0)
user is prompted to enter a date range for inclusion on the report.  The
"KRN",19,2899062,1,3,0)
report is sorted alphabetically by patient name & includes:  Patient Name,
"KRN",19,2899062,1,4,0)
Last 4, Admission Date, Address, City, ZIP Code, Phone Number, Case Manager
"KRN",19,2899062,1,5,0)
& Total.  Report prints in 132 column format. 
"KRN",19,2899062,25)
HBHCRP25
"KRN",19,2899062,"U")
ADDRESS INCLUDED PROGRAM CENSU
"KRN",19,2900915,-1)
0^47
"KRN",19,2900915,0)
HBHC MFH DEMOGRAPHIC INPUT^Demographic Data Entry for MFH^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2900915,1,0)
^^4^4^3080318^
"KRN",19,2900915,1,1,0)
This option allows data entry of Medical Foster Home (MFH) demographic
"KRN",19,2900915,1,2,0)
fields in the HBHC MFH file (#633.2).  Once entered, the .01 field is not
"KRN",19,2900915,1,3,0)
editable via this option.  Inspection & Training data are entered via 
"KRN",19,2900915,1,4,0)
separate options.
"KRN",19,2900915,25)
HBHCDEM
"KRN",19,2900915,"U")
DEMOGRAPHIC DATA ENTRY FOR MFH
"KRN",19,2900916,-1)
0^43
"KRN",19,2900916,0)
HBHCRP26^MFH File Data Report  (132)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2900916,1,0)
^^5^5^3070612^
"KRN",19,2900916,1,1,0)
This option prints the HBHC Medical Foster Home (MFH) file (#633.2) 
"KRN",19,2900916,1,2,0)
report.  The report is sorted alphabetically by Medical Foster Home Name 
"KRN",19,2900916,1,3,0)
& includes:  Medical Foster Home Name, Opened Date, Primary Caregiver 
"KRN",19,2900916,1,4,0)
Name, Maximum Patients, Bedbound Patient Maximum, Closure Date, & 
"KRN",19,2900916,1,5,0)
Voluntary Closure.  Report prints in 132 column format.
"KRN",19,2900916,25)
HBHCRP26
"KRN",19,2900916,"U")
MFH FILE DATA REPORT  (132)
"KRN",19,2900917,-1)
0^46
"KRN",19,2900917,0)
HBHC MFH MENU^Medical Foster Home (MFH) Menu^^M^^HBHC MEDICAL FOSTER HOME^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2900917,1,0)
^^9^9^3080331^
"KRN",19,2900917,1,1,0)
This option represents the HBHC Medical Foster Home (MFH) Menu.  The Menu 
"KRN",19,2900917,1,2,0)
contains the following options:
"KRN",19,2900917,1,3,0)
 
"KRN",19,2900917,1,4,0)
   Blank MFH Worksheet Report  (80) [HBHCBLNK]
"KRN",19,2900917,1,5,0)
   Demographic Data Entry for MFH [HBHC MFH DEMOGRAPHIC INPUT]
"KRN",19,2900917,1,6,0)
   Inspection Data Entry for MFH [HBHC MFH INSPECTION INPUT]
"KRN",19,2900917,1,7,0)
   Training Data Entry for MFH [HBHC MFH TRAINING INPUT]
"KRN",19,2900917,1,8,0)
   Edit MFH Form Errors Data [HBHCUPDM]
"KRN",19,2900917,1,9,0)
   MFH Reports ... [HBHC MFH REPORTS MENU]
"KRN",19,2900917,10,0)
^19.01IP^9^9
"KRN",19,2900917,10,1,0)
2900921^^1
"KRN",19,2900917,10,1,"^")
HBHCBLNK
"KRN",19,2900917,10,2,0)
2900915^^2
"KRN",19,2900917,10,2,"^")
HBHC MFH DEMOGRAPHIC INPUT
"KRN",19,2900917,10,3,0)
2900919^^3
"KRN",19,2900917,10,3,"^")
HBHC MFH INSPECTION INPUT
"KRN",19,2900917,10,4,0)
2900920^^4
"KRN",19,2900917,10,4,"^")
HBHC MFH TRAINING INPUT
"KRN",19,2900917,10,8,0)
2900929^^6
"KRN",19,2900917,10,8,"^")
HBHC MFH REPORTS MENU
"KRN",19,2900917,10,9,0)
2900933^^5
"KRN",19,2900917,10,9,"^")
HBHCUPDM
"KRN",19,2900917,99)
61562,47100
"KRN",19,2900917,"U")
MEDICAL FOSTER HOME (MFH) MENU
"KRN",19,2900918,-1)
0^45
"KRN",19,2900918,0)
HBHCWORK^Worksheet for MFH  (80)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2900918,1,0)
^19.06^5^5^3070629^^
"KRN",19,2900918,1,1,0)
This option prints the Medical Foster Home (MFH) Data Entry Worksheet.
"KRN",19,2900918,1,2,0)
MFH must exist in HBHC Medical Foster Home file (633.2).  Any data already
"KRN",19,2900918,1,3,0)
on file will be printed on the report.  A line of underscores will be
"KRN",19,2900918,1,4,0)
printed when no data exists for a specific field.  Worksheet prints in 80
"KRN",19,2900918,1,5,0)
column format.
"KRN",19,2900918,25)
EN^HBHCWORK
"KRN",19,2900918,"U")
WORKSHEET FOR MFH  (80)
"KRN",19,2900919,-1)
0^48
"KRN",19,2900919,0)
HBHC MFH INSPECTION INPUT^Inspection Data Entry for MFH^^E^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2900919,1,0)
^19.06^2^2^3070629^^^^
"KRN",19,2900919,1,1,0)
This option allows data entry of the Medical Foster Home (MFH) Inspection 
"KRN",19,2900919,1,2,0)
multiples in the HBHC Medical Foster Home file (#633.2).
"KRN",19,2900919,30)
HBHC(633.2,
"KRN",19,2900919,31)
AEMQ
"KRN",19,2900919,50)
HBHC(633.2,
"KRN",19,2900919,51)
[HBHC MFH INSPECTION INPUT]
"KRN",19,2900919,"U")
INSPECTION DATA ENTRY FOR MFH
"KRN",19,2900920,-1)
0^49
"KRN",19,2900920,0)
HBHC MFH TRAINING INPUT^Training Data Entry for MFH^^E^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2900920,1,0)
^19.06^2^2^3070629^^^
"KRN",19,2900920,1,1,0)
This option allows data entry of the Medical Foster Home (MFH) Training
"KRN",19,2900920,1,2,0)
multiples in the HBHC Medical Foster Home file (#633.2).
"KRN",19,2900920,30)
HBHC(633.2,
"KRN",19,2900920,31)
AEMQ
"KRN",19,2900920,50)
HBHC(633.2,
"KRN",19,2900920,51)
[HBHC MFH TRAINING INPUT]
"KRN",19,2900920,"U")
TRAINING DATA ENTRY FOR MFH
"KRN",19,2900921,-1)
0^51
"KRN",19,2900921,0)
HBHCBLNK^Blank MFH Worksheet Report  (80)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2900921,1,0)
^^2^2^3070725^
"KRN",19,2900921,1,1,0)
This option prints the HBPC Medical Foster Home (MFH) Blank Worksheet 
"KRN",19,2900921,1,2,0)
Report.  Report prints in 80 column format.
"KRN",19,2900921,25)
BLANK^HBHCWORK
"KRN",19,2900921,"U")
BLANK MFH WORKSHEET REPORT  (8
"KRN",19,2900922,-1)
0^65
"KRN",19,2900922,0)
HBHC MFH AUTO-QUEUED REMINDERS^Auto-queued Inspection/Training Reminder e-mail^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2900922,1,0)
^19.06^11^11^3080108^^
"KRN",19,2900922,1,1,0)
This option runs a monthly auto-queued batch job to create separate e-mail
"KRN",19,2900922,1,2,0)
reminder messages for HBPC Medical Foster Home (MFH) Inspections &/or
"KRN",19,2900922,1,3,0)
Training due within the next 3 months, based on month only.  This job
"KRN",19,2900922,1,4,0)
should be scheduled for the 1st day of each month, regardless of day of
"KRN",19,2900922,1,5,0)
the week for 1st.
"KRN",19,2900922,1,6,0)
 
"KRN",19,2900922,1,7,0)
The MFH Inspection & Training data used by this option are multiples with
"KRN",19,2900922,1,8,0)
the HBHC MEDICAL FOSTER HOME file (#633.2).
"KRN",19,2900922,1,9,0)
 
"KRN",19,2900922,1,10,0)
Members in mail group HBHC MEDICAL FOSTER HOME receive the reminder mail
"KRN",19,2900922,1,11,0)
messages.
"KRN",19,2900922,25)
DQ^HBHCRP27
"KRN",19,2900922,"U")
AUTO-QUEUED INSPECTION/TRAININ
"KRN",19,2900923,-1)
0^53
"KRN",19,2900923,0)
HBHCRP27^Inspection/Training Due Report for MFH  (80)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2900923,1,0)
^19.06^6^6^3070831^^
"KRN",19,2900923,1,1,0)
This option prints the HBPC Medical Foster Home (MFH) Inspection or 
"KRN",19,2900923,1,2,0)
Training report.  Inspection & Training data are multiples with the HBHC
"KRN",19,2900923,1,3,0)
MEDICAL FOSTER HOME file (#633.2). The data includes inspections/training
"KRN",19,2900923,1,4,0)
due within the next 6 months, based on month only.  Report includes:  
"KRN",19,2900923,1,5,0)
inspections/training due & most recent inspection/training date.  Report
"KRN",19,2900923,1,6,0)
prints in 80 column format.
"KRN",19,2900923,25)
HBHCRP27
"KRN",19,2900923,"U")
INSPECTION/TRAINING DUE REPORT
"KRN",19,2900924,-1)
0^59
"KRN",19,2900924,0)
HBHCRP28^Rate Paid Report for MFH  (80)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2900924,1,0)
^^9^9^3071212^
"KRN",19,2900924,1,1,0)
This option prints the HBPC Medical Foster Home (MFH) Rate Paid report.  
"KRN",19,2900924,1,2,0)
Rate Paid data is a multiple in the HBHC PATIENT file (#631).  The user 
"KRN",19,2900924,1,3,0)
selects to sort the data by Patient or MFH, then to include Active ONLY, 
"KRN",19,2900924,1,4,0)
Individual, or All Patients or MFHs, then whether to include Current ONLY
"KRN",19,2900924,1,5,0)
Rate or All Rates Paid.  MFH sort also prompts for whether to include
"KRN",19,2900924,1,6,0)
Discharged Patients.  Report includes:  Patient Name, Last Four, Rate
"KRN",19,2900924,1,7,0)
Paid, Start Date, & Medical Foster Home Name.  Report selection criteria
"KRN",19,2900924,1,8,0)
is listed in the report header.  Lowest, Highest, & Average Rate Paid are 
"KRN",19,2900924,1,9,0)
included at the end of the report.  Report prints in 80 column format.
"KRN",19,2900924,25)
HBHCRP28
"KRN",19,2900924,"U")
RATE PAID REPORT FOR MFH  (80)
"KRN",19,2900925,-1)
0^60
"KRN",19,2900925,0)
HBHCTXT^Rate Paid Delimited Text File Output^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2900925,1,0)
^19.06^9^9^3080828^^^
"KRN",19,2900925,1,1,0)
This option creates the HBPC Medical Foster Home (MFH) Rate Paid delimited
"KRN",19,2900925,1,2,0)
text file, suitable for spreadsheet import.  Rate Paid data is a multiple
"KRN",19,2900925,1,3,0)
in the HBHC PATIENT file (#631).  The user selects to sort the data by
"KRN",19,2900925,1,4,0)
Patient or MFH, then to include Active ONLY, Individual, or All Patients
"KRN",19,2900925,1,5,0)
or MFHs, then whether to include Current ONLY Rate or All Rates Paid.  
"KRN",19,2900925,1,6,0)
File includes:  Patient Name, Last Four, Rate Paid, Start Date, for
"KRN",19,2900925,1,7,0)
Patient sort, plus Medical Foster Home Name is included on MFH sort.  MFH 
"KRN",19,2900925,1,8,0)
sort also prompts for whether to include Discharged Patients.  File is
"KRN",19,2900925,1,9,0)
delimited by "^".
"KRN",19,2900925,25)
HBHCTXT
"KRN",19,2900925,"U")
RATE PAID DELIMITED TEXT FILE 
"KRN",19,2900926,-1)
0^61
"KRN",19,2900926,0)
HBHCTXT2^Inspection/Training Delimited Text File Output^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2900926,1,0)
^19.06^15^15^3080828^^^
"KRN",19,2900926,1,1,0)
This option creates the HBPC Medical Foster Home (MFH) Inspection or 
"KRN",19,2900926,1,2,0)
Training data delimited text file, suitable for spreadsheet import.  
"KRN",19,2900926,1,3,0)
Inspection & Training data are multiples in the HBHC MEDICAL FOSTER HOME
"KRN",19,2900926,1,4,0)
file (#633.2).  Inspection multiples include:  Nurse, Social Work, 
"KRN",19,2900926,1,5,0)
Dietitian, & Fire/Safety Inspections.  Training multiples include:  Home
"KRN",19,2900926,1,6,0)
Operation, Fire/Safety, Medication Management, Personal Care, Infection
"KRN",19,2900926,1,7,0)
Control, End of Life, & Other as training categories. Other training
"KRN",19,2900926,1,8,0)
category also contains Topic field.
"KRN",19,2900926,1,9,0)
 
"KRN",19,2900926,1,10,0)
The user selects Inspection or Training data.  All data on file is
"KRN",19,2900926,1,11,0)
included in exported text file. Inspection File includes: Medical Foster
"KRN",19,2900926,1,12,0)
Home Name, MFH Closure Date, Inspection Discipline, Inspection Date, &
"KRN",19,2900926,1,13,0)
Inspector Name. Training File includes:  Medical Foster Home Name, MFH
"KRN",19,2900926,1,14,0)
Closure Date, Training Category, Training Date, & Other Training Topic.  
"KRN",19,2900926,1,15,0)
File is delimited by "^".
"KRN",19,2900926,25)
HBHCTXT2
"KRN",19,2900926,"U")
INSPECTION/TRAINING DELIMITED 
"KRN",19,2900927,-1)
0^62
"KRN",19,2900927,0)
HBHCRP29^License Due for MFH Report  (80)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2900927,1,0)
^^5^5^3080318^
"KRN",19,2900927,1,1,0)
This option prints the HBPC Medical Foster Home (MFH) License Due report.
"KRN",19,2900927,1,2,0)
The report is sorted alphabetically by MFH Name & contains MFH Name & 
"KRN",19,2900927,1,3,0)
License Expiration Date.  The report includes License Expiration Dates due
"KRN",19,2900927,1,4,0)
to expire within 6 months, based on month only.  The report prints in 80
"KRN",19,2900927,1,5,0)
column format.
"KRN",19,2900927,25)
HBHCRP29
"KRN",19,2900927,"U")
LICENSE DUE FOR MFH REPORT  (8
"KRN",19,2900928,-1)
0^63
"KRN",19,2900928,0)
HBHC MFH AUTO-Q LICENSE DUE^Auto-queued License Due Reminder e-mail^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2900928,1,0)
^^13^13^3080318^
"KRN",19,2900928,1,1,0)
This option runs a monthly auto-queued batch job to create an e-mail
"KRN",19,2900928,1,2,0)
message for HBPC Medical Foster Home(s) (MFH) with License due within the
"KRN",19,2900928,1,3,0)
next 3 months, based on month only.  This job should be scheduled for the
"KRN",19,2900928,1,4,0)
1st day of each month, regardless of day of the week for 1st.
"KRN",19,2900928,1,5,0)
 
"KRN",19,2900928,1,6,0)
Note:  This option does NOT need to be scheduled to run for HBPC MFH sites
"KRN",19,2900928,1,7,0)
which are in states that do not require licensure.
"KRN",19,2900928,1,8,0)
 
"KRN",19,2900928,1,9,0)
The MFH License data used by this option resides in the HBHC MEDICAL
"KRN",19,2900928,1,10,0)
FOSTER HOME file (#633.2).
"KRN",19,2900928,1,11,0)
 
"KRN",19,2900928,1,12,0)
Members in mail group HBHC MEDICAL FOSTER HOME receive the reminder mail
"KRN",19,2900928,1,13,0)
message.
"KRN",19,2900928,25)
DQ^HBHCRP29
"KRN",19,2900928,"U")
AUTO-QUEUED LICENSE DUE REMIND
"KRN",19,2900929,-1)
0^64
"KRN",19,2900929,0)
HBHC MFH REPORTS MENU^MFH Reports^^M^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2900929,1,0)
^^12^12^3080305^
"KRN",19,2900929,1,1,0)
This option is the HBPC Medical Foster Home (MFH) Reports Menu.  The 
"KRN",19,2900929,1,2,0)
option includes:
"KRN",19,2900929,1,3,0)
 
"KRN",19,2900929,1,4,0)
   MFH File Data Report  (132) [HBHCRP26]
"KRN",19,2900929,1,5,0)
   Worksheet for MFH  (80) [HBHCWORK]
"KRN",19,2900929,1,6,0)
   Inspection/Training Due Report for MFH  (80) [HBHCRP27]
"KRN",19,2900929,1,7,0)
   Rate Paid Report for MFH  (80) [HBHCRP28]
"KRN",19,2900929,1,8,0)
   License Due for MFH Report  (80) [HBHCRP29]
"KRN",19,2900929,1,9,0)
   Caregiver Age Report  (132) [HBHCRP30]
"KRN",19,2900929,1,10,0)
   Form Errors Report for MFH  (80) [HBHCRP31]
"KRN",19,2900929,1,11,0)
   Delimited Text File Output Menu for MFH ... 
"KRN",19,2900929,1,12,0)
      [HBHC MFH TEXT FILE OUTPUT MENU]
"KRN",19,2900929,10,0)
^19.01IP^9^9
"KRN",19,2900929,10,1,0)
2900916^^1
"KRN",19,2900929,10,1,"^")
HBHCRP26
"KRN",19,2900929,10,2,0)
2900923^^3
"KRN",19,2900929,10,2,"^")
HBHCRP27
"KRN",19,2900929,10,3,0)
2900924^^4
"KRN",19,2900929,10,3,"^")
HBHCRP28
"KRN",19,2900929,10,4,0)
2900927^^5
"KRN",19,2900929,10,4,"^")
HBHCRP29
"KRN",19,2900929,10,6,0)
2900918^^2
"KRN",19,2900929,10,6,"^")
HBHCWORK
"KRN",19,2900929,10,7,0)
2900930^^8
"KRN",19,2900929,10,7,"^")
HBHC MFH TEXT FILE OUTPUT MENU
"KRN",19,2900929,10,8,0)
2900931^^6
"KRN",19,2900929,10,8,"^")
HBHCRP30
"KRN",19,2900929,10,9,0)
2900932^^7
"KRN",19,2900929,10,9,"^")
HBHCRP31
"KRN",19,2900929,99)
61562,47100
"KRN",19,2900929,"U")
MFH REPORTS
"KRN",19,2900930,-1)
0^66
"KRN",19,2900930,0)
HBHC MFH TEXT FILE OUTPUT MENU^Delimited Text File Output Menu for MFH^^M^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2900930,1,0)
^^6^6^3080109^
"KRN",19,2900930,1,1,0)
This option is the HBPC Delimited Text File Output Menu for MFH.  The 
"KRN",19,2900930,1,2,0)
data produced is suitable for spreadsheet import.  The data is delimited 
"KRN",19,2900930,1,3,0)
by the "^" character.  The option includes:
"KRN",19,2900930,1,4,0)
 
"KRN",19,2900930,1,5,0)
   Inspection/Training Delimited Text File Output [HBHCTXT2]
"KRN",19,2900930,1,6,0)
   Rate Paid Delimited Text File Output [HBHCTXT]
"KRN",19,2900930,10,0)
^19.01IP^2^2
"KRN",19,2900930,10,1,0)
2900926^^1
"KRN",19,2900930,10,1,"^")
HBHCTXT2
"KRN",19,2900930,10,2,0)
2900925^^2
"KRN",19,2900930,10,2,"^")
HBHCTXT
"KRN",19,2900930,99)
61562,47100
"KRN",19,2900930,"U")
DELIMITED TEXT FILE OUTPUT MEN
"KRN",19,2900931,-1)
0^67
"KRN",19,2900931,0)
HBHCRP30^Caregiver Age Report  (132)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2900931,1,0)
^^5^5^3080318^
"KRN",19,2900931,1,1,0)
This option prints the HBPC Medical Foster Home (MFH) Caregiver Age 
"KRN",19,2900931,1,2,0)
Report.  The report is sorted alphabetically by MFH Name & includes:
"KRN",19,2900931,1,3,0)
Medical Foster Home (MFH) Name, Opened Date, Primary Caregiver Name,
"KRN",19,2900931,1,4,0)
Caregiver Date of Birth, & Age.  Total number of MFHs & Average Caregiver
"KRN",19,2900931,1,5,0)
Age are included at end of report.  Report prints in 132 column format.
"KRN",19,2900931,25)
HBHCRP30
"KRN",19,2900931,"U")
CAREGIVER AGE REPORT  (132)
"KRN",19,2900932,-1)
0^68
"KRN",19,2900932,0)
HBHCRP31^Form Errors Report for MFH  (80)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2900932,1,0)
^^5^5^3080318^
"KRN",19,2900932,1,1,0)
This option prints the HBHC Medical Foster Home (MFH) Form Errors Report
"KRN",19,2900932,1,2,0)
for MFH option.  The report is sorted alphabetically by MFH Name &
"KRN",19,2900932,1,3,0)
includes:  MFH File (#633.2) Internal Entry Number (IEN), MFH Name, &
"KRN",19,2900932,1,4,0)
Opened Date.  This option is both freestanding & is called from Form
"KRN",19,2900932,1,5,0)
Errors Report [HBHCRP1] option.  Report prints in 80 column format.
"KRN",19,2900932,25)
HBHCRP31
"KRN",19,2900932,"U")
FORM ERRORS REPORT FOR MFH  (8
"KRN",19,2900933,-1)
0^81
"KRN",19,2900933,0)
HBHCUPDM^Edit MFH Form Errors Data^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2900933,1,0)
^^5^5^3080331^
"KRN",19,2900933,1,1,0)
This option allows editing of the HBPC Medical Foster Home (MFH) Form
"KRN",19,2900933,1,2,0)
Errors Data.  The user is prompted for a MFH name, then the routine
"KRN",19,2900933,1,3,0)
prompts for the fields that are missing or invalid in each record.  These
"KRN",19,2900933,1,4,0)
errors are found when the Build/Verify Transmission File [HBHCFILE] option
"KRN",19,2900933,1,5,0)
is run and must be corrected before transmission to Austin is allowed.
"KRN",19,2900933,25)
HBHCUPDM
"KRN",19,2900933,"U")
EDIT MFH FORM ERRORS DATA
"KRN",19.1,1080,-1)
0^1
"KRN",19.1,1080,0)
HBHC MEDICAL FOSTER HOME
"KRN",19.1,1080,1,0)
^^2^2^3070806^
"KRN",19.1,1080,1,1,0)
This security key locks the Medical Foster Home (MFH) Menu [HBHC MFH MENU]
"KRN",19.1,1080,1,2,0)
option.
"MBREQ")
0
"ORD",3,19.1)
19.1;3;;;KEY^XPDTA1;KEYF1^XPDIA1;KEYE1^XPDIA1;KEYF2^XPDIA1;;KEYDEL^XPDIA1
"ORD",3,19.1,0)
SECURITY KEY
"ORD",7,.402)
.402;7;;;EDEOUT^DIFROMSO(.402,DA,"",XPDA);FPRE^DIFROMSI(.402,"",XPDA);EPRE^DIFROMSI(.402,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.402,DA,"",XPDA);DEL^DIFROMSK(.402,"",%)
"ORD",7,.402,0)
INPUT TEMPLATE
"ORD",11,3.8)
3.8;11;;;MAILG^XPDTA1;MAILGF1^XPDIA1;MAILGE1^XPDIA1;MAILGF2^XPDIA1;;MAILGDEL^XPDIA1(%)
"ORD",11,3.8,0)
MAIL GROUP
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",455,-1)
1^1
"PKG",455,0)
HOSPITAL BASED HOME CARE^HBH^Hospital Based Home Care
"PKG",455,20,0)
^9.402P^^
"PKG",455,22,0)
^9.49I^1^1
"PKG",455,22,1,0)
1.0^2931101
"PKG",455,22,1,"PAH",1,0)
24^3090722^3779
"PKG",455,22,1,"PAH",1,1,0)
^^1^1^3090722
"PKG",455,22,1,"PAH",1,1,1,0)
HBH*1.0*24, Medical Foster Home (MFH) Functionality 
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
34
"RTN","HBHCADM")
0^1^B21342885^B18781454
"RTN","HBHCADM",1,0)
HBHCADM ; LR VAMC(IRMS)/MJT-HBHC eval/adm data entry, obtain demographic info from ^DPT, verify patient D/C from last episode/care before creating episode, calls ACTION^HBHCUTL, BIRTHYR^HBHCUTL1, SEXRACE^HBHCUTL1, MFHS^HBHCUTL3 ; May 2000
"RTN","HBHCADM",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**2,6,8,16,24**;NOV 01, 1993;Build 201
"RTN","HBHCADM",3,0)
START ; Initialization
"RTN","HBHCADM",4,0)
 S HBHCFORM=3
"RTN","HBHCADM",5,0)
 D MFHS^HBHCUTL3
"RTN","HBHCADM",6,0)
PROMPT ; Prompt user for patient name
"RTN","HBHCADM",7,0)
 K DIC,HBHCFLG,HBHCPRCT S DIC="^HBHC(631,",DIC(0)="AELMQZ" D ^DIC
"RTN","HBHCADM",8,0)
 G:Y=-1 EXIT
"RTN","HBHCADM",9,0)
 S HBHCDFN=+Y,HBHCDPT=$P(Y,U,2),HBHCDPT0=^DPT(HBHCDPT,0),HBHCNOD0=Y(0)
"RTN","HBHCADM",10,0)
 I $P(HBHCDPT0,U,9)'?9N W !!,"Patient has 'pseudo' social security number (SSN) on file.  If patient was",!,"not chosen in error, contact MAS to correct the invalid SSN.  Patient must",!,"have a valid SSN to be selected.",! H 3 G PROMPT
"RTN","HBHCADM",11,0)
 S HBHCXMT3=$P($G(^HBHC(631,HBHCDFN,1)),U,17)
"RTN","HBHCADM",12,0)
 I $P(^HBHC(631,HBHCDFN,0),U,40)]"" W $C(7),!!!,"***  Record contains Discharge data indicating a Complete Episode of Care  ***",!! H 3
"RTN","HBHCADM",13,0)
 I (HBHCXMT3]"")&(HBHCXMT3'="N") D FORMMSG^HBHCUTL1 G:$D(HBHCNHSP) EXIT G:HBHCPRCT'=1 PROMPT
"RTN","HBHCADM",14,0)
 I $P(Y,U,3) S $P(^HBHC(631,HBHCDFN,1),U,17)="N",^HBHC(631,"AE","N",HBHCDFN)="" S HBHCBXRF="" F  S HBHCBXRF=$O(^HBHC(631,"B",HBHCDPT,HBHCBXRF)) Q:(HBHCBXRF="")!(HBHCBXRF=HBHCDFN)  D CHECK
"RTN","HBHCADM",15,0)
 G:$D(HBHCFLG) PROMPT
"RTN","HBHCADM",16,0)
 D DEMO
"RTN","HBHCADM",17,0)
 K DIE S DIE="^HBHC(631,",DA=HBHCDFN,DIE("NO^")="OUTOK"
"RTN","HBHCADM",18,0)
 S:'$D(HBHCMFHS) DR="K HBHCQ;17;2:5;D BIRTHYR^HBHCUTL1;7;D SEXRACE^HBHCUTL1;10:13;14;D ACTION^HBHCUTL;15;16;I $D(HBHCQ) K HBHCQ S Y=37;18;68;19:36;37:38;67"
"RTN","HBHCADM",19,0)
 S:$D(HBHCMFHS) DR(2,631.01)=1,DR="K HBHCQ;88;S:X'=""Y"" Y=""@1"";89;90;@1;17;2:5;D BIRTHYR^HBHCUTL1;7;D SEXRACE^HBHCUTL1;10:13;14;D ACTION^HBHCUTL;15;16;I $D(HBHCQ) K HBHCQ S Y=37;18;68;19:36;37:38;67"
"RTN","HBHCADM",20,0)
 L +^HBHC(631,HBHCDFN):0 I $T D ^DIE L -^HBHC(631,HBHCDFN) G PROMPT
"RTN","HBHCADM",21,0)
 W $C(7),!!,"Another user is editing this entry.",!! G PROMPT
"RTN","HBHCADM",22,0)
EXIT ; Exit module
"RTN","HBHCADM",23,0)
 K DA,DIC,DIE,DIK,DR,HBHCAFLG,HBHCBXRF,HBHCCNTY,HBHCDFN,HBHCDPT,HBHCDPT0,HBHCEL,HBHCELGE,HBHCFLG,HBHCFORM,HBHCI,HBHCIEN,HBHCINFO,HBHCJ,HBHCMARE,HBHCMFHS,HBHCMS,HBHCNHSP,HBHCNOD0,HBHCPRCT,HBHCPS,HBHCPSRV,HBHCQ,HBHCRFLG,HBHCST
"RTN","HBHCADM",24,0)
 K HBHCXMT3,HBHCWRD1,HBHCWRD2,HBHCWRD3,HBHCY0,HBHCZIP,VAEL,X,Y
"RTN","HBHCADM",25,0)
 Q
"RTN","HBHCADM",26,0)
CHECK ; Check previous episode(s) of care for 'Reject' in Admit/Reject Action or Discharge Date to ensure completed episode of care before allowing another episode of care to be created
"RTN","HBHCADM",27,0)
 Q:($P(^HBHC(631,HBHCBXRF,0),U,15)=2)!($P(^HBHC(631,HBHCBXRF,0),U,40)]"")
"RTN","HBHCADM",28,0)
 W $C(7),!!,"Patient must be discharged from last episode of care before new episode",!,"can be entered.  Current episode not created.",! H 3
"RTN","HBHCADM",29,0)
 K DIK S DIK="^HBHC(631,",DA=HBHCDFN D ^DIK
"RTN","HBHCADM",30,0)
 S HBHCFLG=1
"RTN","HBHCADM",31,0)
 Q
"RTN","HBHCADM",32,0)
DEMO ; Obtain patient demographic info
"RTN","HBHCADM",33,0)
 S (HBHCST,HBHCCNTY,HBHCZIP,HBHCEL,HBHCELGE,HBHCPS,HBHCPSRV,HBHCMS,HBHCMARE)=""
"RTN","HBHCADM",34,0)
 I $D(^DPT(HBHCDPT,.11)) S HBHCINFO=^DPT(HBHCDPT,.11),HBHCCNTY=$P(HBHCINFO,U,7),HBHCZIP=$P(HBHCINFO,U,12),HBHCST=$P(HBHCINFO,U,5) I HBHCST]"" S HBHCIEN="" F  S HBHCIEN=$O(^HBHC(631.8,"B",HBHCST,HBHCIEN)) Q:HBHCIEN=""  S HBHCST=HBHCIEN
"RTN","HBHCADM",35,0)
 I $D(^DPT(HBHCDPT,.36)) S DFN=HBHCDPT D ELIG^VADPT S HBHCEL=+VAEL(1),HBHCELGE=$S(HBHCEL=1:"01",HBHCEL=2:"02",HBHCEL=16:"02",HBHCEL=11:"03",HBHCEL=4:"04",1:"05") K DFN
"RTN","HBHCADM",36,0)
 I $D(^DPT(HBHCDPT,.32)) S HBHCINFO=^DPT(HBHCDPT,.32),HBHCPS=$P(HBHCINFO,U,3),HBHCPSRV=$S(((HBHCPS>0)&(HBHCPS<9)):HBHCPS,HBHCPS=9:10,HBHCPS=121:11,1:"")
"RTN","HBHCADM",37,0)
 S HBHCINFO=^DPT(HBHCDPT,0),HBHCMS=$P(HBHCINFO,U,5),HBHCMARE=$S(HBHCMS=1:4,HBHCMS=2:1,HBHCMS=4:2,HBHCMS=5:3,HBHCMS=6:5,1:"")
"RTN","HBHCADM",38,0)
 I HBHCST]"" S:($P(HBHCNOD0,U,3)="")&($D(^HBHC(631.8,HBHCST,0))) $P(^HBHC(631,HBHCDFN,0),U,3)=HBHCST I (HBHCCNTY]"")&($P(HBHCNOD0,U,4)="") S:$D(^HBHC(631.8,HBHCST,0)) $P(^HBHC(631,HBHCDFN,0),U,4)=HBHCCNTY
"RTN","HBHCADM",39,0)
 S:(HBHCZIP]"")&(($P(HBHCNOD0,U,5)="")!($P(HBHCNOD0,U,5)'?9N)) $P(^HBHC(631,HBHCDFN,0),U,5)=HBHCZIP
"RTN","HBHCADM",40,0)
 S:(HBHCELGE]"")&($P(HBHCNOD0,U,6)="") $P(^HBHC(631,HBHCDFN,0),U,6)=HBHCELGE
"RTN","HBHCADM",41,0)
 S:(HBHCPSRV]"")&($P(HBHCNOD0,U,8)="") $P(^HBHC(631,HBHCDFN,0),U,8)=HBHCPSRV
"RTN","HBHCADM",42,0)
 S:(HBHCMARE]"")&($P(HBHCNOD0,U,11)="") $P(^HBHC(631,HBHCDFN,0),U,11)=HBHCMARE
"RTN","HBHCADM",43,0)
 Q
"RTN","HBHCDEM")
0^17^B1728176^n/a
"RTN","HBHCDEM",1,0)
HBHCDEM ; LR VAMC(IRMS)/MJT-HBHC Medical Foster Home (MFH) demographic data entry ; 0208
"RTN","HBHCDEM",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**24**;NOV 01, 1993;Build 201
"RTN","HBHCDEM",3,0)
START ; Initialization
"RTN","HBHCDEM",4,0)
 S HBHCFORM=7
"RTN","HBHCDEM",5,0)
PROMPT ; Prompt user for Medical Foster Home (MFH) name
"RTN","HBHCDEM",6,0)
 K DIC,HBHCPRCT S DIC="^HBHC(633.2,",DIC(0)="AELMQZ" D ^DIC
"RTN","HBHCDEM",7,0)
 G:Y=-1 EXIT
"RTN","HBHCDEM",8,0)
 S HBHCDFN=+Y,HBHCXMT7=$P($G(^HBHC(633.2,HBHCDFN,12)),U)
"RTN","HBHCDEM",9,0)
 I (HBHCXMT7]"")&(HBHCXMT7'="N") D FORMMSG^HBHCUTL1 G:$D(HBHCNHSP) EXIT G:HBHCPRCT'=1 PROMPT
"RTN","HBHCDEM",10,0)
 I $P(Y,U,3) S $P(^HBHC(633.2,HBHCDFN,12),U)="N",^HBHC(633.2,"AC","N",HBHCDFN)=""
"RTN","HBHCDEM",11,0)
 K DIE S DIE="^HBHC(633.2,",DA=HBHCDFN,DR="[HBHC MFH DEMOGRAPHIC INPUT]"
"RTN","HBHCDEM",12,0)
 L +^HBHC(633.2,HBHCDFN):0 I $T D ^DIE L -^HBHC(633.2,HBHCDFN) W !! G PROMPT
"RTN","HBHCDEM",13,0)
 W $C(7),!!,"Another user is editing this entry.",!! G PROMPT
"RTN","HBHCDEM",14,0)
EXIT ; Exit module
"RTN","HBHCDEM",15,0)
 K DA,DIC,DIE,DR,HBHCDFN,HBHCFORM,HBHCNHSP,HBHCPRCT,HBHCXMT7,X,Y
"RTN","HBHCDEM",16,0)
 Q
"RTN","HBHCFILE")
0^18^B31778098^B30445019
"RTN","HBHCFILE",1,0)
HBHCFILE ; LR VAMC(IRMS)/MJT-HBHC populates ^HBHC(632) visit file, & ^HBHC(634), file for transmitting to Austin, calls ^HBHCAPPT, ^HBHCXMC, ^HBHCXMA, ^HBHCXMV, ^HBHCXMD, & HBHCXMM ; Nov 1999
"RTN","HBHCFILE",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**2,5,6,8,9,10,16,21,24**;NOV 01, 1993;Build 201
"RTN","HBHCFILE",3,0)
 I $P(^HBHC(631.9,1,0),U,5)="" W !!,"***  NOTICE:  Hospital Number is missing from System Parameter file (#631.9).",!,"Transmission file building CANNOT proceed without this information.  Contact"
"RTN","HBHCFILE",4,0)
 I $P(^HBHC(631.9,1,0),U,5)="" W !,"IRM to enter this information using FileMan.",! H 10 Q
"RTN","HBHCFILE",5,0)
 L +^HBHC(634.5,0):0 I '$T W $C(7),!!,"Another user has the pseudo SSN file locked." H 3 G EXIT
"RTN","HBHCFILE",6,0)
 I ($D(^HBHC(634.1,"B")))!($D(^HBHC(634.2,"B")))!($D(^HBHC(634.3,"B")))!($D(^HBHC(634.5,"B")))!($D(^HBHC(634.7,"B"))) W $C(7),!!,"Records containing errors exist and must be corrected before transmit",!,"file can be created or updated.",!! H 3 Q
"RTN","HBHCFILE",7,0)
EN ; Entry point
"RTN","HBHCFILE",8,0)
 I $P(^HBHC(631.9,1,0),U,8)]"" W $C(7),!,"File Update in progress.  Please try again later." H 3 Q
"RTN","HBHCFILE",9,0)
 W !!,"This option builds the file for transmission to Austin.  Do you wish to",!,"continue" S %=2 D YN^DICN
"RTN","HBHCFILE",10,0)
 I %=0 W !!,"A 'Yes' response will add records to the file.  A 'No' response will return",!,"to the menu without updating the file." G EN
"RTN","HBHCFILE",11,0)
 G:%'=1 EXIT
"RTN","HBHCFILE",12,0)
MONTH ; Calculate default month value & last date to be included for transmission
"RTN","HBHCFILE",13,0)
 S X="T" D ^%DT S X1=$P(Y,"."),X2=-28 D C^%DTC S DIR("B")=+$E(X,4,5)
"RTN","HBHCFILE",14,0)
 S DIR(0)="SX^1:January;2:February;3:March;4:April;5:May;6:June;7:July;8:August;9:September;10:October;11:November;12:December;"
"RTN","HBHCFILE",15,0)
 S DIR("A")="Month for which data is to be transmitted"
"RTN","HBHCFILE",16,0)
 S DIR("?")="Month entered controls the ending date for data transmitted to Austin.  (e.g.  An August 5 transmission with July selected as month, will include data thru July 31.)"
"RTN","HBHCFILE",17,0)
 D ^DIR Q:$D(DIRUT)  S HBHCDIR=Y
"RTN","HBHCFILE",18,0)
 S X="T" D ^%DT S HBHCYEAR=$S(HBHCDIR>(+$E(Y,4,5)):($E(Y,1,3))-1,1:$E(Y,1,3))
"RTN","HBHCFILE",19,0)
 S Y=1700+HBHCYEAR,HBHCLEAP=$S(Y#400=0:1,Y#4=0&'(Y#100=0):1,1:0)
"RTN","HBHCFILE",20,0)
 S HBHCLSDT=HBHCYEAR_$S(HBHCDIR<10:"0"_HBHCDIR,1:HBHCDIR)_$S(((HBHCDIR=2)&('HBHCLEAP)):28,((HBHCDIR=2)&(HBHCLEAP)):29,"^1^3^5^7^8^10^12^"[HBHCDIR:31,1:30)_.9999
"RTN","HBHCFILE",21,0)
 S Y=$P(HBHCLSDT,".") D DD^%DT S HBHCCKDT=Y
"RTN","HBHCFILE",22,0)
NUMBER ; Edit Number of Visit Days to Scan system parameter
"RTN","HBHCFILE",23,0)
 W !
"RTN","HBHCFILE",24,0)
 K DIR S DIR(0)="631.9,3",DIR("A")="Number of Visit Days to Scan",DIR("B")=$P($G(^HBHC(631.9,1,0)),U,4)
"RTN","HBHCFILE",25,0)
 S DIR("?",1)="Enter number of days to be included when the system creates records in the",DIR("?",2)="HBHC Visit File from the appointment data entered via the Appointment",DIR("?")="Management  [HBHC APPOINTMENT]  option."
"RTN","HBHCFILE",26,0)
 D ^DIR
"RTN","HBHCFILE",27,0)
 G:($D(DTOUT))!($D(DUOUT)) EXIT
"RTN","HBHCFILE",28,0)
 S HBHCDIR=Y
"RTN","HBHCFILE",29,0)
 I (HBHCDIR'=DIR("B"))&(HBHCDIR?1.3N) K DIE S HBHCDAYS=Y,DIE="^HBHC(631.9,",DA=1,DR="3///^S X=HBHCDAYS" D ^DIE
"RTN","HBHCFILE",30,0)
 ; Check to ensure Number of Visit Days to Scan date < HBHCLSDT
"RTN","HBHCFILE",31,0)
 K %DT S X="T"-($S(HBHCDIR'=DIR("B"):HBHCDIR,1:DIR("B"))) D ^%DT
"RTN","HBHCFILE",32,0)
 I (Y_".9999")'<HBHCLSDT D DD^%DT W $C(7),!!,"Date Range is invalid.  Transmit Month Ending Date of:  ",HBHCCKDT,"  must",!,"be closer to today than the Number of Days to Scan Date:  ",Y,".",! G NUMBER
"RTN","HBHCFILE",33,0)
CLEANUP ; Cleanup ^HBHC(634) if new transmit cycle => all records flagged as transmitted
"RTN","HBHCFILE",34,0)
 I ('$D(^HBHC(631,"AE","F")))&('$D(^HBHC(631,"AF","F")))&('$D(^HBHC(632,"AC","F")))&('$D(^HBHC(633.2,"AC","F"))) K ^HBHC(634) S ^HBHC(634,0)="HBHC TRANSMIT^634"
"RTN","HBHCFILE",35,0)
 ; Flag used to control killing HBHCDAT, HBHCDTE, & HBHCNOW in HBHCAPPT
"RTN","HBHCFILE",36,0)
 S HBHCFLAG=1
"RTN","HBHCFILE",37,0)
QUEUE ; Queue
"RTN","HBHCFILE",38,0)
 S ZTIO="",ZTDTH=$H,ZTRTN="PLOOP^HBHCFILE",ZTSAVE("HBHC*")="",ZTDESC="HBPC Build Transmit File" D ^%ZTLOAD
"RTN","HBHCFILE",39,0)
 W $C(7),!!,"Build Transmit File processing has been queued.  Task number:  ",ZTSK H 3
"RTN","HBHCFILE",40,0)
 G EXIT
"RTN","HBHCFILE",41,0)
PLOOP ; Loop thru ^HBHC(632,"C" Appointment Date cross-ref & flag as 'P' (Record Prior to Package Startup Date) in Form 4 Transmit Status field if date < Package Startup Date
"RTN","HBHCFILE",42,0)
 S X1=$P(^HBHC(631.9,1,0),U,3),X2=-1 D C^%DTC S HBHCSTDT=X_.9999
"RTN","HBHCFILE",43,0)
 S HBHCAPDT=0,DIE="^HBHC(632,",DR="7///P"
"RTN","HBHCFILE",44,0)
 F  S HBHCAPDT=$O(^HBHC(632,"C",HBHCAPDT)) Q:(HBHCAPDT'>0)!(HBHCAPDT>HBHCSTDT)  S DA="" F  S DA=$O(^HBHC(632,"C",HBHCAPDT,DA)) Q:DA'>0  D:'$D(^HBHC(632,"AC","P",DA)) ^DIE
"RTN","HBHCFILE",45,0)
POP ; Populate ^HBHC(634) or ^HBHC(634.1/634.2/634.3/634.5/634.7 Error files
"RTN","HBHCFILE",46,0)
 D ^HBHCAPPT,^HBHCXMC,^HBHCXMA,^HBHCXMV,^HBHCXMD
"RTN","HBHCFILE",47,0)
 ; MFH Sanction Date must exist for MFH data to be included in Austin transmit
"RTN","HBHCFILE",48,0)
 D:$P(^HBHC(631.9,1,0),U,9)]"" ^HBHCXMM
"RTN","HBHCFILE",49,0)
 ; Cleanup potential scrogged HBHC(632,"AC" cross-ref on Form 4 Transmit Status field (#7) as failsafe
"RTN","HBHCFILE",50,0)
 K ^HBHC(632,"AC") S DIK="^HBHC(632,",DIK(1)=7 D ENALL^DIK
"RTN","HBHCFILE",51,0)
 ; Send mail message
"RTN","HBHCFILE",52,0)
 D:('$D(^HBHC(634.1,"B")))&('$D(^HBHC(634.2,"B")))&('$D(^HBHC(634.3,"B")))&('$D(^HBHC(634.5,"B")))&('$D(^HBHC(634.7,"B"))) MAIL
"RTN","HBHCFILE",53,0)
EXIT ; Exit module
"RTN","HBHCFILE",54,0)
 L -^HBHC(634.5,0)
"RTN","HBHCFILE",55,0)
 K DA,DIE,DIR,DIRUT,DR,DTOUT,DUOUT,HBHCAPDT,HBHCCKDT,HBHCDAT,HBHCDAYS,HBHCDTE,HBHCDIR,HBHCFLAG,HBHCLEAP,HBHCLSDT,HBHCNOW,HBHCSTDT,HBHCYEAR,%,TMP,X,X1,X2,Y
"RTN","HBHCFILE",56,0)
 Q
"RTN","HBHCFILE",57,0)
MAIL ; Send completed mail message
"RTN","HBHCFILE",58,0)
 S TMP(1)=$P(HBHCDAT,"@")_" HBHC Build Transmit File is complete with no errors found.",TMP(2)="",TMP(3)="   Number of Visit Days to Scan system parameter:  "_$P(^HBHC(631.9,1,0),U,4),TMP(4)=""
"RTN","HBHCFILE",59,0)
 S Y=$P($P(HBHCDTE,U),"@") X ^DD("DD") S HBHCINFO=Y,Y=$P($P(HBHCDTE,U,2),"@") X ^DD("DD") S TMP(5)="   Date range:  "_$P(HBHCINFO,"@")_"  thru  "_$P(Y,"@"),TMP(6)=""
"RTN","HBHCFILE",60,0)
 D NOW^%DTC S Y=% X ^DD("DD")
"RTN","HBHCFILE",61,0)
 S TMP(7)="   Start time:  "_$P(HBHCDAT,"@",2)_"   End time:  "_$P(Y,"@",2)_"   Elapsed minutes:  "_($E(%_"000",9,10)-$E(HBHCNOW_"000",9,10)*60+$E(%_"00000",11,12)-$E(HBHCNOW_"00000",11,12)),TMP(8)=""
"RTN","HBHCFILE",62,0)
 S TMP(9)="*****   Reminder:  Please run Transmit File to Austin option.   *****"
"RTN","HBHCFILE",63,0)
 S XMDUZ="HBHC Build Transmit File Mail Group",XMSUB=$P(HBHCDAT,"@")_" HBHC Build Transmit File",XMY(DUZ)="",XMTEXT="TMP("
"RTN","HBHCFILE",64,0)
 D ^XMD
"RTN","HBHCFILE",65,0)
 Q
"RTN","HBHCPS24")
0^33^B12516448^n/a
"RTN","HBHCPS24",1,0)
HBHCPS24 ; LR VAMC(IRMS)/MJT-HBHC HBH*1*24 Post Install Routine to force 1 last transmission of 150 character transmission records before length of transmit record changes to 200 characters ; Mar 2008 
"RTN","HBHCPS24",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**24**;NOV 01, 1993;Build 201
"RTN","HBHCPS24",3,0)
 ; routine calls HOSP^HBHCUTL1
"RTN","HBHCPS24",4,0)
 S HBHC=$S($$PROD^XUPROD(1):"PRODUCTION",1:"TEST")
"RTN","HBHCPS24",5,0)
 G:HBHC="TEST" EXIT
"RTN","HBHCPS24",6,0)
 ; Do 'build'
"RTN","HBHCPS24",7,0)
 S HBHCLSDT=DT
"RTN","HBHCPS24",8,0)
 D ^HBHCAPPT,^HBHCXMC,^HBHCXMA,^HBHCXMV,^HBHCXMD
"RTN","HBHCPS24",9,0)
 ; Do Cleanup modules
"RTN","HBHCPS24",10,0)
 D ADM,VISIT,DC,MFH
"RTN","HBHCPS24",11,0)
 ; Transmit
"RTN","HBHCPS24",12,0)
 S $P(^HBHC(631.9,1,0),U,6)=1
"RTN","HBHCPS24",13,0)
 K XMDUZ,XMY,XMZ,%DT,^TMP("HBHC",$J)
"RTN","HBHCPS24",14,0)
 N DIFROM
"RTN","HBHCPS24",15,0)
 D HOSP^HBHCUTL1
"RTN","HBHCPS24",16,0)
 S X="T" D ^%DT S HBHCDT=Y,HBHCDATE=$E(HBHCDT,4,5)_"/"_$E(HBHCDT,6,7)_"/"_$E(HBHCDT,2,3)
"RTN","HBHCPS24",17,0)
 S (HBHCCNT,HBHCFLG,HBHCNODE)=0,HBHCMSG=1
"RTN","HBHCPS24",18,0)
 F  S HBHCNODE=$O(^HBHC(634,HBHCNODE)) D:(HBHCCNT>99)!(HBHCNODE'>0) MAIL Q:HBHCNODE'>0  S HBHCCNT=HBHCCNT+1,HBHCINFO=^HBHC(634,HBHCNODE,0),^TMP("HBHC",$J,HBHCMSG,HBHCNODE,0)=HBHCINFO D HISTORY
"RTN","HBHCPS24",19,0)
CLEANUP ; Cleanup Transmit History (HBHC(634.6)) to maintain maximum of last 12 transmit batches
"RTN","HBHCPS24",20,0)
 S (HBHCTOT,HBHCDATE)=0 F  S HBHCDATE=$O(^HBHC(634.6,"C",HBHCDATE)) Q:HBHCDATE'>0  S HBHCTOT=HBHCTOT+1 S:HBHCTOT=1 HBHCDAT=HBHCDATE
"RTN","HBHCPS24",21,0)
 I HBHCTOT>12 S DIK="^HBHC(634.6,",DA="" F  S DA=$O(^HBHC(634.6,"C",HBHCDAT,DA)) Q:DA'>0  D ^DIK
"RTN","HBHCPS24",22,0)
 ; Turn Off Transmission in Progress Flag
"RTN","HBHCPS24",23,0)
 S $P(^HBHC(631.9,1,0),U,6)=""
"RTN","HBHCPS24",24,0)
EXIT ; Exit module
"RTN","HBHCPS24",25,0)
 D ^%ZISC
"RTN","HBHCPS24",26,0)
 K HBHC,HBHCDIR,HBHCLSDT
"RTN","HBHCPS24",27,0)
 K DA,DIC,DIE,DIK,DR,HBHCCNT,HBHCDAT,HBHCDATE,HBHCDT,HBHCFLG,HBHCHOSP,HBHCINFO,HBHCMSG,HBHCNODE,HBHCPRTR,HBHCTOT,HBHCZ,XMSUB,XMTEXT,XMY,XMZ,X,Y,%,%DT,^TMP("HBHC",$J)
"RTN","HBHCPS24",28,0)
 Q
"RTN","HBHCPS24",29,0)
ADM ; Clean up Admission Error file (#634.1)
"RTN","HBHCPS24",30,0)
 I $D(^HBHC(634.1,"B")) K ^HBHC(634.1) S ^HBHC(634.1,0)="HBHC EVALUATION/ADMISSION ERROR(S)^634.1"
"RTN","HBHCPS24",31,0)
 Q
"RTN","HBHCPS24",32,0)
VISIT ; Clean up Visit Error file (#634.2)
"RTN","HBHCPS24",33,0)
 I $D(^HBHC(634.2,"B")) K ^HBHC(634.2) S ^HBHC(634.2,0)="HBHC VISIT ERROR(S)^634.2P"
"RTN","HBHCPS24",34,0)
 Q
"RTN","HBHCPS24",35,0)
DC ; Clean up Discharge Error file (#634.3)
"RTN","HBHCPS24",36,0)
 I $D(^HBHC(634.3,"B")) K ^HBHC(634.3) S ^HBHC(634.3,0)="HBHC DISCHARGE ERROR(S)^634.3"
"RTN","HBHCPS24",37,0)
 Q
"RTN","HBHCPS24",38,0)
MFH ; Clean up MFH Error file (#634.7)
"RTN","HBHCPS24",39,0)
 I $D(^HBHC(634.7,"B")) K ^HBHC(634.7) S ^HBHC(634.7,0)="HBHC MEDICAL FOSTER HOME ERROR(S)^634.7P"
"RTN","HBHCPS24",40,0)
 Q
"RTN","HBHCPS24",41,0)
MAIL ; Send mail message
"RTN","HBHCPS24",42,0)
 S XMSUB="HBHC Site: "_$S($P(^HBHC(631.9,1,0),U,5)]"":$E(HBHCHOSP,1,3),1:"")_"  Message: "_HBHCMSG_"  "_HBHCDATE_" Transmission",XMTEXT="^TMP(""HBHC"",$J,HBHCMSG,",XMY("XXX@Q-HBH.VA.GOV")=""
"RTN","HBHCPS24",43,0)
 D ^XMD
"RTN","HBHCPS24",44,0)
 S HBHCMSG=HBHCMSG+1,HBHCCNT=0
"RTN","HBHCPS24",45,0)
LOOP ; Loop thru ^HBHC(631,"AE") (Form 3 Transmit Flag), ^HBHC(631,"AF") (Form 5 Transmit Flag), & ^HBHC(632,"AC") (Form 4 Transmit Flag) cross-refs to set batch initial MM message number & mailman message date fields in ^HBHC(631/632)
"RTN","HBHCPS24",46,0)
 ; also loop thru ^HBHC(633.2,"AC") (Form 7 Transmit Flag)
"RTN","HBHCPS24",47,0)
 Q:HBHCFLG
"RTN","HBHCPS24",48,0)
 S DIE="^HBHC(631,"
"RTN","HBHCPS24",49,0)
 S DR="71///T;74///^S X=XMZ;75///^S X=HBHCDT",DA="" F  S DA=$O(^HBHC(631,"AE","F",DA)) Q:DA=""  D ^DIE
"RTN","HBHCPS24",50,0)
 S DR="72///T;77///^S X=XMZ;78///^S X=HBHCDT",DA="" F  S DA=$O(^HBHC(631,"AF","F",DA)) Q:DA=""  D ^DIE
"RTN","HBHCPS24",51,0)
 S DIE="^HBHC(632,",DR="7///T;9///^S X=XMZ;10///^S X=HBHCDT",DA="" F  S DA=$O(^HBHC(632,"AC","F",DA)) Q:DA=""  D ^DIE
"RTN","HBHCPS24",52,0)
 ; Only update if Sanctioned MFH site
"RTN","HBHCPS24",53,0)
 I $P($G(^HBHC(631.9,1,0)),U,9)]"" S DIE="^HBHC(633.2,",DR="27///T;29///^S X=XMZ;30///^S X=HBHCDT",DA="" F  S DA=$O(^HBHC(633.2,"AC","F",DA)) Q:DA=""  D ^DIE
"RTN","HBHCPS24",54,0)
 ; Set Last Mail Message Date in System Parameters file
"RTN","HBHCPS24",55,0)
 S $P(^HBHC(631.9,1,0),U,2)=HBHCDT
"RTN","HBHCPS24",56,0)
 S HBHCFLG=1
"RTN","HBHCPS24",57,0)
 Q
"RTN","HBHCPS24",58,0)
HISTORY ; Update HBHC(634.6 Transmit History file
"RTN","HBHCPS24",59,0)
 K DD,DO S DIC="^HBHC(634.6,",DIC(0)="L",DIC("DR")="1///^S X=HBHCDT",X=HBHCINFO D FILE^DICN K DO
"RTN","HBHCPS24",60,0)
 Q
"RTN","HBHCR15A")
0^29^B19451897^B17443050
"RTN","HBHCR15A",1,0)
HBHCR15A ;LR VAMC(IRMS)/MJT-HBHC rpt using file 634.6, user selects date/forms from last 12 transmit batchs, fields: form#, pat name, last 4, form date, + action on form 3, prov #, & prov name on visits, & Adm or D/C on form 6 ;2/5/98
"RTN","HBHCR15A",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**6,8,9,13,15,24**;NOV 01, 1993;Build 201
"RTN","HBHCR15A",3,0)
 ; Medical Foster Home (MFH) recs are only included if MFH Site; sorted alphabetically by MFH Name & includes Form # & Opened Date
"RTN","HBHCR15A",4,0)
 ; Calls HBHCR15B
"RTN","HBHCR15A",5,0)
 ; Report can also be generated by Transmit File option [HBHCXMT] if default printer is defined in sys param (631.9).  If no printer defined, no report.  User selects forms to include, date is transmit date
"RTN","HBHCR15A",6,0)
 ; HBHCXMT calls entry points:  PROMPT2^HBHCR15B & DQ^HBHCR15A
"RTN","HBHCR15A",7,0)
 I '$D(^HBHC(634.6,"C")) W $C(7),!,"No transmit history data on file." H 3 Q
"RTN","HBHCR15A",8,0)
 I $P(^HBHC(631.9,1,0),U,6)]"" W $C(7),!,"Transmission in progress; history data being updated.  Please try again later." H 3 Q
"RTN","HBHCR15A",9,0)
 D PROMPT1^HBHCR15B
"RTN","HBHCR15A",10,0)
 G:$D(DIRUT) EXIT
"RTN","HBHCR15A",11,0)
 S %ZIS="Q" D ^%ZIS G:POP EXIT
"RTN","HBHCR15A",12,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCR15A",ZTDESC="HBPC Transmit History Report",ZTSAVE("HBHC*")="" D ^%ZTLOAD G EXIT
"RTN","HBHCR15A",13,0)
DQ ; De-queue
"RTN","HBHCR15A",14,0)
 U IO
"RTN","HBHCR15A",15,0)
 S (HBHCPAGE,HBHCCNTA,HBHCCNTR,HBHCCNT4,HBHCCNT5,HBHCCNT6,HBHCCNT7)=0,$P(HBHCY,"-",81)="",HBHCCOLM=(80-(30+$L(HBHCHEAD))\2) S:HBHCCOLM'>0 HBHCCOLM=1
"RTN","HBHCR15A",16,0)
 S HBHCHDR=$S(HBHCDIR="S":"W ?36,""Summary""",1:"W ?31,""Last"",!?4,""#"",?8,""Patient Name"",?31,""Four"",?38,""Date""")
"RTN","HBHCR15A",17,0)
LOOP ; Loop thru HBHC(634.6,"C" (transmit date) cross-ref to build report
"RTN","HBHCR15A",18,0)
 S HBHCIEN=0 F  S HBHCIEN=$O(^HBHC(634.6,"C",HBHCXMDT,HBHCIEN)) Q:HBHCIEN'>0  S HBHCINFO=$P(^HBHC(634.6,HBHCIEN,0),U) D PROCESS
"RTN","HBHCR15A",19,0)
 D END^HBHCR15B
"RTN","HBHCR15A",20,0)
EXIT ; Exit module
"RTN","HBHCR15A",21,0)
 D ^%ZISC
"RTN","HBHCR15A",22,0)
 K DIR,DIRUT,HBHC,HBHCACTN,HBHCCC,HBHCCNT,HBHCCNTA,HBHCCNTR,HBHCCNT4,HBHCCNT5,HBHCCNT6,HBHCCNT7,HBHCCOLM,HBHCDATE,HBHCDFN,HBHCDIR,HBHCDSDT,HBHCFLG,HBHCFORM,HBHCHEAD,HBHCHDR,HBHCI,HBHCIEN,HBHCINFO,HBHCIOP,HBHCLST4,HBHCMFHS
"RTN","HBHCR15A",23,0)
 K HBHCNAME,HBHCPAGE,HBHCPIEN,HBHCPRV,HBHCPRVN,HBHCTDY,HBHCTIME,HBHCTYPE,HBHCXMDT,HBHCY,HBHCY0,HBHCZ,X,Y,TMP,^TMP("HBHC",$J),^TMP($J)
"RTN","HBHCR15A",24,0)
 Q
"RTN","HBHCR15A",25,0)
PROCESS ; Process records
"RTN","HBHCR15A",26,0)
 S (HBHCACTN,HBHCPRV)="Z",(HBHCPRVN,HBHCTIME,HBHCTYPE)=""
"RTN","HBHCR15A",27,0)
 D:($E(HBHCINFO)=3)&((HBHCDIR=3)!(HBHCDIR="A")!(HBHCDIR="S")) FORM3
"RTN","HBHCR15A",28,0)
 D:($E(HBHCINFO)=4)&((HBHCDIR=4)!(HBHCDIR="A")!(HBHCDIR="S")) FORM4
"RTN","HBHCR15A",29,0)
 D:($E(HBHCINFO)=5)&((HBHCDIR=5)!(HBHCDIR="A")!(HBHCDIR="S")) FORM5
"RTN","HBHCR15A",30,0)
 D:($E(HBHCINFO)=6)&((HBHCDIR=6)!(HBHCDIR="A")!(HBHCDIR="S")) FORM6
"RTN","HBHCR15A",31,0)
 I $D(HBHCMFHS) D:($E(HBHCINFO)=7)&((HBHCDIR=7)!(HBHCDIR="A")!(HBHCDIR="S")) FORM7
"RTN","HBHCR15A",32,0)
 Q
"RTN","HBHCR15A",33,0)
FORM3 ; Process Form 3 (Admission) records
"RTN","HBHCR15A",34,0)
 S HBHCDATE=$E(HBHCINFO,18,25)
"RTN","HBHCR15A",35,0)
 S:$E(HBHCINFO,55)=1 HBHCCNTA=HBHCCNTA+1,HBHCACTN="Admit"
"RTN","HBHCR15A",36,0)
 S:$E(HBHCINFO,55)=2 HBHCCNTR=HBHCCNTR+1,HBHCACTN="Reject"
"RTN","HBHCR15A",37,0)
 Q:HBHCDIR="S"
"RTN","HBHCR15A",38,0)
 S HBHCFORM="A"
"RTN","HBHCR15A",39,0)
 S HBHCDFN="" F  S HBHCDFN=$O(^DPT("SSN",$E(HBHCINFO,9,17),HBHCDFN)) Q:HBHCDFN=""  S HBHCNAME=$E($P(^DPT(HBHCDFN,0),U),1,20)
"RTN","HBHCR15A",40,0)
 S HBHCLST4=$E(HBHCINFO,14,17)
"RTN","HBHCR15A",41,0)
 D SET
"RTN","HBHCR15A",42,0)
 Q
"RTN","HBHCR15A",43,0)
FORM4 ; Process Form 4 (Visit) records
"RTN","HBHCR15A",44,0)
 S HBHCCNT4=HBHCCNT4+1
"RTN","HBHCR15A",45,0)
 S HBHCFORM="V"
"RTN","HBHCR15A",46,0)
 S HBHCDFN="" F  S HBHCDFN=$O(^DPT("SSN",$E(HBHCINFO,9,17),HBHCDFN)) Q:HBHCDFN=""  S HBHCNAME=$E($P(^DPT(HBHCDFN,0),U),1,20)
"RTN","HBHCR15A",47,0)
 S HBHCLST4=$E(HBHCINFO,14,17)
"RTN","HBHCR15A",48,0)
 S HBHCDATE=$E(HBHCINFO,18,25)
"RTN","HBHCR15A",49,0)
 S HBHCTIME=$E(HBHCINFO,26,27)_":"_$E(HBHCINFO,28,29)
"RTN","HBHCR15A",50,0)
 S HBHCPRVN=+$E(HBHCINFO,30,33)
"RTN","HBHCR15A",51,0)
 S (HBHCFLG,HBHCPIEN)=0 F  S HBHCPIEN=$O(^HBHC(631.4,"B",HBHCPRVN,HBHCPIEN)) Q:HBHCPIEN'>0  D NAME
"RTN","HBHCR15A",52,0)
 D SET
"RTN","HBHCR15A",53,0)
 Q
"RTN","HBHCR15A",54,0)
NAME ; Form 4 Name
"RTN","HBHCR15A",55,0)
 I HBHCFLG=1 S HBHCPRV="**  Duplicate Prov #" Q
"RTN","HBHCR15A",56,0)
 S HBHCFLG=1,HBHCPRV=$E($P(^VA(200,$P(^HBHC(631.4,HBHCPIEN,0),U,2),0),U),1,20)
"RTN","HBHCR15A",57,0)
 Q
"RTN","HBHCR15A",58,0)
FORM5 ; Process Form 5 (Discharge) records
"RTN","HBHCR15A",59,0)
 S HBHCCNT5=HBHCCNT5+1
"RTN","HBHCR15A",60,0)
 Q:HBHCDIR="S"
"RTN","HBHCR15A",61,0)
 S HBHCFORM="D"
"RTN","HBHCR15A",62,0)
 S HBHCDFN="" F  S HBHCDFN=$O(^DPT("SSN",$E(HBHCINFO,9,17),HBHCDFN)) Q:HBHCDFN=""  S HBHCNAME=$E($P(^DPT(HBHCDFN,0),U),1,20)
"RTN","HBHCR15A",63,0)
 S HBHCLST4=$E(HBHCINFO,14,17)
"RTN","HBHCR15A",64,0)
 S HBHCDATE=$E(HBHCINFO,18,25)
"RTN","HBHCR15A",65,0)
 D SET
"RTN","HBHCR15A",66,0)
 Q
"RTN","HBHCR15A",67,0)
FORM6 ; Process Form 6 (Correction) records
"RTN","HBHCR15A",68,0)
 S HBHCCNT6=HBHCCNT6+1
"RTN","HBHCR15A",69,0)
 Q:HBHCDIR="S"
"RTN","HBHCR15A",70,0)
 S HBHCFORM=6
"RTN","HBHCR15A",71,0)
 S HBHCDFN="" F  S HBHCDFN=$O(^DPT("SSN",$E(HBHCINFO,9,17),HBHCDFN)) Q:HBHCDFN=""  S HBHCNAME=$E($P(^DPT(HBHCDFN,0),U),1,20)
"RTN","HBHCR15A",72,0)
 S HBHCLST4=$E(HBHCINFO,14,17)
"RTN","HBHCR15A",73,0)
 S HBHCDSDT=$TR($E(HBHCINFO,56,63)," ","")
"RTN","HBHCR15A",74,0)
 ; Use Discharge date if exists, otherwise use Admission date
"RTN","HBHCR15A",75,0)
 S HBHCDATE=$S(HBHCDSDT]"":HBHCDSDT,1:$E(HBHCINFO,18,25))
"RTN","HBHCR15A",76,0)
 S HBHCTYPE=$S(HBHCDSDT]"":"Discharge",1:"Evaluation/Admission")
"RTN","HBHCR15A",77,0)
 D SET
"RTN","HBHCR15A",78,0)
 Q
"RTN","HBHCR15A",79,0)
FORM7 ; Process Form 7 Medical Foster Home (MFH) records
"RTN","HBHCR15A",80,0)
 S HBHCCNT7=HBHCCNT7+1
"RTN","HBHCR15A",81,0)
 Q:HBHCDIR="S"
"RTN","HBHCR15A",82,0)
 S HBHCFORM="Z"
"RTN","HBHCR15A",83,0)
 S HBHCNAME=$E(HBHCINFO,9,38)
"RTN","HBHCR15A",84,0)
 S HBHCDATE=$E(HBHCINFO,84,91)
"RTN","HBHCR15A",85,0)
 S HBHCLST4=9999
"RTN","HBHCR15A",86,0)
 D SET
"RTN","HBHCR15A",87,0)
 Q
"RTN","HBHCR15A",88,0)
SET ; Set TMP node
"RTN","HBHCR15A",89,0)
 ; By design, records are processed/printed in the following order by form number:  6, 3 (A), 5 (D), 4 (V), & 7 (Z)
"RTN","HBHCR15A",90,0)
 S:HBHCDIR'="S" ^TMP("HBHC",$J,HBHCFORM,HBHCACTN,HBHCNAME,HBHCLST4,HBHCDATE,HBHCPRV,HBHCIEN)=HBHCPRVN_U_HBHCTYPE_U_HBHCTIME
"RTN","HBHCR15A",91,0)
 S:HBHCFORM="V" ^TMP($J,HBHCNAME,HBHCLST4,HBHCDATE_HBHCTIME,HBHCPRV)=""
"RTN","HBHCR15A",92,0)
 Q
"RTN","HBHCR15B")
0^30^B38715202^B32575172
"RTN","HBHCR15B",1,0)
HBHCR15B ;LR VAMC(IRMS)/MJT-HBHC rpt using file 634.6, called from HBHCR15A, entry points: PROMPT1 & END, & from HBHCXMT, entry point: PROMPT2 ;9804
"RTN","HBHCR15B",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**6,8,9,10,13,15,24**;NOV 01, 1993;Build 201
"RTN","HBHCR15B",3,0)
PROMPT1 ; Prompt user for which transmit date from last 12 batchs to include, default is Most Recent; uses transmit date cross-ref to obtain batch dates 
"RTN","HBHCR15B",4,0)
 S HBHCDATE="" F  S HBHCDATE=$O(^HBHC(634.6,"C",HBHCDATE)) Q:HBHCDATE=""  S HBHC(-HBHCDATE)=""
"RTN","HBHCR15B",5,0)
 S HBHCDATE="" F HBHCI=1:1 S HBHCDATE=$O(HBHC(HBHCDATE)) Q:(HBHCDATE="")!(HBHCI>12)  S Y=$E(HBHCDATE,2,9) D DD^%DT S TMP(HBHCI)=$E(HBHCDATE,2,9) W !,$J(HBHCI,2),".",?6,Y
"RTN","HBHCR15B",6,0)
 W !
"RTN","HBHCR15B",7,0)
 K DIR,DIRUT
"RTN","HBHCR15B",8,0)
 S DIR(0)="N^",DIR("A")="Select Transmit Date",DIR("B")=1,DIR("?")="Select transmit date by number.  Press return for 'Most Recent' transmit date"
"RTN","HBHCR15B",9,0)
 D ^DIR Q:$D(DIRUT)
"RTN","HBHCR15B",10,0)
 I '$D(TMP(Y)) W $C(7),!!,"Please select number from list.",! H 1 G PROMPT1
"RTN","HBHCR15B",11,0)
 S HBHCXMDT=TMP(Y)
"RTN","HBHCR15B",12,0)
PROMPT2 ; Prompt user for which forms to include, default is Summary
"RTN","HBHCR15B",13,0)
 S HBHCCC=0
"RTN","HBHCR15B",14,0)
 D TODAY^HBHCUTL
"RTN","HBHCR15B",15,0)
 S:'$D(HBHCXMDT) HBHCXMDT=DT
"RTN","HBHCR15B",16,0)
 S:$P(^HBHC(631.9,1,0),U,7)]"" HBHCIOP=$P(^%ZIS(1,$P(^HBHC(631.9,1,0),U,7),0),U)
"RTN","HBHCR15B",17,0)
 ; Check if MFH Site
"RTN","HBHCR15B",18,0)
 D MFHS^HBHCUTL3
"RTN","HBHCR15B",19,0)
 K DIR,DIRUT
"RTN","HBHCR15B",20,0)
 I '$D(HBHCMFHS) S DIR(0)="S^3:Admission;4:Visit;5:Discharge;6:Correction;A:All;S:Summary;"
"RTN","HBHCR15B",21,0)
 I $D(HBHCMFHS) S DIR(0)="S^3:Admission;4:Visit;5:Discharge;6:Correction;7:Medical Foster Home;A:All;S:Summary;"
"RTN","HBHCR15B",22,0)
 S DIR("A")="Select Forms to Include",DIR("B")="Summary",DIR("?")="Select form type to be included in report.  Press return for 'Summary'." D ^DIR Q:$D(DIRUT)
"RTN","HBHCR15B",23,0)
 S HBHCDIR=Y,HBHCY0=Y(0)
"RTN","HBHCR15B",24,0)
 S Y=HBHCXMDT D DD^%DT S HBHCHEAD=$S(HBHCDIR="S":Y_" Transmit, "_HBHCY0,1:Y_" Transmit, "_HBHCY0_" Forms,")
"RTN","HBHCR15B",25,0)
 Q
"RTN","HBHCR15B",26,0)
END ; End of report processing
"RTN","HBHCR15B",27,0)
 ; Count number of visits
"RTN","HBHCR15B",28,0)
 S HBHCCNT=0,HBHCNAME="" F  S HBHCNAME=$O(^TMP($J,HBHCNAME)) Q:HBHCNAME=""  S HBHCLST4=0 F  S HBHCLST4=$O(^TMP($J,HBHCNAME,HBHCLST4)) Q:HBHCLST4'>0  S HBHCDATE=0 F  S HBHCDATE=$O(^TMP($J,HBHCNAME,HBHCLST4,HBHCDATE)) Q:HBHCDATE'>0  D CONT
"RTN","HBHCR15B",29,0)
 ; Reset HBHCHDR when MFH Form 7 only, or All, selected & MFH recs are all that exist
"RTN","HBHCR15B",30,0)
 S:((HBHCCNTA+HBHCCNTR+HBHCCNT4+HBHCCNT5+HBHCCNT6)=0)!(HBHCDIR=7) HBHCHDR="W !?4,""#"",?8,""Medical Foster Home Name"",?38,""Opened Date"""
"RTN","HBHCR15B",31,0)
 D:IO'=IO(0)!($D(IO("S"))) HDRPAGE^HBHCUTL
"RTN","HBHCR15B",32,0)
 I '$D(IO("S")),IO=IO(0) S HBHCCC=HBHCCC+1 W @IOF D HDRPAGE^HBHCUTL
"RTN","HBHCR15B",33,0)
 D:HBHCDIR'="S" PRTLOOP
"RTN","HBHCR15B",34,0)
 I HBHCDIR="A" S HBHCHDR="W ?36,""Summary""" W @IOF D HDRPAGE^HBHCUTL
"RTN","HBHCR15B",35,0)
 W:(HBHCDIR'="A")&(HBHCDIR'="S") !
"RTN","HBHCR15B",36,0)
 W:(HBHCDIR=3)!(HBHCDIR="A")!(HBHCDIR="S") !,"Admit Eval/Adm Form 3 Total:",?35,$J(HBHCCNTA,5),!,"Reject Eval/Adm Form 3 Total:",?35,$J(HBHCCNTR,5)
"RTN","HBHCR15B",37,0)
 W:HBHCDIR=3 !?35,"-----",!,"All Eval/Adm Forms Total:",?34,$J(HBHCCNTA+HBHCCNTR,6),!
"RTN","HBHCR15B",38,0)
 W:(HBHCDIR=4)!(HBHCDIR="A")!(HBHCDIR="S") !,"Visit Form 4 Total:",?35,$J(HBHCCNT4,5)
"RTN","HBHCR15B",39,0)
 W:(HBHCDIR=5)!(HBHCDIR="A")!(HBHCDIR="S") !,"Discharge Form 5 Total:",?35,$J(HBHCCNT5,5)
"RTN","HBHCR15B",40,0)
 W:(HBHCDIR=6)!(HBHCDIR="A")!(HBHCDIR="S") !,"Correction Form 6 Total:",?35,$J(HBHCCNT6,5)
"RTN","HBHCR15B",41,0)
 I $D(HBHCMFHS) W:(HBHCDIR=7)!(HBHCDIR="A")!(HBHCDIR="S") !,"Medical Foster Home Form 7 Total:",?35,$J(HBHCCNT7,5)
"RTN","HBHCR15B",42,0)
 I '$D(HBHCMFHS) W:(HBHCDIR="A")!(HBHCDIR="S") !?35,"-----",!,"All Forms Total:",?34,$J(HBHCCNTA+HBHCCNTR+HBHCCNT4+HBHCCNT5+HBHCCNT6,6)
"RTN","HBHCR15B",43,0)
 I $D(HBHCMFHS) W:(HBHCDIR="A")!(HBHCDIR="S") !?35,"-----",!,"All Forms Total:",?34,$J(HBHCCNTA+HBHCCNTR+HBHCCNT4+HBHCCNT5+HBHCCNT6+HBHCCNT7,6)
"RTN","HBHCR15B",44,0)
 W:(HBHCDIR=4)!(HBHCDIR="A")!(HBHCDIR="S") !!,"Number of Visits Total:",?35,$J(HBHCCNT,5)
"RTN","HBHCR15B",45,0)
 D ENDRPT^HBHCUTL1
"RTN","HBHCR15B",46,0)
 Q
"RTN","HBHCR15B",47,0)
CONT ; Continue count of visits loop
"RTN","HBHCR15B",48,0)
 S HBHCPRV="" F  S HBHCPRV=$O(^TMP($J,HBHCNAME,HBHCLST4,HBHCDATE,HBHCPRV)) Q:HBHCPRV=""  S HBHCCNT=HBHCCNT+1
"RTN","HBHCR15B",49,0)
 Q
"RTN","HBHCR15B",50,0)
PRTLOOP ; Print loop
"RTN","HBHCR15B",51,0)
 S HBHCFORM="" F  S HBHCFORM=$O(^TMP("HBHC",$J,HBHCFORM)) Q:HBHCFORM=""  D HEADER,PRTLOOP2,SUB
"RTN","HBHCR15B",52,0)
 Q
"RTN","HBHCR15B",53,0)
PRTLOOP2 ; Print loop continued
"RTN","HBHCR15B",54,0)
 S HBHCACTN="" F  S HBHCACTN=$O(^TMP("HBHC",$J,HBHCFORM,HBHCACTN)) Q:HBHCACTN=""  S HBHCNAME="" F  S HBHCNAME=$O(^TMP("HBHC",$J,HBHCFORM,HBHCACTN,HBHCNAME)) Q:HBHCNAME=""  D PRTLOOP3
"RTN","HBHCR15B",55,0)
 Q
"RTN","HBHCR15B",56,0)
PRTLOOP3 ; Print loop continued (again)
"RTN","HBHCR15B",57,0)
 S HBHCLST4=0 F  S HBHCLST4=$O(^TMP("HBHC",$J,HBHCFORM,HBHCACTN,HBHCNAME,HBHCLST4)) Q:HBHCLST4'>0  S HBHCDATE="" F  S HBHCDATE=$O(^TMP("HBHC",$J,HBHCFORM,HBHCACTN,HBHCNAME,HBHCLST4,HBHCDATE)) Q:HBHCDATE=""  D PRTLOOP4
"RTN","HBHCR15B",58,0)
 Q
"RTN","HBHCR15B",59,0)
PRTLOOP4 ; Print loop continued (again & again)
"RTN","HBHCR15B",60,0)
 S HBHCPRV="" F  S HBHCPRV=$O(^TMP("HBHC",$J,HBHCFORM,HBHCACTN,HBHCNAME,HBHCLST4,HBHCDATE,HBHCPRV)) Q:HBHCPRV=""  S HBHCIEN="" F  S HBHCIEN=$O(^TMP("HBHC",$J,HBHCFORM,HBHCACTN,HBHCNAME,HBHCLST4,HBHCDATE,HBHCPRV,HBHCIEN)) Q:HBHCIEN=""  D PRINT
"RTN","HBHCR15B",61,0)
 Q
"RTN","HBHCR15B",62,0)
PRINT ; Print report
"RTN","HBHCR15B",63,0)
 S HBHCINFO=^TMP("HBHC",$J,HBHCFORM,HBHCACTN,HBHCNAME,HBHCLST4,HBHCDATE,HBHCPRV,HBHCIEN)
"RTN","HBHCR15B",64,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<10) W:HBHCPAGE>0 @IOF D HDRPAGE^HBHCUTL,HEADER
"RTN","HBHCR15B",65,0)
 W !?4,$S(HBHCFORM="A":3,HBHCFORM="V":4,HBHCFORM="D":5,HBHCFORM="Z":7,1:6),?8,HBHCNAME W:HBHCFORM'="Z" ?31,HBHCLST4 W ?38,$E(HBHCDATE,1,2),"-",$E(HBHCDATE,3,4),"-",$E(HBHCDATE,7,8) W:$P(HBHCINFO,U,3)]"" ?46,"@"_$P(HBHCINFO,U,3)
"RTN","HBHCR15B",66,0)
 W ?55,$S(HBHCFORM=6:$P(HBHCINFO,U,2),HBHCFORM="A":HBHCACTN,HBHCFORM="V":$P(HBHCINFO,U),1:"") W:HBHCFORM="V" ?60,HBHCPRV
"RTN","HBHCR15B",67,0)
 Q
"RTN","HBHCR15B",68,0)
HEADER ; Sub-header module
"RTN","HBHCR15B",69,0)
 W !,$S(HBHCFORM=6:"Correction Form 6",HBHCFORM="A":"Evaluation/Admission Form 3",HBHCFORM="D":"Discharge Form 5",HBHCFORM="Z":"Medical Foster Home Form 7",1:"Visit Form 4")_" Records"
"RTN","HBHCR15B",70,0)
 W ?55,$S(HBHCFORM=6:"Type",HBHCFORM="A":"Action",HBHCFORM="V":"Provider",1:""),!
"RTN","HBHCR15B",71,0)
 Q
"RTN","HBHCR15B",72,0)
SUB ; Sub-total module
"RTN","HBHCR15B",73,0)
 W:(HBHCDIR="A")&(HBHCFORM=6) !!?4,"Correction Form 6 Total:",?37,$J(HBHCCNT6,5),!,HBHCY
"RTN","HBHCR15B",74,0)
 W:(HBHCDIR="A")&(HBHCFORM="A") !!?4,"Admit Eval/Adm Form 3 Total:",?37,$J(HBHCCNTA,5),!?4,"Reject Eval/Adm Form 3 Total:",?37,$J(HBHCCNTR,5),!?37,"-----",!?4,"All Eval/Adm Forms Total:",?39,$J(HBHCCNTA+HBHCCNTR,6),!,HBHCY
"RTN","HBHCR15B",75,0)
 W:(HBHCDIR="A")&(HBHCFORM="D") !!?4,"Discharge Form 5 Total:",?37,$J(HBHCCNT5,5),!,HBHCY
"RTN","HBHCR15B",76,0)
 W:(HBHCDIR="A")&(HBHCFORM="V") !!?4,"Visit Form 4 Total:",?30,$J(HBHCCNT4,5)
"RTN","HBHCR15B",77,0)
 W:(HBHCDIR="A")&(HBHCFORM="V") !!?4,"Number of Visits Total:",?30,$J(HBHCCNT,5),!,HBHCY
"RTN","HBHCR15B",78,0)
 W:(HBHCDIR="A")&(HBHCFORM="Z") !!?4,"Medical Foster Home Form 7 Total:",?37,$J(HBHCCNT7,5),!,HBHCY
"RTN","HBHCR15B",79,0)
 Q
"RTN","HBHCRP10")
0^2^B13089532^B8239186
"RTN","HBHCRP10",1,0)
HBHCRP10 ; LR VAMC(IRMS)/MJT-HBHC report on file 631, All active (admitted but not discharged) cases by date range, sorted by patient name, includes: patient name, Last Four, admission date, & total ; 12/21/05 3:31pm
"RTN","HBHCRP10",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**6,22,24**;NOV 01, 1993;Build 201
"RTN","HBHCRP10",3,0)
 D START^HBHCUTL
"RTN","HBHCRP10",4,0)
 G:(HBHCBEG1=-1)!(HBHCEND1=-1) EXIT
"RTN","HBHCRP10",5,0)
 W ! D MFHS^HBHCUTL3 D:$D(HBHCMFHS) MFH^HBHCUTL3
"RTN","HBHCRP10",6,0)
 G:$D(DIRUT) EXIT
"RTN","HBHCRP10",7,0)
 S %ZIS="Q",HBHCCC=0 K IOP,ZTIO,ZTSAVE D ^%ZIS G:POP EXIT
"RTN","HBHCRP10",8,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCRP10",ZTDESC="HBPC Program Census Report",ZTSAVE("HBHC*")="" D ^%ZTLOAD G EXIT
"RTN","HBHCRP10",9,0)
DQ ; De-queue
"RTN","HBHCRP10",10,0)
 U IO
"RTN","HBHCRP10",11,0)
 S HBHCTOT=0,$P(HBHCY,"-",81)="",HBHCHEAD="Program Census"
"RTN","HBHCRP10",12,0)
 ; HBHCMFHS variable set in MFHS^HBHCUTL3
"RTN","HBHCRP10",13,0)
 S:'$D(HBHCMFHS) HBHCHDR="W !,""Patient Name"",?43,""Last Four"",?68,""Date"""
"RTN","HBHCRP10",14,0)
 S:$D(HBHCMFHS) HBHCHDR="W !,?33,""Last"",!,""Patient Name"",?33,""Four"",?40,""Date"",?55,""Medical Foster Name Name"""
"RTN","HBHCRP10",15,0)
 ; HBHCMFHR variable set in MFH^HBHCUTL3
"RTN","HBHCRP10",16,0)
 S:$D(HBHCMFHR) HBHCHEAD="Medical Foster Home (MFH) "_HBHCHEAD
"RTN","HBHCRP10",17,0)
 S HBHCCOLM=(80-(30+$L(HBHCHEAD))\2) S:HBHCCOLM'>0 HBHCCOLM=1
"RTN","HBHCRP10",18,0)
 D TODAY^HBHCUTL D:IO'=IO(0)!($D(IO("S"))) HDRRANGE^HBHCUTL
"RTN","HBHCRP10",19,0)
 I '$D(IO("S")),(IO=IO(0)) S HBHCCC=HBHCCC+1 D HDRRANGE^HBHCUTL
"RTN","HBHCRP10",20,0)
LOOP ; Loop thru ^HBHC(631) "AD" (admission date) cross-ref to build report
"RTN","HBHCRP10",21,0)
 S X1=HBHCBEG1,X2=-1 D C^%DTC S HBHCADDT=X
"RTN","HBHCRP10",22,0)
 F  S HBHCADDT=$O(^HBHC(631,"AD",HBHCADDT)) Q:(HBHCADDT="")!(HBHCADDT>HBHCEND1)  S HBHCDFN="" F  S HBHCDFN=$O(^HBHC(631,"AD",HBHCADDT,HBHCDFN)) Q:HBHCDFN=""  S HBHCNOD0=^HBHC(631,HBHCDFN,0) D:$P(HBHCNOD0,U,15)=1 PROCESS
"RTN","HBHCRP10",23,0)
 W:'$D(^TMP("HBHC",$J)) !!,"No data found for Date Range selected."
"RTN","HBHCRP10",24,0)
 I $D(^TMP("HBHC",$J)) D PRTLOOP W !!,HBHCZ,!,"Program Census Total: ",HBHCTOT,!,HBHCZ
"RTN","HBHCRP10",25,0)
 D ENDRPT^HBHCUTL1
"RTN","HBHCRP10",26,0)
EXIT ; Exit module
"RTN","HBHCRP10",27,0)
 D ^%ZISC
"RTN","HBHCRP10",28,0)
 K DIR,HBHCADDT,HBHCBEG1,HBHCBEG2,HBHCCOLM,HBHCCC,HBHCDFN,HBHCDPT0,HBHCEND1,HBHCEND2,HBHCHDR,HBHCHEAD,HBHCMFHN,HBHCMFHP,HBHCMFHR,HBHCMFHS,HBHCNAME,HBHCNOD0,HBHCPAGE,HBHCTDY,HBHCTMP,HBHCTOT,HBHCY,HBHCZ,X,X1,X2,Y,^TMP("HBHC",$J)
"RTN","HBHCRP10",29,0)
 Q
"RTN","HBHCRP10",30,0)
PROCESS ; Process record & build ^TMP("HBHC",$J) global
"RTN","HBHCRP10",31,0)
 Q:($P(HBHCNOD0,U,40)]"")&($P(HBHCNOD0,U,40)<HBHCEND1)
"RTN","HBHCRP10",32,0)
 ; Quit if Medical Foster Home (MFH) Report, but not MFH patient; HBHCMFHR variable set in MFH^HBHCUTL3 
"RTN","HBHCRP10",33,0)
 I $D(HBHCMFHR) Q:'$D(^HBHC(631,"AJ","Y",HBHCDFN))
"RTN","HBHCRP10",34,0)
 S HBHCDPT0=^DPT($P(HBHCNOD0,U),0)
"RTN","HBHCRP10",35,0)
 I '$D(HBHCMFHS) S ^TMP("HBHC",$J,$P(HBHCDPT0,U),HBHCADDT)=$E($P(HBHCDPT0,U,9),6,9)
"RTN","HBHCRP10",36,0)
 I $D(HBHCMFHS) S HBHCMFHN="",HBHCMFHP=$P($G(^HBHC(631,HBHCDFN,3)),U,2) S:HBHCMFHP]"" HBHCMFHN=$E($P(^HBHC(633.2,HBHCMFHP,0),U),1,25) S ^TMP("HBHC",$J,$P(HBHCDPT0,U),HBHCADDT)=$E($P(HBHCDPT0,U,9),6,9)_U_HBHCMFHN
"RTN","HBHCRP10",37,0)
 Q
"RTN","HBHCRP10",38,0)
PRTLOOP ; Print loop
"RTN","HBHCRP10",39,0)
 S HBHCNAME="" F  S HBHCNAME=$O(^TMP("HBHC",$J,HBHCNAME)) Q:HBHCNAME=""  S HBHCADDT="" F  S HBHCADDT=$O(^TMP("HBHC",$J,HBHCNAME,HBHCADDT)) Q:HBHCADDT=""  D PRINT
"RTN","HBHCRP10",40,0)
 Q
"RTN","HBHCRP10",41,0)
PRINT ; Print report
"RTN","HBHCRP10",42,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<5) W @IOF D HDRRANGE^HBHCUTL
"RTN","HBHCRP10",43,0)
 S Y=HBHCADDT D DD^%DT
"RTN","HBHCRP10",44,0)
 W:'$D(HBHCMFHS) !,HBHCNAME,?43,^TMP("HBHC",$J,HBHCNAME,HBHCADDT),?68,Y,!,HBHCY
"RTN","HBHCRP10",45,0)
 I $D(HBHCMFHS) S HBHCTMP=^TMP("HBHC",$J,HBHCNAME,HBHCADDT) W !,HBHCNAME,?33,$P(HBHCTMP,U),?40,Y,?55,$P(HBHCTMP,U,2),!,HBHCY
"RTN","HBHCRP10",46,0)
 S HBHCTOT=HBHCTOT+1
"RTN","HBHCRP10",47,0)
 Q
"RTN","HBHCRP18")
0^35^B10520126^B10200340
"RTN","HBHCRP18",1,0)
HBHCRP18 ; LR VAMC(IRMS)/MJT- HBHC rpt, file 631, All active (admitted but not D/C) cases by date range, sorted by patient name, includes: name, Last Four, adm date, primary diagnosis @ adm (code & text), & total ; 12/21/05 3:31pm
"RTN","HBHCRP18",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**6,22,24**;NOV 01, 1993;Build 201
"RTN","HBHCRP18",3,0)
 D START^HBHCUTL
"RTN","HBHCRP18",4,0)
 G:(HBHCBEG1=-1)!(HBHCEND1=-1) EXIT
"RTN","HBHCRP18",5,0)
 S %ZIS="Q",HBHCCC=0 K IOP,ZTIO,ZTSAVE D ^%ZIS G:POP EXIT
"RTN","HBHCRP18",6,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCRP18",ZTDESC="HBPC Active Census with ICD9 Code/Text Report",ZTSAVE("HBHC*")="" D ^%ZTLOAD G EXIT
"RTN","HBHCRP18",7,0)
DQ ; De-queue
"RTN","HBHCRP18",8,0)
 U IO
"RTN","HBHCRP18",9,0)
 K ^TMP("HBHC",$J)
"RTN","HBHCRP18",10,0)
 S HBHCTOT=0,$P(HBHCY,"-",133)="",$P(HBHCZ,"=",133)="",HBHCHEAD="Active Census with ICD9 Code/Text",HBHCHDR="W !,""Patient Name"",?40,""Last Four"",?61,""Date"",?82,""ICD9 Code"",?102,""Diagnosis Text"""
"RTN","HBHCRP18",11,0)
 S HBHCCOLM=(132-(30+$L(HBHCHEAD))\2) S:HBHCCOLM'>0 HBHCCOLM=1
"RTN","HBHCRP18",12,0)
 D TODAY^HBHCUTL D:IO'=IO(0)!($D(IO("S"))) HDR132^HBHCUTL
"RTN","HBHCRP18",13,0)
 I '$D(IO("S")),(IO=IO(0)) S HBHCCC=HBHCCC+1 W @IOF D HDR132^HBHCUTL
"RTN","HBHCRP18",14,0)
LOOP ; Loop thru ^HBHC(631) "AD" (admission date) cross-ref to build report
"RTN","HBHCRP18",15,0)
 S X1=HBHCBEG1,X2=-1 D C^%DTC S HBHCADDT=X
"RTN","HBHCRP18",16,0)
 F  S HBHCADDT=$O(^HBHC(631,"AD",HBHCADDT)) Q:(HBHCADDT="")!(HBHCADDT>HBHCEND1)  S HBHCDFN="" F  S HBHCDFN=$O(^HBHC(631,"AD",HBHCADDT,HBHCDFN)) Q:HBHCDFN=""  S HBHCNOD0=^HBHC(631,HBHCDFN,0) D:$P(HBHCNOD0,U,15)=1 PROCESS
"RTN","HBHCRP18",17,0)
 W:'$D(^TMP("HBHC",$J)) !!,"No data found for Date Range selected."
"RTN","HBHCRP18",18,0)
 I $D(^TMP("HBHC",$J)) D PRTLOOP W !!,HBHCZ,!,"Active Census Total: ",HBHCTOT,!,HBHCZ
"RTN","HBHCRP18",19,0)
 D END132^HBHCUTL1
"RTN","HBHCRP18",20,0)
EXIT ; Exit module
"RTN","HBHCRP18",21,0)
 D ^%ZISC
"RTN","HBHCRP18",22,0)
 K HBHCADDT,HBHCBEG1,HBHCBEG2,HBHCCC,HBHCCOLM,HBHCDFN,HBHCDPT0,HBHCEND1,HBHCEND2,HBHCHDR,HBHCHEAD,HBHCICD0,HBHCICDP,HBHCNAME,HBHCNOD0,HBHCPAGE,HBHCTDY,HBHCTMP,HBHCTOT,HBHCY,HBHCZ,X,X1,X2,Y,^TMP("HBHC",$J)
"RTN","HBHCRP18",23,0)
 Q
"RTN","HBHCRP18",24,0)
PROCESS ; Process record & build ^TMP("HBHC",$J) global
"RTN","HBHCRP18",25,0)
 Q:($P(HBHCNOD0,U,40)]"")&($P(HBHCNOD0,U,40)<HBHCEND1)
"RTN","HBHCRP18",26,0)
 S HBHCDPT0=^DPT($P(HBHCNOD0,U),0),HBHCICDP=$P(HBHCNOD0,U,19),HBHCICD0=$S(HBHCICDP]"":$$ICDDX^ICDCODE(HBHCICDP),1:"")
"RTN","HBHCRP18",27,0)
 S ^TMP("HBHC",$J,$P(HBHCDPT0,U),HBHCADDT)=$E($P(HBHCDPT0,U,9),6,9)_U_$P(HBHCICD0,U,2)_U_$P(HBHCICD0,U,4)
"RTN","HBHCRP18",28,0)
 Q
"RTN","HBHCRP18",29,0)
PRTLOOP ; Print loop
"RTN","HBHCRP18",30,0)
 S HBHCNAME="" F  S HBHCNAME=$O(^TMP("HBHC",$J,HBHCNAME)) Q:HBHCNAME=""  S HBHCADDT="" F  S HBHCADDT=$O(^TMP("HBHC",$J,HBHCNAME,HBHCADDT)) Q:HBHCADDT=""  D PRINT
"RTN","HBHCRP18",31,0)
 Q
"RTN","HBHCRP18",32,0)
PRINT ; Print report
"RTN","HBHCRP18",33,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<5) W @IOF D HDR132^HBHCUTL
"RTN","HBHCRP18",34,0)
 S Y=HBHCADDT D DD^%DT
"RTN","HBHCRP18",35,0)
 S HBHCTMP=^TMP("HBHC",$J,HBHCNAME,HBHCADDT)
"RTN","HBHCRP18",36,0)
 W !,HBHCNAME,?40,$P(HBHCTMP,U),?61,Y,?82,$P(HBHCTMP,U,2),?102,$P(HBHCTMP,U,3),!,HBHCY
"RTN","HBHCRP18",37,0)
 S HBHCTOT=HBHCTOT+1
"RTN","HBHCRP18",38,0)
 Q
"RTN","HBHCRP1A")
0^32^B19487017^B18793786
"RTN","HBHCRP1A",1,0)
HBHCRP1A ; LR VAMC(IRMS)/MJT-HBHC report on files 634.1, 634.2, & 634.3, (Form 3/4/5 (A/V/D respectively) Error(s)), sorted by form, then by: clinic, date, patient & includes: pt name, last 4, form, & date, calls DQ^HBHCRP31 ; Apr 2000
"RTN","HBHCRP1A",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**6,8,10,13,16,24**;NOV 01, 1993;Build 201
"RTN","HBHCRP1A",3,0)
 ; visits display current outpatient encounter file data, allowing easier re-entry when cleaning up errors, includes: Pt file IEN, error, provider, Dx, CPT code with Modifiers & clinic name, calls HBHCRP1B & PSEUDO^HBHCUTL3
"RTN","HBHCRP1A",4,0)
 I $P(^HBHC(631.9,1,0),U,8)]"" W $C(7),!,"File Update in progress.  Please try again later." H 3 Q
"RTN","HBHCRP1A",5,0)
 S %ZIS="Q",HBHCCC=0 K IOP,ZTIO,ZTSAVE D ^%ZIS Q:POP
"RTN","HBHCRP1A",6,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCRP1A",ZTSAVE("HBHC*")="",ZTDESC="HBPC Form Errors Report" D ^%ZTLOAD G EXIT
"RTN","HBHCRP1A",7,0)
DQ ; De-queue
"RTN","HBHCRP1A",8,0)
 U IO
"RTN","HBHCRP1A",9,0)
 D START^HBHCRP1B
"RTN","HBHCRP1A",10,0)
LOOP ; Loop thru files 634.1, 634.2 & 634.3 "B" cross-ref
"RTN","HBHCRP1A",11,0)
 F HBHCFILE=634.1,634.2,634.3 S HBHCDPT="" F  S HBHCDPT=$O(^HBHC(HBHCFILE,"B",HBHCDPT)) Q:HBHCDPT=""  D SETUP^HBHCRP1B S HBHCIEN="" F  S HBHCIEN=$O(^HBHC(HBHCFILE,"B",HBHCDPT,HBHCIEN)) Q:HBHCIEN=""  D PROCESS
"RTN","HBHCRP1A",12,0)
 D PRTLOOP^HBHCRP1B D:$D(^HBHC(634.5,"B")) PSEUDO^HBHCUTL3
"RTN","HBHCRP1A",13,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<12) W @IOF D HDRPAGE^HBHCUTL
"RTN","HBHCRP1A",14,0)
 D:$D(^HBHC(634.2,"B")) PCEMSG^HBHCUTL3 D ENDRPT^HBHCUTL1
"RTN","HBHCRP1A",15,0)
 ; Print Medical Foster Home (MFH) Form Errors if exist
"RTN","HBHCRP1A",16,0)
 I $D(^HBHC(634.7,"B")) W @IOF D DQ^HBHCRP31
"RTN","HBHCRP1A",17,0)
EXIT ; Exit module
"RTN","HBHCRP1A",18,0)
 D EXIT^HBHCRP1B
"RTN","HBHCRP1A",19,0)
 Q
"RTN","HBHCRP1A",20,0)
PROCESS ; Process report data
"RTN","HBHCRP1A",21,0)
 S HBHCDPT0=^DPT(HBHCDPT,0),HBHCNOD0=$S(HBHCFORM="V":$G(^HBHC(HBHCFL,HBHCIEN,0)),1:$G(^HBHC(HBHCFL,$P(^HBHC(HBHCFILE,HBHCIEN,0),U,2),0)))
"RTN","HBHCRP1A",22,0)
 ; Form 3: use Evaluation Date (field 1) if Date (field 17) null, 'reject' episodes prior to PCE patch will only have eval date
"RTN","HBHCRP1A",23,0)
 S (HBHCDAT,Y)=$P(HBHCNOD0,U,HBHCPC) S:(HBHCFORM="A")&(Y="") (HBHCDAT,Y)=$P(HBHCNOD0,U,2) D DD^%DT S HBHCDATE=$E(Y,1,18) S:HBHCDAT="" (HBHCDAT,HBHCDATE)="Missing"
"RTN","HBHCRP1A",24,0)
 S HBHCNAME=$E($P(HBHCDPT0,U),1,14),HBHCSSN=$E($P(HBHCDPT0,U,9),6,9)
"RTN","HBHCRP1A",25,0)
 S HBHCCLN="n/a" S:HBHCFORM="V" HBHCCLN=$S($P(HBHCNOD0,U,6)]"":$E($P(^SC($P(HBHCNOD0,U,6),0),U),1,18),1:"Unknown")
"RTN","HBHCRP1A",26,0)
 S HBHCMSG="" S:HBHCFORM="V" HBHCMSG=$S($P(HBHCNOD0,U,3)]"":$P(^HBHC(633.1,$P(HBHCNOD0,U,3),0),U),1:"")
"RTN","HBHCRP1A",27,0)
 I HBHCFORM="V" S HBHCOEP=$P(HBHCNOD0,U,4) D:HBHCOEP]"" OE
"RTN","HBHCRP1A",28,0)
 S ^TMP("HBHC",$J,HBHCFORM,HBHCCLN,HBHCDAT,HBHCNAME,HBHCSSN,1)="`"_HBHCDPT_U_HBHCDATE_U_HBHCMSG
"RTN","HBHCRP1A",29,0)
 Q
"RTN","HBHCRP1A",30,0)
OE ; Process Outpatient Encounter data
"RTN","HBHCRP1A",31,0)
 ; Provider, 2 pieces of info delimited by $ (Provider name & V PROVIDER  ^AUPNVPRV(9000010.06) DFN)
"RTN","HBHCRP1A",32,0)
 K HBHCPRV1,HBHCPRVL
"RTN","HBHCRP1A",33,0)
 D GETPRV^SDOE(HBHCOEP,"HBHCPRVL")
"RTN","HBHCRP1A",34,0)
 S HBHCDFN=0 F HBHCI=1:1 S HBHCDFN=$O(HBHCPRVL(HBHCDFN)) Q:HBHCDFN'>0  S HBHCPRVP=$P(HBHCPRVL(HBHCDFN),U),^TMP("HBHC",$J,HBHCFORM,HBHCCLN,HBHCDAT,HBHCNAME,HBHCSSN,2,HBHCI)=$S(HBHCPRVP]"":$P(^VA(200,HBHCPRVP,0),U)_"$"_HBHCPRVP,1:"")
"RTN","HBHCRP1A",35,0)
 ; Dx
"RTN","HBHCRP1A",36,0)
 K HBHCDXL
"RTN","HBHCRP1A",37,0)
 D GETDX^SDOE(HBHCOEP,"HBHCDXL")
"RTN","HBHCRP1A",38,0)
 S HBHCDFN=0 F HBHCI=1:1 S HBHCDFN=$O(HBHCDXL(HBHCDFN)) Q:HBHCDFN'>0  S HBHCINFO=HBHCDXL(HBHCDFN),HBHCICDP=$P(HBHCINFO,U),HBHCDX1=$S($P(HBHCINFO,U,12)="P":"* ",1:HBHCSP2) D ICD
"RTN","HBHCRP1A",39,0)
 ; CPT Code, 3 pieces of info delimited by $ (CPT Code w/Text, Quantity of CPT code & New Person file (200) DFN), must match V PROVIDER ^AUPNVPRV(9000010.06) DFN to ensure same provider
"RTN","HBHCRP1A",40,0)
 K HBHCCPTL,HBHCPRV
"RTN","HBHCRP1A",41,0)
 D GETCPT^SDOE(HBHCOEP,"HBHCCPTL")
"RTN","HBHCRP1A",42,0)
 S HBHCDFN=0 F HBHCI=1:1  S HBHCDFN=$O(HBHCCPTL(HBHCDFN)) Q:HBHCDFN'>0  S HBHCJ=0 F  S HBHCJ=$O(HBHCCPTL(HBHCDFN,HBHCJ)) Q:HBHCJ'>0  S HBHCINFO=HBHCCPTL(HBHCDFN,0),HBHCCPT=$$CPT^ICPTCOD($P(HBHCINFO,U)) D SETCPT,MOD
"RTN","HBHCRP1A",43,0)
 Q
"RTN","HBHCRP1A",44,0)
ICD ; Dx info
"RTN","HBHCRP1A",45,0)
 S ^TMP("HBHC",$J,HBHCFORM,HBHCCLN,HBHCDAT,HBHCNAME,HBHCSSN,3,HBHCI)=HBHCDX1_$S(HBHCICDP]"":$P($$ICDDX^ICDCODE(HBHCICDP),U,2)_"  "_$P($$ICDDX^ICDCODE(HBHCICDP),U,4),1:"")_$S(HBHCDX1["*":"  *  Primary Dx",1:"")
"RTN","HBHCRP1A",46,0)
 Q
"RTN","HBHCRP1A",47,0)
SETCPT ; Set TMP global with CPT info
"RTN","HBHCRP1A",48,0)
 S ^TMP("HBHC",$J,HBHCFORM,HBHCCLN,HBHCDAT,HBHCNAME,HBHCSSN,4,HBHCI)=$P(HBHCCPT,U,2)_HBHCSP3_$P(HBHCCPT,U,3)_"$"_$P(HBHCINFO,U,16)_"$"_$S($D(HBHCCPTL(HBHCDFN,12)):$P(HBHCCPTL(HBHCDFN,12),U,4),1:"")
"RTN","HBHCRP1A",49,0)
 Q
"RTN","HBHCRP1A",50,0)
MOD ; CPT Modifier loop & set
"RTN","HBHCRP1A",51,0)
 S HBHCK=0
"RTN","HBHCRP1A",52,0)
 F  S HBHCK=$O(HBHCCPTL(HBHCDFN,HBHCJ,HBHCK)) Q:HBHCK'>0  S HBHCMOD=$$MOD^ICPTMOD(HBHCCPTL(HBHCDFN,HBHCJ,HBHCK,0),"I"),^TMP("HBHC",$J,HBHCFORM,HBHCCLN,HBHCDAT,HBHCNAME,HBHCSSN,4,HBHCI,HBHCJ)=$P(HBHCMOD,U,2)_HBHCSP3_$P(HBHCMOD,U,3)
"RTN","HBHCRP1A",53,0)
 Q
"RTN","HBHCRP23")
0^4^B23801554^B16972839
"RTN","HBHCRP23",1,0)
HBHCRP23 ; LR VAMC(IRMS)/MJT-HBHC report on file 631, Patient Days by date range, sorted by patient name, includes: IEN, patient name, Last Four, admission date, D/C date, & pt days w/totals, calls: MFHS^HBHCUTL3 & MFH^HBHCUTL3 ; 12/21/05 3:31pm
"RTN","HBHCRP23",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**21,22,24**;NOV 01, 1993;Build 201
"RTN","HBHCRP23",3,0)
 ; Notes:  date range should be inclusion of all days; D/C date is not included in patient day count
"RTN","HBHCRP23",4,0)
 D START^HBHCUTL
"RTN","HBHCRP23",5,0)
 G:(HBHCBEG1=-1)!(HBHCEND1=-1) EXIT
"RTN","HBHCRP23",6,0)
 W ! D MFHS^HBHCUTL3 D:$D(HBHCMFHS) MFH^HBHCUTL3
"RTN","HBHCRP23",7,0)
 G:$D(DIRUT) EXIT
"RTN","HBHCRP23",8,0)
 S %ZIS="Q",HBHCCC=0 K IOP,ZTIO,ZTSAVE D ^%ZIS G:POP EXIT
"RTN","HBHCRP23",9,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCRP23",ZTDESC="HBPC Patient Days of Care by Date Range Report",ZTSAVE("HBHC*")="" D ^%ZTLOAD G EXIT
"RTN","HBHCRP23",10,0)
DQ ; De-queue
"RTN","HBHCRP23",11,0)
 U IO
"RTN","HBHCRP23",12,0)
 K ^TMP("HBHC",$J)
"RTN","HBHCRP23",13,0)
 S $P(HBHCY,"-",81)="",(HBHCCNT,HBHCCNT1,HBHCTOT,HBHCTOT1)=0,HBHCHEAD="Patient Days of Care by Date Range"
"RTN","HBHCRP23",14,0)
 ; HBHCMFHS variable set in MFHS^HBHCUTL3
"RTN","HBHCRP23",15,0)
 S:'$D(HBHCMFHS) HBHCHDR="W !?63,""Discharge"",?73,""Patient"",!,""IEN"",?7,""Patient Name"",?34,""Last Four"",?50,""Date"",?63,""Date"",?73,""Days"""
"RTN","HBHCRP23",16,0)
 S:$D(HBHCMFHS) HBHCHDR="W !?34,""Last"",?54,""Discharge"",?67,""Patient"",!,""IEN"",?7,""Patient Name"",?34,""Four"",?42,""Date"",?54,""Date"",?67,""Days"",?77,""MFH"""
"RTN","HBHCRP23",17,0)
 ; HBHCMFHR variable set in MFH^HBHCUTL3
"RTN","HBHCRP23",18,0)
 S:$D(HBHCMFHR) HBHCHEAD="MFH "_HBHCHEAD
"RTN","HBHCRP23",19,0)
 S HBHCCOLM=(80-(30+$L(HBHCHEAD))\2) S:HBHCCOLM'>0 HBHCCOLM=1
"RTN","HBHCRP23",20,0)
 D TODAY^HBHCUTL D:IO'=IO(0)!($D(IO("S"))) HDRRANGE^HBHCUTL
"RTN","HBHCRP23",21,0)
 I '$D(IO("S")),(IO=IO(0)) S HBHCCC=HBHCCC+1 D HDRRANGE^HBHCUTL
"RTN","HBHCRP23",22,0)
LOOP ; Loop thru ^HBHC(631) "AD" (admission date) cross-ref to build report
"RTN","HBHCRP23",23,0)
 S HBHCADDT=0 F  S HBHCADDT=$O(^HBHC(631,"AD",HBHCADDT)) Q:(HBHCADDT'>0)!(HBHCADDT>HBHCEND1)  S HBHCDFN="" F  S HBHCDFN=$O(^HBHC(631,"AD",HBHCADDT,HBHCDFN)) Q:HBHCDFN=""  S HBHCNOD0=^HBHC(631,HBHCDFN,0) D:$P(HBHCNOD0,U,15)=1 PROCESS
"RTN","HBHCRP23",24,0)
 D PRTLOOP
"RTN","HBHCRP23",25,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<14) W @IOF D HDRRANGE^HBHCUTL
"RTN","HBHCRP23",26,0)
 W !!,HBHCZ,!?14,">>>  Date Range:  ",HBHCBEG2," to ",HBHCEND2,"  <<<"
"RTN","HBHCRP23",27,0)
 W !,HBHCZ,!,"Total Active Patients:  ",$J($FN((HBHCCNT-HBHCCNT1),","),6)
"RTN","HBHCRP23",28,0)
 W !,HBHCZ,!,"Complete Episodes of Care Only:",!?4,"Total Patients:  ",$J($FN(HBHCCNT1,","),6),"     Total Patient Days in Date Range:  ",$J($FN(HBHCTOT1,","),10)
"RTN","HBHCRP23",29,0)
 W !,HBHCZ,!?4,"Total Patients:  ",$J($FN(HBHCCNT,","),6),"     Total Patient Days in Date Range:  ",$J($FN(HBHCTOT,","),10),!,HBHCZ
"RTN","HBHCRP23",30,0)
 D ENDRPT^HBHCUTL1
"RTN","HBHCRP23",31,0)
EXIT ; Exit module
"RTN","HBHCRP23",32,0)
 D ^%ZISC
"RTN","HBHCRP23",33,0)
 K DIR,HBHCADDT,HBHCBEG1,HBHCBEG2,HBHCCOLM,HBHCCC,HBHCCNT,HBHCCNT1,HBHCDATE,HBHCDFN,HBHCDPT0,HBHCDSDT,HBHCEND1,HBHCEND2,HBHCHDR,HBHCHEAD,HBHCLOS,HBHCMFH,HBHCMFHR,HBHCMFHS,HBHCNAME,HBHCNOD0,HBHCPAGE,HBHCTDY,HBHCTMP,HBHCTOT,HBHCTOT1,HBHCY
"RTN","HBHCRP23",34,0)
 K HBHCZ,X,X1,X2,Y,^TMP("HBHC",$J)
"RTN","HBHCRP23",35,0)
 Q
"RTN","HBHCRP23",36,0)
PROCESS ; Process record & build ^TMP("HBHC",$J) global
"RTN","HBHCRP23",37,0)
 ; Quit if Medical Foster Home (MFH) Report, but not MFH patient; HBHCMFHR variable set in MFH^HBHCUTL3
"RTN","HBHCRP23",38,0)
 I $D(HBHCMFHR) Q:'$D(^HBHC(631,"AJ","Y",HBHCDFN))
"RTN","HBHCRP23",39,0)
 I $D(HBHCMFHS) S HBHCMFH="" S:$D(^HBHC(631,"AJ","Y",HBHCDFN)) HBHCMFH="MFH"
"RTN","HBHCRP23",40,0)
 S HBHCDSDT=$P(HBHCNOD0,U,40)
"RTN","HBHCRP23",41,0)
 ; Add 1 to ending date to handle date range being inclusive
"RTN","HBHCRP23",42,0)
 S X1=HBHCEND1,X2=1 D C^%DTC S HBHCDATE=X
"RTN","HBHCRP23",43,0)
 ; '> below handles Discharge Date being same as date range beginning date
"RTN","HBHCRP23",44,0)
 I HBHCDSDT]"" Q:(HBHCDSDT'>HBHCBEG1)  I HBHCEND1>HBHCDSDT S HBHCDATE=HBHCDSDT
"RTN","HBHCRP23",45,0)
 S HBHCDPT0=^DPT($P(HBHCNOD0,U),0),HBHCLOS="",HBHCCNT=HBHCCNT+1
"RTN","HBHCRP23",46,0)
 S HBHCDAT=$S(HBHCADDT>HBHCBEG1:HBHCADDT,1:HBHCBEG1)
"RTN","HBHCRP23",47,0)
 S X1=HBHCDATE,X2=HBHCDAT
"RTN","HBHCRP23",48,0)
 D ^%DTC S HBHCLOS=X
"RTN","HBHCRP23",49,0)
 ; handles Admission Date being same as date range ending date, OR Adm & D/C dates being equal
"RTN","HBHCRP23",50,0)
 S:HBHCLOS=0 HBHCLOS=1
"RTN","HBHCRP23",51,0)
 S HBHCTOT=HBHCTOT+HBHCLOS
"RTN","HBHCRP23",52,0)
 ; '> below handles counting as complete episode of care ONLY if Discharge Date is within date range
"RTN","HBHCRP23",53,0)
 S:(HBHCDSDT]"")&(HBHCDSDT'>HBHCEND1) HBHCCNT1=HBHCCNT1+1,HBHCTOT1=HBHCTOT1+HBHCLOS
"RTN","HBHCRP23",54,0)
 S HBHCDSDT=$S(HBHCDSDT]"":$E(HBHCDSDT,4,5)_"-"_$E(HBHCDSDT,6,7)_"-"_$E(HBHCDSDT,2,3),1:"")
"RTN","HBHCRP23",55,0)
 S:'$D(HBHCMFHS) ^TMP("HBHC",$J,$P(HBHCDPT0,U),HBHCADDT)=$E($P(HBHCDPT0,U,9),6,9)_U_HBHCDSDT_U_HBHCLOS_U_HBHCDFN
"RTN","HBHCRP23",56,0)
 S:$D(HBHCMFHS) ^TMP("HBHC",$J,$P(HBHCDPT0,U),HBHCADDT)=$E($P(HBHCDPT0,U,9),6,9)_U_HBHCDSDT_U_HBHCLOS_U_HBHCDFN_U_HBHCMFH
"RTN","HBHCRP23",57,0)
 Q
"RTN","HBHCRP23",58,0)
PRTLOOP ; Print loop
"RTN","HBHCRP23",59,0)
 S HBHCNAME="" F  S HBHCNAME=$O(^TMP("HBHC",$J,HBHCNAME)) Q:HBHCNAME=""  S HBHCADDT="" F  S HBHCADDT=$O(^TMP("HBHC",$J,HBHCNAME,HBHCADDT)) Q:HBHCADDT=""  D PRINT
"RTN","HBHCRP23",60,0)
 Q
"RTN","HBHCRP23",61,0)
PRINT ; Print report
"RTN","HBHCRP23",62,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<5) W @IOF D HDRRANGE^HBHCUTL
"RTN","HBHCRP23",63,0)
 S HBHCTMP=^TMP("HBHC",$J,HBHCNAME,HBHCADDT)
"RTN","HBHCRP23",64,0)
 I $P(HBHCTMP,U,3)>0 I '$D(HBHCMFHS) W !,$J("`"_$P(HBHCTMP,U,4),5)_"  "_$E(HBHCNAME,1,24),?34,$P(HBHCTMP,U),?50,$E(HBHCADDT,4,5)_"-"_$E(HBHCADDT,6,7)_"-"_$E(HBHCADDT,2,3),?63,$P(HBHCTMP,U,2),?76,$J($P(HBHCTMP,U,3),5),!,HBHCY
"RTN","HBHCRP23",65,0)
 I $P(HBHCTMP,U,3)>0 I $D(HBHCMFHS) W !,$J("`"_$P(HBHCTMP,U,4),5)_"  "_$E(HBHCNAME,1,24),?34,$P(HBHCTMP,U),?42,$E(HBHCADDT,4,5)_"-"_$E(HBHCADDT,6,7)_"-"_$E(HBHCADDT,2,3),?54,$P(HBHCTMP,U,2),?69,$J($P(HBHCTMP,U,3),4),?77,$P(HBHCTMP,U,5),!,HBHCY
"RTN","HBHCRP23",66,0)
 Q
"RTN","HBHCRP26")
0^5^B12867389^n/a
"RTN","HBHCRP26",1,0)
HBHCRP26 ; LR VAMC(IRMS)/MJT-HBHC report on Medical Foster Home file 633.2, sorted by name, includes: MFH Name, Opened Date, Prim Caregiver, Max Pts, Bedbound Max, Closure Date, & Voluntary Closure ; Mar 2007
"RTN","HBHCRP26",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**24**;NOV 01, 1993;Build 201
"RTN","HBHCRP26",3,0)
 S %ZIS="Q",HBHCCC=0 K IOP,ZTIO,ZTSAVE D ^%ZIS G:POP EXIT
"RTN","HBHCRP26",4,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCRP26",ZTDESC="HBPC Medical Foster Home File Data Report",ZTSAVE("HBHC*")="" D ^%ZTLOAD G EXIT
"RTN","HBHCRP26",5,0)
DQ ; De-queue
"RTN","HBHCRP26",6,0)
 U IO
"RTN","HBHCRP26",7,0)
 S HBHCPAGE=0,$P(HBHCY,"-",133)="",$P(HBHCZ,"=",133)="",HBHCHEAD="Medical Foster Home (MFH) File Data"
"RTN","HBHCRP26",8,0)
 S HBHCHDR="W !,?35,""Opened"",?87,""Maximum"",?99,""Bedbound"",?111,""Closure"",?123,""Voluntary"",!,""Medical Foster Home (MFH) Name"",?35,""Date"",?48,""Primary Caregiver Name"",?87,""Patients"",?99,""Maximum"",?111,""Date"",?123,""Closure"""
"RTN","HBHCRP26",9,0)
 S HBHCCOLM=(132-(30+$L(HBHCHEAD))\2) S:HBHCCOLM'>0 HBHCCOLM=1
"RTN","HBHCRP26",10,0)
 D TODAY^HBHCUTL D:IO'=IO(0)!($D(IO("S"))) HDR132NR^HBHCUTL
"RTN","HBHCRP26",11,0)
 I '$D(IO("S")),(IO=IO(0)) S HBHCCC=HBHCCC+1 D HDR132NR^HBHCUTL
"RTN","HBHCRP26",12,0)
LOOP ; Loop thru ^HBHC(633.2,"B") MFH Name cross-ref to build report
"RTN","HBHCRP26",13,0)
 S HBHCDFN=0 F  S HBHCDFN=$O(^HBHC(633.2,HBHCDFN)) Q:HBHCDFN'>0  D PROCESS
"RTN","HBHCRP26",14,0)
 I $D(^TMP("HBHC",$J)) D PRTLOOP,PRTTOT
"RTN","HBHCRP26",15,0)
 D END132^HBHCUTL1
"RTN","HBHCRP26",16,0)
EXIT ; Exit module
"RTN","HBHCRP26",17,0)
 D ^%ZISC
"RTN","HBHCRP26",18,0)
 K HBHCCC,HBHCCOLM,HBHCDFN,HBHCHDR,HBHCHEAD,HBHCNAME,HBHCNOD0,HBHCPAGE,HBHCTDY,HBHCTMP,HBHCTOT,HBHCTOT1,HBHCTOT2,HBHCY,HBHCZ,X,Y,^TMP("HBHC",$J)
"RTN","HBHCRP26",19,0)
 Q
"RTN","HBHCRP26",20,0)
PROCESS ; Process record & build ^TMP("HBHC",$J) global
"RTN","HBHCRP26",21,0)
 S HBHCNOD0=^HBHC(633.2,HBHCDFN,0)
"RTN","HBHCRP26",22,0)
 S ^TMP("HBHC",$J,$P(HBHCNOD0,U),HBHCDFN)=$P(HBHCNOD0,U,2)_U_$P(HBHCNOD0,U,3)_U_$P(HBHCNOD0,U,4)_U_$P(HBHCNOD0,U,5)_U_$P(HBHCNOD0,U,6)_U_$P(HBHCNOD0,U,7)
"RTN","HBHCRP26",23,0)
 Q
"RTN","HBHCRP26",24,0)
PRTLOOP ; Print loop
"RTN","HBHCRP26",25,0)
 S (HBHCTOT,HBHCTOT1,HBHCTOT2)=0
"RTN","HBHCRP26",26,0)
 S HBHCNAME="" F  S HBHCNAME=$O(^TMP("HBHC",$J,HBHCNAME)) Q:HBHCNAME=""  S HBHCDFN="" F  S HBHCDFN=$O(^TMP("HBHC",$J,HBHCNAME,HBHCDFN)) Q:HBHCDFN=""  D PRINT
"RTN","HBHCRP26",27,0)
 Q
"RTN","HBHCRP26",28,0)
PRINT ; Print report
"RTN","HBHCRP26",29,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<5) W @IOF D HDR132NR^HBHCUTL
"RTN","HBHCRP26",30,0)
 S HBHCTMP=^TMP("HBHC",$J,HBHCNAME,HBHCDFN),HBHCTOT=HBHCTOT+1,HBHCTOT1=HBHCTOT1+($P(HBHCTMP,U,3)),HBHCTOT2=HBHCTOT2+($P(HBHCTMP,U,4))
"RTN","HBHCRP26",31,0)
 W !,HBHCNAME,?35,$S($P(HBHCTMP,U)]"":$E($P(HBHCTMP,U),4,5)_"-"_$E($P(HBHCTMP,U),6,7)_"-"_$E($P(HBHCTMP,U),2,3),1:""),?48,$P(HBHCTMP,U,2),?87,$P(HBHCTMP,U,3),?99,$P(HBHCTMP,U,4)
"RTN","HBHCRP26",32,0)
 W ?111,$S($P(HBHCTMP,U,5)]"":$E($P(HBHCTMP,U,5),4,5)_"-"_$E($P(HBHCTMP,U,5),6,7)_"-"_$E($P(HBHCTMP,U,5),2,3),1:""),?123,$S(($P(HBHCTMP,U,6)="Y"):"Yes",($P(HBHCTMP,U,6)="N"):"No",1:""),!,HBHCY
"RTN","HBHCRP26",33,0)
 Q
"RTN","HBHCRP26",34,0)
PRTTOT ; Print report totals
"RTN","HBHCRP26",35,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<1) W @IOF D HDR132NR^HBHCUTL
"RTN","HBHCRP26",36,0)
 W !!,HBHCZ,!,"Maximum Patients Total: ",?34,$J(HBHCTOT1,5),!,"Bedbound Maximum Total: ",?34,$J(HBHCTOT2,5),!!,"Medical Foster Home (MFH) Total: ",?34,$J(HBHCTOT,5),!,HBHCZ
"RTN","HBHCRP26",37,0)
 Q
"RTN","HBHCRP27")
0^7^B47600450^n/a
"RTN","HBHCRP27",1,0)
HBHCRP27 ; LR VAMC(IRMS)/MJT-HBHC Inspection &/or Training e-mail reminders & report, includes inspection/training due w/most recent inspection/training date; e-mail is due in 3 months; report is due in 6 months, based on month only ; Aug 2007
"RTN","HBHCRP27",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**24**;NOV 01, 1993;Build 201
"RTN","HBHCRP27",3,0)
 ; calls DATE3^HBHCUTL3, DATE6^HBHCUTL3, TODAY^HBHCUTL, & ENDRPT^HBHCUTL1, e-mail entry point: DQ
"RTN","HBHCRP27",4,0)
EN ; Prompt for whether Inspection or Training report 
"RTN","HBHCRP27",5,0)
 K DIR S DIR(0)="SB^I:Inspection;T:Training",DIR("A")="Include Inspection or Training data",DIR("?")="Include Inspection (I) or Training (T) data on report." D ^DIR
"RTN","HBHCRP27",6,0)
 G:$D(DIRUT) EXIT
"RTN","HBHCRP27",7,0)
 S HBHCTYP=Y
"RTN","HBHCRP27",8,0)
 ; Set MFH report flag
"RTN","HBHCRP27",9,0)
 S HBHCMFHR=1
"RTN","HBHCRP27",10,0)
 S %ZIS="Q",HBHCCC=0 K IOP,ZTIO,ZTSAVE D ^%ZIS G:POP EXIT
"RTN","HBHCRP27",11,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCRP27",ZTDESC="HBPC MFH Inspection/Training Due Report",ZTSAVE("HBHC*")="" D ^%ZTLOAD G EXIT
"RTN","HBHCRP27",12,0)
DQ ; De-queue
"RTN","HBHCRP27",13,0)
 I $D(HBHCMFHR) U IO
"RTN","HBHCRP27",14,0)
 S:'$D(HBHCTYP) HBHCTYP=""
"RTN","HBHCRP27",15,0)
 K ^TMP("HBHC",$J),^TMP("HBHCMFH",$J)
"RTN","HBHCRP27",16,0)
 ; Most Recent Inspection or Training Date calc for processing; e-mail = 3 mo, based on month only; returns HBHCDATE 
"RTN","HBHCRP27",17,0)
 D:'$D(HBHCMFHR) DATE3^HBHCUTL3
"RTN","HBHCRP27",18,0)
 ; Most Recent Inspection or Training Date calc for processing; report = 6 mo, based on month only; returns HBHCDATE
"RTN","HBHCRP27",19,0)
 D:$D(HBHCMFHR) DATE6^HBHCUTL3
"RTN","HBHCRP27",20,0)
 D TODAY^HBHCUTL
"RTN","HBHCRP27",21,0)
 S $P(HBHCSP15," ",16)="",$P(HBHCSP39," ",40)="",HBHCCNT=1
"RTN","HBHCRP27",22,0)
 I $D(HBHCMFHR) S HBHCPAGE=0,HBHCHEAD="Medical Foster Home (MFH) "_$S(HBHCTYP="I":"Inspection(s)",1:"Training")_" Due",HBHCCOLM=(80-(30+$L(HBHCHEAD))\2) S:HBHCCOLM'>0 HBHCCOLM=1
"RTN","HBHCRP27",23,0)
 I $D(HBHCMFHR) D:IO'=IO(0)!($D(IO("S"))) HDRPAGE^HBHCUTL I '$D(IO("S")),(IO=IO(0)) S HBHCCC=HBHCCC+1 D HDRPAGE^HBHCUTL
"RTN","HBHCRP27",24,0)
ELOOP ; Loop thru ^HBHC(633.2 Inspection mult: 1=Nurse, 2=Social Work, 3=Dietitian, 4=Fire/Safety then Training mult: 5=Home Operation, 6=Fire/Safety, 7=Medication Management, 8=Personal Care, 9=Infection Control, 10=End of Life, 11=Other
"RTN","HBHCRP27",25,0)
 I '$D(HBHCMFHR) S HBHCI=0 F  S HBHCI=$O(^HBHC(633.2,HBHCI)) Q:HBHCI'>0  F HBHCJ=1:1:11 S HBHCK=0 F  S HBHCK=$O(^HBHC(633.2,HBHCI,HBHCJ,"B",HBHCK)) D:HBHCK'>0 SET Q:HBHCK'>0  S HBHCMRDT=HBHCK
"RTN","HBHCRP27",26,0)
LOOP ; Loop thru ^HBHC(633.2 Inspection multiples; 1 = Nurse, 2 = Social Work, 3 = Dietitian, 4 = Fire/Safety
"RTN","HBHCRP27",27,0)
 I $D(HBHCMFHR) I HBHCTYP="I" S HBHCI=0 F  S HBHCI=$O(^HBHC(633.2,HBHCI)) Q:HBHCI'>0  F HBHCJ=1:1:4 S HBHCK=0 F  S HBHCK=$O(^HBHC(633.2,HBHCI,HBHCJ,"B",HBHCK)) D:HBHCK'>0 SET Q:HBHCK'>0  S HBHCMRDT=HBHCK
"RTN","HBHCRP27",28,0)
LOOP2 ; Loop thru ^HBHC(633.2 Training multiples; 5 = Home Operation, 6 = Fire/Safety, 7 = Medication Management, 8 = Personal Care, 9 = Infection Control, 10 = End of Life, 11 = Other 
"RTN","HBHCRP27",29,0)
 I $D(HBHCMFHR) I HBHCTYP="T" S HBHCI=0 F  S HBHCI=$O(^HBHC(633.2,HBHCI)) Q:HBHCI'>0  F HBHCJ=5:1:11 S HBHCK=0 F  S HBHCK=$O(^HBHC(633.2,HBHCI,HBHCJ,"B",HBHCK)) D:HBHCK'>0 SET Q:HBHCK'>0  S HBHCMRDT=HBHCK
"RTN","HBHCRP27",30,0)
 I $D(^TMP("HBHC",$J)) D:HBHCTYP'="T" PRTLOOP1 D:HBHCTYP'="I" PRTLOOP2
"RTN","HBHCRP27",31,0)
 I '$D(^TMP("HBHC",$J)) I $D(HBHCMFHR) W !!,"No MFH "_$S(HBHCTYP="I":"inspections",1:"training")_" currently due."
"RTN","HBHCRP27",32,0)
 D:$D(HBHCMFHR) ENDRPT^HBHCUTL1
"RTN","HBHCRP27",33,0)
EXIT ; Exit module
"RTN","HBHCRP27",34,0)
 D ^%ZISC
"RTN","HBHCRP27",35,0)
 K DIR,HBHCCC,HBHCCNT,HBHCCOLM,HBHCDATE,HBHCHEAD,HBHCI,HBHCJ,HBHCK,HBHCMFHN,HBHCMFHR,HBHCMO,HBHCMRDT,HBHCPAGE,HBHCSP15,HBHCSP39,HBHCTDY,HBHCTYP,HBHCTYPE,HBHCZ,X,Y,^TMP("HBHC",$J),^TMP("HBHCMFH",$J),XMDUZ,XMSUB,XMY,XMTEXT,XMZ
"RTN","HBHCRP27",36,0)
 Q
"RTN","HBHCRP27",37,0)
SET ; Set ^TMP node for valid record
"RTN","HBHCRP27",38,0)
 ; quit if MFH closed
"RTN","HBHCRP27",39,0)
 Q:$P(^HBHC(633.2,HBHCI,0),U,6)]"" 
"RTN","HBHCRP27",40,0)
 ; quit if no data on file
"RTN","HBHCRP27",41,0)
 Q:'$D(HBHCMRDT)
"RTN","HBHCRP27",42,0)
 ; quit if Most Recent Date not < DATE
"RTN","HBHCRP27",43,0)
 Q:HBHCMRDT'<HBHCDATE
"RTN","HBHCRP27",44,0)
 ; quit if no Inspection or Training data 
"RTN","HBHCRP27",45,0)
 Q:'$D(^HBHC(633.2,HBHCI,HBHCJ))
"RTN","HBHCRP27",46,0)
 S Y=HBHCMRDT D DD^%DT
"RTN","HBHCRP27",47,0)
 ; sort by Inspection or Training category, then date within category, then alphabetically by MFH Name
"RTN","HBHCRP27",48,0)
 S ^TMP("HBHC",$J,HBHCJ,HBHCMRDT,$P(^HBHC(633.2,HBHCI,0),U))=Y
"RTN","HBHCRP27",49,0)
 K HBHCMRDT
"RTN","HBHCRP27",50,0)
 Q
"RTN","HBHCRP27",51,0)
PRTLOOP1 ; Print loop 1; Inspection multiples: 1 = Nurse, 2 = Social Work, 3 = Dietitian, 4 = Fire/Safety
"RTN","HBHCRP27",52,0)
 S HBHCTYPE="Inspection"
"RTN","HBHCRP27",53,0)
 F HBHCI=1:1:4 D IHDR S HBHCDATE=0 F  S HBHCDATE=$O(^TMP("HBHC",$J,HBHCI,HBHCDATE)) Q:HBHCDATE=""  S HBHCMFHN="" F  S HBHCMFHN=$O(^TMP("HBHC",$J,HBHCI,HBHCDATE,HBHCMFHN)) Q:HBHCMFHN=""  D:'$D(HBHCMFHR) MAIL D:$D(HBHCMFHR) PRINT
"RTN","HBHCRP27",54,0)
 I '$D(HBHCMFHR) D SEND K ^TMP("HBHCMFH",$J)
"RTN","HBHCRP27",55,0)
 Q
"RTN","HBHCRP27",56,0)
PRTLOOP2 ; Print loop 2; Training multiples: 5=Home Operation, 6=Fire/Safety, 7=Medication Management, 8=Personal Care, 9=Infection Control, 10=End of Life, 11=Other
"RTN","HBHCRP27",57,0)
 S HBHCTYPE="Training"
"RTN","HBHCRP27",58,0)
 F HBHCI=5:1:11 D THDR S HBHCDATE=0 F  S HBHCDATE=$O(^TMP("HBHC",$J,HBHCI,HBHCDATE)) Q:HBHCDATE=""  S HBHCMFHN="" F  S HBHCMFHN=$O(^TMP("HBHC",$J,HBHCI,HBHCDATE,HBHCMFHN)) Q:HBHCMFHN=""  D:'$D(HBHCMFHR) MAIL D:$D(HBHCMFHR) PRINT
"RTN","HBHCRP27",59,0)
 I '$D(HBHCMFHR) D SEND
"RTN","HBHCRP27",60,0)
 Q
"RTN","HBHCRP27",61,0)
IHDR ; Write inspection header
"RTN","HBHCRP27",62,0)
 I $D(HBHCMFHR) D WRITE1 Q
"RTN","HBHCRP27",63,0)
 D:HBHCI'=1 BLANK,BLANK
"RTN","HBHCRP27",64,0)
 S ^TMP("HBHCMFH",$J,HBHCCNT)=$S(HBHCI=1:"Nurse",HBHCI=2:"Social Work",HBHCI=3:"Dietitian",1:"Fire/Safety")_" "_HBHCTYPE_"(s) Due in next 3 months:" D COUNT
"RTN","HBHCRP27",65,0)
 S ^TMP("HBHCMFH",$J,HBHCCNT)="Medical Foster Home Name"_HBHCSP15_"Most Recent "_$S(HBHCI=1:"Nurse",HBHCI=2:"Social Work",HBHCI=3:"Dietitian",1:"Fire/Safety")_" "_HBHCTYPE_" Date" D COUNT
"RTN","HBHCRP27",66,0)
 D BLANK
"RTN","HBHCRP27",67,0)
 Q
"RTN","HBHCRP27",68,0)
THDR ; Write Training header
"RTN","HBHCRP27",69,0)
 I $D(HBHCMFHR) D WRITE2 Q
"RTN","HBHCRP27",70,0)
 D:HBHCI'=5 BLANK,BLANK
"RTN","HBHCRP27",71,0)
 S ^TMP("HBHCMFH",$J,HBHCCNT)=$S(HBHCI=5:"Home Operation",HBHCI=6:"Fire/Safety",HBHCI=7:"Medication Management",HBHCI=8:"Personal Care",HBHCI=9:"Infection Control",HBHCI=10:"End of Life",1:"Other")_" "_HBHCTYPE_" Due in next 3 months:" D COUNT
"RTN","HBHCRP27",72,0)
 ; Note local TMP node to allow concatenation of remainder of node for global ^TMP set on next line
"RTN","HBHCRP27",73,0)
 S TMP("HBHCMFH",$J,HBHCCNT)="Medical Foster Home Name"_HBHCSP15_"Most Recent "_$S(HBHCI=5:"Home Operation",HBHCI=6:"Fire/Safety",HBHCI=7:"Med Mgmt",HBHCI=8:"Personal Care",HBHCI=9:"Infect Control",HBHCI=10:"End of Life",1:"Other")
"RTN","HBHCRP27",74,0)
 S ^TMP("HBHCMFH",$J,HBHCCNT)=TMP("HBHCMFH",$J,HBHCCNT)_" "_HBHCTYPE_" Date" K TMP("HBHCMFH",$J,HBHCCNT)
"RTN","HBHCRP27",75,0)
 D COUNT
"RTN","HBHCRP27",76,0)
 D BLANK
"RTN","HBHCRP27",77,0)
 Q
"RTN","HBHCRP27",78,0)
WRITE1 ; Write Inspection report header
"RTN","HBHCRP27",79,0)
 W:HBHCI'=1 !!
"RTN","HBHCRP27",80,0)
 W !,$S(HBHCI=1:"Nurse",HBHCI=2:"Social Work",HBHCI=3:"Dietitian",1:"Fire/Safety")_" Inspection(s) Due in next 6 months:"
"RTN","HBHCRP27",81,0)
 W !,"Medical Foster Home Name",?37,"Most Recent "_$S(HBHCI=1:"Nurse",HBHCI=2:"Social Work",HBHCI=3:"Dietitian",1:"Fire/Safety")_" "_HBHCTYPE_" Date",!
"RTN","HBHCRP27",82,0)
 Q
"RTN","HBHCRP27",83,0)
WRITE2 ; Write Training report header
"RTN","HBHCRP27",84,0)
 W:HBHCI'=5 !!
"RTN","HBHCRP27",85,0)
 W !,$S(HBHCI=5:"Home Operation",HBHCI=6:"Fire/Safety",HBHCI=7:"Medication Management",HBHCI=8:"Personal Care",HBHCI=9:"Infection Control",HBHCI=10:"End of Life",1:"Other")_" "_HBHCTYPE_" Due in next 6 months:"
"RTN","HBHCRP27",86,0)
 W !,"Medical Foster Home Name",?37,"Most Recent "_$S(HBHCI=5:"Home Operation",HBHCI=6:"Fire/Safety",HBHCI=7:"Medication Management",HBHCI=8:"Personal Care",HBHCI=9:"Infection Control",HBHCI=10:"End of Life",1:"Other")_" "_HBHCTYPE_" Date",!
"RTN","HBHCRP27",87,0)
 Q
"RTN","HBHCRP27",88,0)
BLANK ; Set blank line
"RTN","HBHCRP27",89,0)
 S ^TMP("HBHCMFH",$J,HBHCCNT)="" D COUNT
"RTN","HBHCRP27",90,0)
 Q
"RTN","HBHCRP27",91,0)
MAIL ; Write mail message
"RTN","HBHCRP27",92,0)
 S ^TMP("HBHCMFH",$J,HBHCCNT)="   "_HBHCMFHN_$E(HBHCSP39,($L(HBHCMFHN)+1),39)_$P(^TMP("HBHC",$J,HBHCI,HBHCDATE,HBHCMFHN),U) D COUNT
"RTN","HBHCRP27",93,0)
 Q
"RTN","HBHCRP27",94,0)
COUNT ; Update count variable
"RTN","HBHCRP27",95,0)
 S HBHCCNT=HBHCCNT+1
"RTN","HBHCRP27",96,0)
 Q
"RTN","HBHCRP27",97,0)
SEND ; Send Mail
"RTN","HBHCRP27",98,0)
 I '$D(^TMP("HBHCMFH",$J)) D BLANK S ^TMP("HBHCMFH",$J,HBHCCNT)="No MFH "_HBHCTYPE_" currently due."
"RTN","HBHCRP27",99,0)
 S XMDUZ="HBHC MFH "_HBHCTYPE_" Reminder Mail Group",XMSUB=HBHCTDY_" MFH "_HBHCTYPE_" Due Reminder",XMY("G.HBHC MEDICAL FOSTER HOME")="",XMTEXT="^TMP(""HBHCMFH"",$J," D ^XMD
"RTN","HBHCRP27",100,0)
 Q
"RTN","HBHCRP27",101,0)
PRINT ; Print report
"RTN","HBHCRP27",102,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<5) W @IOF D HDRPAGE^HBHCUTL
"RTN","HBHCRP27",103,0)
 W !?3,HBHCMFHN,?39,$P(^TMP("HBHC",$J,HBHCI,HBHCDATE,HBHCMFHN),U)
"RTN","HBHCRP27",104,0)
 Q
"RTN","HBHCRP28")
0^10^B9941580^n/a
"RTN","HBHCRP28",1,0)
HBHCRP28 ; LR VAMC(IRMS)/MJT-HBHC MFH Rate Paid rpt; user selects: pt or MFH; active only, indiv, or all pts or MFHs; current rate paid only or entire rate paid history, calls ^HBHCUTL5 @ entry points: EN, EXIT, MFH, PT, PRTPT, PRTMFH;Sep 2007
"RTN","HBHCRP28",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**24**;NOV 01, 1993;Build 201
"RTN","HBHCRP28",3,0)
 ; Prompt for patient or MFH report 
"RTN","HBHCRP28",4,0)
 D EN^HBHCUTL5
"RTN","HBHCRP28",5,0)
 S %ZIS="Q",HBHCCC=0 K IOP,ZTIO,ZTSAVE D ^%ZIS G:POP EXIT
"RTN","HBHCRP28",6,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCRP28",ZTDESC="HBPC MFH Rate Paid Report",ZTSAVE("HBHC*")="" D ^%ZTLOAD G EXIT
"RTN","HBHCRP28",7,0)
DQ ; De-queue
"RTN","HBHCRP28",8,0)
 U IO
"RTN","HBHCRP28",9,0)
 D TODAY^HBHCUTL
"RTN","HBHCRP28",10,0)
 S HBHCPAGE=0,HBHCHEAD="Medical Foster Home (MFH) Rate Paid",HBHCCOLM=(80-(30+$L(HBHCHEAD))\2) S:HBHCCOLM'>0 HBHCCOLM=1
"RTN","HBHCRP28",11,0)
 S HBHC1=$S(HBHCDIR="O":"Active ONLY",HBHCDIR="I":"Individual",1:"All")
"RTN","HBHCRP28",12,0)
 S HBHC2=$S(HBHC="C":"Current Rate",1:"All Rates")_" Paid"
"RTN","HBHCRP28",13,0)
 S:HBHCXREF="AJ" HBHC3=""
"RTN","HBHCRP28",14,0)
 S:HBHCXREF="AK" HBHC3=$S(HBHCYN="Y":"Include",1:"Omit")_" D/C Pts"
"RTN","HBHCRP28",15,0)
 S HBHCHDRX="W ""Selected Criteria:"",?20,HBHC1_HBHCWHO,?44,HBHC2,?65,HBHC3"
"RTN","HBHCRP28",16,0)
 S:HBHCXREF="AJ" HBHCHDR="W ?33,""Last"",?40,""Rate"",?50,""Start"",!,""Patient Name"",?33,""Four"",?40,""Paid"",?50,""Date"",?61,""Medical Foster Home"""
"RTN","HBHCRP28",17,0)
 S:HBHCXREF="AK" HBHCHDR="W ?55,""Last"",?62,""Rate"",?72,""Start"",!,""Medical Foster Home (MFH) Name"",?33,""Patient Name"",?55,""Four"",?62,""Paid"",?72,""Date"""
"RTN","HBHCRP28",18,0)
 D:IO'=IO(0)!($D(IO("S"))) HDRXPAGE^HBHCUTL I '$D(IO("S")),(IO=IO(0)) S HBHCCC=HBHCCC+1 D HDRXPAGE^HBHCUTL
"RTN","HBHCRP28",19,0)
 D:HBHCXREF="AJ" PT^HBHCUTL5
"RTN","HBHCRP28",20,0)
 D:HBHCXREF="AK" MFH^HBHCUTL5
"RTN","HBHCRP28",21,0)
 I $D(^TMP("HBHC",$J)) S $P(HBHCY,"-",81)="",(HBHCCNT,HBHCTOT)=0 D:HBHCXREF="AJ" PRTPT^HBHCUTL5 D:HBHCXREF="AK" PRTMFH^HBHCUTL5
"RTN","HBHCRP28",22,0)
 I $D(^TMP("HBHC",$J)) W !,HBHCY,!!,HBHCZ,"Lowest Rate:  ",$J(HBHCLOW,7,2),?28,"Highest Rate:  ",$J(HBHCHI,7,2),?57,"Average Rate:  ",$J((HBHCTOT/HBHCCNT),8,2),!,HBHCZ
"RTN","HBHCRP28",23,0)
 D ENDRPT^HBHCUTL1
"RTN","HBHCRP28",24,0)
EXIT ; Exit module
"RTN","HBHCRP28",25,0)
 D EXIT^HBHCUTL5
"RTN","HBHCRP28",26,0)
 Q
"RTN","HBHCRP28",27,0)
PRINTPT ; Print Patient Loop
"RTN","HBHCRP28",28,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<5) W @IOF D HDRXPAGE^HBHCUTL
"RTN","HBHCRP28",29,0)
 W !,HBHCM,?33,$P(HBHCINFO,U,2),?40,$J($P(HBHCINFO,U),7,2),?50,$E(HBHCJ,4,5)_"-"_$E(HBHCJ,6,7)_"-"_$E(HBHCJ,2,3),?61,$E($P(^HBHC(633.2,$P(HBHCINFO,U,3),0),U),1,19)
"RTN","HBHCRP28",30,0)
 D TOT
"RTN","HBHCRP28",31,0)
 Q
"RTN","HBHCRP28",32,0)
PRINTMFH ; Print MFH Loop
"RTN","HBHCRP28",33,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<5) W @IOF D HDRXPAGE^HBHCUTL
"RTN","HBHCRP28",34,0)
 W !,HBHCL,?33,$E(HBHCM,1,19),?55,$P(HBHCINFO,U,2),?62,$J($P(HBHCINFO,U),7,2),?72,$E(HBHCJ,4,5)_"-"_$E(HBHCJ,6,7)_"-"_$E(HBHCJ,2,3)
"RTN","HBHCRP28",35,0)
 D TOT
"RTN","HBHCRP28",36,0)
 Q
"RTN","HBHCRP28",37,0)
TOT ; Update low value, high value, count, & total
"RTN","HBHCRP28",38,0)
 S:HBHCCNT=0 HBHCLOW=$P(HBHCINFO,U),HBHCHI=$P(HBHCINFO,U)
"RTN","HBHCRP28",39,0)
 S:$P(HBHCINFO,U)<HBHCLOW HBHCLOW=$P(HBHCINFO,U)
"RTN","HBHCRP28",40,0)
 S:$P(HBHCINFO,U)>HBHCHI HBHCHI=$P(HBHCINFO,U)
"RTN","HBHCRP28",41,0)
 S HBHCCNT=HBHCCNT+1
"RTN","HBHCRP28",42,0)
 S HBHCTOT=HBHCTOT+$P(HBHCINFO,U)
"RTN","HBHCRP28",43,0)
 Q
"RTN","HBHCRP29")
0^13^B14290829^n/a
"RTN","HBHCRP29",1,0)
HBHCRP29 ; LR VAMC(IRMS)/MJT-HBHC Medical Foster Home (MFH) license expiration e-mail reminder or report; e-mail due in 3 months, report due in 6 months, based on month only ; Jan 2008
"RTN","HBHCRP29",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**24**;NOV 01, 1993;Build 201
"RTN","HBHCRP29",3,0)
 ; Calls:  DATE3L^HBHCUTL3, DATE6L^HBHCUTL3, TODAY^HBHCUTL, & ENDRPT^HBHCUTL1; e-mail entry point: DQ ;
"RTN","HBHCRP29",4,0)
 ; Set MFH Report flag
"RTN","HBHCRP29",5,0)
 S HBHCMFHR=1
"RTN","HBHCRP29",6,0)
 S %ZIS="Q" K IOP,ZTIO,ZTSAVE D ^%ZIS G:POP EXIT
"RTN","HBHCRP29",7,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCRP29",ZTDESC="HBPC MFH License Expiration Report",ZTSAVE("HBHC*")="" D ^%ZTLOAD G EXIT
"RTN","HBHCRP29",8,0)
DQ ; De-queue
"RTN","HBHCRP29",9,0)
 I $D(HBHCMFHR) U IO
"RTN","HBHCRP29",10,0)
 D TODAY^HBHCUTL
"RTN","HBHCRP29",11,0)
 S HBHCCC=0,HBHCCNT=1,HBHCTYPE="License",$P(HBHCSP15," ",16)="",$P(HBHCSP39," ",40)="",HBHCTXT="No MFH License currently due."
"RTN","HBHCRP29",12,0)
 I $D(HBHCMFHR) S HBHCPAGE=0,HBHCHEAD="Medical Foster Home (MFH) License Due",HBHCCOLM=(80-(30+$L(HBHCHEAD))\2) S:HBHCCOLM'>0 HBHCCOLM=1 S HBHCHDR="W ""Medical Foster Home Name"",?40,""License Expiration Date"""
"RTN","HBHCRP29",13,0)
LOOP ; Loop thru HBHC Medical Foster Home file: ^HBHC(633.2; License = Y & Expiration Date in 3 months for e-mail, 6 months for report; based on month only
"RTN","HBHCRP29",14,0)
 ; DATE3L^HBHCUTL3 & DATE6L^HBHCUTL3 calls return HBHCDATE
"RTN","HBHCRP29",15,0)
 S HBHCI=0 F  S HBHCI=$O(^HBHC(633.2,HBHCI)) Q:HBHCI'>0  S HBHCNOD0=^HBHC(633.2,HBHCI,0) I $P(HBHCNOD0,U,6)="" I $P(HBHCNOD0,U,12)="Y" D:'$D(HBHCMFHR) DATE3L^HBHCUTL3 D:$D(HBHCMFHR) DATE6L^HBHCUTL3 D SET
"RTN","HBHCRP29",16,0)
 I $D(HBHCMFHR) D:IO'=IO(0)!($D(IO("S"))) HDRPAGE^HBHCUTL I '$D(IO("S")),(IO=IO(0)) S HBHCCC=HBHCCC+1 D HDRPAGE^HBHCUTL
"RTN","HBHCRP29",17,0)
 I $D(^TMP("HBHC",$J)) D PRTLOOP
"RTN","HBHCRP29",18,0)
 I '$D(^TMP("HBHC",$J)) I $D(HBHCMFHR) W !!,HBHCTXT
"RTN","HBHCRP29",19,0)
 D:$D(HBHCMFHR) ENDRPT^HBHCUTL1
"RTN","HBHCRP29",20,0)
EXIT ; Exit module
"RTN","HBHCRP29",21,0)
 D ^%ZISC
"RTN","HBHCRP29",22,0)
 K DIR,HBHCCC,HBHCCNT,HBHCCOLM,HBHCDAT,HBHCDATE,HBHCHDR,HBHCHEAD,HBHCI,HBHCMFHN,HBHCMFHR,HBHCMO,HBHCMRDT,HBHCNOD0,HBHCPAGE,HBHCSP15,HBHCSP39,HBHCTDY,HBHCTXT,HBHCTYPE,HBHCZ,X,XMDUZ,XMSUB,XMY,XMTEXT,XMZ,Y
"RTN","HBHCRP29",23,0)
 K ^TMP("HBHC",$J),^TMP("HBHCMFH",$J)
"RTN","HBHCRP29",24,0)
 Q
"RTN","HBHCRP29",25,0)
SET ; Set ^TMP node for valid record
"RTN","HBHCRP29",26,0)
 Q:$P(HBHCNOD0,U,13)'<HBHCDATE
"RTN","HBHCRP29",27,0)
 S HBHCDAT=$P(HBHCNOD0,U,13),HBHCMRDT=$E(HBHCDAT,4,5)_"-"_$E(HBHCDAT,6,7)_"-"_$S($E(HBHCDAT)=3:20,1:19)_$E(HBHCDAT,2,3)
"RTN","HBHCRP29",28,0)
 S ^TMP("HBHC",$J,$P(HBHCNOD0,U),HBHCI)=HBHCMRDT
"RTN","HBHCRP29",29,0)
 Q
"RTN","HBHCRP29",30,0)
PRTLOOP ; Print loop
"RTN","HBHCRP29",31,0)
 I '$D(HBHCMFHR) D LHDR
"RTN","HBHCRP29",32,0)
 S HBHCMFHN="" F  S HBHCMFHN=$O(^TMP("HBHC",$J,HBHCMFHN)) Q:HBHCMFHN=""  S HBHCI=0 F  S HBHCI=$O(^TMP("HBHC",$J,HBHCMFHN,HBHCI)) Q:HBHCI=""  D:'$D(HBHCMFHR) MAIL D:$D(HBHCMFHR) PRINT
"RTN","HBHCRP29",33,0)
 I '$D(HBHCMFHR) D SEND K ^TMP("HBHCMFH",$J)
"RTN","HBHCRP29",34,0)
 Q
"RTN","HBHCRP29",35,0)
LHDR ; Write License header
"RTN","HBHCRP29",36,0)
 S ^TMP("HBHCMFH",$J,HBHCCNT)="Medical Foster Home Name"_HBHCSP15_"License Expiration Date" D COUNT
"RTN","HBHCRP29",37,0)
 D BLANK
"RTN","HBHCRP29",38,0)
 Q
"RTN","HBHCRP29",39,0)
BLANK ; Set blank line
"RTN","HBHCRP29",40,0)
 S ^TMP("HBHCMFH",$J,HBHCCNT)="" D COUNT
"RTN","HBHCRP29",41,0)
 Q
"RTN","HBHCRP29",42,0)
MAIL ; Write mail message
"RTN","HBHCRP29",43,0)
 S ^TMP("HBHCMFH",$J,HBHCCNT)="   "_HBHCMFHN_$E(HBHCSP39,($L(HBHCMFHN)+1),39)_$P(^TMP("HBHC",$J,HBHCMFHN,HBHCI),U) D COUNT
"RTN","HBHCRP29",44,0)
 Q
"RTN","HBHCRP29",45,0)
COUNT ; Update count variable
"RTN","HBHCRP29",46,0)
 S HBHCCNT=HBHCCNT+1
"RTN","HBHCRP29",47,0)
 Q
"RTN","HBHCRP29",48,0)
SEND ; Send Mail
"RTN","HBHCRP29",49,0)
 I '$D(^TMP("HBHCMFH",$J)) D BLANK S ^TMP("HBHCMFH",$J,HBHCCNT)=HBHCTXT
"RTN","HBHCRP29",50,0)
 S XMDUZ="HBHC MFH "_HBHCTYPE_" Reminder Mail Group",XMSUB=HBHCTDY_" MFH "_HBHCTYPE_" Due Reminder",XMY("G.HBHC MEDICAL FOSTER HOME")="",XMTEXT="^TMP(""HBHCMFH"",$J," D ^XMD
"RTN","HBHCRP29",51,0)
 Q
"RTN","HBHCRP29",52,0)
PRINT ; Print report
"RTN","HBHCRP29",53,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<5) W @IOF D HDRPAGE^HBHCUTL
"RTN","HBHCRP29",54,0)
 W !,HBHCMFHN,?40,$P(^TMP("HBHC",$J,HBHCMFHN,HBHCI),U)
"RTN","HBHCRP30")
0^28^B10289231^n/a
"RTN","HBHCRP30",1,0)
HBHCRP30 ; LR VAMC(IRMS)/MJT-HBHC report on Medical Foster Home file 633.2 data, sorted by name, includes: MFH Name, Opened Date, Primary Caregiver Name, Date of Birth, & Age, includes # OF MFHs & Average Age @ end of rpt ; Feb 2008
"RTN","HBHCRP30",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**24**;NOV 01, 1993;Build 201
"RTN","HBHCRP30",3,0)
 S %ZIS="Q",HBHCCC=0 K IOP,ZTIO,ZTSAVE D ^%ZIS G:POP EXIT
"RTN","HBHCRP30",4,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCRP30",ZTDESC="HBPC Medical Foster Home Caregiver Age Report",ZTSAVE("HBHC*")="" D ^%ZTLOAD G EXIT
"RTN","HBHCRP30",5,0)
DQ ; De-queue
"RTN","HBHCRP30",6,0)
 U IO
"RTN","HBHCRP30",7,0)
 S HBHCPAGE=0,$P(HBHCY,"-",133)="",$P(HBHCZ,"=",133)="",HBHCHEAD="Medical Foster Home (MFH) Caregiver Age"
"RTN","HBHCRP30",8,0)
 S HBHCHDR="W !!,""Medical Foster Home (MFH) Name"",?40,""Opened Date"",?58,""Primary Caregiver Name"",?103,""Date of Birth"",?121,""Age"""
"RTN","HBHCRP30",9,0)
 S HBHCCOLM=(132-(30+$L(HBHCHEAD))\2) S:HBHCCOLM'>0 HBHCCOLM=1
"RTN","HBHCRP30",10,0)
 D TODAY^HBHCUTL D:IO'=IO(0)!($D(IO("S"))) HDR132NR^HBHCUTL
"RTN","HBHCRP30",11,0)
 I '$D(IO("S")),(IO=IO(0)) S HBHCCC=HBHCCC+1 D HDR132NR^HBHCUTL
"RTN","HBHCRP30",12,0)
LOOP ; Loop thru ^HBHC(633.2,"B") MFH Name cross-ref to build report
"RTN","HBHCRP30",13,0)
 S HBHCDFN=0 F  S HBHCDFN=$O(^HBHC(633.2,HBHCDFN)) Q:HBHCDFN'>0  D PROCESS
"RTN","HBHCRP30",14,0)
 I $D(^TMP("HBHC",$J)) D PRTLOOP,PRTTOT
"RTN","HBHCRP30",15,0)
 D END132^HBHCUTL1
"RTN","HBHCRP30",16,0)
EXIT ; Exit module
"RTN","HBHCRP30",17,0)
 D ^%ZISC
"RTN","HBHCRP30",18,0)
 K HBHCAGE,HBHCCC,HBHCCDOB,HBHCCOLM,HBHCDFN,HBHCHDR,HBHCHEAD,HBHCNAME,HBHCNOD0,HBHCPAGE,HBHCTDY,HBHCTMP,HBHCTOT,HBHCTOT1,HBHCY,HBHCZ,X,Y,^TMP("HBHC",$J)
"RTN","HBHCRP30",19,0)
 Q
"RTN","HBHCRP30",20,0)
PROCESS ; Process record & build ^TMP("HBHC",$J) global
"RTN","HBHCRP30",21,0)
 S HBHCNOD0=^HBHC(633.2,HBHCDFN,0)
"RTN","HBHCRP30",22,0)
 ; Quit if MFH Closed
"RTN","HBHCRP30",23,0)
 Q:$P(HBHCNOD0,U,6)]""
"RTN","HBHCRP30",24,0)
 S HBHCCDOB=$P(HBHCNOD0,U,16)
"RTN","HBHCRP30",25,0)
 ; Quit if Caregiver Date of Birth = null
"RTN","HBHCRP30",26,0)
 Q:HBHCCDOB=""
"RTN","HBHCRP30",27,0)
 S HBHCAGE=$E(DT,1,3)-$E(HBHCCDOB,1,3)
"RTN","HBHCRP30",28,0)
 S:($E(DT,4,7)<$E(HBHCCDOB,4,7)) HBHCAGE=HBHCAGE-1
"RTN","HBHCRP30",29,0)
 S ^TMP("HBHC",$J,$P(HBHCNOD0,U),HBHCDFN)=$E($P(HBHCNOD0,U,2),4,5)_"-"_$E($P(HBHCNOD0,U,2),6,7)_"-"_$E($P(HBHCNOD0,U,2),2,3)_U_$P(HBHCNOD0,U,3)_U_$E($P(HBHCNOD0,U,16),4,5)_"-"_$E($P(HBHCNOD0,U,16),6,7)_"-"_$E($P(HBHCNOD0,U,16),2,3)_U_HBHCAGE
"RTN","HBHCRP30",30,0)
 Q
"RTN","HBHCRP30",31,0)
PRTLOOP ; Print loop
"RTN","HBHCRP30",32,0)
 S (HBHCTOT,HBHCTOT1)=0
"RTN","HBHCRP30",33,0)
 S HBHCNAME="" F  S HBHCNAME=$O(^TMP("HBHC",$J,HBHCNAME)) Q:HBHCNAME=""  S HBHCDFN="" F  S HBHCDFN=$O(^TMP("HBHC",$J,HBHCNAME,HBHCDFN)) Q:HBHCDFN=""  D PRINT
"RTN","HBHCRP30",34,0)
 Q
"RTN","HBHCRP30",35,0)
PRINT ; Print report
"RTN","HBHCRP30",36,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<5) W @IOF D HDR132NR^HBHCUTL
"RTN","HBHCRP30",37,0)
 S HBHCTMP=^TMP("HBHC",$J,HBHCNAME,HBHCDFN),HBHCTOT=HBHCTOT+1,HBHCTOT1=HBHCTOT1+($P(HBHCTMP,U,4))
"RTN","HBHCRP30",38,0)
 W !,HBHCNAME,?40,$P(HBHCTMP,U),?58,$P(HBHCTMP,U,2),?103,$P(HBHCTMP,U,3),?121,$P(HBHCTMP,U,4),!,HBHCY
"RTN","HBHCRP30",39,0)
 Q
"RTN","HBHCRP30",40,0)
PRTTOT ; Print report totals
"RTN","HBHCRP30",41,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<1) W @IOF D HDR132NR^HBHCUTL
"RTN","HBHCRP30",42,0)
 W !!,HBHCZ,!,"Medical Foster Home (MFH) Total: ",?34,$J(HBHCTOT,5),!,"Average Caregiver Age: ",?34,$J(HBHCTOT1/HBHCTOT,5),!,HBHCZ
"RTN","HBHCRP30",43,0)
 Q
"RTN","HBHCRP31")
0^31^B4671214^n/a
"RTN","HBHCRP31",1,0)
HBHCRP31 ; LR VAMC(IRMS)/MJT-HBHC report on file 634.7 Form 7 Error(s)), sorted by Medical Foster Home (MFH) Name, & includes MFH file IEN, MFH Name, & Opened Date ; Mar 2008
"RTN","HBHCRP31",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**24**;NOV 01, 1993;Build 201
"RTN","HBHCRP31",3,0)
 I $P(^HBHC(631.9,1,0),U,8)]"" W $C(7),!,"File Update in progress.  Please try again later." H 3 Q
"RTN","HBHCRP31",4,0)
 S %ZIS="Q",HBHCCC=0 K IOP,ZTIO,ZTSAVE D ^%ZIS Q:POP
"RTN","HBHCRP31",5,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCRP31",ZTSAVE("HBHC*")="",ZTDESC="HBPC MFH Form Errors Report" D ^%ZTLOAD G EXIT
"RTN","HBHCRP31",6,0)
DQ ; De-queue
"RTN","HBHCRP31",7,0)
 U IO
"RTN","HBHCRP31",8,0)
 ; Max length for HBHCHEAD = 50
"RTN","HBHCRP31",9,0)
 S $P(HBHCY,"-",81)="",HBHCPAGE=0,HBHCHEAD="Medical Foster Home (MFH) Form Errors"
"RTN","HBHCRP31",10,0)
 S HBHCHDR="W !,""MFH File IEN"",?17,""Medical Foster Home Name"",?59,""Opened Date"""
"RTN","HBHCRP31",11,0)
 S HBHCCOLM=(80-(30+$L(HBHCHEAD))\2) S:HBHCCOLM'>0 HBHCCOLM=1 D TODAY^HBHCUTL
"RTN","HBHCRP31",12,0)
 D:IO'=IO(0)!($D(IO("S"))) HDRPAGE^HBHCUTL
"RTN","HBHCRP31",13,0)
 I '$D(IO("S")),(IO=IO(0)) S HBHCCC=HBHCCC+1 D HDRPAGE^HBHCUTL
"RTN","HBHCRP31",14,0)
LOOP ; Loop thru file 634.7 "B" cross-ref
"RTN","HBHCRP31",15,0)
 S HBHCMFHP="" F  S HBHCMFHP=$O(^HBHC(634.7,"B",HBHCMFHP)) Q:HBHCMFHP=""  S HBHCIEN="" F  S HBHCIEN=$O(^HBHC(634.7,"B",HBHCMFHP,HBHCIEN)) Q:HBHCIEN=""  D PRINT
"RTN","HBHCRP31",16,0)
 D ENDRPT^HBHCUTL1
"RTN","HBHCRP31",17,0)
EXIT ; Exit module
"RTN","HBHCRP31",18,0)
 D ^%ZISC
"RTN","HBHCRP31",19,0)
 K HBHC,HBHCCC,HBHCCOLM,HBHCHDR,HBHCHEAD,HBHCIEN,HBHCMFHP,HBHCNOD0,HBHCPAGE,HBHCTDY,HBHCY,HBHCZ,X,Y
"RTN","HBHCRP31",20,0)
 Q
"RTN","HBHCRP31",21,0)
PRINT ; Print record
"RTN","HBHCRP31",22,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<10) W:HBHCPAGE>0 @IOF D HDRPAGE^HBHCUTL
"RTN","HBHCRP31",23,0)
 S HBHCNOD0=$G(^HBHC(633.2,HBHCMFHP,0)),HBHC="`"_HBHCMFHP
"RTN","HBHCRP31",24,0)
 W !,$J(HBHC,6),?17,$P(HBHCNOD0,U)
"RTN","HBHCRP31",25,0)
 W:$P(HBHCNOD0,U,2)]"" ?59,$E($P(HBHCNOD0,U,2),4,5)_"-"_$E($P(HBHCNOD0,U,2),6,7)_"-"_$E($P(HBHCNOD0,U,2),2,3)
"RTN","HBHCRP31",26,0)
 W !,HBHCY
"RTN","HBHCRP31",27,0)
 Q
"RTN","HBHCRP7")
0^34^B20915954^B20754282
"RTN","HBHCRP7",1,0)
HBHCRP7 ; LR VAMC(IRMS)/MJT-HBHC file 631 rpt, user selects: adm or D/C by date range, & sort alphabetic by pt or date of adm or D/C; includes adm/D/C date, pt name, last four, & primary DX @ adm/D/C (code & text); ; 12/21/05 3:43pm
"RTN","HBHCRP7",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**5,6,21,22,24**;NOV 01, 1993;Build 201
"RTN","HBHCRP7",3,0)
 S DIR(0)="SB^A:Admissions;D:Discharges;",DIR("A")="Select Admissions or Discharges",DIR("?")="Enter 'A' to include Admissions on the report, 'D' to choose Discharges." D ^DIR
"RTN","HBHCRP7",4,0)
 G:$D(DIRUT) EXIT
"RTN","HBHCRP7",5,0)
 S HBHCTYPS=Y(0),HBHCTYP=$E(Y(0),1,9),HBHCXREF=$S(Y="A":"AD",1:"AC"),HBHCDXPC=$S(Y="A":19,1:47),HBHCCC=0
"RTN","HBHCRP7",6,0)
 ; Prompt user for sort preference: alphabetical by patient or date of admission or D/C
"RTN","HBHCRP7",7,0)
 K DIR S DIR(0)="SB^A:Alphabetical;D:Date of Admission or D/C",DIR("A")="Sort Alphabetically by Patient or by Date",DIR("?")="Sort report alphabetically by patient (A), or by date of admission or D/C (D)." D ^DIR
"RTN","HBHCRP7",8,0)
 G:$D(DIRUT) EXIT
"RTN","HBHCRP7",9,0)
 ; HBHCFLG exists if alphabetic sort selected
"RTN","HBHCRP7",10,0)
 S:Y="A" HBHCFLG=1
"RTN","HBHCRP7",11,0)
 D START^HBHCUTL
"RTN","HBHCRP7",12,0)
 G:(HBHCBEG1=-1)!(HBHCEND1=-1) EXIT
"RTN","HBHCRP7",13,0)
 S %ZIS="Q" K IOP,ZTIO,ZTSAVE D ^%ZIS G:POP EXIT
"RTN","HBHCRP7",14,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCRP7",ZTDESC="HBPC "_HBHCTYP_"Alphabetic Date Range Report",ZTSAVE("HBHC*")="" D ^%ZTLOAD G EXIT
"RTN","HBHCRP7",15,0)
DQ ; De-queue
"RTN","HBHCRP7",16,0)
 U IO
"RTN","HBHCRP7",17,0)
 K ^TMP("HBHC",$J)
"RTN","HBHCRP7",18,0)
 S $P(HBHCY,"-",133)="",$P(HBHCZ,"=",133)=""
"RTN","HBHCRP7",19,0)
 S:'$D(HBHCFLG) HBHCHEAD=HBHCTYPS_" by Date Range, Date Range Sort"
"RTN","HBHCRP7",20,0)
 S:$D(HBHCFLG) HBHCHEAD=HBHCTYPS_" by Date Range, Alphabetic Sort"
"RTN","HBHCRP7",21,0)
 S:'$D(HBHCFLG) HBHCHDR="W HBHCTYP_"" Date"",?19,""Patient Name"",?60,""Last Four"",?82,""ICD9 Code"",?100,""Diagnosis Text"""
"RTN","HBHCRP7",22,0)
 S:$D(HBHCFLG) HBHCHDR="W ""Patient Name"",?38,HBHCTYP_"" Date"",?60,""Last Four"",?82,""ICD9 Code"",?100,""Diagnosis Text"""
"RTN","HBHCRP7",23,0)
 S HBHCCOLM=(132-(30+$L(HBHCHEAD))\2) S:HBHCCOLM'>0 HBHCCOLM=1
"RTN","HBHCRP7",24,0)
 D TODAY^HBHCUTL
"RTN","HBHCRP7",25,0)
LOOP ; Loop thru ^HBHC(631) "AD" (admission date) or "AC" (discharge date) cross-ref to build report
"RTN","HBHCRP7",26,0)
 S X1=HBHCBEG1,X2=-1 D C^%DTC S HBHCDATE=X
"RTN","HBHCRP7",27,0)
 F  S HBHCDATE=$O(^HBHC(631,HBHCXREF,HBHCDATE)) Q:(HBHCDATE="")!(HBHCDATE>HBHCEND1)  S HBHCDFN="" F  S HBHCDFN=$O(^HBHC(631,HBHCXREF,HBHCDATE,HBHCDFN)) Q:HBHCDFN=""  S HBHCNOD0=^HBHC(631,HBHCDFN,0) D:$P(HBHCNOD0,U,15)=1 PROCESS
"RTN","HBHCRP7",28,0)
 D:IO'=IO(0)!($D(IO("S"))) HDR132^HBHCUTL
"RTN","HBHCRP7",29,0)
 I '$D(IO("S")),(IO=IO(0)) S HBHCCC=HBHCCC+1 D HDR132^HBHCUTL
"RTN","HBHCRP7",30,0)
 W:'$D(^TMP("HBHC",$J)) !!,"No "_HBHCTYPS_" found for Date Range selected."
"RTN","HBHCRP7",31,0)
 I $D(^TMP("HBHC",$J)) D PRTLOOP W !!,HBHCZ,!,"Total "_HBHCTYPS_": ",HBHCTOT,!,HBHCZ
"RTN","HBHCRP7",32,0)
 D END132^HBHCUTL1
"RTN","HBHCRP7",33,0)
EXIT ; Exit module
"RTN","HBHCRP7",34,0)
 D ^%ZISC
"RTN","HBHCRP7",35,0)
 K DIR,DIRUT,HBHCBEG1,HBHCBEG2,HBHCCOLM,HBHCCC,HBHCDATE,HBHCDFN,HBHCDPT0,HBHCDT,HBHCDXPC,HBHCEND1,HBHCEND2,HBHCFLG,HBHCHDR,HBHCHEAD,HBHCICD0,HBHCICDP,HBHCNAME,HBHCNOD0,HBHCPAGE,HBHCTDY,HBHCTMP,HBHCTOT,HBHCTYP,HBHCTYPS,HBHCXREF
"RTN","HBHCRP7",36,0)
 K HBHCY,HBHCZ,X,X1,X2,Y,^TMP("HBHC",$J)
"RTN","HBHCRP7",37,0)
 Q
"RTN","HBHCRP7",38,0)
PROCESS ; Process record & create ^TMP("HBHC",$J global
"RTN","HBHCRP7",39,0)
 S HBHCDPT0=^DPT($P(HBHCNOD0,U),0),HBHCICDP=$P(HBHCNOD0,U,HBHCDXPC),HBHCICD0=$S(HBHCICDP]"":$$ICDDX^ICDCODE(HBHCICDP),1:"")
"RTN","HBHCRP7",40,0)
 S:'$D(HBHCFLG) ^TMP("HBHC",$J,HBHCDATE,$P(HBHCDPT0,U))=$E($P(HBHCDPT0,U,9),6,9)_U_$P(HBHCICD0,U,2)_U_$P(HBHCICD0,U,4)
"RTN","HBHCRP7",41,0)
 S:$D(HBHCFLG) ^TMP("HBHC",$J,$P(HBHCDPT0,U),HBHCDATE)=$E($P(HBHCDPT0,U,9),6,9)_U_$P(HBHCICD0,U,2)_U_$P(HBHCICD0,U,4)
"RTN","HBHCRP7",42,0)
 Q
"RTN","HBHCRP7",43,0)
PRTLOOP ; Print loop
"RTN","HBHCRP7",44,0)
 S HBHCTOT=0
"RTN","HBHCRP7",45,0)
 I '$D(HBHCFLG) S HBHCDT="" F  S HBHCDT=$O(^TMP("HBHC",$J,HBHCDT)) Q:HBHCDT=""  S HBHCNAME="" F  S HBHCNAME=$O(^TMP("HBHC",$J,HBHCDT,HBHCNAME)) Q:HBHCNAME=""  D PRT
"RTN","HBHCRP7",46,0)
 I $D(HBHCFLG) S HBHCNAME="" F  S HBHCNAME=$O(^TMP("HBHC",$J,HBHCNAME)) Q:HBHCNAME=""  S HBHCDT="" F  S HBHCDT=$O(^TMP("HBHC",$J,HBHCNAME,HBHCDT)) Q:HBHCDT=""  D PRT
"RTN","HBHCRP7",47,0)
 Q
"RTN","HBHCRP7",48,0)
PRT ; Print report
"RTN","HBHCRP7",49,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<5) W @IOF D HDR132^HBHCUTL
"RTN","HBHCRP7",50,0)
 S HBHCTOT=HBHCTOT+1
"RTN","HBHCRP7",51,0)
 S:'$D(HBHCFLG) HBHCTMP=^TMP("HBHC",$J,HBHCDT,HBHCNAME)
"RTN","HBHCRP7",52,0)
 S:$D(HBHCFLG) HBHCTMP=^TMP("HBHC",$J,HBHCNAME,HBHCDT)
"RTN","HBHCRP7",53,0)
 W:'$D(HBHCFLG) !,$E(HBHCDT,4,5)_"-"_$E(HBHCDT,6,7)_"-"_$E(HBHCDT,2,3),?19,HBHCNAME,?60,$P(HBHCTMP,U),?82,$P(HBHCTMP,U,2),?100,$P(HBHCTMP,U,3),!,HBHCY
"RTN","HBHCRP7",54,0)
 W:$D(HBHCFLG) !,HBHCNAME,?38,$E(HBHCDT,4,5)_"-"_$E(HBHCDT,6,7)_"-"_$E(HBHCDT,2,3),?60,$P(HBHCTMP,U),?82,$P(HBHCTMP,U,2),?100,$P(HBHCTMP,U,3),!,HBHCY
"RTN","HBHCRP7",55,0)
 Q
"RTN","HBHCTXT")
0^11^B3361863^n/a
"RTN","HBHCTXT",1,0)
HBHCTXT ; LR VAMC(IRMS)/MJT-HBHC MFH Rate Paid delimited text file; user selects: pt or MFH; active only, indiv, or all pts or MFHs; current rate paid only or entire rate paid history, entry: TXT called by ^HBHCUTL5; calls ^HBHCUTL5;Dec 2007
"RTN","HBHCTXT",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**24**;NOV 01, 1993;Build 201
"RTN","HBHCTXT",3,0)
 ; note: HBHCCNT only defined to allow PT & MFH entry point calls in ^HBHCUTL5
"RTN","HBHCTXT",4,0)
 S (HBHCTXT,HBHCCNT)="",HBHCDLMT=U
"RTN","HBHCTXT",5,0)
 ; Prompt for patient or Medical Foster Home (MFH) report
"RTN","HBHCTXT",6,0)
 D EN^HBHCUTL5
"RTN","HBHCTXT",7,0)
 S %ZIS="Q",HBHCCC=0 K IOP,ZTIO,ZTSAVE D ^%ZIS G:POP EXIT^HBHCUTL5
"RTN","HBHCTXT",8,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCTXT",ZTDESC="HBPC MFH Delimited File Output",ZTSAVE("HBHC*")="" D ^%ZTLOAD G EXIT^HBHCUTL5
"RTN","HBHCTXT",9,0)
DQ ; De-queue
"RTN","HBHCTXT",10,0)
 U IO
"RTN","HBHCTXT",11,0)
 ; Write column headers
"RTN","HBHCTXT",12,0)
 W "Patient Name"_HBHCDLMT_"Last Four"_HBHCDLMT_"Rate Paid"_HBHCDLMT_"Start Date" W:HBHCXREF="AK" HBHCDLMT_"Medical Foster Home (MFH) Name"
"RTN","HBHCTXT",13,0)
 D:HBHCXREF="AJ" PT^HBHCUTL5
"RTN","HBHCTXT",14,0)
 D:HBHCXREF="AK" MFH^HBHCUTL5
"RTN","HBHCTXT",15,0)
 I $D(^TMP("HBHC",$J)) D:HBHCXREF="AJ" PRTPT^HBHCUTL5 D:HBHCXREF="AK" PRTMFH^HBHCUTL5
"RTN","HBHCTXT",16,0)
 D EXIT^HBHCUTL5
"RTN","HBHCTXT",17,0)
 Q
"RTN","HBHCTXT",18,0)
TXT ; Output to delimited text file format
"RTN","HBHCTXT",19,0)
 W !,HBHCM_HBHCDLMT_$P(HBHCINFO,U,2)_HBHCDLMT_$P(HBHCINFO,U)_HBHCDLMT_$E(HBHCJ,4,5)_"-"_$E(HBHCJ,6,7)_"-"_$S($E(HBHCJ)=3:20,1:19)_$E(HBHCJ,2,3) W:HBHCXREF="AK" HBHCDLMT_HBHCL
"RTN","HBHCTXT",20,0)
 Q
"RTN","HBHCTXT2")
0^12^B11292144^n/a
"RTN","HBHCTXT2",1,0)
HBHCTXT2 ; LR VAMC(IRMS)/MJT-HBHC Medical Foster Home (MFH) delimited text file output, user selects Inspection or Training data, includes all data on file ; Dec 2007
"RTN","HBHCTXT2",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**24**;NOV 01, 1993;Build 201
"RTN","HBHCTXT2",3,0)
EN ; Prompt for whether Inspection or Training report 
"RTN","HBHCTXT2",4,0)
 K DIR S DIR(0)="SB^I:Inspection;T:Training",DIR("A")="Include Inspection or Training data",DIR("?")="Include Inspection (I) or Training (T) data on report." D ^DIR
"RTN","HBHCTXT2",5,0)
 G:$D(DIRUT) EXIT
"RTN","HBHCTXT2",6,0)
 S HBHCTYP=Y
"RTN","HBHCTXT2",7,0)
 S %ZIS="Q" K IOP,ZTIO,ZTSAVE D ^%ZIS G:POP EXIT
"RTN","HBHCTXT2",8,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCTXT2",ZTDESC="HBPC MFH Inspection/Training Delimited File Output",ZTSAVE("HBHC*")="" D ^%ZTLOAD G EXIT
"RTN","HBHCTXT2",9,0)
DQ ; De-queue
"RTN","HBHCTXT2",10,0)
 U IO
"RTN","HBHCTXT2",11,0)
 S HBHCDLMT=U
"RTN","HBHCTXT2",12,0)
 W "Medical Foster Home Name"_HBHCDLMT_"MFH Closure Date"_HBHCDLMT
"RTN","HBHCTXT2",13,0)
 I HBHCTYP="I" W "Inspection Discipline"_HBHCDLMT_"Inspection Date"_HBHCDLMT_"Inspector Name"
"RTN","HBHCTXT2",14,0)
 I HBHCTYP="T" W "Training Category"_HBHCDLMT_"Training Date"_HBHCDLMT_"Other Training Topic"
"RTN","HBHCTXT2",15,0)
LOOP ; Loop thru ^HBHC(633.2 Inspection multiples; 1 = Nurse, 2 = Social Work, 3 = Dietitian, 4 = Fire/Safety
"RTN","HBHCTXT2",16,0)
 I HBHCTYP="I" S HBHCI=0 F  S HBHCI=$O(^HBHC(633.2,HBHCI)) Q:HBHCI'>0  F HBHCJ=1:1:4 S HBHCK=0 F  S HBHCK=$O(^HBHC(633.2,HBHCI,HBHCJ,HBHCK)) Q:HBHCK'>0  D SET
"RTN","HBHCTXT2",17,0)
LOOP2 ; Loop thru ^HBHC(633.2 Training multiples; 5 = Home Operation, 6 = Fire/Safety, 7 = Medication Management, 8 = Personal Care, 9 = Infection Control, 10 = End of Life, 11 = Other 
"RTN","HBHCTXT2",18,0)
 I HBHCTYP="T" S HBHCI=0 F  S HBHCI=$O(^HBHC(633.2,HBHCI)) Q:HBHCI'>0  F HBHCJ=5:1:11 S HBHCK=0 F  S HBHCK=$O(^HBHC(633.2,HBHCI,HBHCJ,HBHCK)) Q:HBHCK'>0  D SET
"RTN","HBHCTXT2",19,0)
EXIT ; Exit module
"RTN","HBHCTXT2",20,0)
 D ^%ZISC
"RTN","HBHCTXT2",21,0)
 K DIR,HBHCCLOS,HBHCDAT,HBHCDLMT,HBHCI,HBHCJ,HBHCK,HBHCNODE,HBHCPRV,HBHCTYP,X,Y
"RTN","HBHCTXT2",22,0)
 Q
"RTN","HBHCTXT2",23,0)
SET ; Set ^TMP node for valid record
"RTN","HBHCTXT2",24,0)
 ; quit if no Inspection or Training data 
"RTN","HBHCTXT2",25,0)
 Q:'$D(^HBHC(633.2,HBHCI,HBHCJ))
"RTN","HBHCTXT2",26,0)
 ; notate if MFH closed
"RTN","HBHCTXT2",27,0)
 S (HBHCDAT,HBHCCLOS)="" S:$P(^HBHC(633.2,HBHCI,0),U,6)]"" HBHCDAT=$P(^HBHC(633.2,HBHCI,0),U,6),HBHCCLOS=$E(HBHCDAT,4,5)_"-"_$E(HBHCDAT,6,7)_"-"_$S($E(HBHCDAT)=3:20,1:19)_$E(HBHCDAT,2,3)
"RTN","HBHCTXT2",28,0)
 S HBHCNODE=^HBHC(633.2,HBHCI,HBHCJ,HBHCK,0)
"RTN","HBHCTXT2",29,0)
 W !,$P(^HBHC(633.2,HBHCI,0),U)_HBHCDLMT_HBHCCLOS_HBHCDLMT
"RTN","HBHCTXT2",30,0)
 I HBHCTYP="I" W $S(HBHCJ=1:"Nurse",HBHCJ=2:"Social Work",HBHCJ=3:"Dietitian",1:"Fire/Safety")
"RTN","HBHCTXT2",31,0)
 I HBHCTYP="T" W $S(HBHCJ=5:"Home Operation",HBHCJ=6:"Fire/Safety",HBHCJ=7:"Medication Management",HBHCJ=8:"Personal Care",HBHCJ=9:"Infection Control",HBHCJ=10:"End of Life",1:"Other")
"RTN","HBHCTXT2",32,0)
 W HBHCDLMT_$E($P(HBHCNODE,U),4,5)_"-"_$E($P(HBHCNODE,U),6,7)_"-"_$S($E($P(HBHCNODE,U))=3:20,1:19)_$E($P(HBHCNODE,U),2,3)
"RTN","HBHCTXT2",33,0)
 I HBHCTYP="I" D NAME W HBHCDLMT_$S(HBHCPRV]"":HBHCPRV,1:"")
"RTN","HBHCTXT2",34,0)
 I HBHCTYP="T" W:$P(HBHCNODE,U,2)]"" HBHCDLMT_$P(HBHCNODE,U,2)
"RTN","HBHCTXT2",35,0)
 Q
"RTN","HBHCTXT2",36,0)
NAME ; Obtain Provider Name from VA(200 file
"RTN","HBHCTXT2",37,0)
 N Y
"RTN","HBHCTXT2",38,0)
 K DA,DIC,DR,^UTILITY("DIQ1",$J)
"RTN","HBHCTXT2",39,0)
 S DIC=200,DR=.01,DA=$P(HBHCNODE,U,2) D EN^DIQ1
"RTN","HBHCTXT2",40,0)
 S HBHCPRV=^UTILITY("DIQ1",$J,200,DA,DR)
"RTN","HBHCTXT2",41,0)
 K DA,DIC,DR,^UTILITY("DIQ1",$J)
"RTN","HBHCTXT2",42,0)
 Q
"RTN","HBHCUPD")
0^20^B13872578^B13101640
"RTN","HBHCUPD",1,0)
HBHCUPD ; LR VAMC(IRMS)/MJT-HBHC update missing data in ^HBHC(631) using ^HBHC(634.1) & ^HBHC(634.3) as input for which records/fields to update, HBHC(634.2 errors must be corrected using PCE software, 634.2 data killed @ end of processing;9804
"RTN","HBHCUPD",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**2,6,8,10,24**;NOV 01, 1993;Build 201
"RTN","HBHCUPD",3,0)
 ; HBHC(634.7 MFH errors must be corrected using MFH option, 634.7 killed here so validity processing can occur again
"RTN","HBHCUPD",4,0)
 I $P($G(^HBHC(631.9,1,0)),U,9)]"" K ^HBHC(634.7) S ^HBHC(634.7,0)="HBHC MEDICAL FOSTER HOME ERROR(S)^634.7P"
"RTN","HBHCUPD",5,0)
 I ('$D(^HBHC(634.1,"B")))&($D(^HBHC(634.2,"B")))&('$D(^HBHC(634.3,"B")))&('$D(^HBHC(634.5,"B"))) D PCEMSG^HBHCUTL3 S HBHCFLAG=1 G PSEUDO
"RTN","HBHCUPD",6,0)
PROMPT ; Prompt user for patient name
"RTN","HBHCUPD",7,0)
 W ! K DIC S DIC="^DPT(",DIC(0)="AEMQ" D ^DIC
"RTN","HBHCUPD",8,0)
 G:Y=-1 PSEUDO
"RTN","HBHCUPD",9,0)
 S HBHCDPT=+Y
"RTN","HBHCUPD",10,0)
 I ('$D(^HBHC(634.1,"B",HBHCDPT)))&('$D(^HBHC(634.2,"B",HBHCDPT)))&('$D(^HBHC(634.3,"B",HBHCDPT)))&('$D(^HBHC(634.5,"B",HBHCDPT))) W $C(7),!!,"This patient has no records containing errors on file.",! H 3 G PROMPT
"RTN","HBHCUPD",11,0)
 F HBHCFILE=634.1,634.3 I $D(^HBHC(HBHCFILE,"B",HBHCDPT)) K DR S HBHCFORM=$S(HBHCFILE=634.1:3,1:5) S:HBHCFORM=5 HBHCCNT=1 S HBHCIEN="" F  S HBHCIEN=$O(^HBHC(HBHCFILE,"B",HBHCDPT,HBHCIEN)) Q:HBHCIEN=""  D PROCESS
"RTN","HBHCUPD",12,0)
 G PROMPT
"RTN","HBHCUPD",13,0)
PSEUDO ; Process pseudo SSN message
"RTN","HBHCUPD",14,0)
 I '$D(HBHCFLAG) D:$D(^HBHC(634.2,"B")) PCEMSG^HBHCUTL3
"RTN","HBHCUPD",15,0)
 I $D(^HBHC(634.5,"B")) D PSEUDO^HBHCUTL3 K ^HBHC(634.5) S ^HBHC(634.5,0)="HBHC PSEUDO SSN ERROR(S)^634.5P^"
"RTN","HBHCUPD",16,0)
EXIT ; Exit module
"RTN","HBHCUPD",17,0)
 ; HBHC(634.2 visit errors must be corrected using PCE software, 634.2 killed here so validity processing can occur again
"RTN","HBHCUPD",18,0)
 K ^HBHC(634.2) S ^HBHC(634.2,0)="HBHC VISIT ERROR(S)^634.2P^"
"RTN","HBHCUPD",19,0)
 K DA,DIC,DIE,DIK,DR,HBHC,HBHC12,HBHC359,HBHCAFLG,HBHCCNT,HBHCCOLM,HBHCDATE,HBHCDFLG,HBHCDFN,HBHCDIED,HBHCDPT,HBHCDR,HBHCDT,HBHCFILE,HBHCFLAG,HBHCFLG,HBHCFORM,HBHCI,HBHCIEN,HBHCJ,HBHCKEEP,HBHCL,HBHCM,HBHCMSG,HBHCNOD1,HBHCPC,HBHCQ
"RTN","HBHCUPD",20,0)
 K HBHCQ1,HBHCRFLG,HBHCSUB,HBHCTFLG,HBHCTXT,HBHCUPD,HBHCWRD1,HBHCWRD2,HBHCWRD3,HBHCY0,Y
"RTN","HBHCUPD",21,0)
 Q
"RTN","HBHCUPD",22,0)
PROCESS ; Process errors via DIE
"RTN","HBHCUPD",23,0)
 S DA=$P(^HBHC(HBHCFILE,HBHCIEN,0),U,2),HBHCTXT=$S(HBHCFORM=3:"Evaluation/Admission",1:"Discharge")
"RTN","HBHCUPD",24,0)
 L +^HBHC(631,DA):0 I '$T W $C(7),!!,"Another user is editing this "_HBHCTXT_" entry.",! H 3 Q
"RTN","HBHCUPD",25,0)
 S:HBHCFORM=3 (DR,HBHCDR)=^HBHC(HBHCFILE,HBHCIEN,1)
"RTN","HBHCUPD",26,0)
 I HBHCFORM=5 S HBHCSUB=0 F  S HBHCSUB=$O(^HBHC(HBHCFILE,HBHCIEN,HBHCSUB)) Q:HBHCSUB'>0  D SET
"RTN","HBHCUPD",27,0)
 K DIE S DIE="^HBHC(631,",DIE("NO^")="OUTOK"
"RTN","HBHCUPD",28,0)
 S HBHC=HBHCIEN,HBHCPC=$S(HBHCFORM=5:40,1:18),HBHCCOLM=$S(HBHCFORM=3:14,1:19)
"RTN","HBHCUPD",29,0)
 S HBHCDT=$P($G(^HBHC(631,DA,0)),U,HBHCPC) S:HBHCDT="" HBHCDT=$P($G(^HBHC(631,DA,0)),U,2) S HBHCDATE=$S(HBHCDT]"":$E(HBHCDT,4,5)_"-"_$E(HBHCDT,6,7)_"-"_$E(HBHCDT,2,3),1:"")
"RTN","HBHCUPD",30,0)
 W !!!?HBHCCOLM,"===  Editing "_$S(HBHCDATE]"":HBHCDATE_" "_HBHCTXT,1:HBHCTXT)_" data  ===",!
"RTN","HBHCUPD",31,0)
 D ^DIE K DR
"RTN","HBHCUPD",32,0)
 ; Admit/Reject Action branch
"RTN","HBHCUPD",33,0)
 S:HBHCDR["14;" DR="K HBHCQ;S X=$P(^HBHC(631,DA,0),U,15);D ACTION^HBHCUTL;15;16;I $D(HBHCQ) K HBHCQ S Y=0;17:36"
"RTN","HBHCUPD",34,0)
 ; Discharge Status branch
"RTN","HBHCUPD",35,0)
 S:HBHCDR["43;" DR="[HBHC UPDATE DISCHARGE]"
"RTN","HBHCUPD",36,0)
 I $D(DR) I '$D(Y) I (DR["D ACTION")!(DR["[HBHC UPDATE") S HBHCDFN=DA,HBHCUPD=1 D ^DIE K HBHCUPD
"RTN","HBHCUPD",37,0)
 L -^HBHC(631,DA) I '$D(HBHCKEEP) I '$D(Y) K DIK S DIK="^HBHC(HBHCFILE,",DA=HBHC D ^DIK K HBHCKEEP
"RTN","HBHCUPD",38,0)
 Q
"RTN","HBHCUPD",39,0)
SET ; Set DR string(s) for Discharge data
"RTN","HBHCUPD",40,0)
 S:$D(DR) DR(1,631,HBHCCNT)=^HBHC(HBHCFILE,HBHCIEN,HBHCSUB),HBHCCNT=HBHCCNT+1
"RTN","HBHCUPD",41,0)
 S:'$D(DR) (DR,HBHCDR)=^HBHC(HBHCFILE,HBHCIEN,HBHCSUB)
"RTN","HBHCUPD",42,0)
 Q
"RTN","HBHCUPDM")
0^21^B2618092^n/a
"RTN","HBHCUPDM",1,0)
HBHCUPDM ; LR VAMC(IRMS)/MJT-HBHC update missing data in ^HBHC(633.2) using ^HBHC(634.7) as input for which records/fields to update, HBHC(634.7 errors must be corrected using this MFH option, 634.7 data killed @ end of processing;9804
"RTN","HBHCUPDM",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**24**;NOV 01, 1993;Build 201
"RTN","HBHCUPDM",3,0)
PROMPT ; Prompt user for Medical Foster Home (MFH) name
"RTN","HBHCUPDM",4,0)
 W ! K DIC S DIC="^HBHC(633.2,",DIC(0)="AEMQ" D ^DIC
"RTN","HBHCUPDM",5,0)
 G:Y=-1 EXIT
"RTN","HBHCUPDM",6,0)
 S DA=+Y,HBHCMFHN=$P(Y,U)
"RTN","HBHCUPDM",7,0)
 I '$D(^HBHC(634.7,"B",HBHCMFHN)) W $C(7),!!,"This Medical Foster Home (MFH) has no records containing errors on file.",! H 3 G PROMPT
"RTN","HBHCUPDM",8,0)
 S HBHCIEN="" F  S HBHCIEN=$O(^HBHC(634.7,"B",HBHCMFHN,HBHCIEN)) Q:HBHCIEN=""  D PROCESS
"RTN","HBHCUPDM",9,0)
 G PROMPT
"RTN","HBHCUPDM",10,0)
EXIT ; Exit module
"RTN","HBHCUPDM",11,0)
 ; HBHC(634.7 MFH errors must be corrected using this MFH option, 634.7 killed here so validity processing can occur again
"RTN","HBHCUPDM",12,0)
 K ^HBHC(634.7) S ^HBHC(634.7,0)="HBHC MEDICAL FOSTER HOME ERROR(S)^634.7P"
"RTN","HBHCUPDM",13,0)
 K DIC,DIE,DR,HBHCMFHP,Y
"RTN","HBHCUPDM",14,0)
 Q
"RTN","HBHCUPDM",15,0)
PROCESS ; Process errors via DIE
"RTN","HBHCUPDM",16,0)
 L +^HBHC(633.2,DA):0 I '$T W $C(7),!!,"Another user is editing this Medical Foster Home (MFH) entry.",! H 3 Q
"RTN","HBHCUPDM",17,0)
 K DR S DR=^HBHC(634.7,HBHCIEN,1)
"RTN","HBHCUPDM",18,0)
 K DIE S DIE="^HBHC(633.2,",DIE("NO^")="OUTOK"
"RTN","HBHCUPDM",19,0)
 W !!!?10,"===  Editing Medical Foster Home (MFH) Demographic data  ===",!
"RTN","HBHCUPDM",20,0)
 D ^DIE K DR
"RTN","HBHCUPDM",21,0)
 Q
"RTN","HBHCUTL")
0^8^B28029686^B26044972
"RTN","HBHCUTL",1,0)
HBHCUTL ; LR VAMC(IRMS)/MJT-HBHC Utility module, Entry points:  ACTION, STATUS, START, TODAY, HDRPAGE, HDRRANGE, HDR132, HDR132NR, HDRXPAGE ; Mar 2000
"RTN","HBHCUTL",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**2,6,8,16,24**;NOV 01, 1993;Build 201
"RTN","HBHCUTL",3,0)
ACTION ; Set appropriate fields/variables for Admit/Reject Action
"RTN","HBHCUTL",4,0)
 K HBHCQ,HBHCKEEP
"RTN","HBHCUTL",5,0)
 S HBHCY0=^HBHC(631,HBHCDFN,0)
"RTN","HBHCUTL",6,0)
 S:X="" Y=$S($D(HBHCUPD):0,1:87) S:X=1 Y=18 S:X=2 HBHCQ=1
"RTN","HBHCUTL",7,0)
 S HBHCAFLG=0 F HBHCI=19:1:37 Q:HBHCAFLG  S:$P(HBHCY0,U,HBHCI)]"" HBHCAFLG=1
"RTN","HBHCUTL",8,0)
 S HBHCRFLG=0 I ($P(HBHCY0,U,16)]"")!($P(HBHCY0,U,17)]"") S HBHCRFLG=1
"RTN","HBHCUTL",9,0)
 Q:(HBHCAFLG=0)&(HBHCRFLG=0)
"RTN","HBHCUTL",10,0)
 Q:(HBHCRFLG=0)&(X=1)
"RTN","HBHCUTL",11,0)
 Q:(HBHCAFLG=0)&(X=2)
"RTN","HBHCUTL",12,0)
 S HBHCWRD1=$S(HBHCAFLG=1:"admission",1:"rejection")
"RTN","HBHCUTL",13,0)
 S HBHCWRD2=$S(X="":"to 'Delete'",X=2:"'Reject' in",1:"'Admit' in")
"RTN","HBHCUTL",14,0)
 S HBHCWRD3=$S(HBHCAFLG=1:"1 for Admit",1:"2 for Reject")
"RTN","HBHCUTL",15,0)
 D PROCADM I %=1 D:HBHCAFLG ADMIT S:HBHCRFLG $P(^HBHC(631,HBHCDFN,0),U,16)="",$P(^HBHC(631,HBHCDFN,0),U,17)=""
"RTN","HBHCUTL",16,0)
 Q
"RTN","HBHCUTL",17,0)
PROCADM ; Process 'Delete' & 'Reject' responses
"RTN","HBHCUTL",18,0)
 W $C(7),!!,"This record contains ",HBHCWRD1," data.  Are you sure you want ",HBHCWRD2," the",!,"Admit/Reject Action field  ('Yes' will delete the ",HBHCWRD1," data)" S %=2 D YN^DICN
"RTN","HBHCUTL",19,0)
 W ! W:%=0 !!,"Admit/Reject Action field must either contain ",HBHCWRD3," or the ",HBHCWRD1,!,"data MUST be deleted by responding 'Yes'.",!!
"RTN","HBHCUTL",20,0)
 I %'=1 S Y=$S($D(HBHCUPD):0,1:14) S:$D(HBHCUPD) HBHCKEEP=1
"RTN","HBHCUTL",21,0)
 Q
"RTN","HBHCUTL",22,0)
ADMIT ; Set appropriate fields = null
"RTN","HBHCUTL",23,0)
 F HBHCJ=19:1:37 S $P(^HBHC(631,HBHCDFN,0),U,HBHCJ)=""
"RTN","HBHCUTL",24,0)
 S $P(^HBHC(631,HBHCDFN,1),U,14)=""
"RTN","HBHCUTL",25,0)
 Q
"RTN","HBHCUTL",26,0)
STATUS ; Set appropriate fields/variables for Discharge Status
"RTN","HBHCUTL",27,0)
 K HBHCQ,HBHCQ1,HBHCKEEP
"RTN","HBHCUTL",28,0)
 S HBHC12="^1^2^",HBHC359="^3^5^9^",HBHCNOD1=$G(^HBHC(631,HBHCDFN,1)),HBHCY0=^HBHC(631,HBHCDFN,0)
"RTN","HBHCUTL",29,0)
 S:X="" Y=$S($D(HBHCUPD):0,1:65) S:HBHC12[(U_X_U) HBHCQ1=1,Y=44 S:HBHC359[(U_X_U) Y="@1" S:X=4 HBHCQ=1,Y=$S($D(HBHCUPD):0,1:69)
"RTN","HBHCUTL",30,0)
 S HBHCTFLG=0 S:($P(HBHCY0,U,45)]"")!($P(HBHCY0,U,46)]"") HBHCTFLG=1
"RTN","HBHCUTL",31,0)
 S HBHCDIED=0 S:$P($G(^HBHC(631,HBHCDFN,1)),U,15)]"" HBHCDIED=1
"RTN","HBHCUTL",32,0)
 S HBHCDFLG=0 F HBHCL=47:1:55 Q:HBHCDFLG  S:$P(HBHCY0,U,HBHCL)]"" HBHCDFLG=1
"RTN","HBHCUTL",33,0)
 I HBHCNOD1]"" F HBHCM=1:1:10 Q:HBHCDFLG  S:$P(HBHCNOD1,U,HBHCM)]"" HBHCDFLG=1
"RTN","HBHCUTL",34,0)
 Q:(HBHCTFLG=0)&(HBHCDIED=0)&(HBHCDFLG=0)
"RTN","HBHCUTL",35,0)
 Q:(HBHC12[(U_X_U))&(HBHCDIED=0)
"RTN","HBHCUTL",36,0)
 Q:(X=4)&(HBHCTFLG=0)&(HBHCDFLG=0)
"RTN","HBHCUTL",37,0)
 Q:(HBHC359[(U_X_U))&(HBHCTFLG=0)&(HBHCDIED=0)
"RTN","HBHCUTL",38,0)
 S HBHCWRD1=$S(HBHCTFLG:"transfer",HBHCDIED:"deceased",1:"discharge")
"RTN","HBHCUTL",39,0)
 S HBHCWRD2=$S(X="":"to 'Delete'",HBHC12[(U_X_U):"'Transfer' in",X=4:"'Died' in",1:"'Discharge' in")
"RTN","HBHCUTL",40,0)
 S HBHCWRD3=$S(HBHCTFLG:"1 or 2 for Transfer",HBHCDIED:"4 for Died on HBHC",1:"3, 5 or 9 for Discharge")
"RTN","HBHCUTL",41,0)
 D PROCDIS Q:%'=1
"RTN","HBHCUTL",42,0)
 S:HBHCTFLG $P(^HBHC(631,HBHCDFN,0),U,45)="",$P(^HBHC(631,HBHCDFN,0),U,46)=""
"RTN","HBHCUTL",43,0)
 D:(HBHCDFLG)&((X=4)!(X="")) DISCHRG
"RTN","HBHCUTL",44,0)
 S:HBHCDIED $P(^HBHC(631,HBHCDFN,1),U,15)=""
"RTN","HBHCUTL",45,0)
 Q
"RTN","HBHCUTL",46,0)
PROCDIS ; Process 'Delete', '1 or 2', '4', & '3 or 5 or 9' responses
"RTN","HBHCUTL",47,0)
 W $C(7),!!,"This record contains ",HBHCWRD1," data.  Are you sure you want ",HBHCWRD2," the",!,"Discharge Status field  ('Yes' will delete the ",HBHCWRD1," data)" S %=2 D YN^DICN
"RTN","HBHCUTL",48,0)
 W ! W:%=0 !!,"Discharge Status field must contain ",HBHCWRD3," or the ",HBHCWRD1,!,"data MUST be deleted by responding 'Yes'.",!!
"RTN","HBHCUTL",49,0)
 I %'=1 S Y=$S($D(HBHCUPD):0,1:43) S:$D(HBHCUPD) HBHCKEEP=1
"RTN","HBHCUTL",50,0)
 Q
"RTN","HBHCUTL",51,0)
DISCHRG ; Delete discharge data 
"RTN","HBHCUTL",52,0)
 F HBHCI=47:1:55 S $P(^HBHC(631,HBHCDFN,0),U,HBHCI)=""
"RTN","HBHCUTL",53,0)
 F HBHCJ=1:1:10 S $P(^HBHC(631,HBHCDFN,1),U,HBHCJ)=""
"RTN","HBHCUTL",54,0)
 S $P(^HBHC(631,HBHCDFN,1),U,16)=""
"RTN","HBHCUTL",55,0)
 Q
"RTN","HBHCUTL",56,0)
START ; Prompt for beginning/ending report dates
"RTN","HBHCUTL",57,0)
 W ! K %DT S (HBHCBEG1,HBHCEND1,HBHCPAGE)=0,%DT("A")="Beginning Report Date: ",%DT="AEX" D ^%DT S HBHCBEG1=Y Q:HBHCBEG1=-1  D DD^%DT S HBHCBEG2=Y
"RTN","HBHCUTL",58,0)
END ; Ending date prompt
"RTN","HBHCUTL",59,0)
 S %DT("A")="Ending Report Date: " D ^%DT I (Y>0)&(Y<HBHCBEG1) W $C(7),!!,"Ending Report Date must be closer to today than the Beginning Report Date",! G END
"RTN","HBHCUTL",60,0)
 S HBHCEND1=Y_.9999 Q:HBHCEND1=-1  D DD^%DT S HBHCEND2=Y
"RTN","HBHCUTL",61,0)
TODAY ; Obtain current date
"RTN","HBHCUTL",62,0)
 S $P(HBHCZ,"=",81)=""
"RTN","HBHCUTL",63,0)
 K %DT S X="T" D ^%DT,DD^%DT S HBHCTDY=Y K %DT
"RTN","HBHCUTL",64,0)
 Q
"RTN","HBHCUTL",65,0)
HDRPAGE ; Print header with Page
"RTN","HBHCUTL",66,0)
 S HBHCPAGE=HBHCPAGE+1
"RTN","HBHCUTL",67,0)
 W !?HBHCCOLM,">>> HBPC ",HBHCHEAD," Report <<<",?71,"Page: ",HBHCPAGE,!!,"Run Date: ",HBHCTDY,!! I $D(HBHCHDR) X HBHCHDR W !
"RTN","HBHCUTL",68,0)
 W HBHCZ
"RTN","HBHCUTL",69,0)
 Q
"RTN","HBHCUTL",70,0)
HDRRANGE ; Print header with Date Range
"RTN","HBHCUTL",71,0)
 S HBHCPAGE=HBHCPAGE+1
"RTN","HBHCUTL",72,0)
 W !?HBHCCOLM,">>> HBPC ",HBHCHEAD," Report <<<",?71,"Page: ",HBHCPAGE,! W:$D(HBHCNAM) ?HBHCCLM1,$S($D(HBHCONE):"Provider:  ",1:"HBPC Team: "),HBHCNAM,! W !,"Run Date: ",HBHCTDY,?53,"Date Range: ",HBHCBEG2," to",!?65,HBHCEND2,!
"RTN","HBHCUTL",73,0)
 I $D(HBHCHDR) X HBHCHDR W !
"RTN","HBHCUTL",74,0)
 W HBHCZ
"RTN","HBHCUTL",75,0)
 Q
"RTN","HBHCUTL",76,0)
HDR132 ; Print 132 column header with Date Range 
"RTN","HBHCUTL",77,0)
 S HBHCPAGE=HBHCPAGE+1
"RTN","HBHCUTL",78,0)
 W !?HBHCCOLM,">>> HBPC ",HBHCHEAD," Report <<<",?123,"Page: ",HBHCPAGE,! W:$D(HBHCNAM) ?HBHCCLM1,HBHCWHOC_": ",HBHCNAM,! W !,"Run Date: ",HBHCTDY,?105,"Date Range: ",HBHCBEG2," to",!?117,HBHCEND2,! I $D(HBHCHDR) X HBHCHDR W !
"RTN","HBHCUTL",79,0)
 W HBHCZ
"RTN","HBHCUTL",80,0)
 Q
"RTN","HBHCUTL",81,0)
HDR132NR ; Print 132 column header with No Date Range 
"RTN","HBHCUTL",82,0)
 S HBHCPAGE=HBHCPAGE+1
"RTN","HBHCUTL",83,0)
 W !?HBHCCOLM,">>> HBPC ",HBHCHEAD," Report <<<",?123,"Page: ",HBHCPAGE,! W !,"Run Date: ",HBHCTDY I $D(HBHCHDR) X HBHCHDR W !
"RTN","HBHCUTL",84,0)
 W HBHCZ
"RTN","HBHCUTL",85,0)
 Q
"RTN","HBHCUTL",86,0)
HDRXPAGE ; Print header with Page & xtra info
"RTN","HBHCUTL",87,0)
 S HBHCPAGE=HBHCPAGE+1
"RTN","HBHCUTL",88,0)
 W !?HBHCCOLM,">>> HBPC ",HBHCHEAD," Report <<<",?71,"Page: ",HBHCPAGE,!! I $D(HBHCHDRX) X HBHCHDRX W !!,"Run Date: ",HBHCTDY,! I $D(HBHCHDR) X HBHCHDR W !
"RTN","HBHCUTL",89,0)
 W HBHCZ
"RTN","HBHCUTL",90,0)
 Q
"RTN","HBHCUTL1")
0^16^B27175218^B23832042
"RTN","HBHCUTL1",1,0)
HBHCUTL1 ; LR VAMC(IRMS)/MJT-HBHC Utility module, Entry points:  ENDRPT, END132, FORMMSG, BIRTHYR, SEXRACE, HOSP ;2/5/98  15:19
"RTN","HBHCUTL1",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**1,2,6,9,19,24**;NOV 01, 1993;Build 201
"RTN","HBHCUTL1",3,0)
ENDRPT ; Print end of report message
"RTN","HBHCUTL1",4,0)
 W !!?28,"==== End of Report ===="
"RTN","HBHCUTL1",5,0)
 Q
"RTN","HBHCUTL1",6,0)
END132 ; Print end of report message for 132 column report
"RTN","HBHCUTL1",7,0)
 W !!?54,"==== End of Report ===="
"RTN","HBHCUTL1",8,0)
 Q
"RTN","HBHCUTL1",9,0)
FORMMSG ; Process Form 3/4/5/7 Transmit Status fields
"RTN","HBHCUTL1",10,0)
 W $C(7),!!,"Transmit Status Flag must be reset before editing this record is allowed."
"RTN","HBHCUTL1",11,0)
 I $P(^HBHC(631.9,1,0),U,5)="" W !!,"***  NOTICE:  Hospital Number is missing from System Parameter file (#631.9).",!,"Due to automatic Form 6 Correction Record generation, Transmit Status Flag"
"RTN","HBHCUTL1",12,0)
 I $P(^HBHC(631.9,1,0),U,5)="" W !,"CANNOT be reset without this information.  Contact IRM to enter this",!,"information using FileMan.",! S HBHCNHSP=1 H 10 Q
"RTN","HBHCUTL1",13,0)
 W !!,"Do you wish to reset the Flag" S %=2 D YN^DICN W ! I %=0 W !,"A 'Yes' response will reset the Transmit Status Flag field data.  A 'No'",!,"response will return you to the menu without resetting the Transmit",!,"Status Flag.",!! G FORMMSG
"RTN","HBHCUTL1",14,0)
 S HBHCPRCT=%
"RTN","HBHCUTL1",15,0)
 I %'=1 S:(HBHCFORM=4)!(HBHCFORM=7) Y=0 Q
"RTN","HBHCUTL1",16,0)
 S HBHCFILE=$S(HBHCFORM=7:633.2,HBHCFORM=4:632,1:631),HBHCNODE=$S(HBHCFORM=7:12,HBHCFORM=4:0,1:1),HBHCPC1=$S(HBHCFORM=3:17,HBHCFORM=7:1,HBHCFORM=4:8,1:18),HBHCPC2=$S(HBHCFORM=3:25,HBHCFORM=7:5,HBHCFORM=4:12,1:27)
"RTN","HBHCUTL1",17,0)
 L +^HBHC(HBHCFILE,HBHCDFN,HBHCNODE):$S($D(DILOCKTM):DILOCKTM,1:3) I '$T W !,"***  Record locked by another user.  Please try again later.  ***",!  H 3 Q
"RTN","HBHCUTL1",18,0)
 S HBHCPC3=$S(HBHCFORM=3:26,HBHCFORM=7:6,HBHCFORM=4:13,1:28),HBHCXREF=$S(HBHCFORM=3:"AE",HBHCFORM=7:"AC",HBHCFORM=4:"AC",1:"AF")
"RTN","HBHCUTL1",19,0)
 S HBHCSTAT=$S(HBHCFORM=3:$P(^HBHC(HBHCFILE,HBHCDFN,HBHCNODE),U,17),HBHCFORM=5:$P(^HBHC(HBHCFILE,HBHCDFN,HBHCNODE),U,18),HBHCFORM=7:$P(^HBHC(HBHCFILE,HBHCDFN,HBHCNODE),U),1:$P(^HBHC(HBHCFILE,HBHCDFN,HBHCNODE),U,8))
"RTN","HBHCUTL1",20,0)
 D NOW^%DTC S HBHCNOW=$E(%,1,12)
"RTN","HBHCUTL1",21,0)
 K:HBHCSTAT]"" ^HBHC(HBHCFILE,HBHCXREF,HBHCSTAT,HBHCDFN)
"RTN","HBHCUTL1",22,0)
 S $P(^HBHC(HBHCFILE,HBHCDFN,HBHCNODE),U,HBHCPC1)="N",^HBHC(HBHCFILE,HBHCXREF,"N",HBHCDFN)="",$P(^HBHC(HBHCFILE,HBHCDFN,HBHCNODE),U,HBHCPC2)=HBHCNOW,$P(^HBHC(HBHCFILE,HBHCDFN,HBHCNODE),U,HBHCPC3)=DUZ
"RTN","HBHCUTL1",23,0)
 I (HBHCFORM=3)&($P(^HBHC(HBHCFILE,HBHCDFN,0),U,40)]"") S HBHC5XMT=$P(^HBHC(HBHCFILE,HBHCDFN,HBHCNODE),U,18) K:HBHC5XMT]"" ^HBHC(HBHCFILE,"AF",HBHC5XMT,HBHCDFN) S $P(^HBHC(HBHCFILE,HBHCDFN,HBHCNODE),U,18)="N",^HBHC(HBHCFILE,"AF","N",HBHCDFN)=""
"RTN","HBHCUTL1",24,0)
 I HBHCFORM=5 S HBHC3XMT=$P(^HBHC(HBHCFILE,HBHCDFN,HBHCNODE),U,17) K:HBHC3XMT]"" ^HBHC(HBHCFILE,"AE",HBHC3XMT,HBHCDFN) S $P(^HBHC(HBHCFILE,HBHCDFN,HBHCNODE),U,17)="N",^HBHC(HBHCFILE,"AE","N",HBHCDFN)=""
"RTN","HBHCUTL1",25,0)
 L -^HBHC(HBHCFILE,HBHCDFN,HBHCNODE)
"RTN","HBHCUTL1",26,0)
 D:(HBHCFORM'=4)&(HBHCFORM'=7) SETNODE
"RTN","HBHCUTL1",27,0)
EXIT ; Exit FORMMSG module
"RTN","HBHCUTL1",28,0)
 K DILOCKTM,HBHCADDT,HBHCDPT0,HBHCDSDT,HBHCFILE,HBHCHOSP,HBHCINFO,HBHCLNTH,HBHCNAME,HBHCNDX1,HBHCNODE,HBHCNOW,HBHCPC1,HBHCPC2,HBHCPC3,HBHCREC,HBHCS136,HBHCSP4,HBHCSP8,HBHCSTAT,HBHCXREF,HBHC3XMT,HBHC5XMT
"RTN","HBHCUTL1",29,0)
 Q
"RTN","HBHCUTL1",30,0)
SETNODE ; Set node in ^HBHC(634.4) (Form 6 Corrections file)
"RTN","HBHCUTL1",31,0)
 S $P(HBHCSP4," ",5)="",$P(HBHCSP8," ",9)="",$P(HBHCS136," ",137)="",HBHCLNTH=30
"RTN","HBHCUTL1",32,0)
 L +^HBHC(634.4,0):$S($D(DILOCKTM):DILOCKTM,1:3) Q:'$T  S HBHCNDX1=$P(^HBHC(634.4,0),U,3)+1,$P(^HBHC(634.4,0),U,3)=HBHCNDX1,$P(^HBHC(634.4,0),U,4)=$P(^HBHC(634.4,0),U,4)+1 L -^HBHC(634.4,0)
"RTN","HBHCUTL1",33,0)
 S HBHCINFO=^HBHC(HBHCFILE,HBHCDFN,0),HBHCDPT0=^DPT(HBHCDPT,0)
"RTN","HBHCUTL1",34,0)
 S HBHCADDT=$S($P(HBHCINFO,U,18)]"":$E($P(HBHCINFO,U,18),4,5)_$E($P(HBHCINFO,U,18),6,7)_(1700+$E($P(HBHCINFO,U,18),1,3)),1:HBHCSP8)
"RTN","HBHCUTL1",35,0)
 S HBHCDSDT=$S($P(HBHCINFO,U,40)]"":$E($P(HBHCINFO,U,40),4,5)_$E($P(HBHCINFO,U,40),6,7)_(1700+$E($P(HBHCINFO,U,40),1,3)),1:HBHCSP8)
"RTN","HBHCUTL1",36,0)
 S HBHCNAME=$P(HBHCDPT0,U) S:$L(HBHCNAME)<HBHCLNTH HBHCNAME=HBHCNAME_$J("",HBHCLNTH-$L(HBHCNAME))
"RTN","HBHCUTL1",37,0)
 D HOSP
"RTN","HBHCUTL1",38,0)
 S HBHCREC=6_HBHCHOSP_$P(HBHCDPT0,U,9)_HBHCADDT_HBHCNAME_HBHCDSDT_2_HBHCS136
"RTN","HBHCUTL1",39,0)
 S ^HBHC(634.4,HBHCNDX1,0)=HBHCREC,^HBHC(634.4,"B",$E(HBHCREC,1,30),HBHCNDX1)=""
"RTN","HBHCUTL1",40,0)
 Q
"RTN","HBHCUTL1",41,0)
BIRTHYR ; Birth year field display during Evaluation/Admission Data Entry
"RTN","HBHCUTL1",42,0)
 S HBHCDPT0=^DPT(HBHCDPT,0)
"RTN","HBHCUTL1",43,0)
 W !!,"BIRTH YEAR:  ",$S($P(HBHCDPT0,U,3):1700+$E($P(HBHCDPT0,U,3),1,3),1:"0000"),$C(7) D MASMSG
"RTN","HBHCUTL1",44,0)
 Q
"RTN","HBHCUTL1",45,0)
SEXRACE ; Sex & Race fields display during Evaluation/Admission Data Entry
"RTN","HBHCUTL1",46,0)
 S HBHCDPT0=^DPT(HBHCDPT,0),HBHCSEX=$P(HBHCDPT0,U,2)
"RTN","HBHCUTL1",47,0)
 W !!,"SEX:  ",$S(HBHCSEX="M":"Male  (1)",1:"Female  (2)"),$C(7) D MASMSG
"RTN","HBHCUTL1",48,0)
 ; Obsolete with Race/Ethnicity Info Jan 2003 mandate; commented out historical reference  mjt
"RTN","HBHCUTL1",49,0)
 ; ,HBHCRACE=$S($P(HBHCDPT0,U,6)]"":$P(^DIC(10,$P(HBHCDPT0,U,6),0),U,2),1:"")
"RTN","HBHCUTL1",50,0)
 ;W !,"RACE:  ",$S(HBHCRACE=4:"Black  (2)",HBHCRACE=3:"American Indian/Alaskan Native  (4)",HBHCRACE=6:"White  (1)",(HBHCRACE=1)!(HBHCRACE=2):"Hispanic Origin  (3)",HBHCRACE=5:"Asian/Pacific Islander  (5)",1:"Not Determined  (9)")
"RTN","HBHCUTL1",51,0)
 ; Field retained until VA Form 10-0014 modified to remove field  mjt
"RTN","HBHCUTL1",52,0)
 W !,"RACE:  Obsolete Field  Jan 2003",!
"RTN","HBHCUTL1",53,0)
 K HBHCDPT0,HBHCSEX
"RTN","HBHCUTL1",54,0)
 Q
"RTN","HBHCUTL1",55,0)
MASMSG ; MAS message for BIRTHYR & SEX modules
"RTN","HBHCUTL1",56,0)
 W !?18,"***  Contact MAS if value is incorrect.  ***",!
"RTN","HBHCUTL1",57,0)
 Q
"RTN","HBHCUTL1",58,0)
HOSP ; Obtain Hospital Number from ^DIC(4 (Institution file); set HBHCHOSP variable
"RTN","HBHCUTL1",59,0)
 ; Newing Y to prevent undef in calling routines since DIQ1 call is apparently killing Y
"RTN","HBHCUTL1",60,0)
 N Y
"RTN","HBHCUTL1",61,0)
 S:'$D(HBHCSP4) $P(HBHCSP4," ",5)=""
"RTN","HBHCUTL1",62,0)
 K DA,DIC,DR,^UTILITY("DIQ1",$J)
"RTN","HBHCUTL1",63,0)
 S DIC=4,DR=99,DA=$P(^HBHC(631.9,1,0),U,5) D EN^DIQ1
"RTN","HBHCUTL1",64,0)
 S HBHCHOSP=^UTILITY("DIQ1",$J,4,DA,DR)
"RTN","HBHCUTL1",65,0)
 S:$L(HBHCHOSP)'=7 HBHCHOSP=HBHCHOSP_$E(HBHCSP4,1,(7-($L(HBHCHOSP))))
"RTN","HBHCUTL1",66,0)
 K DA,DIC,DR,^UTILITY("DIQ1",$J)
"RTN","HBHCUTL1",67,0)
 Q
"RTN","HBHCUTL3")
0^3^B20865262^B9942489
"RTN","HBHCUTL3",1,0)
HBHCUTL3 ; LR VAMC(IRMS)/MJT-HBHC Utility module, Entry points:  PSEUDO, PCEMSG, DX, DX80, CPT, MFHS, MFH, DATE3, DATE6, DATE3L, & DATE6L ; Jan 2000
"RTN","HBHCUTL3",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**6,8,10,15,16,14,24**;NOV 01, 1993;Build 201
"RTN","HBHCUTL3",3,0)
PSEUDO ; Print pseudo SSN message
"RTN","HBHCUTL3",4,0)
 W $C(7),!!,"Patient visit records with pseudo social security numbers (SSNs) exist.",!,"Print the 'Pseudo Social Security Number Report' located on the HBHC Reports"
"RTN","HBHCUTL3",5,0)
 W !,"Menu to obtain a list of patients with invalid SSNs.  HBHC must determine",!,"what corrective action is appropriate to eliminate these records from the",!,"HBHC Information System.",!! H 5
"RTN","HBHCUTL3",6,0)
 Q
"RTN","HBHCUTL3",7,0)
PCEMSG ; Print PCE correction of errors message
"RTN","HBHCUTL3",8,0)
 W !!,"Note:  Please use Appointment Management to Correct Visit Errors.  Run",!?7,"Edit Form Errors Data option when corrections are complete."
"RTN","HBHCUTL3",9,0)
 Q
"RTN","HBHCUTL3",10,0)
DX ; Diagnosis (DX) info, HBHCDFN must be defined prior to call, returns code plus text in local array HBHCDX
"RTN","HBHCUTL3",11,0)
 K HBHCDX S $P(HBHCSP5," ",6)="",HBHCI=0
"RTN","HBHCUTL3",12,0)
 F  S HBHCI=$O(^HBHC(632,HBHCDFN,3,HBHCI)) Q:HBHCI'>0  S HBHCICDP=$P(^HBHC(632,HBHCDFN,3,HBHCI,0),U),HBHCICD0=$$ICDDX^ICDCODE(HBHCICDP),HBHCDX(HBHCI)=$P(HBHCICD0,U,2)_$E(HBHCSP5,1,(8-$L($P(HBHCICD0,U,2))))_$P(HBHCICD0,U,4)
"RTN","HBHCUTL3",13,0)
 K HBHCI,HBHCICD0,HBHCICDP
"RTN","HBHCUTL3",14,0)
 Q
"RTN","HBHCUTL3",15,0)
DX80 ; Print DX info in 80 column format, HBHCDX( array must be defined prior to call
"RTN","HBHCUTL3",16,0)
 S (HBHCFLG,HBHCI)=0 F  S HBHCI=$O(HBHCDX(HBHCI)) Q:HBHCI'>0  W ! W:HBHCFLG=0 "Diagnosis:   " W:HBHCFLG=1 ?13  W HBHCDX(HBHCI) S HBHCFLG=1
"RTN","HBHCUTL3",17,0)
 K HBHCDX,HBHCFLG,HBHCI
"RTN","HBHCUTL3",18,0)
 Q
"RTN","HBHCUTL3",19,0)
CPT ; CPT code info, HBHCDFN must be defined prior to call, returns code plus text in local array HBHCCPTA
"RTN","HBHCUTL3",20,0)
 K HBHCCPTA S $P(HBHCSP3," ",4)="",HBHCI=0 F  S HBHCI=$O(^HBHC(632,HBHCDFN,2,HBHCI)) Q:HBHCI'>0  S HBHCCPT=$$CPT^ICPTCOD(^HBHC(632,HBHCDFN,2,HBHCI,0)),HBHCCPTA(HBHCI)=$P(HBHCCPT,U,2)_HBHCSP3_$P(HBHCCPT,U,3) D CPTMOD
"RTN","HBHCUTL3",21,0)
 K HBHCCPT,HBHCI,HBHCJ,HBHCMOD,HBHCSP3
"RTN","HBHCUTL3",22,0)
 Q
"RTN","HBHCUTL3",23,0)
CPTMOD ; Process CPT Modifier code plus text into local array HBHCCPTA(HBHCCPT,HBHCJ)
"RTN","HBHCUTL3",24,0)
 S HBHCJ=0 F  S HBHCJ=$O(^HBHC(632,HBHCDFN,2,HBHCI,1,HBHCJ)) Q:HBHCJ'>0  S HBHCMOD=$$MOD^ICPTMOD($P(^HBHC(632,HBHCDFN,2,HBHCI,1,HBHCJ,0),U),"I"),HBHCCPTA(HBHCI,HBHCJ)=$P(HBHCMOD,U,2)_HBHCSP3_$P(HBHCMOD,U,3)
"RTN","HBHCUTL3",25,0)
 Q
"RTN","HBHCUTL3",26,0)
MFHS ; Set Medical Foster Home (MFH) Site variable if Sanctioned site
"RTN","HBHCUTL3",27,0)
 S:$P($G(^HBHC(631.9,1,0)),U,9)]"" HBHCMFHS=1
"RTN","HBHCUTL3",28,0)
 Q
"RTN","HBHCUTL3",29,0)
MFH ; Prompt for HBPC or MFH population inclusion on report; set Medical Foster Home Report variable: HBHCMFHR
"RTN","HBHCUTL3",30,0)
 K DIR S DIR(0)="SB^H:Home Based Primary Care (HBPC);M:Medical Foster Home (MFH)",DIR("A")="Include HBPC or MFH census",DIR("?")="Include HBPC (H), or MFH (M) population on report" D ^DIR
"RTN","HBHCUTL3",31,0)
 S:Y="M" HBHCMFHR=1
"RTN","HBHCUTL3",32,0)
 Q
"RTN","HBHCUTL3",33,0)
DATE3 ; Calc 3 mo date based on month only for use by MFH Inspection or Training e-mail processing
"RTN","HBHCUTL3",34,0)
 S HBHCMO=+$E(DT,4,5),HBHCDATE=3_$S(HBHCMO>9:$E(DT,2,3),1:($E(DT,2,3)-1))_$S(HBHCMO=10:"01",HBHCMO=11:"02",HBHCMO=12:"03",HBHCMO=1:"04",HBHCMO=2:"05",HBHCMO=3:"06",HBHCMO=4:"07",HBHCMO=5:"08",HBHCMO=6:"09",1:HBHCMO+3)_"01" D CHECK
"RTN","HBHCUTL3",35,0)
 ; Following line produces the correct date; keep for testing purposes
"RTN","HBHCUTL3",36,0)
 ;F HBHCMO=1:1:12 S HBHCDATE=3_$S(HBHCMO>9:$E(DT,2,3),1:($E(DT,2,3)-1))_$S(HBHCMO=10:"01",HBHCMO=11:"02",HBHCMO=12:"03",HBHCMO=1:"04",HBHCMO=2:"05",HBHCMO=3:"06",HBHCMO=4:"07",HBHCMO=5:"08",HBHCMO=6:"09",1:HBHCMO+3)_"01" D CHECK
"RTN","HBHCUTL3",37,0)
 Q
"RTN","HBHCUTL3",38,0)
DATE6 ; Calc 6 mo date based on month only for use by MFH Inspection or Training report processing
"RTN","HBHCUTL3",39,0)
 S HBHCMO=+$E(DT,4,5),HBHCDATE=3_$S(HBHCMO>6:$E(DT,2,3),1:($E(DT,2,3)-1))_$S(HBHCMO=7:"01",HBHCMO=8:"02",HBHCMO=9:"03",HBHCMO=10:"04",HBHCMO=11:"05",HBHCMO=12:"06",HBHCMO=1:"07",HBHCMO=2:"08",HBHCMO=3:"09",1:HBHCMO+6)_"01" D CHECK
"RTN","HBHCUTL3",40,0)
 Q
"RTN","HBHCUTL3",41,0)
DATE3L ; Calc 3 mo date based on month only for use by MFH License Expiration e-mail processing
"RTN","HBHCUTL3",42,0)
 S HBHCMO=+$E(DT,4,5),HBHCDATE=3_$S(HBHCMO>9:($E(DT,2,3)+1),1:($E(DT,2,3)))_$S(HBHCMO=10:"01",HBHCMO=11:"02",HBHCMO=12:"03",HBHCMO=1:"04",HBHCMO=2:"05",HBHCMO=3:"06",HBHCMO=4:"07",HBHCMO=5:"08",HBHCMO=6:"09",1:HBHCMO+3)_"01" D CHECK
"RTN","HBHCUTL3",43,0)
 Q
"RTN","HBHCUTL3",44,0)
DATE6L ; Calc 6 mo date based on month only for use by MFH License Expiration report processing
"RTN","HBHCUTL3",45,0)
 S HBHCMO=+$E(DT,4,5),HBHCDATE=3_$S(HBHCMO>6:($E(DT,2,3)+1),1:($E(DT,2,3)))_$S(HBHCMO=7:"01",HBHCMO=8:"02",HBHCMO=9:"03",HBHCMO=10:"04",HBHCMO=11:"05",HBHCMO=12:"06",HBHCMO=1:"07",HBHCMO=2:"08",HBHCMO=3:"09",1:HBHCMO+6)_"01" D CHECK
"RTN","HBHCUTL3",46,0)
 Q
"RTN","HBHCUTL3",47,0)
CHECK ; Check length of HBHCDATE
"RTN","HBHCUTL3",48,0)
 S:$L(HBHCDATE)=6 HBHCDATE=$E(HBHCDATE)_"0"_$E(HBHCDATE,2,6)
"RTN","HBHCUTL3",49,0)
 Q
"RTN","HBHCUTL5")
0^9^B38257790^n/a
"RTN","HBHCUTL5",1,0)
HBHCUTL5 ; LR VAMC(IRMS)/MJT-HBHC Medical Foster Home (MFH) Rate Paid report utility module; Entry points:  EN, EXIT, MFH, PT, PRTPT, PRTMFH; called by: ^HBHCRP28 & ^HBHCTXT ; Dec 2007
"RTN","HBHCUTL5",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**24**;NOV 01, 1993;Build 201
"RTN","HBHCUTL5",3,0)
EN ; Entry point; user selects: patient or MFH; active only, individual, or all pts or MFHs; current rate paid only or entire rate paid history
"RTN","HBHCUTL5",4,0)
 ; Prompt for patient or MFH report 
"RTN","HBHCUTL5",5,0)
 K DIR S DIR(0)="SB^P:Patient;M:Medical Foster Home (MFH)",DIR("A")="Sort by Patient or Medical Foster Home (MFH)",DIR("?")="Enter P for Patient or M for Medical Foster Home (MFH) for sorting the report." D ^DIR
"RTN","HBHCUTL5",6,0)
 G:$D(DIRUT) EXIT
"RTN","HBHCUTL5",7,0)
 S HBHCXREF=$S(Y="P":"AJ",1:"AK"),HBHCWHO=$S(HBHCXREF="AJ":" Patient(s)",1:" MFH(s)")
"RTN","HBHCUTL5",8,0)
 ; Prompt for inclusion of Active ONLY, Individual, or All
"RTN","HBHCUTL5",9,0)
 K DIR S DIR(0)="SB^O:Active ONLY;I:Individual;A:All",DIR("A")="Include:  Active ONLY, Individual, or All "_HBHCWHO
"RTN","HBHCUTL5",10,0)
 S DIR("?")="Enter O for Active ONLY, I for Individual, or A for All Patient(s) or Medical Foster Home(s) (MFHs) for inclusion on the report." D ^DIR
"RTN","HBHCUTL5",11,0)
 G:$D(DIRUT) EXIT
"RTN","HBHCUTL5",12,0)
 S HBHCDIR=$S(Y="O":"O",Y="I":"I",1:"A")
"RTN","HBHCUTL5",13,0)
 ; Prompt for individual patient(s) or MFH(s)
"RTN","HBHCUTL5",14,0)
 I HBHCDIR="I" K DIC,HBHCTMP D PROMPT
"RTN","HBHCUTL5",15,0)
 K DIC
"RTN","HBHCUTL5",16,0)
 ; Prompt for Current Rate Paid, or All
"RTN","HBHCUTL5",17,0)
 K DIR S DIR(0)="SB^C:Current Rate;A:All Rates Paid",DIR("A")="Include:  Current Rate, or All Rates Paid"
"RTN","HBHCUTL5",18,0)
 S DIR("?")="Enter C for Current Rate, or A for All Rates Paid for inclusion on the report." D ^DIR
"RTN","HBHCUTL5",19,0)
 G:$D(DIRUT) EXIT
"RTN","HBHCUTL5",20,0)
 S HBHC=$S(Y="C":"C",1:"A")
"RTN","HBHCUTL5",21,0)
 ; Prompt for inclusion of Discharged Patients on MFH sort
"RTN","HBHCUTL5",22,0)
 I HBHCXREF="AK" K DIR S DIR(0)="SB^Y:Yes;N:No",DIR("A")="Include:  Discharged Patients",DIR("?")="Enter Y to Include Discharged Patients, or N to omit them from inclusion on the report." D ^DIR
"RTN","HBHCUTL5",23,0)
 I HBHCXREF="AK" G:$D(DIRUT) EXIT S HBHCYN=$S(Y="Y":"Y",1:"N")
"RTN","HBHCUTL5",24,0)
 Q
"RTN","HBHCUTL5",25,0)
EXIT ; Exit module
"RTN","HBHCUTL5",26,0)
 D ^%ZISC
"RTN","HBHCUTL5",27,0)
 K DIC,DIR,HBHC,HBHC1,HBHC2,HBHC3,HBHCCC,HBHCCNT,HBHCCOLM,HBHCCURJ,HBHCCURK,HBHCCURL,HBHCDIR,HBHCDLMT,HBHCDPT0,HBHCHDR,HBHCHDRX,HBHCHEAD,HBHCHI,HBHCI,HBHCINFO,HBHCJ,HBHCK,HBHCL,HBHCLOW,HBHCMFHN,HBHCMFHP,HBHCM,HBHCPAGE,HBHCTDY
"RTN","HBHCUTL5",28,0)
 K HBHCTMP,HBHCTOT,HBHCTXT,HBHCWHO,HBHCXREF,HBHCY,HBHCYN,HBHCZ,X,Y,^TMP("HBHC",$J)
"RTN","HBHCUTL5",29,0)
 Q
"RTN","HBHCUTL5",30,0)
PROMPT ; Prompt user for individual Patient or Medical Foster Home (MFH) name
"RTN","HBHCUTL5",31,0)
 I HBHCXREF="AJ" S DIC="^HBHC(631,",DIC("S")="I $P($G(^HBHC(631,Y,3)),U)=""Y"""
"RTN","HBHCUTL5",32,0)
 I HBHCXREF="AK" S DIC="^HBHC(633.2,"
"RTN","HBHCUTL5",33,0)
 S DIC(0)="AEMQZ"
"RTN","HBHCUTL5",34,0)
DIC ; Call ^DIC
"RTN","HBHCUTL5",35,0)
 D ^DIC
"RTN","HBHCUTL5",36,0)
 Q:(Y=-1)!($D(DTOUT))!($D(DUOUT))
"RTN","HBHCUTL5",37,0)
 S HBHCTMP(+Y)="" G DIC
"RTN","HBHCUTL5",38,0)
 Q
"RTN","HBHCUTL5",39,0)
PT ; Process Patient
"RTN","HBHCUTL5",40,0)
 D:HBHCDIR="I" INDPT
"RTN","HBHCUTL5",41,0)
 D:HBHCDIR'="I" ALLPT
"RTN","HBHCUTL5",42,0)
 Q
"RTN","HBHCUTL5",43,0)
INDPT ; Process Individual Patients
"RTN","HBHCUTL5",44,0)
 S HBHCI=0 F  S HBHCI=$O(HBHCTMP(HBHCI)) Q:HBHCI'>0  D RATE
"RTN","HBHCUTL5",45,0)
 Q
"RTN","HBHCUTL5",46,0)
ALLPT ; Process All or Active ONLY Patients
"RTN","HBHCUTL5",47,0)
 S HBHCI=0 F  S HBHCI=$O(^HBHC(631,"AJ","Y",HBHCI)) Q:HBHCI'>0  D:HBHCDIR'="O" RATE D:(HBHCDIR="O")&($P(^HBHC(631,HBHCI,0),U,40)="") RATE
"RTN","HBHCUTL5",48,0)
 Q
"RTN","HBHCUTL5",49,0)
MFH ; Process Medical Foster Home (MFH)
"RTN","HBHCUTL5",50,0)
 D:HBHCDIR="I" INDMFH
"RTN","HBHCUTL5",51,0)
 D:HBHCDIR'="I" ALLMFH
"RTN","HBHCUTL5",52,0)
 Q
"RTN","HBHCUTL5",53,0)
INDMFH ; Process Individual Medical Foster Home (MFH)
"RTN","HBHCUTL5",54,0)
 S HBHCL=0 F  S HBHCL=$O(HBHCTMP(HBHCL)) Q:HBHCL'>0  I $D(^HBHC(631,"AK",HBHCL)) S HBHCCURL=HBHCL S HBHCI=0 F  S HBHCI=$O(^HBHC(631,"AK",HBHCL,HBHCI)) Q:HBHCI'>0  D RATE
"RTN","HBHCUTL5",55,0)
 Q
"RTN","HBHCUTL5",56,0)
ALLMFH ; Process All or Active ONLY Medical Foster Homes (MFH)
"RTN","HBHCUTL5",57,0)
 S HBHCL=0 F  S HBHCL=$O(^HBHC(633.2,HBHCL)) Q:HBHCL'>0  I $D(^HBHC(631,"AK",HBHCL)) S HBHCCURL=HBHCL S HBHCI=0 F  S HBHCI=$O(^HBHC(631,"AK",HBHCL,HBHCI)) Q:HBHCI'>0  D:HBHCDIR'="O" RATE D:(HBHCDIR="O")&($P(^HBHC(633.2,HBHCL,0),U,6)="") RATE
"RTN","HBHCUTL5",58,0)
 Q
"RTN","HBHCUTL5",59,0)
RATE ; Process Rate Multiple
"RTN","HBHCUTL5",60,0)
 ; MFH sort => Q:Discharged patients are to be omitted
"RTN","HBHCUTL5",61,0)
 I HBHCXREF="AK" I HBHCYN="N" Q:($P(^HBHC(631,HBHCI,0),U,40)]"")
"RTN","HBHCUTL5",62,0)
 D:HBHC="A" ALLRATE
"RTN","HBHCUTL5",63,0)
 D:HBHC="C" CURRATE
"RTN","HBHCUTL5",64,0)
 Q
"RTN","HBHCUTL5",65,0)
ALLRATE ; Process All Rates
"RTN","HBHCUTL5",66,0)
 S HBHCJ=0 F  S HBHCJ=$O(^HBHC(631,HBHCI,4,"B",HBHCJ)) Q:HBHCJ'>0  S HBHCK=0 F  S HBHCK=$O(^HBHC(631,HBHCI,4,"B",HBHCJ,HBHCK)) Q:HBHCK'>0  D REPORT
"RTN","HBHCUTL5",67,0)
 Q
"RTN","HBHCUTL5",68,0)
CURRATE ; Process Current Rate Only
"RTN","HBHCUTL5",69,0)
 S HBHCJ=0 F  S HBHCJ=$O(^HBHC(631,HBHCI,4,"B",HBHCJ)) Q:HBHCJ'>0  S HBHCCURJ=HBHCJ,HBHCK=0 F  S HBHCK=$O(^HBHC(631,HBHCI,4,"B",HBHCJ,HBHCK)) Q:HBHCK'>0  S HBHCCURK=HBHCK
"RTN","HBHCUTL5",70,0)
 D REPORT
"RTN","HBHCUTL5",71,0)
 Q
"RTN","HBHCUTL5",72,0)
REPORT ; Set TMP for report format
"RTN","HBHCUTL5",73,0)
 S HBHCDPT0=$G(^DPT($P(^HBHC(631,HBHCI,0),U),0))
"RTN","HBHCUTL5",74,0)
 S:HBHCXREF="AJ" HBHCMFHP=$P($G(^HBHC(631,HBHCI,3)),U,2)
"RTN","HBHCUTL5",75,0)
 I HBHCXREF="AJ" S:HBHCDPT0]"" ^TMP("HBHC",$J,$P(HBHCDPT0,U),HBHCI,$S(HBHC="A":HBHCJ,1:HBHCCURJ),$S(HBHC="A":HBHCK,1:HBHCCURK))=$P(^HBHC(631,HBHCI,4,$S(HBHC="A":HBHCK,1:HBHCCURK),0),U,2)_U_$E($P(HBHCDPT0,U,9),6,9)_U_HBHCMFHP
"RTN","HBHCUTL5",76,0)
 S:(HBHCXREF="AK")&(HBHCDPT0]"") HBHCMFHN=$P($G(^HBHC(633.2,$S(HBHC="A":HBHCL,1:HBHCCURL),0)),U)
"RTN","HBHCUTL5",77,0)
 I HBHCXREF="AK" S:(HBHCDPT0]"")&(HBHCMFHN]"") ^TMP("HBHC",$J,HBHCMFHN,$P(HBHCDPT0,U),HBHCI,$S(HBHC="A":HBHCJ,1:HBHCCURJ),$S(HBHC="A":HBHCK,1:HBHCCURK))=$P(^HBHC(631,HBHCI,4,$S(HBHC="A":HBHCK,1:HBHCCURK),0),U,2)_U_$E($P(HBHCDPT0,U,9),6,9)
"RTN","HBHCUTL5",78,0)
 Q
"RTN","HBHCUTL5",79,0)
PRTPT ; Print loop for Patient sort
"RTN","HBHCUTL5",80,0)
 S HBHCM="" F  S HBHCM=$O(^TMP("HBHC",$J,HBHCM)) Q:HBHCM=""  S HBHCI="" F  S HBHCI=$O(^TMP("HBHC",$J,HBHCM,HBHCI)) Q:HBHCI=""  W:(HBHCCNT>0)&('$D(HBHCTXT)) !,HBHCY S HBHCJ="" F  S HBHCJ=$O(^TMP("HBHC",$J,HBHCM,HBHCI,HBHCJ)) Q:HBHCJ=""  D CONTPT
"RTN","HBHCUTL5",81,0)
 Q
"RTN","HBHCUTL5",82,0)
CONTPT ; Cont Patient Loop
"RTN","HBHCUTL5",83,0)
 S HBHCK="" F  S HBHCK=$O(^TMP("HBHC",$J,HBHCM,HBHCI,HBHCJ,HBHCK)) Q:HBHCK=""  S HBHCINFO=^TMP("HBHC",$J,HBHCM,HBHCI,HBHCJ,HBHCK) D:'$D(HBHCTXT) PRINTPT^HBHCRP28 D:$D(HBHCTXT) TXT^HBHCTXT
"RTN","HBHCUTL5",84,0)
 Q
"RTN","HBHCUTL5",85,0)
PRTMFH ; Print loop for MFH sort
"RTN","HBHCUTL5",86,0)
 S HBHCL="" F  S HBHCL=$O(^TMP("HBHC",$J,HBHCL)) Q:HBHCL=""  S HBHCM="" F  S HBHCM=$O(^TMP("HBHC",$J,HBHCL,HBHCM)) Q:HBHCM=""  S HBHCI="" F  S HBHCI=$O(^TMP("HBHC",$J,HBHCL,HBHCM,HBHCI)) Q:HBHCI=""  W:(HBHCCNT>0)&('$D(HBHCTXT)) !,HBHCY D CONTMFH
"RTN","HBHCUTL5",87,0)
 Q
"RTN","HBHCUTL5",88,0)
CONTMFH ; Cont MFH Loop
"RTN","HBHCUTL5",89,0)
 S HBHCJ="" F  S HBHCJ=$O(^TMP("HBHC",$J,HBHCL,HBHCM,HBHCI,HBHCJ)) Q:HBHCJ=""  D CONTMFH2
"RTN","HBHCUTL5",90,0)
 Q
"RTN","HBHCUTL5",91,0)
CONTMFH2 ; Cont MFH Loop again...
"RTN","HBHCUTL5",92,0)
 S HBHCK="" F  S HBHCK=$O(^TMP("HBHC",$J,HBHCL,HBHCM,HBHCI,HBHCJ,HBHCK)) Q:HBHCK=""  S HBHCINFO=^TMP("HBHC",$J,HBHCL,HBHCM,HBHCI,HBHCJ,HBHCK) D:'$D(HBHCTXT) PRINTMFH^HBHCRP28 D:$D(HBHCTXT) TXT^HBHCTXT
"RTN","HBHCUTL5",93,0)
 Q
"RTN","HBHCWORK")
0^6^B26613450^n/a
"RTN","HBHCWORK",1,0)
HBHCWORK ; LR VAMC(IRMS)/MJT-HBHC Medical Foster Home (MFH) worksheet, Entry points:  BLANK & EN ; 7/20/07
"RTN","HBHCWORK",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**24**;NOV 01, 1993;Build 201
"RTN","HBHCWORK",3,0)
BLANK ; Blank worksheet entry point; HBHCNOD0="" & HBHCMFHP="-1" are dummy values
"RTN","HBHCWORK",4,0)
 S HBHCBLNK="Blank",HBHCNOD0="",HBHCMFHP="-1"
"RTN","HBHCWORK",5,0)
EN ; Entry point
"RTN","HBHCWORK",6,0)
 D MFHS^HBHCUTL3
"RTN","HBHCWORK",7,0)
 ; HBHCMFHS variable set in MFHS^HBHCUTL3
"RTN","HBHCWORK",8,0)
 G:$D(DIRUT)!('$D(HBHCMFHS)) EXIT
"RTN","HBHCWORK",9,0)
 I '$D(HBHCBLNK) K DIC S DIC="^HBHC(633.2,",DIC(0)="AEMQZ" D ^DIC S HBHCMFHP=+Y G:Y=-1 EXIT S HBHCNOD0=$G(^HBHC(633.2,HBHCMFHP,0))
"RTN","HBHCWORK",10,0)
 S %ZIS="Q",HBHCCC=0 K IOP,ZTIO,ZTSAVE D ^%ZIS G:POP EXIT
"RTN","HBHCWORK",11,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCWORK",ZTDESC="HBPC MFH Worksheet",ZTSAVE("HBHC*")="" D ^%ZTLOAD G EXIT
"RTN","HBHCWORK",12,0)
DQ ; De-queue
"RTN","HBHCWORK",13,0)
 U IO
"RTN","HBHCWORK",14,0)
 S $P(HBHCY12,"_",13)="",$P(HBHCY20,"_",21)="",$P(HBHCY30,"_",31)="",$P(HBHCY40,"_",41)="",$P(HBHCY50,"_",51)="",$P(HBHCY65,"_",66)="",HBHCPAGE=0
"RTN","HBHCWORK",15,0)
 I $D(HBHCBLNK) S HBHCHEAD="Medical Foster Home (MFH) Blank Worksheet",HBHCHDR="W ?26,""MFH Name:"""
"RTN","HBHCWORK",16,0)
 I '$D(HBHCBLNK) S HBHCHEAD="Medical Foster Home (MFH) Worksheet",HBHCHDR="W ?26,""MFH Name:  ""_$P(HBHCNOD0,U)"
"RTN","HBHCWORK",17,0)
 S HBHCCOLM=(80-(30+$L(HBHCHEAD))\2) S:HBHCCOLM'>0 HBHCCOLM=1
"RTN","HBHCWORK",18,0)
 D TODAY^HBHCUTL D:IO'=IO(0)!($D(IO("S"))) HDRPAGE^HBHCUTL
"RTN","HBHCWORK",19,0)
 I '$D(IO("S")),(IO=IO(0)) S HBHCCC=HBHCCC+1 D HDRPAGE^HBHCUTL
"RTN","HBHCWORK",20,0)
 D PROCESS
"RTN","HBHCWORK",21,0)
 D ENDRPT^HBHCUTL1
"RTN","HBHCWORK",22,0)
EXIT ; Exit module
"RTN","HBHCWORK",23,0)
 D ^%ZISC
"RTN","HBHCWORK",24,0)
 K DIC,HBHCBLNK,HBHCCC,HBHCCOLM,HBHCHDR,HBHCHEAD,HBHCI,HBHCJ,HBHCMFHP,HBHCMFHS,HBHCNOD0,HBHCNODE,HBHCPAGE,HBHCPRV,HBHCTDY,HBHCY12,HBHCY20,HBHCY30,HBHCY40,HBHCY50,HBHCY65,HBHCZ,X,Y
"RTN","HBHCWORK",25,0)
 Q
"RTN","HBHCWORK",26,0)
PROCESS ; Process MFH demographic, inspection, & training data
"RTN","HBHCWORK",27,0)
 W !!,"Address:",?15,$S($P(HBHCNOD0,U,8)]"":$P(HBHCNOD0,U,8),1:HBHCY65)
"RTN","HBHCWORK",28,0)
 W !!,"City:",?15,$S($P(HBHCNOD0,U,9)]"":$P(HBHCNOD0,U,9),1:HBHCY65)
"RTN","HBHCWORK",29,0)
 W !!,"State Code:",?15,$S($P(HBHCNOD0,U,10)]"":$P($G(^DIC(5,$P(^HBHC(631.8,$P(HBHCNOD0,U,10),0),U),0)),U),1:HBHCY65)
"RTN","HBHCWORK",30,0)
 W !!,"County Code:",?15,$S($P(HBHCNOD0,U,15)]"":$P($G(^DIC(5,$P(^HBHC(631.8,$P(HBHCNOD0,U,10),0),U),1,$P(HBHCNOD0,U,15),0)),U)_"  ("_$P($G(^DIC(5,$P(^HBHC(631.8,$P(HBHCNOD0,U,10),0),U),1,$P(HBHCNOD0,U,15),0)),U,3)_")",1:HBHCY65)
"RTN","HBHCWORK",31,0)
 W !!,"ZIP Code:",?15,$S($P(HBHCNOD0,U,11)]"":$P(HBHCNOD0,U,11),1:HBHCY65)
"RTN","HBHCWORK",32,0)
 W !!,"Phone Number:",?15,$S($P(HBHCNOD0,U,14)]"":$P(HBHCNOD0,U,14),1:HBHCY65)
"RTN","HBHCWORK",33,0)
 W !!,"Opened Date:" S:$P(HBHCNOD0,U,2)]"" Y=$P(HBHCNOD0,U,2) D DD^%DT W ?30,$S($P(HBHCNOD0,U,2)]"":Y,1:HBHCY50)
"RTN","HBHCWORK",34,0)
 S:$P(HBHCNOD0,U,16)]"" Y=$P(HBHCNOD0,U,16) D DD^%DT
"RTN","HBHCWORK",35,0)
 W !!,"Primary Caregiver Name:",?30,$S($P(HBHCNOD0,U,3)]"":$P(HBHCNOD0,U,3),1:HBHCY50)
"RTN","HBHCWORK",36,0)
 W !!,"Caregiver Date of Birth:",?30,$S($P(HBHCNOD0,U,16)]"":Y,1:HBHCY50)
"RTN","HBHCWORK",37,0)
 W !!,"Maximum Patients:",?20,$S($P(HBHCNOD0,U,4)]"":$P(HBHCNOD0,U,4),1:"  1  2  3"),?34,"Bedbound Patient Maximum:",?62,$S($P(HBHCNOD0,U,5)]"":$P(HBHCNOD0,U,5),1:"  0  1  2")
"RTN","HBHCWORK",38,0)
 W !!,"License Required:",?20,$S($P(HBHCNOD0,U,12)="Y":"Yes",$P(HBHCNOD0,U,12)="N":"No",1:"  Yes   No"),?34,"License Expiration Date:" S:$P(HBHCNOD0,U,13)]"" Y=$P(HBHCNOD0,U,13) D DD^%DT W ?60,$S($P(HBHCNOD0,U,13)]"":Y,1:HBHCY20)
"RTN","HBHCWORK",39,0)
 W !!,"Closure Date:" S:$P(HBHCNOD0,U,6)]"" Y=$P(HBHCNOD0,U,6) D DD^%DT W ?16,$S($P(HBHCNOD0,U,6)]"":Y,1:HBHCY30),?50,"Voluntary Closure:",?70,$S($P(HBHCNOD0,U,7)="Y":"Yes",$P(HBHCNOD0,U,7)="N":"No",1:"  Yes   No")
"RTN","HBHCWORK",40,0)
INSPECT ; Process inspection data
"RTN","HBHCWORK",41,0)
 W !
"RTN","HBHCWORK",42,0)
 F HBHCI=1:1:4 D WRITE D:$D(^HBHC(633.2,HBHCMFHP,HBHCI)) LOOP
"RTN","HBHCWORK",43,0)
TRAIN ; Process training data
"RTN","HBHCWORK",44,0)
 Q:$D(HBHCBLNK)
"RTN","HBHCWORK",45,0)
 W !
"RTN","HBHCWORK",46,0)
 F HBHCI=5:1:11 D WRITE2 D:$D(^HBHC(633.2,HBHCMFHP,HBHCI)) LOOP
"RTN","HBHCWORK",47,0)
 Q
"RTN","HBHCWORK",48,0)
WRITE ; Write Inspection headers
"RTN","HBHCWORK",49,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<10) W:HBHCPAGE>0 @IOF D HDRPAGE^HBHCUTL
"RTN","HBHCWORK",50,0)
 W !! W:HBHCI=1 "Nurse" W:HBHCI=2 "Social Work" W:HBHCI=3 "Dietitian" W:HBHCI=4 "Fire/Safety" W " Inspection:",!!?3,"Date:",?10,HBHCY20,?33,"Name:",?40,HBHCY40 W:'$D(HBHCBLNK) !,?10,"Previous Inspection(s):"
"RTN","HBHCWORK",51,0)
 Q
"RTN","HBHCWORK",52,0)
WRITE2 ; Write training headers
"RTN","HBHCWORK",53,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<12) W:HBHCPAGE>0 @IOF D HDRPAGE^HBHCUTL
"RTN","HBHCWORK",54,0)
 W !! W:HBHCI=5 "Home Operation" W:HBHCI=6 "Fire/Safety" W:HBHCI=7 "Medication Management" W:HBHCI=8 "Personal Care" W:HBHCI=9 "Infection Control" W:HBHCI=10 "End of Life Issues" W:HBHCI=11 "Other"
"RTN","HBHCWORK",55,0)
 W " Training Date:",?40,HBHCY40 W:HBHCI=11 !!,?32,"Topic:",?40,HBHCY40 W !?3,"Previous Training Date(s):"
"RTN","HBHCWORK",56,0)
 Q
"RTN","HBHCWORK",57,0)
LOOP ; Write previous Inspection & Training data
"RTN","HBHCWORK",58,0)
 S HBHCJ=0
"RTN","HBHCWORK",59,0)
 F  S HBHCJ=$O(^HBHC(633.2,HBHCMFHP,HBHCI,HBHCJ)) Q:HBHCJ'>0  S HBHCNODE=$G(^HBHC(633.2,HBHCMFHP,HBHCI,HBHCJ,0)) S Y=$P(HBHCNODE,U) D DD^%DT D:HBHCI<5 NAME W:HBHCI<5 !?13,Y,?43,"Name:  ",$S(HBHCPRV]"":HBHCPRV,1:"") W:HBHCI>4 !?6,Y D TOPIC
"RTN","HBHCWORK",60,0)
 Q
"RTN","HBHCWORK",61,0)
TOPIC ; Write Other Training Topic, if exists
"RTN","HBHCWORK",62,0)
 W:HBHCI=11 ?40,"Topic:  ",$P(HBHCNODE,U,2)
"RTN","HBHCWORK",63,0)
 Q
"RTN","HBHCWORK",64,0)
NAME ; Obtain Provider Name from VA(200 file
"RTN","HBHCWORK",65,0)
 N Y
"RTN","HBHCWORK",66,0)
 K DA,DIC,DR,^UTILITY("DIQ1",$J)
"RTN","HBHCWORK",67,0)
 S DIC=200,DR=.01,DA=$P(HBHCNODE,U,2) D EN^DIQ1
"RTN","HBHCWORK",68,0)
 S HBHCPRV=^UTILITY("DIQ1",$J,200,DA,DR)
"RTN","HBHCWORK",69,0)
 K DA,DIC,DR,^UTILITY("DIQ1",$J)
"RTN","HBHCWORK",70,0)
 Q
"RTN","HBHCXMA")
0^22^B38006559^B26593993
"RTN","HBHCXMA",1,0)
HBHCXMA ; LR VAMC(IRMS)/MJT-HBHC populate ^HBHC(634) with Evaluation/Admission Data or ^HBHC(634.1), file of records in ^HBHC(631) containing missing/erroneous data, called by ^HBHCFILE, calls ^HBHCXMA1 ;9/02
"RTN","HBHCXMA",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**1,6,9,19,24**;NOV 01, 1993;Build 201
"RTN","HBHCXMA",3,0)
 D START^HBHCXMA1
"RTN","HBHCXMA",4,0)
LOOP ; Loop thru ^HBHC(631) "AE","N" cross-ref to create nodes in ^HBHC(634) => transmit or ^HBHC(634.1) => Evaluation/Admission Error(s) file
"RTN","HBHCXMA",5,0)
 S HBHCDFN="" F  S HBHCDFN=$O(^HBHC(631,"AE","N",HBHCDFN)) Q:HBHCDFN=""  S HBHCFLG=1 D SETNODE I HBHCFLG D:HBHCDR="" TRANS D:HBHCDR]"" ERROR^HBHCXMA1
"RTN","HBHCXMA",6,0)
EXIT ; Exit module
"RTN","HBHCXMA",7,0)
 D EXIT^HBHCXMA1
"RTN","HBHCXMA",8,0)
 Q
"RTN","HBHCXMA",9,0)
SETNODE ; Set node in ^HBHC(634) (Transmit) or ^HBHC(634.1) Evaluation/Admission Error(s))
"RTN","HBHCXMA",10,0)
 S HBHCINFO=^HBHC(631,HBHCDFN,0),HBHCXMT3=$P($G(^HBHC(631,HBHCDFN,1)),U,17)
"RTN","HBHCXMA",11,0)
 ; Quit if admission date is greater than HBHCLSDT (last date to include in transmit set up in ^HBHCFILE)
"RTN","HBHCXMA",12,0)
 I $P(HBHCINFO,U,18)>HBHCLSDT S HBHCFLG=0 Q
"RTN","HBHCXMA",13,0)
 S HBHCDPT0=^DPT(+HBHCINFO,0),HBHCDR=""
"RTN","HBHCXMA",14,0)
 S DFN=+HBHCINFO K VADM D DEM^VADPT D RACE,ETH
"RTN","HBHCXMA",15,0)
 S HBHCAFLG=0 F HBHCK=19:1:37 Q:HBHCAFLG  S:$P(HBHCINFO,U,HBHCK)]"" HBHCAFLG=1
"RTN","HBHCXMA",16,0)
 S HBHCRFLG=0 S:($P(HBHCINFO,U,16)]"")!($P(HBHCINFO,U,17)]"") HBHCRFLG=1
"RTN","HBHCXMA",17,0)
 S HBHCADDT=$S($P(HBHCINFO,U,18)]"":$E($P(HBHCINFO,U,18),4,5)_$E($P(HBHCINFO,U,18),6,7)_(1700+$E($P(HBHCINFO,U,18),1,3)),1:HBHCSP8)
"RTN","HBHCXMA",18,0)
 ; Use Evaluation Date for historical 'Reject' purposes 
"RTN","HBHCXMA",19,0)
 S:HBHCADDT=HBHCSP8 HBHCADDT=$S($P(HBHCINFO,U,2)]"":$E($P(HBHCINFO,U,2),4,5)_$E($P(HBHCINFO,U,2),6,7)_(1700+$E($P(HBHCINFO,U,2),1,3)),1:HBHCSP8)
"RTN","HBHCXMA",20,0)
 S:HBHCADDT=HBHCSP8 HBHCDR=HBHCDR_"17;"
"RTN","HBHCXMA",21,0)
 S HBHCST=$S($P(HBHCINFO,U,3)]"":$P(^DIC(5,(+^HBHC(631.8,($P(HBHCINFO,U,3)),0)),0),U,3),1:"") S:HBHCST="" HBHCDR=HBHCDR_"2;"
"RTN","HBHCXMA",22,0)
 S HBHCCNTY="" S:(($P(HBHCINFO,U,3)]"")&($P(HBHCINFO,U,4)]"")) HBHCCNTY=$P($G(^DIC(5,(+^HBHC(631.8,($P(HBHCINFO,U,3)),0)),1,$P(HBHCINFO,U,4),0)),U,3) S:HBHCCNTY="" HBHCDR=HBHCDR_"3;"
"RTN","HBHCXMA",23,0)
 S HBHCZIP=$S($P(HBHCINFO,U,5)]"":$P(HBHCINFO,U,5),1:"") S:HBHCZIP="" HBHCDR=HBHCDR_"4;"
"RTN","HBHCXMA",24,0)
 I $P(HBHCINFO,U,5)]"" S:$L(HBHCZIP)'=9 HBHCZIP=HBHCZIP_HBHCSP4
"RTN","HBHCXMA",25,0)
 S HBHCELGE=$S($P(HBHCINFO,U,6)]"":$P(HBHCINFO,U,6),1:"") S:HBHCELGE="" HBHCDR=HBHCDR_"5;"
"RTN","HBHCXMA",26,0)
 S HBHCBYR=$S($P(HBHCDPT0,U,3):1700+$E($P(HBHCDPT0,U,3),1,3),1:"0000")
"RTN","HBHCXMA",27,0)
 S HBHCPSRV=$S($P(HBHCINFO,U,8)]"":$P(^HBHC(631.7,$P(HBHCINFO,U,8),0),U),1:"") S:HBHCPSRV="" HBHCDR=HBHCDR_"7;"
"RTN","HBHCXMA",28,0)
 S HBHCSX=$P(HBHCDPT0,U,2),HBHCSEX=$S(HBHCSX="M":1,1:2)
"RTN","HBHCXMA",29,0)
 ; Obsolete with Race/Ethnicity Info Jan 2003 mandate; commented out historical reference; HBHCRC set to X in HBHCXMA1  mjt
"RTN","HBHCXMA",30,0)
 ;S HBHCRC=$S($P(HBHCDPT0,U,6)]"":$P(^DIC(10,$P(HBHCDPT0,U,6),0),U,2),1:""),HBHCRACE=$S(HBHCRC=6:1,HBHCRC=4:2,(HBHCRC=1)!(HBHCRC=2):3,HBHCRC=3:4,HBHCRC=5:5,1:9)
"RTN","HBHCXMA",31,0)
 F HBHCI=1:1:4 S HBHCFLD=$P(HBHCFLD1,U,HBHCI) S @HBHCFLD=$S($P(HBHCINFO,U,HBHCI+10)]"":$P(HBHCINFO,U,HBHCI+10),1:"") S:@HBHCFLD="" HBHCDR=HBHCDR_(HBHCI+9)_";"
"RTN","HBHCXMA",32,0)
 S HBHCRFIN=$S($P($G(^HBHC(631,HBHCDFN,1)),U,29)]"":$P($G(^HBHC(631,HBHCDFN,1)),U,29),1:HBHCSP1)
"RTN","HBHCXMA",33,0)
 S HBHCACTN=$S($P(HBHCINFO,U,15)]"":$P(HBHCINFO,U,15),1:"") I (HBHCACTN="")!((HBHCACTN=1)&(HBHCRFLG=1))!((HBHCACTN=2)&(HBHCAFLG=1)) S HBHCDR=HBHCDR_"14;" Q
"RTN","HBHCXMA",34,0)
 S HBHCREJ=$S($P(HBHCINFO,U,16)]"":$P(^HBHC(631.1,$P(HBHCINFO,U,16),0),U),1:HBHCSP2) S:(HBHCACTN=2)&(HBHCREJ=HBHCSP2) HBHCDR=HBHCDR_"15;"
"RTN","HBHCXMA",35,0)
 S HBHCREJD=$S($P(HBHCINFO,U,17)]"":$P(HBHCINFO,U,17),1:HBHCSP1) S:(HBHCACTN=2)&(HBHCREJD=HBHCSP1) HBHCDR=HBHCDR_"16;"
"RTN","HBHCXMA",36,0)
 S HBHCICDA=$S($P(HBHCINFO,U,19)]"":$P($P(^ICD9($P(HBHCINFO,U,19),0),U),".")_$P($P(^ICD9($P(HBHCINFO,U,19),0),U),".",2),1:HBHCSP6) S:$L(HBHCICDA)<6 HBHCICDA=HBHCICDA_$J("",6-$L(HBHCICDA)) S:(HBHCACTN=1)&(HBHCICDA=HBHCSP6) HBHCDR=HBHCDR_"18;"
"RTN","HBHCXMA",37,0)
 F HBHCJ=1:1:18 S HBHCFLD=$P(HBHCFLD2,U,HBHCJ) S @HBHCFLD=$S($P(HBHCINFO,U,HBHCJ+19)]"":$P(HBHCINFO,U,HBHCJ+19),1:HBHCSP1) S:(HBHCACTN=1)&(@HBHCFLD=HBHCSP1) HBHCDR=HBHCDR_(HBHCJ+18)_";"
"RTN","HBHCXMA",38,0)
 ; Set field values = null
"RTN","HBHCXMA",39,0)
 S HBHCMPT=HBHCSP1,HBHCIEN=HBHCSP5,HBHCRTDT=HBHCSP8,HBHCRTPD=HBHCSP6
"RTN","HBHCXMA",40,0)
 ; Check whether MFH site; Only validate data if Action = Admit
"RTN","HBHCXMA",41,0)
 D MFHS^HBHCUTL3 I HBHCACTN=1 D:$D(HBHCMFHS) MFH
"RTN","HBHCXMA",42,0)
 Q:HBHCDR]""
"RTN","HBHCXMA",43,0)
 ; HBHCCDTS (HBHC Creation Date/Time/Seconds) is used as unique record identifier on Austin end, seconds must be included for likelihood of being unique
"RTN","HBHCXMA",44,0)
NOW ; Get time NOW, repeat until Hours/Minutes/Seconds = 6 digits in length
"RTN","HBHCXMA",45,0)
 D NOW^%DTC S HBHCX=$P(%,".",2) G:($L(HBHCX)'=6) NOW S HBHCCDTS=($E(%,4,5))_($E(%,6,7))_($S($E(%)=2:19,1:20))_($E(%,2,3))_HBHCX
"RTN","HBHCXMA",46,0)
 S HBHCNAME=$P(^DPT($P(HBHCINFO,U),0),U) S:$L(HBHCNAME)<HBHCLNTH HBHCNAME=HBHCNAME_$J("",HBHCLNTH-$L(HBHCNAME))
"RTN","HBHCXMA",47,0)
 S HBHCSSN=$P(^DPT($P(HBHCINFO,U),0),U,9)
"RTN","HBHCXMA",48,0)
 S HBHCREC=HBHCFORM_HBHCHOSP_HBHCSSN_HBHCADDT_HBHCST_HBHCCNTY_HBHCZIP_HBHCELGE_HBHCBYR_HBHCPSRV_HBHCSEX_HBHCRC_HBHCMARE_HBHCLIVE_HBHCCARE_HBHCTYPE_HBHCRFIN_HBHCACTN_HBHCREJ_HBHCREJD_HBHCNAME_HBHCICDA_HBHCVISA_HBHCHERA_HBHCEXCA
"RTN","HBHCXMA",49,0)
 S HBHCREC=HBHCREC_HBHCRECA_HBHCBTHA_HBHCDRSA_HBHCTLTA_HBHCTRNA_HBHCEATA_HBHCWLKA_HBHCBWLA_HBHCBLDA_HBHCMOBA_HBHCADTA_HBHCBHVA_HBHCDSOA_HBHCMODA_HBHCLMTA_HBHCRACE_HBHCETH_HBHCMPT_HBHCIEN_HBHCRTDT_HBHCRTPD_HBHCCDTS_HBHCSP16
"RTN","HBHCXMA",50,0)
 Q
"RTN","HBHCXMA",51,0)
RACE ; Race Jan 2003 mandate: 7 Race codes (w/corresponding Collection Method codes) exist, 4 additional 'slots' are for future expansion = 11 total for loop counter for data fill in transmit record
"RTN","HBHCXMA",52,0)
 S HBHCRACE="",HBHCEND=11,HBHCNODE=12,HBHCFIL=1
"RTN","HBHCXMA",53,0)
 D LOOP2
"RTN","HBHCXMA",54,0)
 S HBHCRACE=HBHCVAR
"RTN","HBHCXMA",55,0)
 Q
"RTN","HBHCXMA",56,0)
ETH ; Ethnicity Jan 2003 mandate: 4 Ethnicity codes (w/corresponding Collection Method codes) exist, 4 additional 'slots' are for future expansion = 8 total for loop counter for data fill in transmit record
"RTN","HBHCXMA",57,0)
 S HBHCETH="",HBHCEND=8,HBHCNODE=11,HBHCFIL=2
"RTN","HBHCXMA",58,0)
 D LOOP2
"RTN","HBHCXMA",59,0)
 S HBHCETH=HBHCVAR
"RTN","HBHCXMA",60,0)
 Q
"RTN","HBHCXMA",61,0)
LOOP2 ; Loop 2
"RTN","HBHCXMA",62,0)
 S HBHCVAR=""
"RTN","HBHCXMA",63,0)
 F HBHCL=1:1:HBHCEND S:'$D(VADM(HBHCNODE,HBHCL)) HBHCVAR=HBHCVAR_HBHCSP2 I $D(VADM(HBHCNODE,HBHCL)) D SET S HBHCVAR=HBHCVAR_HBHCPTFV_HBHCCM
"RTN","HBHCXMA",64,0)
 Q
"RTN","HBHCXMA",65,0)
SET ; Set PTF Value & Collection Method Variables
"RTN","HBHCXMA",66,0)
 S HBHCIENP=$P(VADM(HBHCNODE,HBHCL),U)
"RTN","HBHCXMA",67,0)
 S HBHCIEN2=$P(VADM(HBHCNODE,HBHCL,1),U)
"RTN","HBHCXMA",68,0)
 S HBHCPTFV=$$PTR2CODE^DGUTL4(HBHCIENP,HBHCFIL,HBHCPTF)
"RTN","HBHCXMA",69,0)
 S HBHCCM=$$PTR2CODE^DGUTL4(HBHCIEN2,HBHCT103,HBHCPTF)
"RTN","HBHCXMA",70,0)
 Q
"RTN","HBHCXMA",71,0)
TRANS ; Set node in ^HBHC(634) transmit file & flag record as 'F" (filed for transmit) in ^HBHC(631)
"RTN","HBHCXMA",72,0)
 L +^HBHC(634,0):$S($D(DILOCKTM):DILOCKTM,1:3) Q:'$T  S HBHCNDX1=$P(^HBHC(634,0),U,3)+1,$P(^HBHC(634,0),U,3)=HBHCNDX1,$P(^HBHC(634,0),U,4)=$P(^HBHC(634,0),U,4)+1 L -^HBHC(634,0)
"RTN","HBHCXMA",73,0)
 S $P(^HBHC(634,HBHCNDX1,0),U)=HBHCREC,^HBHC(634,"B",$E(HBHCREC,1,30),HBHCNDX1)=""
"RTN","HBHCXMA",74,0)
 L +^HBHC(631,HBHCDFN,1):$S($D(DILOCKTM):DILOCKTM,1:3) Q:'$T  K:HBHCXMT3]"" ^HBHC(631,"AE",HBHCXMT3,HBHCDFN) S $P(^HBHC(631,HBHCDFN,1),U,17)="F",^HBHC(631,"AE","F",HBHCDFN)="",$P(^HBHC(631,HBHCDFN,1),U,19)=HBHCTDY L -^HBHC(631,HBHCDFN,1)
"RTN","HBHCXMA",75,0)
 Q
"RTN","HBHCXMA",76,0)
MFH ; Medical Foster Home (MFH) processing; Check for existance of MFH fields:  89, 90 (.01 & 1), when 88 = Y signifying MFH Patient, in file 631; Set variables for HBHCREC
"RTN","HBHCXMA",77,0)
 S HBHCNOD3=$G(^HBHC(631,HBHCDFN,3))
"RTN","HBHCXMA",78,0)
 Q:$P(HBHCNOD3,U)'="Y"
"RTN","HBHCXMA",79,0)
 S:$P(HBHCNOD3,U)="Y" HBHCMPT="Y"
"RTN","HBHCXMA",80,0)
 S:$P(HBHCNOD3,U,2)="" HBHCDR=HBHCDR_"89;"
"RTN","HBHCXMA",81,0)
 S:$P(HBHCNOD3,U,2)]"" HBHCIEN=$P(HBHCNOD3,U,2) S:$L(HBHCIEN)<5 HBHCIEN=HBHCIEN_$J("",5-$L(HBHCIEN))
"RTN","HBHCXMA",82,0)
 ; Process Current Rate Only
"RTN","HBHCXMA",83,0)
 S (HBHCCURK,HBHCJ)=0 F  S HBHCJ=$O(^HBHC(631,HBHCDFN,4,"B",HBHCJ)) Q:HBHCJ'>0  S HBHCCURJ=HBHCJ,HBHCK=0 F  S HBHCK=$O(^HBHC(631,HBHCDFN,4,"B",HBHCJ,HBHCK)) Q:HBHCK'>0  S HBHCCURK=HBHCK
"RTN","HBHCXMA",84,0)
 S HBHC=$G(^HBHC(631,HBHCDFN,4,HBHCCURK,0))
"RTN","HBHCXMA",85,0)
 S:($P(HBHC,U)="")!($P(HBHC,U,2)="") HBHCDR=HBHCDR_"90;"
"RTN","HBHCXMA",86,0)
 S:$P(HBHC,U)]"" HBHCRTDT=$E($P(HBHC,U),4,7)_"20"_$E($P(HBHC,U),2,3)
"RTN","HBHCXMA",87,0)
 S:$P(HBHC,U,2)]"" HBHCRTPD=$P(HBHC,U,2)
"RTN","HBHCXMA",88,0)
 S:HBHCRTPD'=HBHCSP6 HBHCRTPD=$S($L(HBHCRTPD)=4:$E(HBHCRTPD,1,4)_"00",$L(HBHCRTPD)=5:$E(HBHCRTPD,1,4)_"00",$L(HBHCRTPD)=6:$E(HBHCRTPD,1,4)_$E(HBHCRTPD,6)_"0",1:$E(HBHCRTPD,1,4)_$E(HBHCRTPD,6,7))
"RTN","HBHCXMA",89,0)
 Q
"RTN","HBHCXMA1")
0^27^B12692745^B11373763
"RTN","HBHCXMA1",1,0)
HBHCXMA1 ; LR VAMC(IRMS)/MJT-HBHC, called by ^HBHCXMA, entry points: START, ERROR, EXIT, calls HOSP^HBHCUTL1 ; Jul 2000
"RTN","HBHCXMA1",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**2,6,14,19,24**;NOV 01, 1993;Build 201
"RTN","HBHCXMA1",3,0)
START ; Initialization
"RTN","HBHCXMA1",4,0)
 W !,"Processing Admission/Form 3 Data"
"RTN","HBHCXMA1",5,0)
 S HBHCFORM=3,$P(HBHCSP1," ",2)="",$P(HBHCSP2," ",3)="",$P(HBHCSP4," ",5)="",$P(HBHCSP5," ",6)="",$P(HBHCSP6," ",7)="",$P(HBHCSP8," ",9)="",$P(HBHCSP16," ",17)="",HBHCLNTH=30
"RTN","HBHCXMA1",6,0)
 D HOSP^HBHCUTL1
"RTN","HBHCXMA1",7,0)
 S HBHCFLD1="HBHCMARE^HBHCLIVE^HBHCCARE^HBHCTYPE"
"RTN","HBHCXMA1",8,0)
 S HBHCFLD2="HBHCVISA^HBHCHERA^HBHCEXCA^HBHCRECA^HBHCBTHA^HBHCDRSA^HBHCTLTA^HBHCTRNA^HBHCEATA^HBHCWLKA^HBHCBWLA^HBHCBLDA^HBHCMOBA^HBHCADTA^HBHCBHVA^HBHCDSOA^HBHCMODA^HBHCLMTA"
"RTN","HBHCXMA1",9,0)
 K %DT S X="T" D ^%DT S HBHCTDY=Y
"RTN","HBHCXMA1",10,0)
 ; Initialize variables passed for $$PRT2CODE^DGUTL4(VALUE,TYPE,CODE) calls
"RTN","HBHCXMA1",11,0)
 ; Following comments stolen from DGUTL4 routine:
"RTN","HBHCXMA1",12,0)
 ; Convert pointer to specified code
"RTN","HBHCXMA1",13,0)
 ; Input: VALUE - Pointer to RACE file (#10), ETHNICITY file (#10.2),
"RTN","HBHCXMA1",14,0)
 ;                or RACE AND ETHNICITY COLLECTION METHOD file (#10.3)
"RTN","HBHCXMA1",15,0)
 ;        TYPE - Flag indicating which file VALUE is for
"RTN","HBHCXMA1",16,0)
 ;               1 = Race (default)
"RTN","HBHCXMA1",17,0)
 ;               2 = Ethnicity
"RTN","HBHCXMA1",18,0)
 ;               3 = Collection Method
"RTN","HBHCXMA1",19,0)
 ;        CODE - Flag indicating which code to return
"RTN","HBHCXMA1",20,0)
 ;               1 = Abbreviation (default)
"RTN","HBHCXMA1",21,0)
 ;               2 = HL7
"RTN","HBHCXMA1",22,0)
 ;               3 = CDC (not applicable for Collection Method)
"RTN","HBHCXMA1",23,0)
 ;               4 = PTF
"RTN","HBHCXMA1",24,0)
 ; End of DGUTL4 comment theft  mjt
"RTN","HBHCXMA1",25,0)
 ; Race = 10, Ethnicity = 102, Collection Method = 103
"RTN","HBHCXMA1",26,0)
 ; Type
"RTN","HBHCXMA1",27,0)
 S HBHCT103=3
"RTN","HBHCXMA1",28,0)
 ; Code, PTF Value used for all files
"RTN","HBHCXMA1",29,0)
 S HBHCPTF=4
"RTN","HBHCXMA1",30,0)
 ; Race field set to "X" & became Historical only, beginning w/Jan 2003 new Race & Ethnicity Information fields mandate  mjt
"RTN","HBHCXMA1",31,0)
 S HBHCRC="X"
"RTN","HBHCXMA1",32,0)
 Q
"RTN","HBHCXMA1",33,0)
ERROR ; Set node in ^HBHC(634.1) if data is incomplete or proper fields invalid for 'Admit/Reject Action'
"RTN","HBHCXMA1",34,0)
 L +^HBHC(634.1,0):$S($D(DILOCKTM):DILOCKTM,1:3) Q:'$T  S HBHCNDX2=$P(^HBHC(634.1,0),U,3)+1,$P(^HBHC(634.1,0),U,3)=HBHCNDX2,$P(^HBHC(634.1,0),U,4)=$P(^HBHC(634.1,0),U,4)+1 L -^HBHC(634.1,0)
"RTN","HBHCXMA1",35,0)
 S ^HBHC(634.1,HBHCNDX2,0)=$P(HBHCINFO,U)_U_HBHCDFN,^HBHC(634.1,HBHCNDX2,1)=HBHCDR,^HBHC(634.1,"B",$P(HBHCINFO,U),HBHCNDX2)=""
"RTN","HBHCXMA1",36,0)
 Q
"RTN","HBHCXMA1",37,0)
EXIT ; Exit module => cleanup for HBHCXMA
"RTN","HBHCXMA1",38,0)
 K DILOCKTM,HBHC,HBHCACTN,HBHCADDT,HBHCADTA,HBHCAFLG,HBHCBHVA,HBHCBLDA,HBHCBTHA,HBHCBWLA,HBHCBYR,HBHCCM,HBHCCARE,HBHCCDTS,HBHCCNTY,HBHCCURJ,HBHCCURK,HBHCDATE,HBHCDFN,HBHCDPT0,HBHCDR,HBHCDRSA,HBHCDSOA,HBHCEATA,HBHCELGE,HBHCEND,HBHCETH
"RTN","HBHCXMA1",39,0)
 K HBHCEXCA,HBHCFIL,HBHCFLD,HBHCFLD1,HBHCFLD2,HBHCFLG,HBHCFORM,HBHCHERA,HBHCHOSP,HBHCI,HBHCICDA,HBHCIEN,HBHCIEN2,HBHCIENP,HBHCINFO,HBHCJ,HBHCK,HBHCL,HBHCLIVE,HBHCLMTA,HBHCLNTH,HBHCMARE,HBHCMFHP,HBHCMFHS,HBHCMOBA,HBHCMODA,HBHCMPT
"RTN","HBHCXMA1",40,0)
 K HBHCNAME,HBHCNDX1,HBHCNDX2,HBHCNOD3,HBHCNODE,HBHCPSRV,HBHCPTF,HBHCPTFV,HBHCRACE,HBHCRC,HBHCREC,HBHCRECA,HBHCREJ,HBHCREJD,HBHCRFIN,HBHCRFLG,HBHCRTDT,HBHCRTPD,HBHCSEX,HBHCSP1,HBHCSP16,HBHCSP2,HBHCSP4,HBHCSP5,HBHCSP6,HBHCSP8
"RTN","HBHCXMA1",41,0)
 K HBHCSSN,HBHCST,HBHCSX,HBHCT103,HBHCTDY,HBHCTLTA,HBHCTRNA,HBHCTYPE,HBHCVAR,HBHCVISA,HBHCWLKA,HBHCX,HBHCXMT3,HBHCZIP,X,Y,%DT
"RTN","HBHCXMA1",42,0)
 Q
"RTN","HBHCXMD")
0^23^B23836635^B22377789
"RTN","HBHCXMD",1,0)
HBHCXMD ; LR VAMC(IRMS)/MJT-HBHC populate ^HBHC(634) with Discharge Data or ^HBHC(634.3), file of records in ^HBHC(631) containing missing/erroneous data, called by ^HBHCFILE, calls ^HBHCXMD1 ;9804
"RTN","HBHCXMD",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**4,6,9,10,13,19,24**;NOV 01, 1993;Build 201
"RTN","HBHCXMD",3,0)
 D START^HBHCXMD1
"RTN","HBHCXMD",4,0)
LOOP ; Loop thru ^HBHC(631) "AF","N" cross-ref to create nodes in ^HBHC(634) => transmit or ^HBHC(634.3) => Discharge Error(s) file
"RTN","HBHCXMD",5,0)
 S HBHCDFN="" F  S HBHCDFN=$O(^HBHC(631,"AF","N",HBHCDFN)) Q:HBHCDFN=""  S HBHCFLG=1,HBHCCONT=0 D SETNODE I HBHCFLG D:HBHCCONT TRANS D:'HBHCCONT ERROR
"RTN","HBHCXMD",6,0)
EXIT ; Exit module
"RTN","HBHCXMD",7,0)
 D EXIT^HBHCXMD1
"RTN","HBHCXMD",8,0)
 Q
"RTN","HBHCXMD",9,0)
SETNODE ; Set node in ^HBHC(634) (Transmit) or ^HBHC(634.3) (Discharge Error(s))
"RTN","HBHCXMD",10,0)
 S HBHCNOD0=^HBHC(631,HBHCDFN,0),HBHCNOD1=$G(^HBHC(631,HBHCDFN,1)),HBHCXMT5=$P(HBHCNOD1,U,18)
"RTN","HBHCXMD",11,0)
 ; Quit if discharge date is greater than HBHCLSDT (last date to include in transmit set up in ^HBHCFILE)
"RTN","HBHCXMD",12,0)
 I $P(HBHCNOD0,U,40)>HBHCLSDT S HBHCFLG=0 Q
"RTN","HBHCXMD",13,0)
 S (HBHCDR1,HBHCDR2,HBHCDR3,HBHCDR4,HBHCDR5)=""
"RTN","HBHCXMD",14,0)
 S HBHCTFLG=0 S:($P(HBHCNOD0,U,45)]"")!($P(HBHCNOD0,U,46)]"") HBHCTFLG=1
"RTN","HBHCXMD",15,0)
 S HBHCDFLG=0 F HBHCL=47:1:55 Q:HBHCDFLG  S:$P(HBHCNOD0,U,HBHCL)]"" HBHCDFLG=1
"RTN","HBHCXMD",16,0)
 I HBHCNOD1]"" F HBHCM=1:1:10 Q:HBHCDFLG  S:$P(HBHCNOD1,U,HBHCM)]"" HBHCDFLG=1
"RTN","HBHCXMD",17,0)
 S HBHCADDT=$S($P(HBHCNOD0,U,18)]"":$E($P(HBHCNOD0,U,18),4,5)_$E($P(HBHCNOD0,U,18),6,7)_(1700+$E($P(HBHCNOD0,U,18),1,3)),$P(HBHCNOD0,U,2)]"":$E($P(HBHCNOD0,U,2),4,5)_$E($P(HBHCNOD0,U,2),6,7)_(1700+$E($P(HBHCNOD0,U,2),1,3)),1:"")
"RTN","HBHCXMD",18,0)
 S HBHCDSDT=$S($P(HBHCNOD0,U,40)]"":$E($P(HBHCNOD0,U,40),4,5)_$E($P(HBHCNOD0,U,40),6,7)_(1700+$E($P(HBHCNOD0,U,40),1,3)),1:"")
"RTN","HBHCXMD",19,0)
 K HBHCDDTA F HBHCI=1:1:4 S HBHCFLD=$P(HBHCFLD1,U,HBHCI) S:HBHCFLD]"" HBHCDDTA=1 S @HBHCFLD=$S($P(HBHCNOD0,U,HBHCI+40)]"":$P(HBHCNOD0,U,HBHCI+40),1:"") D:@HBHCFLD="" DFLT1^HBHCXMD1
"RTN","HBHCXMD",20,0)
 S:((HBHCDSDT="")&((HBHCDFLG=1)!(HBHCTFLG=1)!($D(HBHCDDTA)))) HBHCDR1="39;"_HBHCDR1
"RTN","HBHCXMD",21,0)
 Q:HBHCSTAT=""
"RTN","HBHCXMD",22,0)
 I HBHCSTAT=4 I (HBHCDFLG)!(HBHCTFLG) S HBHCDR1=HBHCDR1_"43;" Q
"RTN","HBHCXMD",23,0)
 I (HBHC359[(U_HBHCSTAT_U))&(HBHCTFLG) S HBHCDR1=HBHCDR1_"43;" Q
"RTN","HBHCXMD",24,0)
 I HBHCNOD1]"" I ($P(HBHCNOD1,U,15)]"")&(HBHCSTAT'=4) S HBHCDR1=HBHCDR1_"43;" Q
"RTN","HBHCXMD",25,0)
 S HBHCDEST=$S($P(HBHCNOD0,U,45)]"":$P(HBHCNOD0,U,45),1:HBHCSP1) S:(HBHC12[(U_HBHCSTAT_U))&(HBHCDEST=HBHCSP1) HBHCDR1=HBHCDR1_"44;"
"RTN","HBHCXMD",26,0)
 S HBHCAGCY=$S($P(HBHCNOD0,U,46)]"":$P(HBHCNOD0,U,46),1:HBHCSP1) S:(HBHC12[(U_HBHCSTAT_U))&(HBHCAGCY=HBHCSP1) HBHCDR1=HBHCDR1_"45;"
"RTN","HBHCXMD",27,0)
 S HBHCICDD=$S($P(HBHCNOD0,U,47)]"":$P($P(^ICD9($P(HBHCNOD0,U,47),0),U),".")_$P($P(^ICD9($P(HBHCNOD0,U,47),0),U),".",2),1:HBHCSP6) S:$L(HBHCICDD)<6 HBHCICDD=HBHCICDD_$J("",6-$L(HBHCICDD)) D:(HBHCSTAT'=4)&(HBHCICDD=HBHCSP6) ICDDFLT^HBHCXMD1
"RTN","HBHCXMD",28,0)
 F HBHCJ=1:1:8 S HBHCFLD=$P(HBHCFLD2,U,HBHCJ) S @HBHCFLD=$S($P(HBHCNOD0,U,HBHCJ+47)]"":$P(HBHCNOD0,U,HBHCJ+47),1:HBHCSP1) D:(HBHCSTAT'=4)&(@HBHCFLD=HBHCSP1) DFLT2^HBHCXMD1
"RTN","HBHCXMD",29,0)
 F HBHCK=1:1:10 S HBHCFLD=$P(HBHCFLD3,U,HBHCK) S @HBHCFLD=$S($P(HBHCNOD1,U,HBHCK)]"":$P(HBHCNOD1,U,HBHCK),1:HBHCSP1) D:(HBHCSTAT'=4)&(@HBHCFLD=HBHCSP1) DFLT3^HBHCXMD1
"RTN","HBHCXMD",30,0)
 Q:(HBHCADDT="")!(HBHCDR1]"")!(HBHCDR2]"")!(HBHCDR3]"")!(HBHCDR4]"")!(HBHCDR5]"")
"RTN","HBHCXMD",31,0)
 S HBHCCONT=1
"RTN","HBHCXMD",32,0)
 S HBHCNAME=$E($P(^DPT($P(HBHCNOD0,U),0),U),1,5) S:$L(HBHCNAME)<HBHCLNTH HBHCNAME=HBHCNAME_$J("",HBHCLNTH-$L(HBHCNAME))
"RTN","HBHCXMD",33,0)
 S HBHCSSN=$P(^DPT($P(HBHCNOD0,U),0),U,9)
"RTN","HBHCXMD",34,0)
 S HBHCREC=HBHCFORM_HBHCHOSP_HBHCSSN_HBHCDSDT_HBHCELGD_HBHCMARD_HBHCLIVD_HBHCSTAT_HBHCDEST_HBHCAGCY_HBHCADDT_HBHCNAME_HBHCICDD_HBHCVISD_HBHCHERD_HBHCEXCD_HBHCRECD_HBHCBTHD_HBHCDRSD_HBHCTLTD_HBHCTRND_HBHCEATD_HBHCWLKD_HBHCBWLD_HBHCBLDD
"RTN","HBHCXMD",35,0)
 S HBHCREC=HBHCREC_HBHCMOBD_HBHCADTD_HBHCBHVD_HBHCDSOD_HBHCMODD_HBHCLMTD_HBHCS131
"RTN","HBHCXMD",36,0)
 Q
"RTN","HBHCXMD",37,0)
TRANS ; Set node in ^HBHC(634) transmit file & flag record as 'F" (filed for transmit) in ^HBHC(631)
"RTN","HBHCXMD",38,0)
 L +^HBHC(634,0):$S($D(DILOCKTM):DILOCKTM,1:3) Q:'$T  S HBHCNDX1=$P(^HBHC(634,0),U,3)+1,$P(^HBHC(634,0),U,3)=HBHCNDX1,$P(^HBHC(634,0),U,4)=$P(^HBHC(634,0),U,4)+1 L -^HBHC(634,0)
"RTN","HBHCXMD",39,0)
 S $P(^HBHC(634,HBHCNDX1,0),U)=HBHCREC,^HBHC(634,"B",$E(HBHCREC,1,30),HBHCNDX1)=""
"RTN","HBHCXMD",40,0)
 L +^HBHC(631,HBHCDFN,1):$S($D(DILOCKTM):DILOCKTM,1:3) Q:'$T  K:HBHCXMT5]"" ^HBHC(631,"AF",HBHCXMT5,HBHCDFN) S $P(^HBHC(631,HBHCDFN,1),U,18)="F",^HBHC(631,"AF","F",HBHCDFN)="",$P(^HBHC(631,HBHCDFN,1),U,22)=HBHCTDY L -^HBHC(631,HBHCDFN,1)
"RTN","HBHCXMD",41,0)
 Q
"RTN","HBHCXMD",42,0)
ERROR ; Set node in ^HBHC(634.3) if data is incomplete or proper fields invalid for 'Discharge Status'
"RTN","HBHCXMD",43,0)
 L +^HBHC(634.3,0):$S($D(DILOCKTM):DILOCKTM,1:3) Q:'$T  S HBHCNDX2=$P(^HBHC(634.3,0),U,3)+1,$P(^HBHC(634.3,0),U,3)=HBHCNDX2,$P(^HBHC(634.3,0),U,4)=$P(^HBHC(634.3,0),U,4)+1 L -^HBHC(634.3,0)
"RTN","HBHCXMD",44,0)
 S ^HBHC(634.3,HBHCNDX2,0)=$P(HBHCNOD0,U)_U_HBHCDFN
"RTN","HBHCXMD",45,0)
 S:HBHCDR1]"" ^HBHC(634.3,HBHCNDX2,1)=HBHCDR1
"RTN","HBHCXMD",46,0)
 S:HBHCDR2]"" ^HBHC(634.3,HBHCNDX2,2)=HBHCDR2
"RTN","HBHCXMD",47,0)
 S:HBHCDR3]"" ^HBHC(634.3,HBHCNDX2,3)=HBHCDR3
"RTN","HBHCXMD",48,0)
 S:HBHCDR4]"" ^HBHC(634.3,HBHCNDX2,4)=HBHCDR4
"RTN","HBHCXMD",49,0)
 S:HBHCDR5]"" ^HBHC(634.3,HBHCNDX2,5)=HBHCDR5
"RTN","HBHCXMD",50,0)
 S ^HBHC(634.3,"B",$P(HBHCNOD0,U),HBHCNDX2)=""
"RTN","HBHCXMD",51,0)
 Q
"RTN","HBHCXMD1")
0^24^B14260181^B14611933
"RTN","HBHCXMD1",1,0)
HBHCXMD1 ; LR VAMC(IRMS)/MJT-HBHC, called by ^HBHCXMD, calls HOSP^HBHCUTL1 ;9203
"RTN","HBHCXMD1",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**2,6,19,24**;NOV 01, 1993;Build 201
"RTN","HBHCXMD1",3,0)
START ; Initialization
"RTN","HBHCXMD1",4,0)
 W !,"Processing Discharge/Form 5 Data"
"RTN","HBHCXMD1",5,0)
 S HBHCFORM=5,HBHC12="^1^2^",HBHC359="^3^5^9^",$P(HBHCSP1," ",2)="",$P(HBHCSP4," ",5)="",$P(HBHCSP6," ",7)="",$P(HBHCS131," ",132)="",HBHCLNTH=5
"RTN","HBHCXMD1",6,0)
 D HOSP^HBHCUTL1
"RTN","HBHCXMD1",7,0)
 S HBHCFLD1="HBHCELGD^HBHCMARD^HBHCLIVD^HBHCSTAT"
"RTN","HBHCXMD1",8,0)
 S HBHCFLD2="HBHCVISD^HBHCHERD^HBHCEXCD^HBHCRECD^HBHCBTHD^HBHCDRSD^HBHCTLTD^HBHCTRND"
"RTN","HBHCXMD1",9,0)
 S HBHCFLD3="HBHCEATD^HBHCWLKD^HBHCBWLD^HBHCBLDD^HBHCMOBD^HBHCADTD^HBHCBHVD^HBHCDSOD^HBHCMODD^HBHCLMTD"
"RTN","HBHCXMD1",10,0)
 K %DT S X="T" D ^%DT S HBHCTDY=Y
"RTN","HBHCXMD1",11,0)
 Q
"RTN","HBHCXMD1",12,0)
DFLT1 ; Process fields 5, 10, & 11 as default values for fields 40, 41 & 42
"RTN","HBHCXMD1",13,0)
 S HBHCX=$S(HBHCI=1:6,HBHCI=2:11,HBHCI=3:12,1:""),HBHCDFLT=""
"RTN","HBHCXMD1",14,0)
 S:$P(HBHCNOD0,U,HBHCX)]"" HBHCDFLT=$P($P(^DD(631,(HBHCX-1),0),($P(HBHCNOD0,U,HBHCX)_":"),2),";")
"RTN","HBHCXMD1",15,0)
 S HBHCDR1=$S(HBHCDFLT]"":HBHCDR1_(HBHCI+39)_"//"_HBHCDFLT_";",1:HBHCDR1_(HBHCI+39)_";")
"RTN","HBHCXMD1",16,0)
 Q
"RTN","HBHCXMD1",17,0)
ICDDFLT ; Process field 18 as default value for field 46
"RTN","HBHCXMD1",18,0)
 S HBHCDFLT=""
"RTN","HBHCXMD1",19,0)
 S:$P(HBHCNOD0,U,19)]"" HBHCDFLT=$P(^ICD9($P(HBHCNOD0,U,19),0),U)
"RTN","HBHCXMD1",20,0)
 S HBHCDR1=$S(HBHCDFLT]"":HBHCDR1_"46//"_HBHCDFLT_";",1:HBHCDR1_"46;")
"RTN","HBHCXMD1",21,0)
 Q
"RTN","HBHCXMD1",22,0)
DFLT2 ; Process fields 19 - 26 as default values for fields 47 - 54
"RTN","HBHCXMD1",23,0)
 S HBHCDFLT=""
"RTN","HBHCXMD1",24,0)
 S:(HBHCJ=3)&($P(HBHCNOD0,U,22)]"") HBHCDFLT=$P(^HBHC(631.2,$P(HBHCNOD0,U,22),0),U)
"RTN","HBHCXMD1",25,0)
 S:(HBHCJ=4)&($P(HBHCNOD0,U,23)]"") HBHCDFLT=$P(^HBHC(631.3,$P(HBHCNOD0,U,23),0),U)
"RTN","HBHCXMD1",26,0)
 S:(HBHCJ'=3)&(HBHCJ'=4)&($P(HBHCNOD0,U,HBHCJ+19)]"") HBHCDFLT=$P($P(^DD(631,(HBHCJ+18),0),($P(HBHCNOD0,U,HBHCJ+19)_":"),2),";")
"RTN","HBHCXMD1",27,0)
 S:(HBHCJ=1)!(HBHCJ=2) HBHCDR1=$S(HBHCDFLT]"":HBHCDR1_(HBHCJ+46)_"//"_HBHCDFLT_";",1:HBHCDR1_(HBHCJ+46)_";")
"RTN","HBHCXMD1",28,0)
 S:(HBHCJ=3)!(HBHCJ=4)!(HBHCJ=5) HBHCDR2=$S(HBHCDFLT]"":HBHCDR2_(HBHCJ+46)_"//"_HBHCDFLT_";",1:HBHCDR2_(HBHCJ+46)_";")
"RTN","HBHCXMD1",29,0)
 S:(HBHCJ=6)!(HBHCJ=7)!(HBHCJ=8) HBHCDR3=$S(HBHCDFLT]"":HBHCDR3_(HBHCJ+46)_"//"_HBHCDFLT_";",1:HBHCDR3_(HBHCJ+46)_";")
"RTN","HBHCXMD1",30,0)
 Q
"RTN","HBHCXMD1",31,0)
DFLT3 ; Process fields 27 - 36 as default values for fields 55 - 64
"RTN","HBHCXMD1",32,0)
 S HBHCDFLT=""
"RTN","HBHCXMD1",33,0)
 S:$P(HBHCNOD0,U,HBHCK+27)]"" HBHCDFLT=$P($P(^DD(631,(HBHCK+26),0),($P(HBHCNOD0,U,HBHCK+27)_":"),2),";")
"RTN","HBHCXMD1",34,0)
 S:HBHCK=1 HBHCDR3=$S(HBHCDFLT]"":HBHCDR3_(HBHCK+54)_"//"_HBHCDFLT_";",1:HBHCDR3_(HBHCK+54)_";")
"RTN","HBHCXMD1",35,0)
 S:(HBHCK>1)&(HBHCK<6) HBHCDR4=$S(HBHCDFLT]"":HBHCDR4_(HBHCK+54)_"//"_HBHCDFLT_";",1:HBHCDR4_(HBHCK+54)_";")
"RTN","HBHCXMD1",36,0)
 S:HBHCK>5 HBHCDR5=$S(HBHCDFLT]"":HBHCDR5_(HBHCK+54)_"//"_HBHCDFLT_";",1:HBHCDR5_(HBHCK+54)_";")
"RTN","HBHCXMD1",37,0)
 Q
"RTN","HBHCXMD1",38,0)
EXIT ; Exit module
"RTN","HBHCXMD1",39,0)
 K DILOCKTM,HBHC12,HBHC359,HBHCADDT,HBHCADTD,HBHCAGCY,HBHCBHVD,HBHCBLDD,HBHCBTHD,HBHCBWLD,HBHCCONT,HBHCDATE,HBHCDDTA,HBHCDEST,HBHCDFLG,HBHCDFLT,HBHCDFN,HBHCDR1,HBHCDR2,HBHCDR3,HBHCDR3,HBHCDR4,HBHCDR5,HBHCDRSD,HBHCDSDT,HBHCDSOD,HBHCEATD
"RTN","HBHCXMD1",40,0)
 K HBHCELGD,HBHCEXCD,HBHCFLD,HBHCFLD1,HBHCFLD2,HBHCFLD3,HBHCFLG,HBHCFORM,HBHCHERD,HBHCHOSP,HBHCI,HBHCICDD,HBHCJ,HBHCK,HBHCL,HBHCLIVD,HBHCLMTD,HBHCLNTH,HBHCM,HBHCMARD,HBHCMOBD,HBHCMODD,HBHCNAME,HBHCNDX1,HBHCNDX2,HBHCNOD0
"RTN","HBHCXMD1",41,0)
 K HBHCNOD1,HBHCREC,HBHCRECD,HBHCSP1,HBHCS131,HBHCSP4,HBHCSP6,HBHCSSN,HBHCSTAT,HBHCTDY,HBHCTFLG,HBHCTLTD,HBHCTRND,HBHCVISD,HBHCWLKD,HBHCX,HBHCXMT5,X,Y,%DT
"RTN","HBHCXMD1",42,0)
 Q
"RTN","HBHCXMM")
0^14^B18340144^n/a
"RTN","HBHCXMM",1,0)
HBHCXMM ; LR VAMC(IRMS)/MJT-HBHC populate ^HBHC(634) with Medical Foster Home (MFH) Data or ^HBHC(634.7, file of records in ^HBHC(633.2) containing missing data, called by ^HBHCFILE, calls HOSP^HBHCUTL1 ;1/08
"RTN","HBHCXMM",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**24**;NOV 01, 1993;Build 201
"RTN","HBHCXMM",3,0)
START ; Initialization
"RTN","HBHCXMM",4,0)
 W !,"Processing Medical Foster Home Form 7 Data"
"RTN","HBHCXMM",5,0)
 S HBHCFORM=7,$P(HBHCSP4," ",5)="",$P(HBHCSP8," ",9)="",$P(HBHCS101," ",102)="",HBHCLNTH=30
"RTN","HBHCXMM",6,0)
 D HOSP^HBHCUTL1
"RTN","HBHCXMM",7,0)
LOOP ; Loop thru ^HBHC(633.2) "AC","N" cross-ref to create nodes in ^HBHC(634) => transmit or ^HBHC(634.7) => Medical Foster Home Error(s) file
"RTN","HBHCXMM",8,0)
 S HBHCDFN="" F  S HBHCDFN=$O(^HBHC(633.2,"AC","N",HBHCDFN)) Q:HBHCDFN=""  S HBHCFLG=1 D SETNODE I HBHCFLG D:HBHCDR="" TRANS D:HBHCDR]"" ERROR
"RTN","HBHCXMM",9,0)
EXIT ; Exit module
"RTN","HBHCXMM",10,0)
 K DILOCKTM,HBHCBEDM,HBHCCDOB,HBHCCDTS,HBHCCLOS,HBHCCNTY,HBHCDFN,HBHCDR,HBHCFLG,HBHCFORM,HBHCHOSP,HBHCIEN,HBHCINFO,HBHCLNTH,HBHCLREQ,HBHCLSDT,HBHCMFHN,HBHCMXPT,HBHCNDX1,HBHCNDX2,HBHCOPEN,HBHCREC,HBHCS101,HBHCSP4,HBHCSP8,HBHCST
"RTN","HBHCXMM",11,0)
 K HBHCX,HBHCXMT7,HBHCZIP,%
"RTN","HBHCXMM",12,0)
 Q
"RTN","HBHCXMM",13,0)
SETNODE ; Set node in ^HBHC(634) (Transmit) or ^HBHC(634.7) Medical Foster Home Error(s))
"RTN","HBHCXMM",14,0)
 S HBHCINFO=^HBHC(633.2,HBHCDFN,0),HBHCXMT7=$P($G(^HBHC(633.2,HBHCDFN,12)),U)
"RTN","HBHCXMM",15,0)
 ; HBHCLSDT set here to make routine freestanding if needed
"RTN","HBHCXMM",16,0)
 S:'$D(HBHCLSDT) HBHCLSDT=DT
"RTN","HBHCXMM",17,0)
 ; Quit if Opened Date is greater than HBHCLSDT (last date to include in transmit set up in ^HBHCFILE)
"RTN","HBHCXMM",18,0)
 I $P(HBHCINFO,U,2)>HBHCLSDT S HBHCFLG=0 Q
"RTN","HBHCXMM",19,0)
 S HBHCDR=""
"RTN","HBHCXMM",20,0)
 S HBHCMFHN=$P(HBHCINFO,U) S:$L(HBHCMFHN)<HBHCLNTH HBHCMFHN=HBHCMFHN_$J("",HBHCLNTH-$L(HBHCMFHN))
"RTN","HBHCXMM",21,0)
 S HBHCST=$S($P(HBHCINFO,U,10)]"":$P(^DIC(5,(+^HBHC(631.8,($P(HBHCINFO,U,10)),0)),0),U,3),1:"") S:HBHCST="" HBHCDR=HBHCDR_"9;"
"RTN","HBHCXMM",22,0)
 S HBHCCNTY="" S:(($P(HBHCINFO,U,10)]"")&($P(HBHCINFO,U,15)]"")) HBHCCNTY=$P($G(^DIC(5,(+^HBHC(631.8,($P(HBHCINFO,U,10)),0)),1,$P(HBHCINFO,U,15),0)),U,3) S:HBHCCNTY="" HBHCDR=HBHCDR_"25;"
"RTN","HBHCXMM",23,0)
 S HBHCZIP=$S($P(HBHCINFO,U,11)]"":$P(HBHCINFO,U,11),1:"") S:HBHCZIP="" HBHCDR=HBHCDR_"10;"
"RTN","HBHCXMM",24,0)
 I $P(HBHCINFO,U,11)]"" S:$L(HBHCZIP)'=9 HBHCZIP=HBHCZIP_HBHCSP4
"RTN","HBHCXMM",25,0)
 S HBHCOPEN=$S($P(HBHCINFO,U,2)]"":$E($P(HBHCINFO,U,2),4,5)_$E($P(HBHCINFO,U,2),6,7)_(1700+$E($P(HBHCINFO,U,2),1,3)),1:HBHCSP8) S:HBHCOPEN=HBHCSP8 HBHCDR=HBHCDR_"1;"
"RTN","HBHCXMM",26,0)
 S HBHCCDOB=$S($P(HBHCINFO,U,16)]"":$E($P(HBHCINFO,U,16),4,5)_$E($P(HBHCINFO,U,16),6,7)_(1700+$E($P(HBHCINFO,U,16),1,3)),1:HBHCSP8) S:HBHCCDOB=HBHCSP8 HBHCDR=HBHCDR_"26;"
"RTN","HBHCXMM",27,0)
 S HBHCMXPT=$S($P(HBHCINFO,U,4)]"":$P(HBHCINFO,U,4),1:"") S:HBHCMXPT="" HBHCDR=HBHCDR_"3;"
"RTN","HBHCXMM",28,0)
 S HBHCBEDM=$S($P(HBHCINFO,U,5)]"":$P(HBHCINFO,U,5),1:"") S:HBHCBEDM="" HBHCDR=HBHCDR_"4;"
"RTN","HBHCXMM",29,0)
 S HBHCLREQ=$S($P(HBHCINFO,U,12)]"":$P(HBHCINFO,U,12),1:"") S:HBHCLREQ="" HBHCDR=HBHCDR_"11;"
"RTN","HBHCXMM",30,0)
 ; HBHCCLOS represents MFH Closure Date; field may be blank
"RTN","HBHCXMM",31,0)
 S HBHCCLOS=$S($P(HBHCINFO,U,6)]"":$E($P(HBHCINFO,U,6),4,5)_$E($P(HBHCINFO,U,6),6,7)_(1700+$E($P(HBHCINFO,U,6),1,3)),1:HBHCSP8)
"RTN","HBHCXMM",32,0)
 Q:HBHCDR]""
"RTN","HBHCXMM",33,0)
 ; Pad HBHCDFN to length of 5, without changing HBHCDFN, since used in loop
"RTN","HBHCXMM",34,0)
 S:$L(HBHCDFN)<5 HBHCIEN=HBHCDFN_$J("",5-$L(HBHCDFN))
"RTN","HBHCXMM",35,0)
 ; HBHCCDTS (HBHC Creation Date/Time/Seconds) is used as unique record identifier on Austin end, seconds must be included for likelihood of being unique
"RTN","HBHCXMM",36,0)
NOW ; Get time NOW, repeat until Hours/Minutes/Seconds = 6 digits in length
"RTN","HBHCXMM",37,0)
 D NOW^%DTC S HBHCX=$P(%,".",2) G:($L(HBHCX)'=6) NOW S HBHCCDTS=($E(%,4,5))_($E(%,6,7))_($S($E(%)=2:19,1:20))_($E(%,2,3))_HBHCX
"RTN","HBHCXMM",38,0)
 ; "H" represents HBPC record origin (vs. e.g. SCI (Spinal Cord Injury) record origin) 
"RTN","HBHCXMM",39,0)
 S HBHCREC=HBHCFORM_HBHCHOSP_HBHCMFHN_HBHCCDTS_"H"_HBHCIEN_HBHCST_HBHCCNTY_HBHCZIP_HBHCCDOB_HBHCMXPT_HBHCBEDM_HBHCLREQ_HBHCOPEN_HBHCCLOS_HBHCS101
"RTN","HBHCXMM",40,0)
 Q
"RTN","HBHCXMM",41,0)
TRANS ; Set node in ^HBHC(634) transmit file & flag record as 'F" (filed for transmit) in ^HBHC(633.2)
"RTN","HBHCXMM",42,0)
 L +^HBHC(634,0):$S($D(DILOCKTM):DILOCKTM,1:3) Q:'$T  S HBHCNDX1=$P(^HBHC(634,0),U,3)+1,$P(^HBHC(634,0),U,3)=HBHCNDX1,$P(^HBHC(634,0),U,4)=$P(^HBHC(634,0),U,4)+1 L -^HBHC(634,0)
"RTN","HBHCXMM",43,0)
 S $P(^HBHC(634,HBHCNDX1,0),U)=HBHCREC,^HBHC(634,"B",$E(HBHCREC,1,30),HBHCNDX1)=""
"RTN","HBHCXMM",44,0)
 L +^HBHC(633.2,HBHCDFN,12):$S($D(DILOCKTM):DILOCKTM,1:3) Q:'$T  K:HBHCXMT7]"" ^HBHC(633.2,"AC",HBHCXMT7,HBHCDFN)
"RTN","HBHCXMM",45,0)
 S $P(^HBHC(633.2,HBHCDFN,12),U)="F",^HBHC(633.2,"AC","F",HBHCDFN)="",$P(^HBHC(633.2,HBHCDFN,12),U,2)=HBHCCDTS L -^HBHC(633.2,HBHCDFN,12)
"RTN","HBHCXMM",46,0)
 Q
"RTN","HBHCXMM",47,0)
ERROR ; Set node in ^HBHC(634.7) if data is incomplete
"RTN","HBHCXMM",48,0)
 L +^HBHC(634.7,0):$S($D(DILOCKTM):DILOCKTM,1:3) Q:'$T  S HBHCNDX2=$P(^HBHC(634.7,0),U,3)+1,$P(^HBHC(634.7,0),U,3)=HBHCNDX2,$P(^HBHC(634.7,0),U,4)=$P(^HBHC(634.7,0),U,4)+1 L -^HBHC(634.7,0)
"RTN","HBHCXMM",49,0)
 S ^HBHC(634.7,HBHCNDX2,0)=HBHCDFN,^HBHC(634.7,HBHCNDX2,1)=HBHCDR,^HBHC(634.7,"B",HBHCDFN,HBHCNDX2)=""
"RTN","HBHCXMM",50,0)
 Q
"RTN","HBHCXMT")
0^19^B18610987^B16834536
"RTN","HBHCXMT",1,0)
HBHCXMT ; LR VAMC(IRMS)/MJT-HBHC create mail msgs (100 recs/125 char ea, max) from HBHC(634 file, transmit/Austin, set batch initial MM msg # & MM msg date in HBHC(631/632/633.2, set Last MM Date in HBHC(631.9, optionally prt rpt ;9803
"RTN","HBHCXMT",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**2,3,6,8,10,13,24**;NOV 01, 1993;Build 201
"RTN","HBHCXMT",3,0)
 ; routine calls HOSP^HBHCUTL1
"RTN","HBHCXMT",4,0)
 I $P(^HBHC(631.9,1,0),U,8)]"" W $C(7),!,"File Update in progress.  Please try again later." H 3 Q 
"RTN","HBHCXMT",5,0)
 I ($D(^HBHC(634.1,"B")))!($D(^HBHC(634.2,"B")))!($D(^HBHC(634.3,"B")))!($D(^HBHC(634.5,"B")))!($D(^HBHC(634.7,"B"))) W $C(7),!!,"Records containing errors exist and must be corrected before file can",!,"be transmitted.",!! H 3 Q
"RTN","HBHCXMT",6,0)
 I '$D(^HBHC(634,"B")) W $C(7),!!,"No data on file to transmit." H 3 Q
"RTN","HBHCXMT",7,0)
 I ('$D(^HBHC(631,"AE","F")))&('$D(^HBHC(631,"AF","F")))&('$D(^HBHC(632,"AC","F")))&('$D(^HBHC(633.2,"AC","F")))!($P(^HBHC(631.9,1,0),U,6)]"") W $C(7),!!,"Data on file has been transmitted to Austin; duplicate transmission not allowed." H 3 Q
"RTN","HBHCXMT",8,0)
 I $P(^HBHC(631.9,1,0),U,7)]"" S HBHCPRTR=$P($G(^%ZIS(1,$P(^HBHC(631.9,1,0),U,7),0)),U) I HBHCPRTR]"" W !,"Transmit Report will be printed on device:  ",HBHCPRTR W "." D PROMPT2^HBHCR15B
"RTN","HBHCXMT",9,0)
 S ZTRTN="DQ^HBHCXMT",ZTIO="",ZTDTH=$H,ZTDESC="HBPC Transmission",ZTSAVE("HBHC*")="" D ^%ZTLOAD,^%ZISC
"RTN","HBHCXMT",10,0)
 W $C(7),!!,"Transmission request has been queued.  Task number:  ",ZTSK,!! H 3
"RTN","HBHCXMT",11,0)
 G EXIT
"RTN","HBHCXMT",12,0)
DQ ; De-queue
"RTN","HBHCXMT",13,0)
 ; Set Transmission in Progress Flag
"RTN","HBHCXMT",14,0)
 S $P(^HBHC(631.9,1,0),U,6)=1
"RTN","HBHCXMT",15,0)
 K XMZ,%DT,^TMP("HBHC",$J)
"RTN","HBHCXMT",16,0)
 D HOSP^HBHCUTL1
"RTN","HBHCXMT",17,0)
 S X="T" D ^%DT S HBHCDT=Y,HBHCDATE=$E(HBHCDT,4,5)_"/"_$E(HBHCDT,6,7)_"/"_$E(HBHCDT,2,3)
"RTN","HBHCXMT",18,0)
 S (HBHCCNT,HBHCFLG,HBHCNODE)=0,HBHCMSG=1
"RTN","HBHCXMT",19,0)
 F  S HBHCNODE=$O(^HBHC(634,HBHCNODE)) D:(HBHCCNT>99)!(HBHCNODE'>0) MAIL Q:HBHCNODE'>0  S HBHCCNT=HBHCCNT+1,HBHCINFO=^HBHC(634,HBHCNODE,0),^TMP("HBHC",$J,HBHCMSG,HBHCNODE,0)=HBHCINFO D HISTORY
"RTN","HBHCXMT",20,0)
CLEANUP ; Cleanup Transmit History (HBHC(634.6)) to maintain maximum of last 12 transmit batches
"RTN","HBHCXMT",21,0)
 S (HBHCTOT,HBHCDATE)=0 F  S HBHCDATE=$O(^HBHC(634.6,"C",HBHCDATE)) Q:HBHCDATE'>0  S HBHCTOT=HBHCTOT+1 S:HBHCTOT=1 HBHCDAT=HBHCDATE
"RTN","HBHCXMT",22,0)
 I HBHCTOT>12 S DIK="^HBHC(634.6,",DA="" F  S DA=$O(^HBHC(634.6,"C",HBHCDAT,DA)) Q:DA'>0  D ^DIK
"RTN","HBHCXMT",23,0)
 ; Turn Off Transmission in Progress Flag
"RTN","HBHCXMT",24,0)
 S $P(^HBHC(631.9,1,0),U,6)=""
"RTN","HBHCXMT",25,0)
PRINT ; Print Transmit Report if default printer exists in 631.9
"RTN","HBHCXMT",26,0)
 ; HBHCIOP set in PROMPT2^HBHCR15B
"RTN","HBHCXMT",27,0)
 I ($D(HBHCIOP))&($D(HBHCHEAD)) N IOP,ZTIO,ZTSAVE,ZTRTN,ZTDESC,ZTASK,%ZIS,ZTDTH,ZTQUEUED S ZTRTN="DQ^HBHCR15A",ZTIO=HBHCIOP,ZTDESC="HBPC Transmit Report",ZTSAVE("HBHC*")="",ZTDTH=$H D ^%ZTLOAD,^%ZISC
"RTN","HBHCXMT",28,0)
EXIT ; Exit module
"RTN","HBHCXMT",29,0)
 K DA,DIC,DIE,DIK,DR,HBHCCNT,HBHCDAT,HBHCDATE,HBHCDT,HBHCFLG,HBHCHOSP,HBHCINFO,HBHCMSG,HBHCNODE,HBHCPRTR,HBHCTOT,HBHCZ,XMSUB,XMTEXT,XMY,XMZ,X,Y,%,%DT,^TMP("HBHC",$J)
"RTN","HBHCXMT",30,0)
 Q
"RTN","HBHCXMT",31,0)
MAIL ; Send mail message
"RTN","HBHCXMT",32,0)
 S XMSUB="HBHC Site: "_$S($P(^HBHC(631.9,1,0),U,5)]"":$E(HBHCHOSP,1,3),1:"")_"  Message: "_HBHCMSG_"  "_HBHCDATE_" Transmission",XMTEXT="^TMP(""HBHC"",$J,HBHCMSG,",XMY("XXX@Q-HBH.VA.GOV")=""
"RTN","HBHCXMT",33,0)
 D ^XMD
"RTN","HBHCXMT",34,0)
 S HBHCMSG=HBHCMSG+1,HBHCCNT=0
"RTN","HBHCXMT",35,0)
LOOP ; Loop thru ^HBHC(631,"AE") (Form 3 Transmit Flag), ^HBHC(631,"AF") (Form 5 Transmit Flag), & ^HBHC(632,"AC") (Form 4 Transmit Flag) cross-refs to set batch initial MM message number & mailman message date fields in ^HBHC(631/632)
"RTN","HBHCXMT",36,0)
 ; also loop thru ^HBHC(633.2,"AC") (Form 7 Transmit Flag)
"RTN","HBHCXMT",37,0)
 Q:HBHCFLG
"RTN","HBHCXMT",38,0)
 S DIE="^HBHC(631,"
"RTN","HBHCXMT",39,0)
 S DR="71///T;74///^S X=XMZ;75///^S X=HBHCDT",DA="" F  S DA=$O(^HBHC(631,"AE","F",DA)) Q:DA=""  D ^DIE
"RTN","HBHCXMT",40,0)
 S DR="72///T;77///^S X=XMZ;78///^S X=HBHCDT",DA="" F  S DA=$O(^HBHC(631,"AF","F",DA)) Q:DA=""  D ^DIE
"RTN","HBHCXMT",41,0)
 S DIE="^HBHC(632,",DR="7///T;9///^S X=XMZ;10///^S X=HBHCDT",DA="" F  S DA=$O(^HBHC(632,"AC","F",DA)) Q:DA=""  D ^DIE
"RTN","HBHCXMT",42,0)
 ; Only update if Sanctioned MFH site
"RTN","HBHCXMT",43,0)
 I $P($G(^HBHC(631.9,1,0)),U,9)]"" S DIE="^HBHC(633.2,",DR="27///T;29///^S X=XMZ;30///^S X=HBHCDT",DA="" F  S DA=$O(^HBHC(633.2,"AC","F",DA)) Q:DA=""  D ^DIE
"RTN","HBHCXMT",44,0)
 ; Set Last Mail Message Date in System Parameters file
"RTN","HBHCXMT",45,0)
 S $P(^HBHC(631.9,1,0),U,2)=HBHCDT
"RTN","HBHCXMT",46,0)
 S HBHCFLG=1
"RTN","HBHCXMT",47,0)
 Q
"RTN","HBHCXMT",48,0)
HISTORY ; Update HBHC(634.6 Transmit History file
"RTN","HBHCXMT",49,0)
 K DD,DO S DIC="^HBHC(634.6,",DIC(0)="L",DIC("DR")="1///^S X=HBHCDT",X=HBHCINFO D FILE^DICN K DO
"RTN","HBHCXMT",50,0)
 Q
"RTN","HBHCXMV")
0^25^B19281997^B18350983
"RTN","HBHCXMV",1,0)
HBHCXMV ; LR VAMC(IRMS)/MJT-HBHC populate ^HBHC(634 with Visit Data, or ^HBHC(634.5, file of recs in ^HBHC(632 w/pseudo SSNs, called by ^HBHCFILE, calls HBHCXMV1 ; Oct 2000
"RTN","HBHCXMV",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**2,5,6,9,12,15,17,14,19,24**;NOV 01, 1993;Build 201
"RTN","HBHCXMV",3,0)
 D START^HBHCXMV1
"RTN","HBHCXMV",4,0)
LOOP ; Loop thru ^HBHC(632) "AC","N" cross-ref to create nodes in ^HBHC(634) => transmit
"RTN","HBHCXMV",5,0)
 S HBHCDFN="" F  S HBHCDFN=$O(^HBHC(632,"AC","N",HBHCDFN)) Q:HBHCDFN=""  D SETNODE
"RTN","HBHCXMV",6,0)
EXIT ; Exit module
"RTN","HBHCXMV",7,0)
 D EXIT^HBHCXMV1
"RTN","HBHCXMV",8,0)
 Q
"RTN","HBHCXMV",9,0)
SETNODE ; Set node in ^HBHC(634) (Transmit)
"RTN","HBHCXMV",10,0)
 S HBHCINFO=^HBHC(632,HBHCDFN,0),HBHCXMT4=$P(HBHCINFO,U,8),HBHCAPDT=$P(HBHCINFO,U,2),HBHCSSN=$P(^DPT($P(HBHCINFO,U),0),U,9)
"RTN","HBHCXMV",11,0)
 Q:$P(HBHCINFO,U,7)]""  ; cancelled/no show appointment
"RTN","HBHCXMV",12,0)
 Q:HBHCAPDT>HBHCLSDT  ; Visit appointment date > HBHCLSDT (last date to include in transmit set up in ^HBHCFILE)
"RTN","HBHCXMV",13,0)
 I HBHCAPDT<2961001 D PCE^HBHCXMV1 Q
"RTN","HBHCXMV",14,0)
 I HBHCSSN'?9N D PSSN^HBHCXMV1 Q
"RTN","HBHCXMV",15,0)
 S HBHCPRV=+^HBHC(631.4,$P(HBHCINFO,U,4),0) S:$L(HBHCPRV)'=4 HBHCPRV=HBHCPRV_HBHCSP1
"RTN","HBHCXMV",16,0)
 S HBHCTIME=$P(HBHCAPDT,".",2) S:$L(HBHCTIME)<4 HBHCTIME=HBHCTIME_$E(HBHCZRO4,1,(4-($L(HBHCTIME)))) S:$L(HBHCTIME)>4 HBHCTIME=$E(HBHCTIME,1,4)
"RTN","HBHCXMV",17,0)
 S HBHCDATE=$E(HBHCAPDT,4,5)_$E(HBHCAPDT,6,7)_(1700+$E(HBHCAPDT,1,3))_HBHCTIME
"RTN","HBHCXMV",18,0)
 S HBHCLNME=$P($P(^DPT($P(HBHCINFO,U),0),U),",") S:$L(HBHCLNME)'=11 HBHCLNME=$S($L(HBHCLNME)<11:HBHCLNME_$E(HBHCSP10,1,11-$L(HBHCLNME)),1:$E(HBHCLNME,1,11))
"RTN","HBHCXMV",19,0)
 S HBHCQAI=$S(($L($P(HBHCINFO,U,16))=1)&($E(HBHCINFO,U,16)=""):HBHCSP1_$P(HBHCINFO,U,16),($L($P(HBHCINFO,U,16))=1)&($E(HBHCINFO,U,16)]""):$P(HBHCINFO,U,16)_HBHCSP1,$L($P(HBHCINFO,U,16))=2:$P(HBHCINFO,U,16),1:HBHCSP2)
"RTN","HBHCXMV",20,0)
DX ; Dx
"RTN","HBHCXMV",21,0)
 D INIT,DX^HBHCUTL3
"RTN","HBHCXMV",22,0)
 S HBHCL=0 F  S HBHCL=$O(HBHCDX(HBHCL)) Q:HBHCL'>0  S HBHCDX=$P(HBHCDX(HBHCL),"  "),HBHCDX=$P(HBHCDX,".")_$P(HBHCDX,".",2) S HBHCDX(HBHCL)=$S($L(HBHCDX)'=6:HBHCDX_$E(HBHCSP6,1,6-$L(HBHCDX)),1:HBHCDX)
"RTN","HBHCXMV",23,0)
 ; Note:  HBHCI initialized here vs in CPT loop, since need HBHCI to continue for each 10 CPT code iteration
"RTN","HBHCXMV",24,0)
 S (HBHCFLAG,HBHCI,HBHCL)=0 F  S HBHCL=$O(HBHCDX(HBHCL)) Q:HBHCL'>0  S HBHCCNT1=HBHCCNT1+1,@("HBHCDX"_HBHCCNT1)=HBHCDX(HBHCL) D:(HBHCCNT1=5)&('HBHCFLAG) CPT D:HBHCCNT1=5 WRITE
"RTN","HBHCXMV",25,0)
 F  D:'HBHCFLAG CPT D WRITE Q:HBHCFLAG
"RTN","HBHCXMV",26,0)
 Q
"RTN","HBHCXMV",27,0)
CPT ; CPT Codes
"RTN","HBHCXMV",28,0)
 F HBHCCNT=1:1:10 S HBHCI=$O(^HBHC(632,HBHCDFN,2,HBHCI)) Q:HBHCI'>0  S HBHCNOD2=^HBHC(632,HBHCDFN,2,HBHCI,0) D SET
"RTN","HBHCXMV",29,0)
 S:HBHCI'>0 HBHCFLAG=1
"RTN","HBHCXMV",30,0)
 Q
"RTN","HBHCXMV",31,0)
SET ; Set CPT variables
"RTN","HBHCXMV",32,0)
 I HBHCCNT<10 S @("HBHCCPT"_HBHCCNT)=$S($P(HBHCNOD2,U)]"":$E($P($G(^ICPT($P(HBHCNOD2,U),0)),U),1,5),1:HBHCSP5) S:$L(@("HBHCCPT"_HBHCCNT))'=5 @("HBHCCPT"_HBHCCNT)=@("HBHCCPT"_HBHCCNT)_$E(HBHCSP5,1,5-$L(@("HBHCCPT"_HBHCCNT)))
"RTN","HBHCXMV",33,0)
 I HBHCCNT=10 S HBHCCP10=$S($P(HBHCNOD2,U)]"":$E($P($G(^ICPT($P(HBHCNOD2,U),0)),U),1,5),1:HBHCSP5) S:$L(HBHCCP10)'=5 HBHCCP10=HBHCCP10_$E(HBHCSP5,1,5-$L(HBHCCP10))
"RTN","HBHCXMV",34,0)
 Q
"RTN","HBHCXMV",35,0)
WRITE ; Write transmit record, separate records containing max 5 DX & 10 CPTs each are generated for same visit if > 5 DX or > 10 CPTs exist
"RTN","HBHCXMV",36,0)
 Q:(HBHCDX1=HBHCSP6)&(HBHCCPT1=HBHCSP5)
"RTN","HBHCXMV",37,0)
 L +^HBHC(634,0):$S($D(DILOCKTM):DILOCKTM,1:3) Q:'$T  S HBHCNDX1=$P(^HBHC(634,0),U,3)+1 F  Q:'$D(^HBHC(634,HBHCNDX1))  S HBHCNDX1=HBHCNDX1+1
"RTN","HBHCXMV",38,0)
 S $P(^HBHC(634,0),U,3)=HBHCNDX1,$P(^HBHC(634,0),U,4)=$P(^HBHC(634,0),U,4)+1 L -^HBHC(634,0)
"RTN","HBHCXMV",39,0)
 S HBHCREC=HBHCFORM_HBHCHOSP_HBHCSSN_HBHCDATE_HBHCPRV_HBHCLNME_HBHCQAI_HBHCDX1_HBHCDX2_HBHCDX3_HBHCDX4_HBHCDX5_HBHCCPT1_HBHCCPT2_HBHCCPT3_HBHCCPT4_HBHCCPT5_HBHCCPT6_HBHCCPT7_HBHCCPT8_HBHCCPT9_HBHCCP10_HBHCSP74
"RTN","HBHCXMV",40,0)
 S ^HBHC(634,HBHCNDX1,0)=HBHCREC,^HBHC(634,"B",$E(HBHCREC,1,30),HBHCNDX1)=""
"RTN","HBHCXMV",41,0)
 ; Flag record as filed
"RTN","HBHCXMV",42,0)
 L +^HBHC(632,HBHCDFN,0):$S($D(DILOCKTM):DILOCKTM,1:3) Q:'$T  K:HBHCXMT4]"" ^HBHC(632,"AC",HBHCXMT4,HBHCDFN) S $P(^HBHC(632,HBHCDFN,0),U,8)="F",^HBHC(632,"AC","F",HBHCDFN)="",$P(^HBHC(632,HBHCDFN,0),U,9)=HBHCTDY L -^HBHC(632,HBHCDFN,0)
"RTN","HBHCXMV",43,0)
 ; Initialize QAI, DX & CPT fields to spaces after 1st record written to avoid multiple count(s) of same data when > 5 DX or > 10 CPTs exist
"RTN","HBHCXMV",44,0)
 S HBHCQAI=HBHCSP2
"RTN","HBHCXMV",45,0)
INIT ; Initialize variables
"RTN","HBHCXMV",46,0)
 F HBHCK=1:1:5 S @("HBHCDX"_HBHCK)=HBHCSP6
"RTN","HBHCXMV",47,0)
 S (HBHCCNT,HBHCCNT1)=0,HBHCCP10=HBHCSP5
"RTN","HBHCXMV",48,0)
 F HBHCJ=1:1:9 S @("HBHCCPT"_HBHCJ)=HBHCSP5
"RTN","HBHCXMV",49,0)
 Q
"RTN","HBHCXMV1")
0^26^B5766233^B6107370
"RTN","HBHCXMV1",1,0)
HBHCXMV1 ; LR VAMC(IRMS)/MJT-HBHC, called by ^HBHCXMV, entry points:  START, PCE, PSSN, & EXIT, calls HOSP^HBHCUTL1 ; Aug 2000
"RTN","HBHCXMV1",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**6,15,14,19,24**;NOV 01, 1993;Build 201
"RTN","HBHCXMV1",3,0)
START ; Initialization
"RTN","HBHCXMV1",4,0)
 W !,"Processing Visit/Form 4 Data"
"RTN","HBHCXMV1",5,0)
 K ^HBHC(634.5) S ^HBHC(634.5,0)="HBHC PSEUDO SSN ERROR(S)^634.5P^"
"RTN","HBHCXMV1",6,0)
 S HBHCFORM=4,$P(HBHCSP1," ",2)="",$P(HBHCSP2," ",3)="",$P(HBHCSP4," ",5)="",$P(HBHCSP5," ",6)="",$P(HBHCSP6," ",7)="",$P(HBHCSP10," ",11)="",$P(HBHCSP74," ",75)="",$P(HBHCZRO4,"0",5)=""
"RTN","HBHCXMV1",7,0)
 D HOSP^HBHCUTL1
"RTN","HBHCXMV1",8,0)
 K %DT S X="T" D ^%DT S HBHCTDY=Y
"RTN","HBHCXMV1",9,0)
 Q
"RTN","HBHCXMV1",10,0)
PCE ; Appointment pre-dates Patient Care Encounter (PCE)
"RTN","HBHCXMV1",11,0)
 S DIE="^HBHC(632,",DA=HBHCDFN,DR="7///O" D ^DIE
"RTN","HBHCXMV1",12,0)
 Q
"RTN","HBHCXMV1",13,0)
PSSN ; Patient has pseudo SSN
"RTN","HBHCXMV1",14,0)
 K DD,DO S DIC="^HBHC(634.5,",DIC(0)="MN",(X,DINUM)=$P(HBHCINFO,U) D FILE^DICN K DO
"RTN","HBHCXMV1",15,0)
 Q
"RTN","HBHCXMV1",16,0)
EXIT ; Exit module
"RTN","HBHCXMV1",17,0)
 K DA,DIC,DIE,DILOCKTM,DINUM,DR,DTOUT,HBHCAPDT,HBHCCNT,HBHCCNT1,HBHCCPT1,HBHCCPT2,HBHCCPT3,HBHCCPT4,HBHCCPT5,HBHCCPT6,HBHCCPT7,HBHCCPT8,HBHCCPT9,HBHCCP10,HBHCDATE,HBHCDFN,HBHCDX,HBHCDX1,HBHCDX2,HBHCDX3,HBHCDX4,HBHCDX5,HBHCFLAG,HBHCFORM
"RTN","HBHCXMV1",18,0)
 K HBHCHOSP,HBHCI,HBHCINFO,HBHCJ,HBHCK,HBHCL,HBHCLNME,HBHCNDX1,HBHCNDX2,HBHCNOD2,HBHCPRV,HBHCREC,HBHCQAI,HBHCSP1,HBHCSP10,HBHCSP2,HBHCSP4,HBHCSP5,HBHCSP6,HBHCSP74,HBHCSSN,HBHCSTDT,HBHCTDY,HBHCTIME,HBHCXMT4,HBHCZRO4,X,Y,%DT
"RTN","HBHCXMV1",19,0)
 Q
"SEC","^DIC",633.2,633.2,0,"AUDIT")
@
"SEC","^DIC",633.2,633.2,0,"DD")
@
"SEC","^DIC",633.2,633.2,0,"DEL")
@
"SEC","^DIC",633.2,633.2,0,"LAYGO")
@
"SEC","^DIC",633.2,633.2,0,"RD")
@
"SEC","^DIC",633.2,633.2,0,"WR")
@
"SEC","^DIC",634,634,0,"AUDIT")
@
"SEC","^DIC",634,634,0,"DD")
@
"SEC","^DIC",634,634,0,"DEL")
@
"SEC","^DIC",634,634,0,"LAYGO")
@
"SEC","^DIC",634,634,0,"RD")
@
"SEC","^DIC",634,634,0,"WR")
@
"SEC","^DIC",634.4,634.4,0,"AUDIT")
@
"SEC","^DIC",634.4,634.4,0,"DD")
@
"SEC","^DIC",634.4,634.4,0,"DEL")
@
"SEC","^DIC",634.4,634.4,0,"LAYGO")
@
"SEC","^DIC",634.4,634.4,0,"RD")
@
"SEC","^DIC",634.4,634.4,0,"WR")
@
"SEC","^DIC",634.6,634.6,0,"AUDIT")
@
"SEC","^DIC",634.6,634.6,0,"DD")
@
"SEC","^DIC",634.6,634.6,0,"DEL")
@
"SEC","^DIC",634.6,634.6,0,"LAYGO")
@
"SEC","^DIC",634.6,634.6,0,"RD")
@
"SEC","^DIC",634.6,634.6,0,"WR")
@
"SEC","^DIC",634.7,634.7,0,"AUDIT")
@
"SEC","^DIC",634.7,634.7,0,"DD")
@
"SEC","^DIC",634.7,634.7,0,"DEL")
@
"SEC","^DIC",634.7,634.7,0,"LAYGO")
@
"SEC","^DIC",634.7,634.7,0,"RD")
@
"SEC","^DIC",634.7,634.7,0,"WR")
@
"UP",631,631.01,-1)
631^4
"UP",631,631.01,0)
631.01
"VER")
8.0^22.0
"^DD",631,631,2,0)
STATE CODE^RP631.8'^HBHC(631.8,^0;3^Q
"^DD",631,631,2,1,0)
^.1
"^DD",631,631,2,1,1,0)
^^TRIGGER^631^3
"^DD",631,631,2,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X I X'=$P(^HBHC(631,DA,0),U,3) I X S X=DIV S Y(1)=$S($D(^HBHC(631,D0,0)):^(0),1:"") S X=$P(Y(1),U,4),X=X S DIU=X K Y S X="" X ^DD(631,2,1,1,1.4)
"^DD",631,631,2,1,1,1.4)
S DIH=$G(^HBHC(631,DIV(0),0)),DIV=X S $P(^(0),U,4)=DIV,DIH=631,DIG=3 D ^DICR
"^DD",631,631,2,1,1,2)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X I X'=$P(^HBHC(631,DA,0),U,3) I X S X=DIV S Y(1)=$S($D(^HBHC(631,D0,0)):^(0),1:"") S X=$P(Y(1),U,4),X=X S DIU=X K Y S X="" X ^DD(631,2,1,1,2.4)
"^DD",631,631,2,1,1,2.4)
S DIH=$G(^HBHC(631,DIV(0),0)),DIV=X S $P(^(0),U,4)=DIV,DIH=631,DIG=3 D ^DICR
"^DD",631,631,2,1,1,"CREATE CONDITION")
I X'=$P(^HBHC(631,DA,0),U,3)
"^DD",631,631,2,1,1,"CREATE VALUE")
@
"^DD",631,631,2,1,1,"DELETE CONDITION")
I X'=$P(^HBHC(631,DA,0),U,3)
"^DD",631,631,2,1,1,"DELETE VALUE")
@
"^DD",631,631,2,1,1,"DT")
3090622
"^DD",631,631,2,1,1,"FIELD")
COUNTY CODE
"^DD",631,631,2,3)
Answer with 2 digit numeric state code, or state name, of state where patient resides.  Only state code(s) in HBHC VALID STATE CODE file are allowed.  Field is required for county verification.
"^DD",631,631,2,21,0)
^^2^2^2930723^^^^
"^DD",631,631,2,21,1,0)
This field represents 2 digit numeric code, in State (5) file, of
"^DD",631,631,2,21,2,0)
location where patient resides.
"^DD",631,631,2,"DT")
3090622
"^DD",631,631,71,0)
FORM 3 TRANSMIT STATUS^S^F:Record in Transmit File;N:Record Needs Transmitting;T:Record Transmitted;O:Record Omitted, Pre-dates 10/1/96 PCE Usage;^1;17^Q
"^DD",631,631,71,1,0)
^.1
"^DD",631,631,71,1,1,0)
631^AE
"^DD",631,631,71,1,1,1)
S ^HBHC(631,"AE",$E(X,1,30),DA)=""
"^DD",631,631,71,1,1,2)
K ^HBHC(631,"AE",$E(X,1,30),DA)
"^DD",631,631,71,1,1,"%D",0)
^^3^3^3080415^
"^DD",631,631,71,1,1,"%D",1,0)
This cross-reference represents regular 'AE' file index of HBHC Patient
"^DD",631,631,71,1,1,"%D",2,0)
(631) file, Form 3 (Evaluation/Admission) Transmit Status (71) field.
"^DD",631,631,71,1,1,"%D",3,0)
Form 3 Transmit Status field updated by package only, no user input.
"^DD",631,631,71,1,1,"DT")
2920427
"^DD",631,631,71,3)
Field updated only by package, no user input.  Field updated with record transmit status.
"^DD",631,631,71,21,0)
^.001^4^4^3080415^^^^
"^DD",631,631,71,21,1,0)
This field represents Form 3 (Evaluation/Admission) Transmit Status. Field
"^DD",631,631,71,21,2,0)
will contain either 'F' (Record in Transmit File), 'N' (Record Needs
"^DD",631,631,71,21,3,0)
Transmitting), 'T' (Record Transmitted), or 'O' (Record Omitted, Pre-dates
"^DD",631,631,71,21,4,0)
10/1/96 PCE Usage).  Field updated by package only, no user input. 
"^DD",631,631,71,"DT")
2970417
"^DD",631,631,73,0)
FORM 3 FILED IN HBHC(634) DATE^D^^1;19^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
"^DD",631,631,73,3)
Field updated only by package, no user input.  Field represents Date/Time Form 3 filed in Transmit file.
"^DD",631,631,73,21,0)
^^3^3^3080207^
"^DD",631,631,73,21,1,0)
This field represents date/time Form 3 (Evaluation/Admission) record filed
"^DD",631,631,73,21,2,0)
in Transmit (634) file. Field transmitted to Austin for unique record
"^DD",631,631,73,21,3,0)
identification purposes.  Field updated by package only, no user input.
"^DD",631,631,73,"DT")
3080415
"^DD",631,631,88,0)
MEDICAL FOSTER HOME PATIENT^SI^Y:Yes;N:No;^3;1^Q
"^DD",631,631,88,1,0)
^.1
"^DD",631,631,88,1,1,0)
631^AJ
"^DD",631,631,88,1,1,1)
S ^HBHC(631,"AJ",$E(X,1,30),DA)=""
"^DD",631,631,88,1,1,2)
K ^HBHC(631,"AJ",$E(X,1,30),DA)
"^DD",631,631,88,1,1,"%D",0)
^.101^2^2^3070905^^
"^DD",631,631,88,1,1,"%D",1,0)
This cross-ref represents whether the Patient is Medical Foster Home 
"^DD",631,631,88,1,1,"%D",2,0)
(MFH) Patient.
"^DD",631,631,88,1,1,"DT")
3060803
"^DD",631,631,88,3)
Answer with 1 digit alphanumeric code representing whether Patient is Medical Foster Home (MFH) Patient.
"^DD",631,631,88,21,0)
^^2^2^3060803^
"^DD",631,631,88,21,1,0)
This field represents whether Patient is Medical Foster Home (MFH) 
"^DD",631,631,88,21,2,0)
Patient.
"^DD",631,631,88,"DT")
3080926
"^DD",631,631,89,0)
MEDICAL FOSTER HOME NAME^P633.2'^HBHC(633.2,^3;2^Q
"^DD",631,631,89,1,0)
^.1
"^DD",631,631,89,1,1,0)
631^AK
"^DD",631,631,89,1,1,1)
S ^HBHC(631,"AK",$E(X,1,30),DA)=""
"^DD",631,631,89,1,1,2)
K ^HBHC(631,"AK",$E(X,1,30),DA)
"^DD",631,631,89,1,1,"%D",0)
^^2^2^3070905^
"^DD",631,631,89,1,1,"%D",1,0)
This cross-ref represents the Medical Foster Home (MFH) Name (pointer) in 
"^DD",631,631,89,1,1,"%D",2,0)
Medical Foster Home file (#633.2).
"^DD",631,631,89,1,1,"DT")
3070905
"^DD",631,631,89,3)
Answer with Name of Medical Foster Home (MFH) that already exists in Medical Foster Home file.
"^DD",631,631,89,21,0)
^^2^2^3060803^
"^DD",631,631,89,21,1,0)
This field represents Name of Medical Foster Home (MFH) that already 
"^DD",631,631,89,21,2,0)
exists in HBHC Medical Foster Home file (#633.2).
"^DD",631,631,89,"DT")
3070905
"^DD",631,631,90,0)
RATE PAID^631.01D^^4;0
"^DD",631,631,90,21,0)
^^1^1^3080507^
"^DD",631,631,90,21,1,0)
This subfile represents the Medical Foster Home (MFH) Rate Paid multiple.
"^DD",631,631.01,0)
RATE PAID SUB-FIELD^^1^2
"^DD",631,631.01,0,"DT")
3080507
"^DD",631,631.01,0,"IX","B",631.01,.01)

"^DD",631,631.01,0,"NM","RATE PAID")

"^DD",631,631.01,0,"UP")
631
"^DD",631,631.01,.01,0)
RATE PAID START DATE^D^^0;1^S %DT="EX" D ^%DT S X=Y K:3991231<X!(3000101>X) X
"^DD",631,631.01,.01,1,0)
^.1
"^DD",631,631.01,.01,1,1,0)
631.01^B
"^DD",631,631.01,.01,1,1,1)
S ^HBHC(631,DA(1),4,"B",$E(X,1,30),DA)=""
"^DD",631,631.01,.01,1,1,2)
K ^HBHC(631,DA(1),4,"B",$E(X,1,30),DA)
"^DD",631,631.01,.01,3)
Answer with Medical Foster Home (MFH) Rate Paid Start Date between 1/1/2000 & 12/31/2099 inclusive.
"^DD",631,631.01,.01,21,0)
^.001^2^2^3080507^^
"^DD",631,631.01,.01,21,1,0)
This field represents the Medical Foster Home (MFH) Rate Paid Start 
"^DD",631,631.01,.01,21,2,0)
Date.  Date must be between 1/1/2000 & 12/31/2099 inclusive.
"^DD",631,631.01,.01,"DT")
3080507
"^DD",631,631.01,1,0)
RATE PAID AMOUNT^NJ7,2^^0;2^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999)!(X<1000) X
"^DD",631,631.01,1,3)
Answer with a Dollar Amount between $1000 and $9999, 2 Decimal Digits allowed.
"^DD",631,631.01,1,21,0)
^^2^2^3080507^
"^DD",631,631.01,1,21,1,0)
This field represents the Medical Foster Home (MFH) Rate Paid Amount.  
"^DD",631,631.01,1,21,2,0)
Amount must be between $1000 & $9999 inclusive.
"^DD",631,631.01,1,"DT")
3080507
"^DD",631.9,631.9,8,0)
MED FOSTER HOME SANCTION DATE^DI^^0;9^S %DT="EX" D ^%DT S X=Y K:3991231<X!(3000101>X) X
"^DD",631.9,631.9,8,3)
Answer with Date site was Sanctioned as Medical Foster Home (MFH) by VACO.  Date must be between 1/1/2000 & 12/31/2099 inclusive.
"^DD",631.9,631.9,8,21,0)
^^2^2^3070628^
"^DD",631.9,631.9,8,21,1,0)
This field represents Date site was Sanctioned as Medical Foster Home
"^DD",631.9,631.9,8,21,2,0)
(MFH) by VACO.
"^DD",631.9,631.9,8,"DT")
3080415
"^DD",633.2,633.2,0)
FIELD^^34^35
"^DD",633.2,633.2,0,"DDA")
N
"^DD",633.2,633.2,0,"DT")
3080429
"^DD",633.2,633.2,0,"IX","AC",633.2,27)

"^DD",633.2,633.2,0,"IX","B",633.2,.01)

"^DD",633.2,633.2,0,"NM","HBHC MEDICAL FOSTER HOME")

"^DD",633.2,633.2,0,"PT",631,89)

"^DD",633.2,633.2,0,"PT",634.7,.01)

"^DD",633.2,633.2,0,"VRPK")
HBH
"^DD",633.2,633.2,.01,0)
NAME^RF^^0;1^K:$L(X)>30!($L(X)<3)!'(X'?1P.E) X
"^DD",633.2,633.2,.01,1,0)
^.1
"^DD",633.2,633.2,.01,1,1,0)
633.2^B
"^DD",633.2,633.2,.01,1,1,1)
S ^HBHC(633.2,"B",$E(X,1,30),DA)=""
"^DD",633.2,633.2,.01,1,1,2)
K ^HBHC(633.2,"B",$E(X,1,30),DA)
"^DD",633.2,633.2,.01,3)
Answer with Medical Foster Home (MFH) Name.  Answer must be 3-30 alphanumeric characters in length.
"^DD",633.2,633.2,.01,21,0)
^.001^1^1^3070720^^^^
"^DD",633.2,633.2,.01,21,1,0)
This field represents the HBHC Medical Foster Home (MFH) Name.
"^DD",633.2,633.2,.01,"DT")
3071031
"^DD",633.2,633.2,1,0)
OPENED DATE^RD^^0;2^S %DT="EX" D ^%DT S X=Y K:3991231<X!(3000101>X) X
"^DD",633.2,633.2,1,3)
Answer with Date the Medical Foster Home (MFH) was Opened.  Answer must be between 1/1/2000 & 12/31/2099 inclusive.
"^DD",633.2,633.2,1,21,0)
^.001^1^1^3080428^^
"^DD",633.2,633.2,1,21,1,0)
This field represents the Date the Medical Foster Home was Opened.
"^DD",633.2,633.2,1,"DT")
3060720
"^DD",633.2,633.2,2,0)
PRIMARY CAREGIVER NAME^RFX^^0;3^K:$L(X)>35!($L(X)<3)!($L(X,",")'=2)!(X'?1.E1","1.E) X
"^DD",633.2,633.2,2,3)
Answer with the Primary Caregiver Name, using lastname, firstname format.
"^DD",633.2,633.2,2,21,0)
^.001^2^2^3070417^^
"^DD",633.2,633.2,2,21,1,0)
This field represents the Primary Caregiver Name for the Medical Foster 
"^DD",633.2,633.2,2,21,2,0)
Home (MFH).
"^DD",633.2,633.2,2,"DT")
3060719
"^DD",633.2,633.2,3,0)
MAXIMUM PATIENTS^RNJ1,0^^0;4^K:+X'=X!(X>3)!(X<1)!(X?.E1"."1N.N) X
"^DD",633.2,633.2,3,3)
Answer with Number between 1 and 3 inclusive, for Maximum Patients for Medical Foster Home (MFH).
"^DD",633.2,633.2,3,21,0)
^.001^2^2^3080428^^^^
"^DD",633.2,633.2,3,21,1,0)
This field represents the Maximum Patients for the Medical Foster Home 
"^DD",633.2,633.2,3,21,2,0)
(MFH).
"^DD",633.2,633.2,3,"DT")
3060719
"^DD",633.2,633.2,4,0)
BEDBOUND PATIENT MAXIMUM^RNJ1,0^^0;5^K:+X'=X!(X>2)!(X<0)!(X?.E1"."1N.N) X
"^DD",633.2,633.2,4,3)
Answer with number between 0 and 2, inclusive, for Bedbound Patient Maximum for Medical Foster Home (MFH).
"^DD",633.2,633.2,4,21,0)
^.001^2^2^3060719^^^^
"^DD",633.2,633.2,4,21,1,0)
This field represents the Bedbound Patient Maximum for the Medical Foster 
"^DD",633.2,633.2,4,21,2,0)
Home (MFH).
"^DD",633.2,633.2,4,"DT")
3060803
"^DD",633.2,633.2,5,0)
CLOSURE DATE^D^^0;6^S %DT="EX" D ^%DT S X=Y K:3991231<X!(3000101>X) X
"^DD",633.2,633.2,5,3)
Answer with the Medical Foster Home (MFH) Closure Date.  Answer must be between 1/1/2000 & 12/31/2099 inclusive.
"^DD",633.2,633.2,5,21,0)
^.001^1^1^3080428^^
"^DD",633.2,633.2,5,21,1,0)
This field represents Date of Medical Foster Home (MFH) Closure.
"^DD",633.2,633.2,5,"DT")
3060719
"^DD",633.2,633.2,6,0)
VOLUNTARY CLOSURE^S^Y:Yes;N:No;^0;7^Q
"^DD",633.2,633.2,6,3)
Answer with 1 alphanumeric digit representing whether Medical Foster Home (MFH) Closure was Voluntary.
"^DD",633.2,633.2,6,21,0)
^.001^2^2^3060719^^
"^DD",633.2,633.2,6,21,1,0)
This field represents whether Medical Foster Home (MFH) Closure was 
"^DD",633.2,633.2,6,21,2,0)
Voluntary.
"^DD",633.2,633.2,6,"DT")
3060719
"^DD",633.2,633.2,7,0)
ADDRESS^RF^^0;8^K:$L(X)>30!($L(X)<3) X
"^DD",633.2,633.2,7,3)
Answer with Medical Foster Home (MFH) street Address.  Answer must be 3-30 characters in length.
"^DD",633.2,633.2,7,21,0)
^^1^1^3080318^
"^DD",633.2,633.2,7,21,1,0)
This field represents the Medical Foster Home (MFH) street Address.
"^DD",633.2,633.2,7,"DT")
3070221
"^DD",633.2,633.2,8,0)
CITY^RF^^0;9^K:$L(X)>15!($L(X)<3) X
"^DD",633.2,633.2,8,3)
Answer with Medical Foster Home (MFH) City.  Answer must be 3-15 characters in length.
"^DD",633.2,633.2,8,21,0)
^^1^1^3070417^
"^DD",633.2,633.2,8,21,1,0)
This field represents the Medical Foster Home (MFH) City.
"^DD",633.2,633.2,8,"DT")
3080828
"^DD",633.2,633.2,9,0)
STATE CODE^RP631.8'^HBHC(631.8,^0;10^Q
"^DD",633.2,633.2,9,1,0)
^.1^^0
"^DD",633.2,633.2,9,3)
Answer with 2 digit numeric State Code.  State Codes must exist in State file (#5).  State Code must exist in HBHC VALID STATE CODE file (#631.8).
"^DD",633.2,633.2,9,21,0)
^^3^3^3070514^
"^DD",633.2,633.2,9,21,1,0)
This field represents the 2 digit numeric State Code where Medical Foster
"^DD",633.2,633.2,9,21,2,0)
Home (MFH) is located.  All State Codes must exist in State file (#5).  
"^DD",633.2,633.2,9,21,3,0)
State Code must exist in HBHC VALID STATE CODE file (#631.8).
"^DD",633.2,633.2,9,"DT")
3070514
"^DD",633.2,633.2,10,0)
ZIP CODE^RF^^0;11^K:$L(X)>15!($L(X)<5) X
"^DD",633.2,633.2,10,3)
Answer with either 5 digit or 9 digit ZIP Code of Medical Foster Home (MFH).
"^DD",633.2,633.2,10,21,0)
^^2^2^3080318^
"^DD",633.2,633.2,10,21,1,0)
This field represents either the 5 digit or 9 digit ZIP Code of Medical
"^DD",633.2,633.2,10,21,2,0)
Foster Home (MFH).
"^DD",633.2,633.2,10,"DT")
3070221
"^DD",633.2,633.2,11,0)
LICENSE REQUIRED^RS^Y:Yes;N:No;^0;12^Q
"^DD",633.2,633.2,11,3)
Answer with 1 digit alphanumeric code representing whether Medical Foster Home (MFH) Requires a License.
"^DD",633.2,633.2,11,21,0)
^^2^2^3070417^
"^DD",633.2,633.2,11,21,1,0)
This field represents the 1 digit alphanumeric code indicating whether
"^DD",633.2,633.2,11,21,2,0)
Medical Foster Home (MFH) Requires a License.
"^DD",633.2,633.2,11,"DT")
3070221
"^DD",633.2,633.2,12,0)
LICENSE EXPIRATION DATE^DX^^0;13^S %DT="E" D ^%DT S X=Y K:3991231<X!(3000101>X) X
"^DD",633.2,633.2,12,3)
Answer with Date the Medical Foster Home (MFH) License Expires.  Answer with date between 1/1/2000 & 12/31/2099 inclusive.
"^DD",633.2,633.2,12,21,0)
^.001^2^2^3080429^^^
"^DD",633.2,633.2,12,21,1,0)
This field represents the Medical Foster Home (MFH) License Expiration
"^DD",633.2,633.2,12,21,2,0)
Date.
"^DD",633.2,633.2,12,"DT")
3080429
"^DD",633.2,633.2,13,0)
NURSE INSPECTION^633.213D^^1;0
"^DD",633.2,633.2,13,21,0)
^.001^2^2^3080429^^^
"^DD",633.2,633.2,13,21,1,0)
This subfile represents the Medical Foster Home (MFH) Nurse Inspection 
"^DD",633.2,633.2,13,21,2,0)
multiple.
"^DD",633.2,633.2,13,"DT")
3080429
"^DD",633.2,633.2,14,0)
SOCIAL WORK INSPECTION^633.214D^^2;0
"^DD",633.2,633.2,14,21,0)
^.001^2^2^3080428^^^
"^DD",633.2,633.2,14,21,1,0)
This subfile represents Medical Foster Home (MFH) Social Work Inspection 
"^DD",633.2,633.2,14,21,2,0)
multiple.
"^DD",633.2,633.2,15,0)
DIETITIAN INSPECTION^633.215D^^3;0
"^DD",633.2,633.2,15,21,0)
^^2^2^3070808^
"^DD",633.2,633.2,15,21,1,0)
This subfile represents the Medical Foster Home (MFH) Dietitian
"^DD",633.2,633.2,15,21,2,0)
Inspection multiple.
"^DD",633.2,633.2,15,"DT")
3070808
"^DD",633.2,633.2,16,0)
FIRE/SAFETY INSPECTION^633.216D^^4;0
"^DD",633.2,633.2,16,21,0)
^^2^2^3070417^
"^DD",633.2,633.2,16,21,1,0)
This subfile represents the Medical Foster Home (MFH) Fire/Safety 
"^DD",633.2,633.2,16,21,2,0)
Inspection multiple.
"^DD",633.2,633.2,17,0)
PHONE NUMBER^RFX^^0;14^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>20!($L(X)<4)!'(X?4.20NP) X
"^DD",633.2,633.2,17,3)
Answer must be 4-20 characters in length.  Only numeric/punctuation characters accepted.  Field represents Phone Number of Medical Foster Home (MFH).
"^DD",633.2,633.2,17,21,0)
^^1^1^3090121^
"^DD",633.2,633.2,17,21,1,0)
This field represents the Phone Number of the Medical Foster Home (MFH). 
"^DD",633.2,633.2,17,"DT")
3070514
"^DD",633.2,633.2,18,0)
HOME OPERATION TRAINING DATE^633.218D^^5;0
"^DD",633.2,633.2,18,21,0)
^^2^2^3070417^
"^DD",633.2,633.2,18,21,1,0)
This subfile represents the Medical Foster Home (MFH) Home Operation
"^DD",633.2,633.2,18,21,2,0)
Training Date multiple.
"^DD",633.2,633.2,18,"DT")
3070402
"^DD",633.2,633.2,19,0)
FIRE/SAFETY TRAINING DATE^633.219D^^6;0
"^DD",633.2,633.2,19,21,0)
^^2^2^3070417^
"^DD",633.2,633.2,19,21,1,0)
This subfile represents the Medical Foster Home (MFH) Fire/Safety Training
"^DD",633.2,633.2,19,21,2,0)
Date multiple.
"^DD",633.2,633.2,19,"DT")
3070417
"^DD",633.2,633.2,20,0)
MEDICATION MANAGEMENT TRN DATE^633.21D^^7;0
"^DD",633.2,633.2,20,21,0)
^^2^2^3070417^
"^DD",633.2,633.2,20,21,1,0)
This subfile represents the Medical Foster Home (MFH) Medication
"^DD",633.2,633.2,20,21,2,0)
Management Training Date multiple.
"^DD",633.2,633.2,20,"DT")
3070417
"^DD",633.2,633.2,21,0)
PERSONAL CARE TRAINING DATE^633.221D^^8;0
"^DD",633.2,633.2,21,21,0)
^^2^2^3070417^
"^DD",633.2,633.2,21,21,1,0)
This subfile represents the Medical Foster Home (MFH) Personal Care
"^DD",633.2,633.2,21,21,2,0)
Training Date multiple.
"^DD",633.2,633.2,22,0)
INFECTION CONTROL TRAIN DATE^633.222D^^9;0
"^DD",633.2,633.2,22,21,0)
^.001^2^2^3080111^^
"^DD",633.2,633.2,22,21,1,0)
This subfile represents the Medical Foster Home (MFH) Infection Control 
"^DD",633.2,633.2,22,21,2,0)
Training Date multiple.
"^DD",633.2,633.2,23,0)
END OF LIFE ISSUES TRAIN DATE^633.223D^^10;0
"^DD",633.2,633.2,23,21,0)
^^2^2^3070417^
"^DD",633.2,633.2,23,21,1,0)
This subfile represents the Medical Foster Home (MFH) End of Life Issues 
"^DD",633.2,633.2,23,21,2,0)
Training Date multiple.
"^DD",633.2,633.2,24,0)
OTHER TRAINING DATE^633.224D^^11;0
"^DD",633.2,633.2,24,21,0)
^^2^2^3070417^
"^DD",633.2,633.2,24,21,1,0)
This subfile represents the Medical Foster Home (MFH) Other Training Date 
"^DD",633.2,633.2,24,21,2,0)
multiple.
"^DD",633.2,633.2,24,"DT")
3070417
"^DD",633.2,633.2,25,0)
COUNTY CODE^RNJ3,0XO^^0;15^S Z0=$S($P($G(^HBHC(633.2,D0,0)),U,10):+^HBHC(631.8,$P(^HBHC(633.2,D0,0),U,10),0),1:0) K:'Z0 X Q:'Z0!'$D(^DIC(5,Z0,1,0))  S DIC="^DIC(5,Z0,1,",DIC(0)="QEM" D ^DIC S X=+Y K:Y'>0 X K D0,Z0,DIC
"^DD",633.2,633.2,25,2)
S Y(0)=Y S Y(0)=Y Q:Y']""  S Z0=$S($P($G(^HBHC(633.2,D0,0)),U,10):+^HBHC(631.8,$P(^HBHC(633.2,D0,0),U,10),0),1:"") Q:'Z0  S Y=$P($S($D(^DIC(5,Z0,1,Y,0)):^(0),1:""),U)_"  ("_$P($S($D(^(0)):^(0),1:""),U,3)_")" K D0
"^DD",633.2,633.2,25,2.1)
S Y(0)=Y Q:Y']""  S Z0=$S($P($G(^HBHC(633.2,D0,0)),U,10):+^HBHC(631.8,$P(^HBHC(633.2,D0,0),U,10),0),1:"") Q:'Z0  S Y=$P($S($D(^DIC(5,Z0,1,Y,0)):^(0),1:""),U)_"  ("_$P($S($D(^(0)):^(0),1:""),U,3)_")" K D0
"^DD",633.2,633.2,25,3)
Answer with 3 digit numeric county code, or county name, of county where Medical Foster Home (MFH) is located.  County codes are checked for validity of State Code entered.
"^DD",633.2,633.2,25,21,0)
^^6^6^3090121^
"^DD",633.2,633.2,25,21,1,0)
This field represents 3 digit numeric code of County, in State file (#5),
"^DD",633.2,633.2,25,21,2,0)
of Medical Foster Home (MFH) location. County codes are checked for
"^DD",633.2,633.2,25,21,3,0)
validity of State Code entered.  Input transform also validates State for
"^DD",633.2,633.2,25,21,4,0)
existance in HBHC VALID STATE CODE file (#631.8).
"^DD",633.2,633.2,25,21,5,0)
 
"^DD",633.2,633.2,25,21,6,0)
Output transform displays both County Name & County Code in (nnn). 
"^DD",633.2,633.2,25,"DT")
3090225
"^DD",633.2,633.2,26,0)
CAREGIVER DATE OF BIRTH^DX^^0;16^S %DT="EX" D ^%DT S X=Y K:2870430<X!(2200101>X) X
"^DD",633.2,633.2,26,3)
Answer with Caregiver Date of Birth.  Caregiver Date of Birth must between 1/1/1920 & 4/30/1987.
"^DD",633.2,633.2,26,21,0)
^^2^2^3090121^
"^DD",633.2,633.2,26,21,1,0)
This field represents the Caregiver Date of Birth.  Date must be between
"^DD",633.2,633.2,26,21,2,0)
1/1/1920 & 4/30/1987.
"^DD",633.2,633.2,26,"DT")
3080429
"^DD",633.2,633.2,27,0)
FORM 7 TRANSMIT STATUS^S^F:Record in Transmit File;N:Record Needs Transmitting;T:Record Transmitted;^12;1^Q
"^DD",633.2,633.2,27,1,0)
^.1
"^DD",633.2,633.2,27,1,1,0)
633.2^AC
"^DD",633.2,633.2,27,1,1,1)
S ^HBHC(633.2,"AC",$E(X,1,30),DA)=""
"^DD",633.2,633.2,27,1,1,2)
K ^HBHC(633.2,"AC",$E(X,1,30),DA)
"^DD",633.2,633.2,27,1,1,"%D",0)
^^4^4^3080125^
"^DD",633.2,633.2,27,1,1,"%D",1,0)
This cross-reference represents regular 'AC' file index of HBHC Medical
"^DD",633.2,633.2,27,1,1,"%D",2,0)
Foster Home file (#633.2), Form 7 (Medical Foster Home) Transmit Status
"^DD",633.2,633.2,27,1,1,"%D",3,0)
field (#27).  Form 7 Transmit Status field updated by package only, no
"^DD",633.2,633.2,27,1,1,"%D",4,0)
user input.
"^DD",633.2,633.2,27,1,1,"DT")
3080125
"^DD",633.2,633.2,27,3)
Field updated by package only, no user input.  Field updated with record transmit status.
"^DD",633.2,633.2,27,21,0)
^^4^4^3080124^
"^DD",633.2,633.2,27,21,1,0)
This field represents Form 7 (Medical Foster Home (MFH)) Transmit
"^DD",633.2,633.2,27,21,2,0)
Status.  Field will contain either 'F' (Record in Transmit File), 'N'
"^DD",633.2,633.2,27,21,3,0)
(Record Needs Transmitting), or 'T' (Record Transmitted).  Field updated
"^DD",633.2,633.2,27,21,4,0)
by package only, no user input.
"^DD",633.2,633.2,27,"DT")
3080125
"^DD",633.2,633.2,28,0)
FORM 7 FILED IN HBHC(634)^D^^12;2^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
"^DD",633.2,633.2,28,3)
Field updated by package only, no user input.  Field represents Date/Time Form 7 filed in Transmit file.
"^DD",633.2,633.2,28,21,0)
^^4^4^3080130^
"^DD",633.2,633.2,28,21,1,0)
This field represents date & time Form 7 (Medical Foster Home (MFH))
"^DD",633.2,633.2,28,21,2,0)
record was filed in Transmit (634) file.  Field transmitted to 
"^DD",633.2,633.2,28,21,3,0)
Austin for unique record identification purposes.  Field updated by
"^DD",633.2,633.2,28,21,4,0)
package only, no user input.
"^DD",633.2,633.2,28,"DT")
3080415
"^DD",633.2,633.2,29,0)
FORM 7 BATCH INITIAL MM MSG #^F^^12;3^K:$L(X)>15!($L(X)<3) X
"^DD",633.2,633.2,29,3)
Field updated by package only, no user input.  Number represents first MM msg # in transmission batch.  Record may be transmitted in different msg, if multiple msgs transmitted.
"^DD",633.2,633.2,29,21,0)
^^4^4^3080124^
"^DD",633.2,633.2,29,21,1,0)
This field represents MailMan message number of 'First' MailMan message
"^DD",633.2,633.2,29,21,2,0)
in Austin transmission batch.  Record 'may' be transmitted in different
"^DD",633.2,633.2,29,21,3,0)
message, if multiple messages are transmitted in one transmission batch.
"^DD",633.2,633.2,29,21,4,0)
Field updated by package only, no user input.
"^DD",633.2,633.2,29,"DT")
3080124
"^DD",633.2,633.2,30,0)
FORM 7 MAIL MESSAGE DATE^D^^12;4^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",633.2,633.2,30,3)
Field updated by package only, no user input.  Field represents Date of Form 7 Medical Foster Home (MFH) record transmission via MailMan to Austin.
"^DD",633.2,633.2,30,21,0)
^.001^3^3^3090121^^
"^DD",633.2,633.2,30,21,1,0)
This field represents date of Form 7 (Medical Foster Home (MFH)) record
"^DD",633.2,633.2,30,21,2,0)
transmission via MailMan to Austin.  Field updated by package only, no
"^DD",633.2,633.2,30,21,3,0)
user input.
"^DD",633.2,633.2,30,"DT")
3080124
"^DD",633.2,633.2,31,0)
FORM 7 TRANSMIT FLAG EDIT DATE^D^^12;5^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",633.2,633.2,31,3)
Field updated be package only, no user input.  Field is updated with current date when user requests Form 7 Transmit Status Flag by reset (allowing editing of transmitted record).
"^DD",633.2,633.2,31,21,0)
^^4^4^3080124^
"^DD",633.2,633.2,31,21,1,0)
This field represents date Form 7 (Medical Foster Home (MFH)) Transmit 
"^DD",633.2,633.2,31,21,2,0)
Status Flag was requested by user to be reset (allowing editing of 
"^DD",633.2,633.2,31,21,3,0)
previously transmitted record).  Field updated by package only, no user 
"^DD",633.2,633.2,31,21,4,0)
input.
"^DD",633.2,633.2,31,"DT")
3080124
"^DD",633.2,633.2,32,0)
FORM 7 TRANSMIT FLAG EDIT DUZ^P200'^VA(200,^12;6^Q
"^DD",633.2,633.2,32,3)
Field updated by package only, no user input.  Field is updated with user's DUZ when user requests Form 7 Transmit Status Flag be reset (allowing editing of transmitted record).
"^DD",633.2,633.2,32,21,0)
^^3^3^3090121^
"^DD",633.2,633.2,32,21,1,0)
This field represents the user requesting Form 7 (Medical Foster Home
"^DD",633.2,633.2,32,21,2,0)
(MFH)) Transmit Status Flag be reset (allowing editing of previously 
"^DD",633.2,633.2,32,21,3,0)
transmitted record).  Field updated by package only, no user input.
"^DD",633.2,633.2,32,"DT")
3080124
"^DD",633.2,633.2,33,0)
FORM 7 RE-TRANS BATCH MM MSG #^F^^12;7^K:$L(X)>15!($L(X)<3) X
"^DD",633.2,633.2,33,3)
Field updated by package only, no user input.  Number represents first MM msg # in re-transmission batch.  Record may be transmitted in different msg, if multiple msgs transmitted.
"^DD",633.2,633.2,33,21,0)
^^4^4^3080124^
"^DD",633.2,633.2,33,21,1,0)
This field represents MailMan message number of 'First' MailMan message 
"^DD",633.2,633.2,33,21,2,0)
in re-transmission batch to Austin.  Record 'may' be transmitted in 
"^DD",633.2,633.2,33,21,3,0)
different message, if multiple messages are transmitted in one 
"^DD",633.2,633.2,33,21,4,0)
re-transmission batch.  Field updated by package only, no user input.
"^DD",633.2,633.2,33,"DT")
3080124
"^DD",633.2,633.2,34,0)
FORM 7 RE-TRANSMIT DATE^D^^12;8^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",633.2,633.2,34,3)
Field updated by package only, no user input.  Field represents Date of Form 7 Medical Foster Home (MFH) record re-transmission via MailMan to Austin..
"^DD",633.2,633.2,34,21,0)
^.001^3^3^3090121^^
"^DD",633.2,633.2,34,21,1,0)
This field represents date of Form 7 (Medical Foster Home (MFH)) record 
"^DD",633.2,633.2,34,21,2,0)
re-transmission via MailMan to Austin.  Field updated by package only, no 
"^DD",633.2,633.2,34,21,3,0)
user input.
"^DD",633.2,633.2,34,"DT")
3080124
"^DD",633.2,633.21,0)
MEDICATION MANAGEMENT TRN DATE SUB-FIELD^^.01^1
"^DD",633.2,633.21,0,"DT")
3080115
"^DD",633.2,633.21,0,"IX","B",633.21,.01)

"^DD",633.2,633.21,0,"NM","MEDICATION MANAGEMENT TRN DATE")

"^DD",633.2,633.21,0,"UP")
633.2
"^DD",633.2,633.21,.01,0)
MEDICATION MANAGEMENT TRN DATE^DX^^0;1^S %DT="EX" D ^%DT S X=Y K:DT<X!(3000101>X) X
"^DD",633.2,633.21,.01,1,0)
^.1
"^DD",633.2,633.21,.01,1,1,0)
633.21^B
"^DD",633.2,633.21,.01,1,1,1)
S ^HBHC(633.2,DA(1),7,"B",$E(X,1,30),DA)=""
"^DD",633.2,633.21,.01,1,1,2)
K ^HBHC(633.2,DA(1),7,"B",$E(X,1,30),DA)
"^DD",633.2,633.21,.01,3)
Answer with Date of Medical Foster Home (MFH) Medication Management Training.  Date must be between 1/1/2000 & Today inclusive.  Future date not allowed.
"^DD",633.2,633.21,.01,21,0)
^.001^2^2^3080428^^^^
"^DD",633.2,633.21,.01,21,1,0)
This field represents the Medical Foster Home (MFH) Medication Management 
"^DD",633.2,633.21,.01,21,2,0)
Training Date.
"^DD",633.2,633.21,.01,"DT")
3080429
"^DD",633.2,633.213,0)
NURSE INSPECTION SUB-FIELD^^1^2
"^DD",633.2,633.213,0,"DT")
3080428
"^DD",633.2,633.213,0,"IX","B",633.213,.01)

"^DD",633.2,633.213,0,"NM","NURSE INSPECTION")

"^DD",633.2,633.213,0,"UP")
633.2
"^DD",633.2,633.213,.01,0)
NURSE INSPECTION DATE^DX^^0;1^S %DT="EX" D ^%DT S X=Y K:DT<X!(3000101>X) X
"^DD",633.2,633.213,.01,1,0)
^.1
"^DD",633.2,633.213,.01,1,1,0)
633.213^B
"^DD",633.2,633.213,.01,1,1,1)
S ^HBHC(633.2,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",633.2,633.213,.01,1,1,2)
K ^HBHC(633.2,DA(1),1,"B",$E(X,1,30),DA)
"^DD",633.2,633.213,.01,3)
Answer with Date of Medical Foster Home (MFH) Nurse Inspection.  Date must be between 1/1/2000 and Today inclusive.  Future date not allowed.
"^DD",633.2,633.213,.01,21,0)
^.001^2^2^3080429^^^^
"^DD",633.2,633.213,.01,21,1,0)
This field represents the Medical Foster Home (MFH) Nurse Inspection
"^DD",633.2,633.213,.01,21,2,0)
Date.
"^DD",633.2,633.213,.01,"DT")
3080429
"^DD",633.2,633.213,1,0)
NURSE INSPECTION NAME^P200'^VA(200,^0;2^Q
"^DD",633.2,633.213,1,3)
Answer with Name of Nurse performing Medical Foster Home (MFH) Nurse Inspection.
"^DD",633.2,633.213,1,21,0)
^.001^2^2^3070309^^
"^DD",633.2,633.213,1,21,1,0)
This field represents Name of Nurse performing Medical Foster Home (MFH) 
"^DD",633.2,633.213,1,21,2,0)
Nurse Inspection.  Person must exist in New Person file (#200).
"^DD",633.2,633.213,1,"DT")
3070309
"^DD",633.2,633.214,0)
SOCIAL WORK INSPECTION SUB-FIELD^^1^2
"^DD",633.2,633.214,0,"DT")
3080115
"^DD",633.2,633.214,0,"IX","B",633.214,.01)

"^DD",633.2,633.214,0,"NM","SOCIAL WORK INSPECTION")

"^DD",633.2,633.214,0,"UP")
633.2
"^DD",633.2,633.214,.01,0)
SOCIAL WORK INSPECTION DATE^DX^^0;1^S %DT="EX" D ^%DT S X=Y K:DT<X!(3000101>X) X
"^DD",633.2,633.214,.01,1,0)
^.1
"^DD",633.2,633.214,.01,1,1,0)
633.214^B
"^DD",633.2,633.214,.01,1,1,1)
S ^HBHC(633.2,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",633.2,633.214,.01,1,1,2)
K ^HBHC(633.2,DA(1),2,"B",$E(X,1,30),DA)
"^DD",633.2,633.214,.01,3)
Answer with Date of Medical Foster Home (MFH) Social Work Inspection.  Date must be between 1/1/2000 & Today inclusive.  Future date not allowed.
"^DD",633.2,633.214,.01,21,0)
^.001^2^2^3080428^^
"^DD",633.2,633.214,.01,21,1,0)
This field represents the Medical Foster Home (MFH) Social Work Inspection
"^DD",633.2,633.214,.01,21,2,0)
Date.
"^DD",633.2,633.214,.01,"DT")
3080429
"^DD",633.2,633.214,1,0)
SOCIAL WORK INSPECTION NAME^P200'^VA(200,^0;2^Q
"^DD",633.2,633.214,1,3)
Answer with Name of Social Worker performing Medical Foster Home (MFH) Social Work Inspection.
"^DD",633.2,633.214,1,21,0)
^^3^3^3070309^
"^DD",633.2,633.214,1,21,1,0)
This field represents Name of Social Worker performing Medical Foster 
"^DD",633.2,633.214,1,21,2,0)
Home (MFH) Social Work Inspection.  Person must exist in New Person file 
"^DD",633.2,633.214,1,21,3,0)
(#200).
"^DD",633.2,633.214,1,"DT")
3070309
"^DD",633.2,633.215,0)
DIETITIAN INSPECTION SUB-FIELD^^1^2
"^DD",633.2,633.215,0,"DT")
3080115
"^DD",633.2,633.215,0,"IX","B",633.215,.01)

"^DD",633.2,633.215,0,"NM","DIETITIAN INSPECTION")

"^DD",633.2,633.215,0,"UP")
633.2
"^DD",633.2,633.215,.01,0)
DIETITIAN INSPECTION DATE^DX^^0;1^S %DT="EX" D ^%DT S X=Y K:DT<X!(3000101>X) X
"^DD",633.2,633.215,.01,1,0)
^.1
"^DD",633.2,633.215,.01,1,1,0)
633.215^B
"^DD",633.2,633.215,.01,1,1,1)
S ^HBHC(633.2,DA(1),3,"B",$E(X,1,30),DA)=""
"^DD",633.2,633.215,.01,1,1,2)
K ^HBHC(633.2,DA(1),3,"B",$E(X,1,30),DA)
"^DD",633.2,633.215,.01,3)
Answer with Date of Medical Foster Home (MFH)Dietitian Inspection.  Date must be between 1/1/2000 & Today inclusive.  Future date not allowed.
"^DD",633.2,633.215,.01,21,0)
^.001^2^2^3080428^^^
"^DD",633.2,633.215,.01,21,1,0)
This field represents the Medical Foster Home (MFH) Dietitian Inspection
"^DD",633.2,633.215,.01,21,2,0)
Date.
"^DD",633.2,633.215,.01,"DT")
3080429
"^DD",633.2,633.215,1,0)
DIETITIAN INSPECTION NAME^P200'^VA(200,^0;2^Q
"^DD",633.2,633.215,1,3)
Answer with Name of Dietitian performing Medical Foster Home (MFH) Inspection.
"^DD",633.2,633.215,1,21,0)
^^2^2^3070808^
"^DD",633.2,633.215,1,21,1,0)
This field represents Name of Dietitian performing Medical Foster Home 
"^DD",633.2,633.215,1,21,2,0)
(MFH) Dietitian Inspection.  Person must exist in New Person file (#200).
"^DD",633.2,633.215,1,"DT")
3070808
"^DD",633.2,633.216,0)
FIRE/SAFETY INSPECTION SUB-FIELD^^1^2
"^DD",633.2,633.216,0,"DT")
3080115
"^DD",633.2,633.216,0,"IX","B",633.216,.01)

"^DD",633.2,633.216,0,"NM","FIRE/SAFETY INSPECTION")

"^DD",633.2,633.216,0,"UP")
633.2
"^DD",633.2,633.216,.01,0)
FIRE/SAFETY INSPECTION DATE^DX^^0;1^S %DT="EX" D ^%DT S X=Y K:DT<X!(3000101>X) X
"^DD",633.2,633.216,.01,1,0)
^.1
"^DD",633.2,633.216,.01,1,1,0)
633.216^B
"^DD",633.2,633.216,.01,1,1,1)
S ^HBHC(633.2,DA(1),4,"B",$E(X,1,30),DA)=""
"^DD",633.2,633.216,.01,1,1,2)
K ^HBHC(633.2,DA(1),4,"B",$E(X,1,30),DA)
"^DD",633.2,633.216,.01,3)
Answer with Date of Medical Foster Home (MFH) Fire/Safety Inspection.  Date must be between 1/1/2000 & Today inclusive.  Future date not allowed.
"^DD",633.2,633.216,.01,21,0)
^.001^2^2^3080428^^
"^DD",633.2,633.216,.01,21,1,0)
This field represents the Medical Foster Home (MFH) Fire/Safety 
"^DD",633.2,633.216,.01,21,2,0)
Inspection Date.
"^DD",633.2,633.216,.01,"DT")
3080429
"^DD",633.2,633.216,1,0)
FIRE/SAFETY INSPECTION NAME^P200'^VA(200,^0;2^Q
"^DD",633.2,633.216,1,3)
Answer with Name of person performing Medical Foster Home (MFH) Fire/Safety Inspection.
"^DD",633.2,633.216,1,21,0)
^^2^2^3070309^
"^DD",633.2,633.216,1,21,1,0)
This field represents Name of person performing Medical Foster Home (MFH) 
"^DD",633.2,633.216,1,21,2,0)
Fire/Safety Inspection.  Person must exist in New Person file (#200).
"^DD",633.2,633.216,1,"DT")
3070309
"^DD",633.2,633.218,0)
HOME OPERATION TRAINING DATE SUB-FIELD^^.01^1
"^DD",633.2,633.218,0,"DT")
3080115
"^DD",633.2,633.218,0,"IX","B",633.218,.01)

"^DD",633.2,633.218,0,"NM","HOME OPERATION TRAINING DATE")

"^DD",633.2,633.218,0,"UP")
633.2
"^DD",633.2,633.218,.01,0)
HOME OPERATION TRAINING DATE^DX^^0;1^S %DT="EX" D ^%DT S X=Y K:DT<X!(3000101>X) X
"^DD",633.2,633.218,.01,1,0)
^.1
"^DD",633.2,633.218,.01,1,1,0)
633.218^B
"^DD",633.2,633.218,.01,1,1,1)
S ^HBHC(633.2,DA(1),5,"B",$E(X,1,30),DA)=""
"^DD",633.2,633.218,.01,1,1,2)
K ^HBHC(633.2,DA(1),5,"B",$E(X,1,30),DA)
"^DD",633.2,633.218,.01,3)
Answer with Date of Medical Foster Home (MFH) Home Operation Training.  Date must be between 1/1/2000 & Today inclusive.  Future date not allowed.
"^DD",633.2,633.218,.01,21,0)
^.001^2^2^3080428^^^
"^DD",633.2,633.218,.01,21,1,0)
This field represents the Medical Foster Home (MFH) Home Operation
"^DD",633.2,633.218,.01,21,2,0)
Training Date.
"^DD",633.2,633.218,.01,"DT")
3080429
"^DD",633.2,633.219,0)
FIRE/SAFETY TRAINING DATE SUB-FIELD^^.01^1
"^DD",633.2,633.219,0,"DT")
3080115
"^DD",633.2,633.219,0,"IX","B",633.219,.01)

"^DD",633.2,633.219,0,"NM","FIRE/SAFETY TRAINING DATE")

"^DD",633.2,633.219,0,"UP")
633.2
"^DD",633.2,633.219,.01,0)
FIRE/SAFETY TRAINING DATE^DX^^0;1^S %DT="EX" D ^%DT S X=Y K:DT<X!(3000101>X) X
"^DD",633.2,633.219,.01,1,0)
^.1
"^DD",633.2,633.219,.01,1,1,0)
633.219^B
"^DD",633.2,633.219,.01,1,1,1)
S ^HBHC(633.2,DA(1),6,"B",$E(X,1,30),DA)=""
"^DD",633.2,633.219,.01,1,1,2)
K ^HBHC(633.2,DA(1),6,"B",$E(X,1,30),DA)
"^DD",633.2,633.219,.01,3)
Answer with Date of Medical Foster Home (MFH) Fire/Safety Training.  Date must be between 1/1/2000 & Today inclusive.  Future date not allowed.
"^DD",633.2,633.219,.01,21,0)
^.001^2^2^3080428^^^
"^DD",633.2,633.219,.01,21,1,0)
This field represents the Medical Foster Home (MFH) Fire/Safety Training
"^DD",633.2,633.219,.01,21,2,0)
Date.
"^DD",633.2,633.219,.01,"DT")
3080429
"^DD",633.2,633.221,0)
PERSONAL CARE TRAINING DATE SUB-FIELD^^.01^1
"^DD",633.2,633.221,0,"DT")
3080115
"^DD",633.2,633.221,0,"IX","B",633.221,.01)

"^DD",633.2,633.221,0,"NM","PERSONAL CARE TRAINING DATE")

"^DD",633.2,633.221,0,"UP")
633.2
"^DD",633.2,633.221,.01,0)
PERSONAL CARE TRAINING DATE^DX^^0;1^S %DT="EX" D ^%DT S X=Y K:DT<X!(3000101>X) X
"^DD",633.2,633.221,.01,1,0)
^.1
"^DD",633.2,633.221,.01,1,1,0)
633.221^B
"^DD",633.2,633.221,.01,1,1,1)
S ^HBHC(633.2,DA(1),8,"B",$E(X,1,30),DA)=""
"^DD",633.2,633.221,.01,1,1,2)
K ^HBHC(633.2,DA(1),8,"B",$E(X,1,30),DA)
"^DD",633.2,633.221,.01,3)
Answer with Date of Medical Foster Home (MFH) Personal Care Training.  Date must be between 1/1/2000 & Today inclusive.  Future date not allowed.
"^DD",633.2,633.221,.01,21,0)
^.001^2^2^3080428^^^
"^DD",633.2,633.221,.01,21,1,0)
This field represents the Medical Foster Home (MFH) Personal Care 
"^DD",633.2,633.221,.01,21,2,0)
Training Date.
"^DD",633.2,633.221,.01,"DT")
3080429
"^DD",633.2,633.222,0)
INFECTION CONTROL TRAIN DATE SUB-FIELD^^.01^1
"^DD",633.2,633.222,0,"DT")
3080115
"^DD",633.2,633.222,0,"IX","B",633.222,.01)

"^DD",633.2,633.222,0,"NM","INFECTION CONTROL TRAIN DATE")

"^DD",633.2,633.222,0,"UP")
633.2
"^DD",633.2,633.222,.01,0)
INFECTION CONTROL TRAIN DATE^DX^^0;1^S %DT="EX" D ^%DT S X=Y K:DT<X!(3000101>X) X
"^DD",633.2,633.222,.01,1,0)
^.1
"^DD",633.2,633.222,.01,1,1,0)
633.222^B
"^DD",633.2,633.222,.01,1,1,1)
S ^HBHC(633.2,DA(1),9,"B",$E(X,1,30),DA)=""
"^DD",633.2,633.222,.01,1,1,2)
K ^HBHC(633.2,DA(1),9,"B",$E(X,1,30),DA)
"^DD",633.2,633.222,.01,3)
Answer with Date of Medical Foster Home (MFH) Infection Control Training.  Date must be between 1/1/2000 & Today inclusive.  Future date not allowed.
"^DD",633.2,633.222,.01,21,0)
^.001^2^2^3080428^^^^
"^DD",633.2,633.222,.01,21,1,0)
This field represents the Medical Foster Home (MFH) Infection Control 
"^DD",633.2,633.222,.01,21,2,0)
Training Date.
"^DD",633.2,633.222,.01,"DT")
3080429
"^DD",633.2,633.223,0)
END OF LIFE ISSUES TRAIN DATE SUB-FIELD^^.01^1
"^DD",633.2,633.223,0,"DT")
3080115
"^DD",633.2,633.223,0,"IX","B",633.223,.01)

"^DD",633.2,633.223,0,"NM","END OF LIFE ISSUES TRAIN DATE")

"^DD",633.2,633.223,0,"UP")
633.2
"^DD",633.2,633.223,.01,0)
END OF LIFE ISSUES TRAIN DATE^DX^^0;1^S %DT="EX" D ^%DT S X=Y K:DT<X!(3000101>X) X
"^DD",633.2,633.223,.01,1,0)
^.1
"^DD",633.2,633.223,.01,1,1,0)
633.223^B
"^DD",633.2,633.223,.01,1,1,1)
S ^HBHC(633.2,DA(1),10,"B",$E(X,1,30),DA)=""
"^DD",633.2,633.223,.01,1,1,2)
K ^HBHC(633.2,DA(1),10,"B",$E(X,1,30),DA)
"^DD",633.2,633.223,.01,3)
Answer with Date of Medical Foster Home (MFH) End of Life Issues Training.  Date must be between 1/1/2000 & Today inclusive.  Future date not allowed.
"^DD",633.2,633.223,.01,21,0)
^.001^2^2^3080428^^
"^DD",633.2,633.223,.01,21,1,0)
This field represents the Medical Foster Home (MFH) End of Life Issues 
"^DD",633.2,633.223,.01,21,2,0)
Training Date.
"^DD",633.2,633.223,.01,"DT")
3080429
"^DD",633.2,633.224,0)
OTHER TRAINING DATE SUB-FIELD^^1^2
"^DD",633.2,633.224,0,"DT")
3080115
"^DD",633.2,633.224,0,"IX","B",633.224,.01)

"^DD",633.2,633.224,0,"NM","OTHER TRAINING DATE")

"^DD",633.2,633.224,0,"UP")
633.2
"^DD",633.2,633.224,.01,0)
OTHER TRAINING DATE^DX^^0;1^S %DT="EX" D ^%DT S X=Y K:DT<X!(3000101>X) X
"^DD",633.2,633.224,.01,1,0)
^.1
"^DD",633.2,633.224,.01,1,1,0)
633.224^B
"^DD",633.2,633.224,.01,1,1,1)
S ^HBHC(633.2,DA(1),11,"B",$E(X,1,30),DA)=""
"^DD",633.2,633.224,.01,1,1,2)
K ^HBHC(633.2,DA(1),11,"B",$E(X,1,30),DA)
"^DD",633.2,633.224,.01,3)
Answer with Date of Medical Foster Home (MFH) Other Training.  Date must be between 1/1/2000 & Today inclusive.  Future date not allowed.
"^DD",633.2,633.224,.01,21,0)
^.001^1^1^3080428^^^^
"^DD",633.2,633.224,.01,21,1,0)
This field represents the Medical Foster Home (MFH) Other Training Date.
"^DD",633.2,633.224,.01,"DT")
3080429
"^DD",633.2,633.224,1,0)
TOPIC^F^^0;2^K:$L(X)>30!($L(X)<3) X
"^DD",633.2,633.224,1,3)
Answer with Topic of Other Training.  Topic must be 3-30 characters in length.
"^DD",633.2,633.224,1,21,0)
^^2^2^3070724^
"^DD",633.2,633.224,1,21,1,0)
This field represents the Topic of the Other Training. Topic must be 
"^DD",633.2,633.224,1,21,2,0)
between 3-30 characters in length.
"^DD",633.2,633.224,1,"DT")
3070724
"^DD",634,634,0)
FIELD^^.01^1
"^DD",634,634,0,"DDA")
N
"^DD",634,634,0,"DT")
3080317
"^DD",634,634,0,"IX","B",634,.01)

"^DD",634,634,0,"NM","HBHC TRANSMIT")

"^DD",634,634,0,"VRPK")
HBH
"^DD",634,634,.01,0)
TRANSMIT RECORD^RF^^0;1^K:$L(X)>200!($L(X)<200)!'(X'?1P.E) X
"^DD",634,634,.01,1,0)
^.1
"^DD",634,634,.01,1,1,0)
634^B
"^DD",634,634,.01,1,1,1)
S ^HBHC(634,"B",$E(X,1,30),DA)=""
"^DD",634,634,.01,1,1,2)
K ^HBHC(634,"B",$E(X,1,30),DA)
"^DD",634,634,.01,1,1,"%D",0)
^^2^2^2921229^^
"^DD",634,634,.01,1,1,"%D",1,0)
This cross-reference represents regular 'B' file index of HBHC Transmit
"^DD",634,634,.01,1,1,"%D",2,0)
(634) file, Transmit Record (.01) field.
"^DD",634,634,.01,3)
Field updated by package only, no user input.  Answer must be 200 characters in length.
"^DD",634,634,.01,21,0)
^.001^6^6^3080317^^
"^DD",634,634,.01,21,1,0)
This field represents Form 3 (Evaluation/Admission), Form 4 (Visit),
"^DD",634,634,.01,21,2,0)
Form 5 (Discharge), and Form 6 (Corrections) records generated for
"^DD",634,634,.01,21,3,0)
electronic transmission to Austin via MailMan.  Form 7 (Medical 
"^DD",634,634,.01,21,4,0)
Foster Home (MFH) home specific) records are also included if the site is
"^DD",634,634,.01,21,5,0)
a sanctioned MFH site.  Field allows for 200 character fixed length record
"^DD",634,634,.01,21,6,0)
of free text.  Field updated by package only, no user input.
"^DD",634,634,.01,"DT")
3080317
"^DD",634.4,634.4,0)
FIELD^^.01^1
"^DD",634.4,634.4,0,"DT")
3080318
"^DD",634.4,634.4,0,"IX","B",634.4,.01)

"^DD",634.4,634.4,0,"NM","HBHC FORM 6 CORRECTIONS")

"^DD",634.4,634.4,0,"VRPK")
HBH
"^DD",634.4,634.4,.01,0)
CORRECTION TRANSMIT RECORD^RF^^0;1^K:$L(X)>200!($L(X)<200)!'(X'?1P.E) X
"^DD",634.4,634.4,.01,1,0)
^.1
"^DD",634.4,634.4,.01,1,1,0)
634.4^B
"^DD",634.4,634.4,.01,1,1,1)
S ^HBHC(634.4,"B",$E(X,1,30),DA)=""
"^DD",634.4,634.4,.01,1,1,2)
K ^HBHC(634.4,"B",$E(X,1,30),DA)
"^DD",634.4,634.4,.01,1,1,"%D",0)
^^2^2^2921228^
"^DD",634.4,634.4,.01,1,1,"%D",1,0)
This cross-reference represents regular 'B' file index of HBHC Form 6
"^DD",634.4,634.4,.01,1,1,"%D",2,0)
Corrections (634.4) file, Correction Transmit Record (.01) field.
"^DD",634.4,634.4,.01,3)
Field updated by package only, no user input.  Answer must be 200 characters in length.
"^DD",634.4,634.4,.01,21,0)
^^8^8^3080318^
"^DD",634.4,634.4,.01,21,1,0)
This field represents Form 6 (Correction) record awaiting transmission
"^DD",634.4,634.4,.01,21,2,0)
to Austin.  Form 6 record is generated when user requests Form '3' or '5'
"^DD",634.4,634.4,.01,21,3,0)
Transmit Status flag be reset (allowing editing of transmitted record).
"^DD",634.4,634.4,.01,21,4,0)
This record informs Austin to delete the Evaluation/Admission or
"^DD",634.4,634.4,.01,21,5,0)
Discharge record already on file, a corrected replacement record of
"^DD",634.4,634.4,.01,21,6,0)
evaluation/admission or discharge data is forthcoming.  Field allows for
"^DD",634.4,634.4,.01,21,7,0)
200 character fixed length record of free text.  Field updated by package
"^DD",634.4,634.4,.01,21,8,0)
only, no user input.
"^DD",634.4,634.4,.01,"DT")
3080318
"^DD",634.6,634.6,0)
FIELD^^1^2
"^DD",634.6,634.6,0,"DT")
3080317
"^DD",634.6,634.6,0,"IX","B",634.6,.01)

"^DD",634.6,634.6,0,"IX","C",634.6,1)

"^DD",634.6,634.6,0,"NM","HBHC TRANSMIT HISTORY")

"^DD",634.6,634.6,0,"VRPK")
HBH
"^DD",634.6,634.6,.01,0)
TRANSMIT RECORD^RFI^^0;1^K:$L(X)>200!($L(X)<200) X
"^DD",634.6,634.6,.01,.1)

"^DD",634.6,634.6,.01,1,0)
^.1
"^DD",634.6,634.6,.01,1,1,0)
634.6^B
"^DD",634.6,634.6,.01,1,1,1)
S ^HBHC(634.6,"B",$E(X,1,30),DA)=""
"^DD",634.6,634.6,.01,1,1,2)
K ^HBHC(634.6,"B",$E(X,1,30),DA)
"^DD",634.6,634.6,.01,3)
Field updated by package only, no user input.  Answer must be 200 characters in length.
"^DD",634.6,634.6,.01,23,0)
^^6^6^3080317^
"^DD",634.6,634.6,.01,23,1,0)
This field represents historical Form 3 (Evaluation/Admission), Form 4
"^DD",634.6,634.6,.01,23,2,0)
(Visit), Form 5 (Discharge), and Form 6 (Corrections) records generated
"^DD",634.6,634.6,.01,23,3,0)
for electronic transmission to Austin via MailMan.  Form 7 (Medical Foster
"^DD",634.6,634.6,.01,23,4,0)
Home (MFH) home specific) records are also included if the site is a
"^DD",634.6,634.6,.01,23,5,0)
sanctioned MFH site.  Field allows for 200 character fixed length record
"^DD",634.6,634.6,.01,23,6,0)
of free text.  Field updated by package only, no user input.
"^DD",634.6,634.6,.01,"DT")
3080317
"^DD",634.6,634.6,1,0)
TRANSMIT DATE^RDI^^0;2^S %DT="EX" D ^%DT S X=Y K:2940101>X X
"^DD",634.6,634.6,1,1,0)
^.1
"^DD",634.6,634.6,1,1,1,0)
634.6^C
"^DD",634.6,634.6,1,1,1,1)
S ^HBHC(634.6,"C",$E(X,1,30),DA)=""
"^DD",634.6,634.6,1,1,1,2)
K ^HBHC(634.6,"C",$E(X,1,30),DA)
"^DD",634.6,634.6,1,1,1,"DT")
2950724
"^DD",634.6,634.6,1,3)
Type a date 1/1/1994 or later.  Field updated by package only, no user input.
"^DD",634.6,634.6,1,"DT")
2950724
"^DD",634.7,634.7,0)
FIELD^^1^2
"^DD",634.7,634.7,0,"DT")
3080123
"^DD",634.7,634.7,0,"IX","B",634.7,.01)

"^DD",634.7,634.7,0,"NM","HBHC MEDICAL FOSTER HOME ERROR(S)")

"^DD",634.7,634.7,0,"VRPK")
HBH
"^DD",634.7,634.7,.01,0)
MEDICAL FOSTER HOME NAME^RP633.2'^HBHC(633.2,^0;1^Q
"^DD",634.7,634.7,.01,1,0)
^.1
"^DD",634.7,634.7,.01,1,1,0)
634.7^B
"^DD",634.7,634.7,.01,1,1,1)
S ^HBHC(634.7,"B",$E(X,1,30),DA)=""
"^DD",634.7,634.7,.01,1,1,2)
K ^HBHC(634.7,"B",$E(X,1,30),DA)
"^DD",634.7,634.7,.01,3)
Field updated by package only, no user input.  Field represents Medical Foster Home (MFH) name which is missing data.
"^DD",634.7,634.7,.01,21,0)
^.001^3^3^3090122^^
"^DD",634.7,634.7,.01,21,1,0)
This field represents Medical Foster Home Name in HBHC Medical Foster Home
"^DD",634.7,634.7,.01,21,2,0)
file (#633.2).  The medical foster home record is missing data.  Field
"^DD",634.7,634.7,.01,21,3,0)
updated by package only, no user input.
"^DD",634.7,634.7,.01,"DT")
3080123
"^DD",634.7,634.7,1,0)
FIELDS TO UPDATE^F^^1;1^K:$L(X)>245!($L(X)<1) X
"^DD",634.7,634.7,1,3)
Field updated by package only, no user input.  Answer must be 1-245 characters in length.
"^DD",634.7,634.7,1,21,0)
^^4^4^3080123^
"^DD",634.7,634.7,1,21,1,0)
This field represents fields to update (actually DR string supplied for 
"^DD",634.7,634.7,1,21,2,0)
DIE call) of Medical Foster Home data in HBHC Medical Foster Home file 
"^DD",634.7,634.7,1,21,3,0)
(#633.2).  Field allows for 1-245 characters of free text.  Field updated 
"^DD",634.7,634.7,1,21,4,0)
by package only, no user input.
"^DD",634.7,634.7,1,"DT")
3080123
"^DIC",633.2,633.2,0)
HBHC MEDICAL FOSTER HOME^633.2
"^DIC",633.2,633.2,0,"GL")
^HBHC(633.2,
"^DIC",633.2,633.2,"%",0)
^1.005^^0
"^DIC",633.2,633.2,"%D",0)
^1.001^2^2^3070720^^^^
"^DIC",633.2,633.2,"%D",1,0)
This file represents the HBHC Medical Foster Home (MFH) file and contains 
"^DIC",633.2,633.2,"%D",2,0)
MFH data pertaining to the home itself.
"^DIC",633.2,"B","HBHC MEDICAL FOSTER HOME",633.2)

"^DIC",634,634,0)
HBHC TRANSMIT
"^DIC",634,634,0,"GL")
^HBHC(634,
"^DIC",634,634,"%D",0)
^^3^3^3080317^
"^DIC",634,634,"%D",1,0)
This file contains HBHC admission, visit, discharge, and correction records
"^DIC",634,634,"%D",2,0)
for transmission to Austin.  Medical Foster Home (MFH) records will be 
"^DIC",634,634,"%D",3,0)
included if the site has been sanctioned as a MFH site by VACO.
"^DIC",634,"B","HBHC TRANSMIT",634)

"^DIC",634.4,634.4,0)
HBHC FORM 6 CORRECTIONS
"^DIC",634.4,634.4,0,"GL")
^HBHC(634.4,
"^DIC",634.4,634.4,"%D",0)
^^2^2^2931015^^^^
"^DIC",634.4,634.4,"%D",1,0)
This file contains HBHC Form 6 Correction records awaiting transmission
"^DIC",634.4,634.4,"%D",2,0)
to Austin.
"^DIC",634.4,"B","HBHC FORM 6 CORRECTIONS",634.4)

"^DIC",634.6,634.6,0)
HBHC TRANSMIT HISTORY^634.6
"^DIC",634.6,634.6,0,"GL")
^HBHC(634.6,
"^DIC",634.6,634.6,"%D",0)
^^3^3^2950724^^^^
"^DIC",634.6,634.6,"%D",1,0)
This file is the HBHC Transmit History file and contains data from the last
"^DIC",634.6,634.6,"%D",2,0)
12 transmit batches.  Data is all maintained by the package, no user input
"^DIC",634.6,634.6,"%D",3,0)
is allowed.
"^DIC",634.6,"B","HBHC TRANSMIT HISTORY",634.6)

"^DIC",634.7,634.7,0)
HBHC MEDICAL FOSTER HOME ERROR(S)^634.7
"^DIC",634.7,634.7,0,"GL")
^HBHC(634.7,
"^DIC",634.7,634.7,"%D",0)
^^3^3^3080123^
"^DIC",634.7,634.7,"%D",1,0)
This file contains HBHC Medical Foster Home Errors found during 
"^DIC",634.7,634.7,"%D",2,0)
verification of records for transmission to Austin.  Fields missing data 
"^DIC",634.7,634.7,"%D",3,0)
and/or records with data inconsistencies are considered errors.
"^DIC",634.7,"B","HBHC MEDICAL FOSTER HOME ERROR(S)",634.7)

"BLD",7787,6)
^21
**END**
**END**
