$TXT Created by ESCALERA,DIEGO at VMPDEV20.FO-BAYPINES.MED.VA.GOV  (KIDS) on Tuesday, 11/02/10 at 11:57
=============================================================================
Run Date: FEB 10, 2011                     Designation: OR*3*323
Package : OR - ORDER ENTRY/RESULTS REPORTING  Priority: EMERGENCY
Version : 3       SEQ #285                      Status: Released
                  Compliance Date: FEB 12, 2011
=============================================================================

Associated patches: (v)OR*3*169    <<= must be installed BEFORE `OR*3*323'
                    (v)OR*3*282    <<= must be installed BEFORE `OR*3*323'

Subject: Repeating lab order issues

Category: 
  - Routine

Description:
============

 This patch corrects two site reported issues within the Computerized 
 Patient Record System (CPRS) package:
  
    1) When a repeating lab order is written as an event delayed order the 
    wrong location value may be copied to the resulting child orders when
    the release event occurs.
  
  
    2) The CPRS Clean-up Utilities option Lab order Checks [ORE LAB 
    ORDER CHECKS] is inappropriately purging parent lab orders and VistA
    Blood Establishment Computer Software (VBECS) child lab orders which
    results in orphaned orders CPRS and errors in VBECS.
  
  
 ASSOCIATED NSR(s):
 ==================
 N/A
  
  
 ASSOCIATED REMEDY:
 ==================
 1. HD0000000352115 - Delayed order release event for repeating lab quick 
                      order. PSPO #1524
  
 2. HD0000000377607 - DC1+5^ORCSEND Errors
    Duplicates:
    HD0000000377350 - Inconsistency Report between 100 & 69
    HD0000000378769 - Same ORCSEND Error Reported in Ticket #377607
    HD0000000394479 - $ZE= <UNDEFINED>DC1+5^ORCSEND ^OR(100,32193440,3)
    HD0000000402878 - ORCSEND ERROR
    HD0000000423015 - VBECS orders for Type and Screen give an error when 
                      they are discontinued
  
  
 PARTICIPATING TEST SITES:
 =========================
 Philadelphia VA Medical Center, PA
 VA San Diego Healthcare System, CA
 Hunter Holmes McGuire VA Medical Center - Richmond, VA
 Clement J. Zablocki Veterans Affairs Medical Center - Milwaukee, WI
 VA Heartland - West - Columbia, MO
 VA Puget Sound HCS - Seattle, WA 
  
  
 REMEDY OVERVIEW:
 ================
 1) HD0000000352115 - Delayed order release event for repeating lab quick 
                      order.
  
    Problem:
    --------
    When a lab order with several scheduled collection times is written as
    an event-delayed order the wrong data value may be copied to the
    resulting child orders PATIENT LOCATION (#6)field in the ORDER (#100) 
    file when the release event occurs. This problem occurs when the
    selected release event from OE/RR RELEASE EVENTS file (#100.5)contains
    a value in ORDERING PARAMETERS LOCATION (#9) field that is different
    from the values listed in the INCLUDED TREATING SPECIALTIES (#10)field
    and/or the INCLUDED LOCATIONS (#11) field of the same file, 100.5.
  
    Resolution:
    -----------
    The routine ORCSEND1 has been modified to prevent CHILD^ORCSEND3 from 
    changing the ORL variable (that stores the ordering location) to the 
    value residing in the release event in the OE/RR RELEASE EVENTS file 
    (100.5) in the ORDERING PARAMETERS LOCATION (#9) field when the 
    event-delayed orders are released.
   
  
 2) HD0000000377607 - DC1+5^ORCSEND Errors
  
    Problem:
    --------
    The ORDER (#100) File originally used VEILED (#8) field to hide 
    unreleased orders. Patch OR*3*282 revived the use of the VEILED 
    field to prevent lab parent orders from displaying on the CPRS 
    order tab after they are signed. VBECS orders are using the VEILED 
    field to prevent the child orders generated by signing a VBECS lab
    order from displaying on the CPRS order tab. Unfortunately, it was only
    recently discovered that running the CPRS Clean-up Utilities option Lab
    Order Checks [ORE LAB ORDER CHECKS] purges these veiled orders.
    Purging these veiled lab orders breaks the parent-child links which 
    causes application errors.
  
    Resolution:
    -----------
    The routine ORELR1 was modified to not display old veiled orders as one
    of the problems that will be identified by the Lab Order Checks option.
    The routine ORELR2 has been modified to not purge old veiled orders.
  
  
 INSTALLATION INSTRUCTIONS
 =========================
 This patch can be loaded with users in the system but it is recommended 
 that it be installed when user activity is low.  Installation time will be
 less than 2 minutes.
  
  1.  Choose the PackMan message containing this patch and invoke the 
      INSTALL/CHECK MESSAGE PackMan option.  
  
  2.  Start up the Kernel Installation and Distribution System Menu
      [XPD MAIN]: 
  
           Edits and Distribution ...  
           Utilities ...  
           Installation ...  
  
      Select Kernel Installation & Distribution System Option: Installation
                                                               ---
           1      Load a Distribution
           2      Verify Checksums in Transport Global
           3      Print Transport Global
           4      Compare Transport Global to Current System
           5      Backup a Transport Global
           6      Install Package(s)
                  Restart Install of Package(s)
                  Unload a Distribution
  
  3.  From this menu, you may elect to use the following options
      (When prompted for the INSTALL NAME, enter OR*3.0*323):
      
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will
          not backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option
          will allow you to view all changes that will be made when
          this patch is installed.  It compares all components of this
          patch (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will
          allow you to ensure the integrity of the routines that are
          in the transport global.
  
  4.  Use the Install Package(s) option and select the package
      OR*3.0*323.
  
      a.  When prompted "Want KIDS to INHIBIT LOGONs during the
          install? NO//", answer NO.
      b.  When prompted "Want to DISABLE Scheduled Options and Menu 
          Options and Protocols? NO//", answer NO.

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**[Patch List]**;Dec 17, 1997;Build 10

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: ORCSEND1
    Before: B65175146   After: B65475435  **4,29,45,61,79,94,116,138,158,
                                           149,187,215,243,282,323**
Routine Name: ORELR1
    Before: B28214557   After: B27892139  **20,42,323**
Routine Name: ORELR2
    Before: B32255054   After: B31661540  **20,42,169,323**
 
Routine list of preceding patches: 169, 282

=============================================================================
User Information:
Entered By  : ESCALERA,DIEGO                Date Entered  : OCT 08, 2009
Completed By: HULET,LEE ANN                 Date Completed: JAN 27, 2011
Released By : BOYER,EDWARD                  Date Released : FEB 10, 2011
=============================================================================


Packman Mail Message:
=====================

$END TXT
