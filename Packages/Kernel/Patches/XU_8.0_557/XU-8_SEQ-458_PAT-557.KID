Released XU*8*557 SEQ #458
Extracted from mail message
**KIDS**:XU*8.0*557^

**INSTALL NAME**
XU*8.0*557
"BLD",1340,0)
XU*8.0*557^KERNEL^0^3110525^y
"BLD",1340,1,0)
^^1^1^3110310^^
"BLD",1340,1,1,0)
See the description in the patch module on Forum.
"BLD",1340,4,0)
^9.64PA^^
"BLD",1340,6.3)
11
"BLD",1340,"INID")
^n
"BLD",1340,"INIT")
XUSP557
"BLD",1340,"KRN",0)
^9.67PA^9002226^21
"BLD",1340,"KRN",.4,0)
.4
"BLD",1340,"KRN",.401,0)
.401
"BLD",1340,"KRN",.402,0)
.402
"BLD",1340,"KRN",.403,0)
.403
"BLD",1340,"KRN",.5,0)
.5
"BLD",1340,"KRN",.84,0)
.84
"BLD",1340,"KRN",3.6,0)
3.6
"BLD",1340,"KRN",3.8,0)
3.8
"BLD",1340,"KRN",9.2,0)
9.2
"BLD",1340,"KRN",9.8,0)
9.8
"BLD",1340,"KRN",19,0)
19
"BLD",1340,"KRN",19,"NM",0)
^9.68A^1^1
"BLD",1340,"KRN",19,"NM",1,0)
MWVS MEDICAL DOMAIN WEB SVCS^^0
"BLD",1340,"KRN",19,"NM","B","MWVS MEDICAL DOMAIN WEB SVCS",1)

"BLD",1340,"KRN",19.1,0)
19.1
"BLD",1340,"KRN",101,0)
101
"BLD",1340,"KRN",409.61,0)
409.61
"BLD",1340,"KRN",771,0)
771
"BLD",1340,"KRN",779.2,0)
779.2
"BLD",1340,"KRN",870,0)
870
"BLD",1340,"KRN",8989.51,0)
8989.51
"BLD",1340,"KRN",8989.52,0)
8989.52
"BLD",1340,"KRN",8994,0)
8994
"BLD",1340,"KRN",9002226,0)
9002226
"BLD",1340,"KRN","B",.4,.4)

"BLD",1340,"KRN","B",.401,.401)

"BLD",1340,"KRN","B",.402,.402)

"BLD",1340,"KRN","B",.403,.403)

"BLD",1340,"KRN","B",.5,.5)

"BLD",1340,"KRN","B",.84,.84)

"BLD",1340,"KRN","B",3.6,3.6)

"BLD",1340,"KRN","B",3.8,3.8)

"BLD",1340,"KRN","B",9.2,9.2)

"BLD",1340,"KRN","B",9.8,9.8)

"BLD",1340,"KRN","B",19,19)

"BLD",1340,"KRN","B",19.1,19.1)

"BLD",1340,"KRN","B",101,101)

"BLD",1340,"KRN","B",409.61,409.61)

"BLD",1340,"KRN","B",771,771)

"BLD",1340,"KRN","B",779.2,779.2)

"BLD",1340,"KRN","B",870,870)

"BLD",1340,"KRN","B",8989.51,8989.51)

"BLD",1340,"KRN","B",8989.52,8989.52)

"BLD",1340,"KRN","B",8994,8994)

"BLD",1340,"KRN","B",9002226,9002226)

"BLD",1340,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",1340,"QUES",0)
^9.62^^
"BLD",1340,"REQB",0)
^9.611^^
"INIT")
XUSP557
"KRN",19,1530,-1)
0^1
"KRN",19,1530,0)
MWVS MEDICAL DOMAIN WEB SVCS^MEDICAL DOMAIN WEB SERVICES^^B^^^^^^^^
"KRN",19,1530,1,0)
^^2^2^3101202^
"KRN",19,1530,1,1,0)
This is the context option used by a number of applications that use the 
"KRN",19,1530,1,2,0)
Medical Domain Web Services (MDWS) functionality.
"KRN",19,1530,99)
62160,30916
"KRN",19,1530,"RPC",0)
^19.05P^11^11
"KRN",19,1530,"RPC",1,0)
DDR DELETE ENTRY
"KRN",19,1530,"RPC",2,0)
DDR FILER
"KRN",19,1530,"RPC",3,0)
DDR FIND1
"KRN",19,1530,"RPC",4,0)
DDR FINDER
"KRN",19,1530,"RPC",5,0)
DDR GET DD HELP
"KRN",19,1530,"RPC",6,0)
DDR GETS ENTRY DATA
"KRN",19,1530,"RPC",7,0)
DDR KEY VALIDATOR
"KRN",19,1530,"RPC",8,0)
DDR LISTER
"KRN",19,1530,"RPC",9,0)
DDR LOCK/UNLOCK NODE
"KRN",19,1530,"RPC",10,0)
DDR VALIDATOR
"KRN",19,1530,"RPC",11,0)
NHIN GET VISTA DATA
"KRN",19,1530,"U")
MEDICAL DOMAIN WEB SERVICES
"MBREQ")
0
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",3,-1)
1^1
"PKG",3,0)
KERNEL^XU^SIGN-ON, SECURITY, MENU DRIVER, DEVICES, TASKMAN^
"PKG",3,20,0)
^9.402P^200^1
"PKG",3,20,200,0)
200^^XDRM200N
"PKG",3,20,200,1)

"PKG",3,20,"B",200,200)

"PKG",3,22,0)
^9.49I^1^1
"PKG",3,22,1,0)
8.0^3090706^3090706^6
"PKG",3,22,1,"PAH",1,0)
557^3110525
"PKG",3,22,1,"PAH",1,1,0)
^^1^1^3110525
"PKG",3,22,1,"PAH",1,1,1,0)
See the description in the patch module on Forum.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","XUSP557")
0^^B28972274^n/a
"RTN","XUSP557",1,0)
XUSP557 ;JLI/FO-OAK-INSTALL DATA FOR MDWS APPS IN REMOTE APPLICATION FILE ;05/25/11  09:20
"RTN","XUSP557",2,0)
 ;;8.0;KERNEL;**557**;Jul 10, 1995;Build 11
"RTN","XUSP557",3,0)
 ;;Per VHA Directive 2004-038, this routine should not be modified.
"RTN","XUSP557",4,0)
 ;
"RTN","XUSP557",5,0)
 ; the following is run as a part of the install for patch XU*8*557
"RTN","XUSP557",6,0)
ENTRY ; enters the values following tag DATA into file 8994.5
"RTN","XUSP557",7,0)
 N FDA,FDA1,FDA2,NSET1,NSET2,OFFSET,LINE,XUSIEN1,XUSMSG1,NEW,XUSIEN2,XUSMSG2
"RTN","XUSP557",8,0)
 ; 110217 added to remove entries if already entered, e.g., at test sites, so they can be entered correctly
"RTN","XUSP557",9,0)
 F OFFSET=1:1 S LINE=$P($T(DATA+OFFSET),";;",2) Q:LINE=""  S NEW=$P(LINE,"^") I NEW'="" D
"RTN","XUSP557",10,0)
 . F XUSIEN2=0:0 S XUSIEN2=$O(^XWB(8994.5,"B",NEW,XUSIEN2)) Q:XUSIEN2'>0  D
"RTN","XUSP557",11,0)
 . . N DA,DIK S DA=XUSIEN2,DIK="^XWB(8994.5,"  D ^DIK
"RTN","XUSP557",12,0)
 . . Q
"RTN","XUSP557",13,0)
 . Q
"RTN","XUSP557",14,0)
 ; 110217 end of addition
"RTN","XUSP557",15,0)
 S NSET1=0
"RTN","XUSP557",16,0)
 F OFFSET=1:1 S LINE=$P($T(DATA+OFFSET),";;",2) Q:LINE=""  S NEW=($P(LINE,"^")'="") D
"RTN","XUSP557",17,0)
 . I NEW S NSET1=NSET1+1,NSET2=0 D ADD1(.FDA1,LINE,NSET1) Q
"RTN","XUSP557",18,0)
 . S NSET2=NSET2+1 D SET2(.FDA,LINE,NSET1,NSET2)
"RTN","XUSP557",19,0)
 . Q
"RTN","XUSP557",20,0)
 D UPDATE^DIE("E","FDA1","XUSIEN1","XUSMSG1")
"RTN","XUSP557",21,0)
 I $D(XUSMSG1) W !,"ERROR MESSAGES:",! F OFFSET=0:0 S OFFSET=$O(XUSMSG1(OFFSET)) Q:OFFSET'>0  W !,"   ",XUSMSG1(OFFSET)
"RTN","XUSP557",22,0)
 D ADD2(.FDA2,.FDA,.XUSIEN1)
"RTN","XUSP557",23,0)
 ; 110310 added to insure OR CPRS GUI CHART gets added correctly to context option
"RTN","XUSP557",24,0)
 S XUSIEN1=$$FIND1^DIC(19,"","B","MWVS MEDICAL DOMAIN WEB SVCS")
"RTN","XUSP557",25,0)
 I $G(^DIC(19,XUSIEN1,10,1,0))'>0 D
"RTN","XUSP557",26,0)
 . S XUSIEN2=$$FIND1^DIC(19,"","B","OR CPRS GUI CHART") Q:XUSIEN2'>0
"RTN","XUSP557",27,0)
 . K FDA
"RTN","XUSP557",28,0)
 . ; if already present, but incorrect
"RTN","XUSP557",29,0)
 . I $D(^DIC(19,XUSIEN1,10,1)) S FDA(19.01,"1,"_XUSIEN1_",",.01)=XUSIEN2 D FILE^DIE("","FDA") I 1
"RTN","XUSP557",30,0)
 . ; if not already present
"RTN","XUSP557",31,0)
 . E  N NEWIEN S NEWIEN(1)=1 S FDA(19.01,"+1,"_XUSIEN1_",",.01)=XUSIEN2 D UPDATE^DIE("","FDA","NEWIEN","MESSG")
"RTN","XUSP557",32,0)
 . Q
"RTN","XUSP557",33,0)
 ; end of 110310 insertion
"RTN","XUSP557",34,0)
 ; 110401 need to force NHIN GET VISTA DATA in as an RPC if not there already
"RTN","XUSP557",35,0)
 S XUSIEN2=$$FIND1^DIC(19.05,","_XUSIEN1_",","B","NHIN GET VISTA DATA")
"RTN","XUSP557",36,0)
 I XUSIEN2'>0 D
"RTN","XUSP557",37,0)
 . K FDA S FDA(19.05,"+1,"_XUSIEN1_",",.01)="NHIN GET VISTA DATA"
"RTN","XUSP557",38,0)
 . D UPDATE^DIE("E","FDA","NEWIEN","MESSG")
"RTN","XUSP557",39,0)
 . Q
"RTN","XUSP557",40,0)
 ; end of 110401 insertion
"RTN","XUSP557",41,0)
 Q
"RTN","XUSP557",42,0)
 ;
"RTN","XUSP557",43,0)
ADD1(FDA,LINE,SET1) ; build data for primary file entry
"RTN","XUSP557",44,0)
 ; FDA - passed by reference - FileMan data array
"RTN","XUSP557",45,0)
 ; LINE - contains text of current line with data
"RTN","XUSP557",46,0)
 ; SET1 - current data set number for primary file
"RTN","XUSP557",47,0)
 N IENS S IENS="+"_SET1_","
"RTN","XUSP557",48,0)
 S FDA(8994.5,IENS,.01)=$P(LINE,"^")
"RTN","XUSP557",49,0)
 S FDA(8994.5,IENS,.02)=$P(LINE,"^",2)
"RTN","XUSP557",50,0)
 S FDA(8994.5,IENS,.03)=$P(LINE,"^",3)
"RTN","XUSP557",51,0)
 Q
"RTN","XUSP557",52,0)
 ;
"RTN","XUSP557",53,0)
SET2(FDA,LINE,SET1,SET2) ; capture data for sub-file entry
"RTN","XUSP557",54,0)
 ; FDA - passed by reference - FileMan data array
"RTN","XUSP557",55,0)
 ; LINE - contains text of current line with data
"RTN","XUSP557",56,0)
 ; SET1 - current data set number for primary file
"RTN","XUSP557",57,0)
 ; SET2 - current data set number for sub-file
"RTN","XUSP557",58,0)
 S FDA(SET1,SET2,.01)=$P(LINE,"^",2)
"RTN","XUSP557",59,0)
 S FDA(SET1,SET2,.02)=$P(LINE,"^",3)
"RTN","XUSP557",60,0)
 S FDA(SET1,SET2,.03)=$P(LINE,"^",4)
"RTN","XUSP557",61,0)
 S FDA(SET1,SET2,.04)=$P(LINE,"^",5)
"RTN","XUSP557",62,0)
 Q
"RTN","XUSP557",63,0)
 ;
"RTN","XUSP557",64,0)
ADD2(FDA2,FDA,IENSVALS) ; build data for sub-file entry
"RTN","XUSP557",65,0)
 N I,J,FLD,IENS,XUSMSG1,IENS1,OFFSET
"RTN","XUSP557",66,0)
 F I=1:1 D:$D(FDA2)  K FDA2 Q:'$D(FDA(I))  F J=1:1 Q:'$D(FDA(I,J))  S IENS="+"_J_","_IENSVALS(I)_"," F FLD=0:0 S FLD=$O(FDA(I,J,FLD)) Q:FLD'>0  S FDA2(8994.51,IENS,FLD)=FDA(I,J,FLD)
"RTN","XUSP557",67,0)
 . K XUSMSG1,IENS1
"RTN","XUSP557",68,0)
 . D UPDATE^DIE("E","FDA2","IENS1","XUSMSG1")
"RTN","XUSP557",69,0)
 . I $D(XUSMSG1) W !,"ERRORS:",!  F OFFSET=0:0 S OFFSET=$O(XUSMSG1(OFFSET)) Q:OFFSET'>0  W !,XUSMSG1(OFFSET)
"RTN","XUSP557",70,0)
 . Q
"RTN","XUSP557",71,0)
 Q
"RTN","XUSP557",72,0)
 ;
"RTN","XUSP557",73,0)
DATA ;
"RTN","XUSP557",74,0)
 ;;MYHEALTHEVET^MWVS MEDICAL DOMAIN WEB SVCS^41-WAcN_=NSXJ+ok4g_J
"RTN","XUSP557",75,0)
 ;;^H^80^VAAACAPPL.AAC.DVA.VA.GOV^/MDWS2/Web/Validate.aspx
"RTN","XUSP557",76,0)
 ;;^H^80^10.224.43.3^/MDWS2/Web/Validate.aspx
"RTN","XUSP557",77,0)
 ;;^H^80^VHAANNWEB2.V11.MED.VA.GOV^/UserValidation/Validate.aspx
"RTN","XUSP557",78,0)
 ;;NATIONAL SUICIDE HOTLINE^MWVS MEDICAL DOMAIN WEB SVCS^$wq`WLq(0jWV2f`4xf*
"RTN","XUSP557",79,0)
 ;;^H^80^VHAV08SHS1.V08.MED.VA.GOV^/MDWS2/Web/Validate.aspx
"RTN","XUSP557",80,0)
 ;;^H^80^10.71.38.77^/MDWS2/Web/Validate.aspx
"RTN","XUSP557",81,0)
 ;;^H^80^VHAANNWEB2.V11.MED.VA.GOV^/UserValidation/Validate.aspx
"RTN","XUSP557",82,0)
 ;;NATIONAL HOMELESS HOTLINE^MWVS MEDICAL DOMAIN WEB SVCS^cy2jzn)*;U%%3~,0p@4
"RTN","XUSP557",83,0)
 ;;^H^80^VHAV08SHS1.V08.MED.VA.GOV^/MDWS2/Web/Validate.aspx
"RTN","XUSP557",84,0)
 ;;^H^80^10.71.38.77^/MDWS2/Web/Validate.aspx
"RTN","XUSP557",85,0)
 ;;^H^80^VHAANNWEB2.V11.MED.VA.GOV^/UserValidation/Validate.aspx
"RTN","XUSP557",86,0)
 ;;NUMI^MWVS MEDICAL DOMAIN WEB SVCS^\8,c,LP$5.qu]l\D@xA$
"RTN","XUSP557",87,0)
 ;;^H^80^VANCRWEBV4.VHA.MED.VA.GOV^/MDWS2/Web/Validate.aspx
"RTN","XUSP557",88,0)
 ;;^H^80^VANCRWEBV5.VHA.MED.VA.GOV^/MDWS2/Web/Validate.aspx
"RTN","XUSP557",89,0)
 ;;^H^80^10.208.20.108^/MDWS2/Web/Validate.aspx
"RTN","XUSP557",90,0)
 ;;^H^80^VAISHWEBV1.VHA.MED.VA.GOV^/MDWS2/Web/Validate.aspx
"RTN","XUSP557",91,0)
 ;;MOVE^MWVS MEDICAL DOMAIN WEB SVCS^<9-SaNOYLMyTo.=Okk;
"RTN","XUSP557",92,0)
 ;;^H^80^VHAANNWEB2.V11.MED.VA.GOV^/UserValidation/Validate.aspx
"RTN","XUSP557",93,0)
 ;;^H^80^10.93.160.32^/UserValidation/Validate.aspx
"RTN","XUSP557",94,0)
 ;;^H^80^VHAANNVISTAWEB.V11.MED.VA.GOV^/UserValidation/Validate.aspx
"RTN","XUSP557",95,0)
 ;;TBI SCREENING^MWVS MEDICAL DOMAIN WEB SVCS^PvUv9RSQ.9W@FD3DcB_?
"RTN","XUSP557",96,0)
 ;;^H^80^VHAANNWEB2.V11.MED.VA.GOV^/UserValidation/Validate.aspx
"RTN","XUSP557",97,0)
 ;;^H^80^10.93.160.32^/UserValidation/Validate.aspx
"RTN","XUSP557",98,0)
 ;;^H^80^VHAANNVISTAWEB.V11.MED.VA.GOV^/UserValidation/Validate.aspx
"RTN","XUSP557",99,0)
 ;;MEDICAL DOMAIN WEB SERVICES^MWVS MEDICAL DOMAIN WEB SVCS^WHgafhAkItJqu&]Cbp<H
"RTN","XUSP557",100,0)
 ;;^H^80^VHAANNWEB2.V11.MED.VA.GOV^/UserValidation/Validate.aspx
"RTN","XUSP557",101,0)
 ;;^H^80^10.93.160.32^/UserValidation/Validate.aspx
"RTN","XUSP557",102,0)
 ;;^H^80^VHAANNVISTAWEB.V11.MED.VA.GOV^/UserValidation/Validate.aspx
"RTN","XUSP557",103,0)
 ;;PCS ANALYTICS^MWVS MEDICAL DOMAIN WEB SVCS^]y7`bj-T=*Elz6Q#wYM0
"RTN","XUSP557",104,0)
 ;;^H^80^VHAANNWEB2.V11.MED.VA.GOV^/UserValidation/Validate.aspx
"RTN","XUSP557",105,0)
 ;;^H^80^10.93.160.32^/UserValidation/Validate.aspx
"RTN","XUSP557",106,0)
 ;;^H^80^VHAANNVISTAWEB.V11.MED.VA.GOV^/UserValidation/Validate.aspx
"VER")
8.0^22.0
"BLD",1340,6)
^458
**END**
**END**
